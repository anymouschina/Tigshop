import{d as x,ai as T,r as O,ak as B,aj as D,o as L,J as M,e as d,j as I,g as p,l as n,f as b,F as N,m as U,v as q,h as t,y as a,i as o,a2 as j,K as S,k as P,t as V}from"./index-BEWhCL1q.js";/* empty css             */import{_ as A}from"./Image.vue_vue_type_script_setup_true_lang-DC1N644b.js";import{i as E}from"./format-C8RAoEAk.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-B2T-ARqM.js";import"./index-DVG44k_-.js";/* empty css                                                                    */import{P as G}from"./Pagination-4FaohhlG.js";/* empty css                                                                  *//* empty css                                                                              */import{v as J,a as R,g as H}from"./bindShop-CqwN6G6E.js";import{S as Q}from"./SelectTimeInterval-CHncG0ge.js";import{u as W}from"./useListRequest-Bpxbydyo.js";import{_ as z}from"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./time-BMcbgg5F.js";import"./index-BNk7xZkD.js";const X=x({__name:"SelectVendorShop",props:T({modelValue:{type:[Number,String]},multiple:{type:Boolean,default:!1}},{shopId:{},shopIdModifiers:{}}),emits:T(["update:modelValue","onChange"],["update:shopId"]),setup(g,{emit:y}){const k=g,i=O(!0),_=B({size:30,keyword:""}),s=y,m=D(g,"shopId"),c=u=>{s("update:modelValue",u),s("onChange",u)};L(()=>{w()});const f=O([]),w=async u=>{i.value=!0,_.keyword="";try{const e=await J({..._});f.value=e.records}catch(e){M.error(e.message)}finally{i.value=!1}};return(u,e)=>{const v=d("el-option"),C=d("el-select");return p(),I(C,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=r=>m.value=r),loading:i.value,filterable:"",multiple:k.multiple,placeholder:"请输入店铺名称",clearable:"","reserve-keyword":"",onChange:c},{default:n(()=>[(p(!0),b(N,null,U(f.value,r=>(p(),I(v,{key:r.shopId,label:r.shopTitle,value:r.shopId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","multiple"])}}}),Z=x({__name:"SelectVendorMerchant",props:T({modelValue:{type:[Number,String]},multiple:{type:Boolean,default:!1}},{merchantId:{},merchantIdModifiers:{}}),emits:T(["update:modelValue","onChange"],["update:merchantId"]),setup(g,{emit:y}){const k=g,i=O(!0),_=B({size:30,keyword:""}),s=y,m=D(g,"merchantId"),c=u=>{s("update:modelValue",u),s("onChange",u)};L(()=>{w()});const f=O([]),w=async u=>{i.value=!0,_.keyword="";try{const e=await R({..._});f.value=e.records}catch(e){M.error(e.message)}finally{i.value=!1}};return(u,e)=>{const v=d("el-option"),C=d("el-select");return p(),I(C,{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=r=>m.value=r),loading:i.value,filterable:"",multiple:k.multiple,placeholder:"请输入商户名称",clearable:"","reserve-keyword":"",onChange:c},{default:n(()=>[(p(!0),b(N,null,U(f.value,r=>(p(),I(v,{key:r.merchantId,label:r.companyName,value:r.merchantId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","multiple"])}}}),ee={class:"container"},oe={class:"content_wrapper"},te={class:"lyecs-table-list-warp"},le={class:"list-table-tool lyecs-search-warp"},ae={class:"advanced-search-warp list-table-tool-row"},se={class:"simple-form-warp"},ne={class:"simple-form-field"},re={class:"form-group"},ie={class:"control-container"},de={class:"simple-form-field"},pe={class:"form-group"},me={class:"control-container"},ce={class:"simple-form-field"},ue={class:"form-group"},_e={class:"control-container"},he={class:"simple-form-field"},fe={class:"form-group"},ve={class:"simple-form-warp"},ge={class:"simple-form-field"},be={class:"control-container"},ye={class:"table-container"},ke={style:{position:"relative"}},we={key:1},Ce={style:{position:"relative"}},Ie={class:"empty-warp"},Se={key:0,class:"empty-bg"},Ve={key:0,class:"pagination-con"},je=x({__name:"List",setup(g){const y=q(),{listData:k,loading:i,total:_,filterParams:s,loadData:m,onSearchSubmit:c,onSortChange:f,resetParams:w}=W({apiFunction:H,idKey:"shopId",defaultParams:{page:1,size:y.get("pageSize"),sortField:"",sortOrder:"",keyword:"",merchantId:"",shopId:"",endTime:"",startTime:""}});return m(),(u,e)=>{const v=d("el-button"),C=d("TigInput"),r=d("el-form"),h=d("el-table-column"),F=d("el-divider"),K=d("el-table"),Y=d("a-spin");return p(),b("div",ee,[t("div",oe,[t("div",te,[t("div",le,[a(r,{model:o(s)},{default:n(()=>[t("div",ae,[t("div",se,[t("div",ne,[t("div",re,[e[8]||(e[8]=t("label",{class:"control-label"},[t("span",null,"店铺名称：")],-1)),t("div",ie,[a(C,{modelValue:o(s).keyword,"onUpdate:modelValue":e[0]||(e[0]=l=>o(s).keyword=l),name:"keyword",placeholder:"店铺名称",onKeyup:j(o(c),["enter"]),clearable:"",onClear:o(c)},{append:n(()=>[a(v,{onClick:o(c)},{default:n(()=>e[7]||(e[7]=[t("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[7]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),t("div",de,[t("div",pe,[e[9]||(e[9]=t("label",{class:"control-label"},[t("span",null,"选择店铺：")],-1)),t("div",me,[a(o(X),{shopId:o(s).shopId,"onUpdate:shopId":e[1]||(e[1]=l=>o(s).shopId=l),onOnChange:o(c)},null,8,["shopId","onOnChange"])])])]),t("div",ce,[t("div",ue,[e[10]||(e[10]=t("label",{class:"control-label"},[t("span",null,"选择商户：")],-1)),t("div",_e,[a(o(Z),{merchantId:o(s).merchantId,"onUpdate:merchantId":e[2]||(e[2]=l=>o(s).merchantId=l),onOnChange:o(c)},null,8,["merchantId","onOnChange"])])])]),t("div",he,[t("div",fe,[e[11]||(e[11]=t("label",{class:"control-label"},[t("span",null,"创建时间：")],-1)),a(o(Q),{"end-date":o(s).endTime,"onUpdate:endDate":e[3]||(e[3]=l=>o(s).endTime=l),"start-date":o(s).startTime,"onUpdate:startDate":e[4]||(e[4]=l=>o(s).startTime=l),clearable:!1,type:"date","value-format":"YYYY-MM-DD"},null,8,["end-date","start-date"])])]),t("div",ve,[t("div",ge,[e[14]||(e[14]=t("label",{class:"control-label"},null,-1)),t("div",be,[a(v,{type:"primary",plain:"",onClick:o(c)},{default:n(()=>e[12]||(e[12]=[S("搜索",-1)])),_:1,__:[12]},8,["onClick"]),a(v,{plain:"",onClick:o(w)},{default:n(()=>e[13]||(e[13]=[S("重置",-1)])),_:1,__:[13]},8,["onClick"])])])])])])]),_:1},8,["model"])]),t("div",ye,[a(Y,{spinning:o(i)},{default:n(()=>[a(K,{data:o(k),"row-key":"shopId",total:o(_),onSortChange:o(f),loading:o(i)},{empty:n(()=>[t("div",Ie,[o(i)?P("",!0):(p(),b("div",Se,"暂无数据"))])]),default:n(()=>[a(h,{label:"序号",width:55},{default:n(({row:l,$index:$})=>[S(V($+1),1)]),_:1}),a(h,{label:"店铺名称",prop:"shopTitle","min-width":150},{default:n(({row:l})=>[t("div",ke,[t("div",null,V(l.shopTitle||"--"),1)])]),_:1}),a(h,{label:"店铺LOGO",prop:"shopTitle","min-width":150},{default:n(({row:l})=>[l.shopLogo?(p(),I(o(A),{key:0,src:o(E)(l.shopLogo),fit:"contain",style:{height:"25px",width:"60px"}},null,8,["src"])):(p(),b("span",we,"暂无图片"))]),_:1}),a(h,{label:"商户名称",prop:"merchantName","min-width":150},{default:n(({row:l})=>[t("div",Ce,[t("div",null,V(l.merchantName||"--"),1)])]),_:1}),a(h,{label:"上架商品数",prop:"upProductCount",width:"150",sortable:"custom"}),a(h,{label:"下架商品数",prop:"downProductCount",width:"150",sortable:"custom"}),a(h,{label:"订单量",prop:"orderCount",width:"150",sortable:"custom"}),a(h,{label:"结算金额",prop:"orderAmount",width:"150",sortable:"custom"},{default:n(({row:l})=>[S(V(l.orderAmount||"--"),1)]),_:1}),a(h,{label:"操作",fixed:"right",width:170},{default:n(({row:l})=>[a(o(z),{isDrawer:"",onOkCallback:o(m),title:"查看订单",width:"850px",path:"vendor/supplier/bindShop/Order",params:{shopId:l.shopId}},{default:n(()=>e[15]||(e[15]=[t("a",{class:"btn-link"},"查看订单",-1)])),_:2,__:[15]},1032,["onOkCallback","params"]),a(F,{direction:"vertical"}),a(o(z),{isDrawer:"",onOkCallback:o(m),title:"查看商品",width:"850px",path:"vendor/supplier/bindShop/Product",params:{shopId:l.shopId}},{default:n(()=>e[16]||(e[16]=[t("a",{class:"btn-link"},"查看商品",-1)])),_:2,__:[16]},1032,["onOkCallback","params"])]),_:1})]),_:1},8,["data","total","onSortChange","loading"])]),_:1},8,["spinning"]),o(_)>0?(p(),b("div",Ve,[a(o(G),{page:o(s).page,"onUpdate:page":e[5]||(e[5]=l=>o(s).page=l),size:o(s).size,"onUpdate:size":e[6]||(e[6]=l=>o(s).size=l),total:o(_),onCallback:o(m)},null,8,["page","size","total","onCallback"])])):P("",!0)])])])])}}});export{je as default};
