import{g as B,a as k}from"./time-BMcbgg5F.js";import{m as I,f as O,o as V,d as z,a as N}from"./index-BP0-vtNP.js";import{_ as P}from"./Swiper.vue_vue_type_script_setup_true_lang-ByEq1nts.js";import{i as v}from"./format-C8RAoEAk.js";import{a as j}from"./product-IfnnwfpZ.js";import F from"./View-BxHMh8gy.js";import{d as L,r as h,aj as G,c as T,w,ak as E,f as d,g as a,h as o,a9 as l,K as y,k as m,t as s,j as M,i as p,F as A,y as b,l as S,_ as K}from"./index-BEWhCL1q.js";/* empty css                                                             *//* empty css                                                             */import"./lodash-BnN97RgF.js";const U={class:"comp"},R={class:"cont"},X={class:"item-box"},Y={class:"item"},q={key:0,class:"price-box"},H={key:1,class:"origin"},W={class:"line-box"},J={class:"cont"},Z={class:"item-box"},Q={class:"item"},ee={key:0,class:"price-box"},oe={key:1,class:"origin"},te=L({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup(_){const f=h({autoplay:!1,pagination:!1}),e=G(_,"module"),x=h({productGroups:[{groupTitle:"限时福利",groupSubTitle:"直触底价 先到先得",groupType:"product",pruductList:[{productId:0,productSn:"",productName:"德宝纸巾",productDesc:"",productPrice:39,marketPrice:1999,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731650293KF9TjvpDKHOATMR3H7.jpg"},{productId:0,productSn:"",productName:"薯片",productDesc:"",productPrice:39,marketPrice:1999,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731650294a4EsPq1zkYme6p5OhC.jpg"},{productId:0,productSn:"",productName:"饼干",productDesc:"",productPrice:39,marketPrice:1999,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731650294hYUnaJSx7UhsjhhGEi.jpg"},{productId:0,productSn:"",productName:"奶粉",productDesc:"",productPrice:39,marketPrice:1999,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731650293zLV7bKUMAFWH6hrM7m.jpg"}],moreLink:{link:{link:"",title:""},linkTitle:""}},{groupTitle:"发现好货",groupSubTitle:"精选推荐 多买多省",groupType:"product",pruductList:[{productId:0,productSn:"",productName:"高露洁牙膏",productDesc:"",productPrice:39,marketPrice:1999,picThumb:"https://oss.tigshop.com/img/gallery/202411/17316502936Ow5WaZszFnuYuGzB8.jpg"},{productId:0,productSn:"",productName:"黑人牙膏",productDesc:"",productPrice:39,marketPrice:1999,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731650293Tx6p8XKkDJPhDOOAT3.jpg"},{productId:0,productSn:"",productName:"高露洁牙膏",productDesc:"",productPrice:39,marketPrice:1999,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731650293yDagFw4VE9FG1oJSnW.jpg"},{productId:0,productSn:"",productName:"黑人牙膏",productDesc:"",productPrice:39,marketPrice:1999,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731650294KeYpvFBkgkloWdbqX7.jpg"}],moreLink:{link:{link:"",title:""},linkTitle:""}}],rightPic:{picId:1454,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731650293Kfvp2BXElAzXCOY7pq.png?x-oss-process=image/resize,m_pad,h_200,h_200",picUrl:"https://oss.tigshop.com/img/gallery/202411/1731650293Kfvp2BXElAzXCOY7pq.png",picName:"Fi_ZwwrzwDQddtmqTBCAyht4dPI"},showCountdown:1,countdownType:"dailyCycle",dailyTime:[k(new Date,8),k(new Date,20)],specifyTime:B(3),timeContent:["时","分","秒"],picScale:"1:1",picFillType:"cover",productRadius:6,morePosition:"top",showProductPrice:1,priceWeight:400,crossedOutPrice:1,productSales:0,moduleColor:{titleColor:"#171B1E",sellingPointColor:"#999999",countdownBackgroundColor:"#72B76C",countdownColor:"#ffffff",priceBackgroundColor:"#72B76C",priceColor:"#ffffff",crossedOutPriceColor:"#999999",lineColor:"#eeeeee"},moduleStyle:N,contentStyle:z});I(e.value,x.value);const u=T(()=>O(e.value.moduleStyle??{},e.value.contentStyle??{},e.value.subTitle??{})),g={"3:2":"calc(100% / 3 * 2)","1:1":"calc(100% / 1 * 1)","3:4":"calc(100% / 3 * 4)","16:9":"calc(100% / 16 * 9)"},$={天:"DD",时:"HH",分:"mm",秒:"ss",毫秒:"SSS"},D=T(()=>{let i="";if(e.value.timeContent&&e.value.timeContent.length>0)for(let t=0;t<e.value.timeContent.length;t++){const c=e.value.timeContent[t];c&&(i+=$[c],t<e.value.timeContent.length-1&&(i+=":"))}return i}),n=h({});w(()=>{e.value.productGroups&&e.value.productGroups.forEach(async(i,t)=>{if(i.pruductList.length>0)try{const c=await j({ids:i.pruductList.map(r=>r.productId).join(",")});n.value[t]=[...V(i.pruductList),...c.records]}catch(c){console.error(c)}})});const C=E({width:0,height:20});return w(()=>{if(e.value.rightPic){const i=new Image;i.src=v(e.value.rightPic.picUrl),i.onload=()=>{const t=i.width/i.height;C.width=t*20}}}),(i,t)=>{var c;return a(),d("div",{class:"module-ad-con",style:l(u.value.moduleStyle.boxPaddingBottom+u.value.moduleStyle.boxPaddingTop+u.value.moduleStyle.boxPaddingBottom+u.value.moduleStyle.boxPadding+u.value.moduleStyle.backgroundSize+u.value.moduleStyle.backgroundImage)},[o("div",{class:"module-ad-content",style:l(u.value.moduleContentStyle.backgroundImage+u.value.moduleContentStyle.backgroundSize+u.value.moduleContentStyle.boxRadius+u.value.moduleContentStyle.boxShadow+u.value.moduleContentStyle.innerPadding)},[o("div",U,[o("div",R,[o("div",null,[o("div",{class:"mk-title",style:l(`color:${e.value.moduleColor.titleColor}`)},[y(s(e.value.productGroups[0].groupTitle)+" ",1),e.value.showCountdown?(a(),d("div",{key:0,class:"time",style:l(`background:${e.value.moduleColor.countdownBackgroundColor}; color:${e.value.moduleColor.countdownColor}`)},[new Date().getTime()>Number(e.value.dailyTime[0])?(a(),M(p(F),{key:0,countdownType:e.value.countdownType,"value-style":{color:e.value.moduleColor.countdownColor,"font-size":"12px",display:"block",height:"20px","line-height":"20px"},format:D.value,dailyTime:e.value.dailyTime,specifyTime:e.value.specifyTime},null,8,["countdownType","value-style","format","dailyTime","specifyTime"])):(a(),d(A,{key:1},[y("活动未开始")],64))],4)):m("",!0)],4),o("div",{class:"mk-stitle",style:l(`color:${e.value.moduleColor.sellingPointColor}`)},s(e.value.productGroups[0].groupSubTitle),5)]),o("div",X,[b(p(P),{swiperOption:{...f.value,slidesPerView:2,spaceBetween:6},modelValue:n.value[0],"onUpdate:modelValue":t[0]||(t[0]=r=>n.value[0]=r),onActiveIndexChange:t[1]||(t[1]=()=>{})},{default:S(({item:r})=>[o("div",Y,[o("div",{class:"goods-img",style:l(`padding-top: ${g[e.value.picScale]}; border-radius: ${e.value.productRadius}px`)},[o("div",{class:"img",style:l(`padding-top: ${g[e.value.picScale]};
                                                border-radius: ${e.value.productRadius}px;
                                                background-size: ${e.value.picFillType};
                                                background-image: url(${p(v)(r.picThumb)});`)},null,4)],4),e.value.showProductPrice?(a(),d("div",q,[o("div",{class:"price",style:l(`background: ${e.value.moduleColor.priceBackgroundColor}; color: ${e.value.moduleColor.priceColor}; font-weight: 700; font-family: font1`)}," ￥"+s(r.productPrice),5)])):m("",!0),r.marketPrice&&e.value.crossedOutPrice?(a(),d("div",H,[o("div",{style:l(`color: ${e.value.moduleColor.crossedOutPriceColor};text-decoration: line-through;`)},s(r.marketPrice),5)])):m("",!0)])]),_:1},8,["swiperOption","modelValue"])])]),o("div",W,[o("div",{class:"line",style:l(`background:${e.value.moduleColor.lineColor}`)},null,4)]),o("div",J,[o("div",null,[o("div",{class:"mk-title",style:l(`color:${e.value.moduleColor.titleColor}`)},[y(s(e.value.productGroups[1].groupTitle)+" ",1),o("div",{style:l(`margin-left: 2px; width: ${C.width}px; height: 20px; background: url(${p(v)((c=e.value.rightPic)==null?void 0:c.picUrl)}) center top / cover no-repeat;`)},null,4)],4),o("div",{class:"mk-stitle",style:l(`color:${e.value.moduleColor.sellingPointColor}`)},s(e.value.productGroups[1].groupSubTitle),5)]),o("div",Z,[b(p(P),{swiperOption:{...f.value,slidesPerView:2,spaceBetween:6},modelValue:n.value[1],"onUpdate:modelValue":t[2]||(t[2]=r=>n.value[1]=r),onActiveIndexChange:t[3]||(t[3]=()=>{})},{default:S(({item:r})=>[o("div",Q,[o("div",{class:"goods-img",style:l(`padding-top: ${g[e.value.picScale]}; border-radius: ${e.value.productRadius}px`)},[o("div",{class:"img",style:l(`padding-top: ${g[e.value.picScale]};
                                                border-radius: ${e.value.productRadius}px;
                                                background-size: ${e.value.picFillType};
                                                background-image: url(${p(v)(r.picThumb)});`)},null,4)],4),e.value.showProductPrice?(a(),d("div",ee,[o("div",{class:"price",style:l(`background: ${e.value.moduleColor.priceBackgroundColor}; color: ${e.value.moduleColor.priceColor}; font-weight: 700; font-family: font1`)}," ￥"+s(r.productPrice),5)])):m("",!0),r.marketPrice&&e.value.crossedOutPrice?(a(),d("div",oe,[o("div",{style:l(`color: ${e.value.moduleColor.crossedOutPriceColor};text-decoration: line-through;`)},s(r.marketPrice),5)])):m("",!0)])]),_:1},8,["swiperOption","modelValue"])])])])],4)],4)}}}),ve=K(te,[["__scopeId","data-v-9238d7d2"]]);export{ve as default};
