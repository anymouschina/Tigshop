/* empty css             */import"./index-DVG44k_-.js";import{_ as x}from"./Switch.vue_vue_type_script_setup_true_lang-4ZoJqbbn.js";import{D as K}from"./DeleteRecord-C4_57oHW.js";/* empty css                                                                    */import{P as R}from"./Pagination-4FaohhlG.js";import{d as j,v as S,r as G,e as i,f as u,g as f,h as o,t as b,y as l,l as s,i as e,K as d,k as C}from"./index-BEWhCL1q.js";import{u as V,d as J,b as M,g as Q}from"./pointsExchange-1Tjxrdbt.js";import{u as W}from"./useListRequest-Bpxbydyo.js";import{_ as E}from"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./index-BNk7xZkD.js";const X={class:"container"},Y={class:"content_wrapper"},Z={class:"notice-warp"},ee={class:"lyecs-table-list-warp"},te={class:"list-table-tool lyecs-search-warp"},oe={class:"advanced-search-warp list-table-tool-row"},le={class:"simple-form-warp"},ae={class:"simple-form-field"},se={class:"form-group"},ne={class:"control-container"},ie={class:"simple-form-field"},de={class:"form-group"},re={class:"control-container"},pe={class:"simple-form-field"},ce={class:"form-group"},me={class:"control-container"},_e={class:"simple-form-warp"},ue={class:"simple-form-field"},fe={class:"control-container"},be={class:"list-table-tool-row"},ge={class:"list-table-tool-col"},ke={key:0},ve={class:"table-container"},he={class:"empty-warp"},Ce={key:0,class:"empty-bg"},ye={key:0,class:"pagination-con"},He=j({__name:"List",setup(we){const A=S(),D=G(S().domain),{listData:U,loading:g,total:k,selectedIds:v,filterParams:n,loadData:c,onSearchSubmit:r,onSortChange:P,onSelectChange:q,onBatchAction:z,resetParams:I}=W({apiFunction:Q,idKey:"id",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:A.get("pageSize"),isEnabled:"",isHot:""}}),H=async y=>{await z(y,M)};return c(),(y,t)=>{const m=i("el-button"),B=i("TigInput"),_=i("el-option"),w=i("el-select"),N=i("el-popconfirm"),O=i("el-space"),F=i("el-form"),p=i("el-table-column"),L=i("el-divider"),T=i("el-table"),$=i("a-spin");return f(),u("div",X,[o("div",Y,[o("div",Z,[o("p",null,"积分兑换列表前台地址为："+b(D.value)+"/exchange/list/（支持手机版自动跳转）",1)]),o("div",ee,[o("div",te,[l(F,{model:e(n)},{default:s(()=>[o("div",oe,[o("div",le,[o("div",ae,[o("div",se,[t[7]||(t[7]=o("label",{class:"control-label"},[o("span",null,"商品名称：")],-1)),o("div",ne,[l(B,{modelValue:e(n).keyword,"onUpdate:modelValue":t[0]||(t[0]=a=>e(n).keyword=a),name:"keyword",placeholder:"输入积分兑换商品名称",clearable:"",onClear:e(r)},{append:s(()=>[l(m,{onClick:e(r)},{default:s(()=>t[6]||(t[6]=[o("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[6]},8,["onClick"])]),_:1},8,["modelValue","onClear"])])])]),o("div",ie,[o("div",de,[t[8]||(t[8]=o("label",{class:"control-label"},[o("span",null,"兑换状态：")],-1)),o("div",re,[l(w,{modelValue:e(n).isEnabled,"onUpdate:modelValue":t[1]||(t[1]=a=>e(n).isEnabled=a),clearable:"",onClear:e(r),onChange:e(r)},{default:s(()=>[l(_,{value:0,label:"不可兑换"}),l(_,{value:1,label:"可兑换"})]),_:1},8,["modelValue","onClear","onChange"])])])]),o("div",pe,[o("div",ce,[t[9]||(t[9]=o("label",{class:"control-label"},[o("span",null,"热销状态：")],-1)),o("div",me,[l(w,{modelValue:e(n).isHot,"onUpdate:modelValue":t[2]||(t[2]=a=>e(n).isHot=a),clearable:"",onClear:e(r),onChange:e(r)},{default:s(()=>[l(_,{value:0,label:"不热销"}),l(_,{value:1,label:"热销"})]),_:1},8,["modelValue","onClear","onChange"])])])]),o("div",_e,[o("div",ue,[t[12]||(t[12]=o("label",{class:"control-label"},null,-1)),o("div",fe,[l(m,{type:"primary",plain:"",onClick:e(r)},{default:s(()=>t[10]||(t[10]=[d("搜索",-1)])),_:1,__:[10]},8,["onClick"]),l(m,{plain:"",onClick:e(I)},{default:s(()=>t[11]||(t[11]=[d("重置",-1)])),_:1,__:[11]},8,["onClick"])])])])])]),o("div",be,[o("div",ge,[l(O,null,{default:s(()=>[l(e(E),{isDrawer:"",onOkCallback:e(c),title:"添加积分商品",width:"600px",path:"promotion/pointsExchange/Info",params:{act:"add"}},{default:s(()=>[l(m,{type:"primary"},{default:s(()=>t[13]||(t[13]=[d("添加积分商品",-1)])),_:1,__:[13]})]),_:1},8,["onOkCallback"]),l(N,{title:"您确认要批量删除所选数据吗？",onConfirm:t[3]||(t[3]=a=>H("del"))},{reference:s(()=>[l(m,{disabled:e(v).length===0},{default:s(()=>t[14]||(t[14]=[d("批量删除",-1)])),_:1,__:[14]},8,["disabled"])]),_:1}),e(v).length>0?(f(),u("span",ke,[t[15]||(t[15]=d(" 已选择：",-1)),o("b",null,b(e(v).length),1),t[16]||(t[16]=d(" 项 ",-1))])):C("",!0)]),_:1})])])]),_:1},8,["model"])]),o("div",ve,[l($,{spinning:e(g)},{default:s(()=>[l(T,{data:e(U),"row-key":"id",onSelectionChange:e(q),total:e(k),onSortChange:e(P),loading:e(g)},{empty:s(()=>[o("div",he,[e(g)?C("",!0):(f(),u("div",Ce,"暂无数据"))])]),default:s(()=>[l(p,{type:"selection",width:"32"}),l(p,{label:"积分商品名称",prop:"productName",sortable:"custom",width:350}),l(p,{label:"使用积分值",prop:"exchangeIntegral",sortable:"custom"},{default:s(({row:a})=>[d(b(a.exchangeIntegral),1)]),_:1}),l(p,{label:"减免金额",prop:"pointsDeductedAmount",sortable:"custom"},{default:s(({row:a})=>[d(b(a.pointsDeductedAmount),1)]),_:1}),l(p,{label:"是否可兑换",sortable:"custom"},{default:s(({row:a})=>[l(e(x),{checked:a.isEnabled,"onUpdate:checked":h=>a.isEnabled=h,requestApi:e(V),params:{id:a.id,field:"isEnabled"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),l(p,{label:"是否热销",sortable:"custom"},{default:s(({row:a})=>[l(e(x),{checked:a.isHot,"onUpdate:checked":h=>a.isHot=h,requestApi:e(V),params:{id:a.id,field:"isHot"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),l(p,{label:"操作",fixed:"right",width:120},{default:s(({row:a})=>[l(e(E),{isDrawer:"",onOkCallback:e(c),title:"编辑积分商品",width:"600px",path:"promotion/pointsExchange/Info",params:{act:"detail",id:a.id}},{default:s(()=>t[17]||(t[17]=[o("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[17]},1032,["onOkCallback","params"]),l(L,{direction:"vertical"}),l(e(K),{onAfterDelete:e(c),requestApi:e(J),params:{id:a.id}},{default:s(()=>t[18]||(t[18]=[d("删除",-1)])),_:2,__:[18]},1032,["onAfterDelete","requestApi","params"])]),_:1})]),_:1},8,["data","onSelectionChange","total","onSortChange","loading"])]),_:1},8,["spinning"]),e(k)>0?(f(),u("div",ye,[l(e(R),{page:e(n).page,"onUpdate:page":t[4]||(t[4]=a=>e(n).page=a),size:e(n).size,"onUpdate:size":t[5]||(t[5]=a=>e(n).size=a),total:e(k),onCallback:e(c)},null,8,["page","size","total","onCallback"])])):C("",!0)])])])])}}});export{He as default};
