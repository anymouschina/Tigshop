import{d as z,v as N,e as l,f as m,g as f,h as o,y as e,l as s,i as t,K as g,p as V,k as h,t as P,_ as O}from"./index-BEWhCL1q.js";/* empty css             */import"./index-DVG44k_-.js";import{D as A}from"./DeleteRecord-C4_57oHW.js";/* empty css                                                                    */import{P as F}from"./Pagination-4FaohhlG.js";import{i as G}from"./format-C8RAoEAk.js";import{d as L,g as T}from"./productGift-BUi5WFSB.js";import{u as q}from"./useListRequest-Bpxbydyo.js";import{_ as b}from"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./index-BNk7xZkD.js";const B={class:"container"},U={class:"content_wrapper"},K={class:"lyecs-table-list-warp"},R={class:"list-table-tool lyecs-search-warp"},E={class:"list-table-tool-row"},M={class:"simple-form-warp"},$={class:"simple-form-field"},j={class:"form-group"},H={class:"control-container"},J={class:"simple-form-field"},Q={class:"form-group"},W={class:"control-container"},X={class:"table-container"},Y={class:"product-info"},Z=["src"],tt={class:"empty-warp"},ot={key:0,class:"empty-bg"},et={key:0,class:"pagination-con"},at=z({__name:"List",setup(st){const k=N(),{listData:v,loading:p,total:c,filterParams:n,loadData:r,onSearchSubmit:_,onSortChange:C,onSelectChange:w}=q({apiFunction:T,idKey:"id",defaultParams:{sortField:"",sortOrder:"",keyword:"",page:1,size:k.get("pageSize")}});return r(),(it,a)=>{const u=l("el-button"),y=l("TigInput"),S=l("el-form"),d=l("el-table-column"),D=l("el-divider"),I=l("el-table"),x=l("a-spin");return f(),m("div",B,[o("div",U,[o("div",K,[o("div",R,[e(S,{model:t(n),onSubmit:V(t(_),["prevent"])},{default:s(()=>[o("div",E,[o("div",M,[o("div",$,[o("div",j,[o("div",H,[e(y,{modelValue:t(n).keyword,"onUpdate:modelValue":a[0]||(a[0]=i=>t(n).keyword=i),name:"keyword",placeholder:"输入赠品名称",clearable:"",onClear:t(_)},{append:s(()=>[e(u,{onClick:t(_)},{default:s(()=>a[3]||(a[3]=[o("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[3]},8,["onClick"])]),_:1},8,["modelValue","onClear"])])])]),o("div",J,[o("div",Q,[o("div",W,[e(t(b),{isDrawer:"",onOkCallback:t(r),title:"添加赠品",width:"900px",path:"promotion/productGift/Info",params:{act:"add"}},{default:s(()=>[e(u,{type:"primary"},{default:s(()=>a[4]||(a[4]=[g("添加赠品",-1)])),_:1,__:[4]})]),_:1},8,["onOkCallback"])])])])])])]),_:1},8,["model","onSubmit"])]),o("div",X,[e(x,{spinning:t(p)},{default:s(()=>[e(I,{data:t(v),"row-key":"id",onSelectionChange:t(w),total:t(c),onSortChange:t(C),loading:t(p)},{empty:s(()=>[o("div",tt,[t(p)?h("",!0):(f(),m("div",ot,"暂无数据"))])]),default:s(()=>[e(d,{label:"赠品名称",prop:"giftName",width:"150"}),e(d,{label:"商品信息",prop:"productName"},{default:s(({row:i})=>[o("div",Y,[o("img",{src:t(G)(i.productInfo.picThumb),height:"50",width:"50"},null,8,Z),o("p",null,P(i.productInfo.productName),1)])]),_:1}),e(d,{label:"赠品库存",prop:"giftStock",sortable:"custom"}),e(d,{label:"操作",fixed:"right",width:150},{default:s(({row:i})=>[e(t(b),{isDrawer:"",onOkCallback:t(r),title:"编辑赠品",width:"900px",path:"promotion/productGift/Info",params:{act:"detail",id:i.giftId}},{default:s(()=>a[5]||(a[5]=[o("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[5]},1032,["onOkCallback","params"]),e(D,{direction:"vertical"}),e(t(A),{onAfterDelete:t(r),requestApi:t(L),params:{id:i.giftId}},{default:s(()=>a[6]||(a[6]=[g("删除",-1)])),_:2,__:[6]},1032,["onAfterDelete","requestApi","params"])]),_:1})]),_:1},8,["data","onSelectionChange","total","onSortChange","loading"])]),_:1},8,["spinning"]),t(c)>0?(f(),m("div",et,[e(t(F),{page:t(n).page,"onUpdate:page":a[1]||(a[1]=i=>t(n).page=i),size:t(n).size,"onUpdate:size":a[2]||(a[2]=i=>t(n).size=i),total:t(c),onCallback:t(r)},null,8,["page","size","total","onCallback"])])):h("",!0)])])])])}}}),ht=O(at,[["__scopeId","data-v-9f54e56e"]]);export{ht as default};
