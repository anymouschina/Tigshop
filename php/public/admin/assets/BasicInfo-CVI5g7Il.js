import{F}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BVJHh8ng.js";import{F as G}from"./FormAddGalleryVideo-Cr9BEyUE.js";import{d as M,ai as C,P as E,aj as j,r as x,o as q,e as f,f as I,g as i,y as t,l,j as v,k as n,h as s,i as u,F as w,K as m,J as A,_ as L}from"./index-BEWhCL1q.js";import{S as D}from"./SelectBrand-DFj6FPJO.js";import{_ as $}from"./SelectCategory.vue_vue_type_script_setup_true_lang-D5TL5eLW.js";import"./index-DVG44k_-.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-B2T-ARqM.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              *//* empty css             */import{B as J}from"./BusinessData-ICvr1eK8.js";import{_ as K}from"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./vuedraggable.umd-_qUe1n4L.js";import"./Image.vue_vue_type_script_setup_true_lang-DC1N644b.js";import"./format-C8RAoEAk.js";import"./BusinessImg-CuIKiE1z.js";import"./currencyManagement-BEhPZh48.js";import"./version-C520_GUm.js";import"./brand-NPYEvOSK.js";import"./category-Bu2fUBIU.js";import"./category-JkcBf76e.js";import"./index-BNk7xZkD.js";import"./time-BMcbgg5F.js";const O={class:"flex flex-justify-between"},P={key:1,class:"con-btn"},z=M({__name:"BasicInfo",props:C({id:{type:Number,default:0},shopId:{type:Number,default:0},examine:{type:Number,default:0},loading:{type:Boolean,default:!1},action:{type:String,default:""}},{formState:{default:{}},formStateModifiers:{}}),emits:C(["submitCallback","update:confirmLoading","close","closeConfirm"],["update:formState"]),setup(o,{emit:H}){const S=E(),d=j(o,"formState"),B=x([]);q(async()=>{B.value=[{key:1,title:"普通商品",desc:"物流配送"},{key:3,title:"卡密商品",tips:"可以在菜单中【营销>电子卡券组】创建卡券组，然后在【查看卡列表】添加单个卡密或通过下载【批量导入模板文件】填好卡密后在通过批量导入电子卡券按钮上传该文件批量导入。",desc:"无需物流"},{key:2,title:"虚拟商品",tips:"网盘链接、视频链接，在添加商品添加虚拟商品。用户购买后将在订单详情直接展示。",desc:"无需物流"},{key:4,title:"付费内容",tips:"软件授权、在线课程等。通过简单的操作，即可将这些商品添加到您的商店中，为客户提供更丰富的选择。立即体验，享受便捷的付费内容管理服务。",desc:"无需物流"}]});const N=(p,e,a)=>{if(e)a();else{a(new Error("商品名称不能为空"));return}},T=(p,e,a)=>{if(e)a();else{a(new Error("请选择商品图片"));return}},_=(p,e,a)=>{if(e)a();else{a(new Error("请选择商品类目"));return}},g=x(!1),b=x(),k=async()=>{g.value=!0;try{b.value.loaded=!1,await b.value.loadCategory()}catch(p){A.error(p.message)}finally{setTimeout(()=>{g.value=!1},200)}};return(p,e)=>{const a=f("el-form-item"),c=f("el-button"),y=f("el-radio"),V=f("el-radio-group"),U=f("TigInput");return i(),I(w,null,[t(a,{rules:[{required:!0,validator:N}],class:"inner-item",label:"商品名称",prop:"productName"},{default:l(()=>[t(J,{modelValue:d.value.productName,"onUpdate:modelValue":e[0]||(e[0]=r=>d.value.productName=r),dataId:o.id,dataType:2,disabled:o.examine==1,maxlength:100,width:"390px",placeholder:"请输入商品名称"},null,8,["modelValue","dataId","disabled"])]),_:1},8,["rules"]),t(a,{rules:[{required:!0,validator:T}],label:"商品图片",prop:"galleries"},{default:l(()=>[o.loading?n("",!0):(i(),v(u(F),{key:0,photos:d.value.galleries,"onUpdate:photos":e[1]||(e[1]=r=>d.value.galleries=r),disabled:o.examine==1,isMultiple:!0},null,8,["photos","disabled"])),e[8]||(e[8]=s("div",{class:"extra"},"您可以通过拖拽来调整相册图片顺序，第一张图将作为商品主图展示",-1))]),_:1,__:[8]},8,["rules"]),t(a,{label:"商品视频",prop:"video"},{default:l(()=>[o.loading?n("",!0):(i(),v(u(G),{key:0,video:d.value.video,"onUpdate:video":e[2]||(e[2]=r=>d.value.video=r),disabled:o.examine==1},null,8,["video","disabled"])),e[9]||(e[9]=s("div",{class:"extra"},"如有商品视频则商品视频作为商品主图展示",-1))]),_:1,__:[9]}),t(a,{class:"inner-item",label:"商品品牌",prop:"brandId"},{default:l(()=>[o.loading?n("",!0):(i(),v(u(D),{key:0,brandId:d.value.brandId,"onUpdate:brandId":e[3]||(e[3]=r=>d.value.brandId=r),disabled:o.examine==1,style:{width:"200px"}},null,8,["brandId","disabled"]))]),_:1}),t(a,{rules:[{required:!0,message:"请选择商品类目!",validator:_}],class:"inner-item",label:"商品类目",prop:"productCategoryId"},{default:l(()=>[s("div",O,[o.loading?n("",!0):(i(),v(u($),{key:0,ref_key:"selectCategory",ref:b,categoryId:d.value.productCategoryId,"onUpdate:categoryId":e[4]||(e[4]=r=>d.value.productCategoryId=r),disabled:o.examine==1,multiple:!1,style:{width:"200px"}},null,8,["categoryId","disabled"])),o.examine!=1?(i(),I("div",P,[u(S)==="admin"?(i(),I(w,{key:0},[t(u(K),{params:{act:"add",parentId:0},isDrawer:"",path:"product/category/Info",title:"添加分类",width:"600px",onOkCallback:k},{default:l(()=>[t(c,{link:"",type:"primary"},{default:l(()=>e[10]||(e[10]=[m("新建",-1)])),_:1,__:[10]})]),_:1}),e[11]||(e[11]=s("p",{class:"ml10 mr10",style:{"margin-bottom":"3px"}},"|",-1))],64)):n("",!0),t(c,{loading:g.value,link:"",type:"primary",onClick:k},{default:l(()=>e[12]||(e[12]=[m("刷新 ",-1)])),_:1,__:[12]},8,["loading"])])):n("",!0)])]),_:1},8,["rules"]),t(a,{class:"inner-item",label:"商品编码",prop:"productSnGenerateType"},{default:l(()=>[t(V,{modelValue:d.value.productSnGenerateType,"onUpdate:modelValue":e[5]||(e[5]=r=>d.value.productSnGenerateType=r),disabled:o.examine==1,style:{width:"100%"}},{default:l(()=>[t(y,{value:1},{default:l(()=>e[13]||(e[13]=[m("系统生成",-1)])),_:1,__:[13]}),t(y,{value:2},{default:l(()=>e[14]||(e[14]=[m("手动输入",-1)])),_:1,__:[14]})]),_:1},8,["modelValue","disabled"])]),_:1}),t(a,{class:"inner-item",extra:"",label:"商品描述",prop:"productBrief"},{default:l(()=>[s("div",null,[t(U,{modelValue:d.value.productBrief,"onUpdate:modelValue":e[6]||(e[6]=r=>d.value.productBrief=r),disabled:o.examine==1,rows:2,classType:"tig-form-input",placeholder:"例如：顺丰快递 又快又好",type:"textarea"},null,8,["modelValue","disabled"]),e[15]||(e[15]=s("div",{class:"extra"},"该描述一般会高亮出现在商品名称后面",-1))])]),_:1}),t(a,{class:"inner-item",label:"商品状态",prop:"productState"},{default:l(()=>[t(V,{modelValue:d.value.productState,"onUpdate:modelValue":e[7]||(e[7]=r=>d.value.productState=r),disabled:o.examine==1,style:{width:"100%"}},{default:l(()=>[t(y,{value:1},{default:l(()=>e[16]||(e[16]=[m("在售",-1)])),_:1,__:[16]}),t(y,{value:0},{default:l(()=>e[17]||(e[17]=[m("断供",-1)])),_:1,__:[17]})]),_:1},8,["modelValue","disabled"]),e[18]||(e[18]=s("div",{class:"extra"},"选择在售时，商品新增成功时会自动进入总后台进行审核，审核通过后，店铺才可进行售卖",-1))]),_:1,__:[18]})],64)}}}),be=L(z,[["__scopeId","data-v-39628dae"]]);export{be as default};
