import{d as j,r as k,$ as w,e as O,f as o,g as a,k as c,h as s,i as e,n as B,j as y,l as i,y as p,aR as S,dp as $,E,I as F,_ as N}from"./index-BEWhCL1q.js";import"./index-DVG44k_-.js";import{d as A}from"./vuedraggable.umd-_qUe1n4L.js";import{_ as b}from"./Image.vue_vue_type_script_setup_true_lang-DC1N644b.js";import{i as C}from"./format-C8RAoEAk.js";import{B as G}from"./BusinessImg-CuIKiE1z.js";import{b as z}from"./version-C520_GUm.js";import{_ as h}from"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";const D={class:"gallery-pic"},R={class:"item-img add-photo-btn"},P={key:2,class:"remove-btn"},q={key:0,class:"item-action"},H={key:1,class:"gallery-list-warp"},J={class:"item","data-id":"img.imgId"},K={class:"img flex flex-justify-center"},L={class:"lyecs-dialogImage"},Q={key:1,class:"lyecs-dialogImage"},W=["onClick"],X={key:0},Y={class:"item gallery-add-item add-gallery-photo-btn",draggable:"false"},Z=j({__name:"FormAddGallery",props:{photo:{type:String,default:""},photos:{type:Array,default:[]},isMultiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:Number,default:1},pageType:{type:String,default:""}},emits:["update:photo","update:photos"],setup(d,{emit:T}){k(null);const m=d,{photo:n,photos:_,isMultiple:v,disabled:f}=w(m),g=T,u=r=>{if(v.value==!0){let t=_.value||[];g("update:photos",t.concat(r))}else g("update:photo",r[0].picUrl)},x=r=>{let t=_.value;t.splice(r,1),g("update:photos",t)},I=()=>{g("update:photo","")};return k(!1),k(""),(r,t)=>{const U=O("el-icon");return a(),o("div",D,[!e(v)&&d.type==1?(a(),o("div",{key:0,class:B("gallery-pic-select "+(e(n)?"have_image":""))},[s("div",R,[e(n)?(a(),y(e(b),{key:0,class:"gallery-img",src:e(C)(e(n))},null,8,["src"])):c("",!0),e(n)?c("",!0):(a(),y(e(h),{key:1,type:"gallery",class:"item-bg",onOkCallback:u,params:{isMultiple:m.isMultiple}},{default:i(()=>t[2]||(t[2]=[s("div",{class:"flex",style:{"flex-direction":"column",height:"80px",width:"80px","align-items":"center","justify-content":"center","line-height":"22px"}},[s("i",{class:"iconfont icon-tianjiatupian"}),s("span",null,"添加图片")],-1)])),_:1,__:[2]},8,["params"])),e(n)&&!e(f)?(a(),o("p",P,[s("i",{onClick:I,class:"iconfont icon-cha"})])):c("",!0)]),e(n)&&d.type==1&&!e(f)?(a(),o("div",q,[p(e(h),{type:"gallery",class:"item item-edit",onOkCallback:u,params:{isMultiple:m.isMultiple}},{default:i(()=>t[3]||(t[3]=[s("span",{class:"iconfont icon-bianji1"},null,-1)])),_:1,__:[3]},8,["params"]),s("span",{onClick:I,class:"item item-remove iconfont icon-shanchu"})])):c("",!0)],2)):c("",!0),s("div",null,[d.type==2?(a(),y(e(h),{key:0,type:"gallery",onOkCallback:u,params:{isMultiple:m.isMultiple}},{default:i(()=>[s("div",null,[S(r.$slots,"default",{},void 0,!0)])]),_:3},8,["params"])):c("",!0)]),e(v)?(a(),o("div",H,[s("div",null,[p(e(A),{class:"gallery-list-ul","item-key":"picId",list:e(_),"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:t[0]||(t[0]=()=>{}),onEnd:t[1]||(t[1]=()=>{})},{item:i(({element:l,index:V})=>[s("div",J,[s("div",K,[d.pageType=="product"?(a(),y(G,{key:0,modelValue:l.picUrl,"onUpdate:modelValue":M=>l.picUrl=M,picThumb:l.picThumb,dataId:l.picId,dataType:7,onEdit:u,onDelete:x},{default:i(()=>[s("a",L,[p(e(b),{class:"gallery-img",big:l.picUrl,src:e(C)(l.picThumb)},null,8,["big","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","picThumb","dataId"])):(a(),o("a",Q,[p(e(b),{class:"gallery-img",big:l.picUrl,src:e(C)(l.picThumb)},null,8,["big","src"])])),E(s("i",{onClick:M=>x(V),class:B(["btn-del iconfont icon-cha",{overseas:e(z)()}])},null,10,W),[[F,!e(f)]])])])]),footer:i(()=>[e(f)?(a(),o("div",X)):(a(),y(e(h),{key:1,type:"gallery",class:"",onOkCallback:u,params:{isMultiple:m.isMultiple}},{default:i(()=>[s("div",Y,[p(U,{size:"25"},{default:i(()=>[p(e($))]),_:1})])]),_:1},8,["params"]))]),_:1},8,["list"])])])):c("",!0)])}}}),ne=N(Z,[["__scopeId","data-v-9a601139"]]);export{ne as F};
