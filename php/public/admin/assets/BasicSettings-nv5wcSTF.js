/* empty css             */import{_ as E}from"./Image.vue_vue_type_script_setup_true_lang-DC1N644b.js";import{d as P,Q as q,C as M,R as z,v as j,a5 as K,r as h,o as Q,dM as W,J as S,e as m,f as C,g as r,y as l,l as t,h as a,j as g,i,K as p,F as J,k as f,a9 as X,dN as $,dO as H,_ as Y}from"./index-BEWhCL1q.js";import{B as T}from"./BusinessData-ICvr1eK8.js";import{d as Z}from"./format-C8RAoEAk.js";import{F as k}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BVJHh8ng.js";import"./index-DVG44k_-.js";import"./vuedraggable.umd-_qUe1n4L.js";import{u as ee}from"./theme-YtIM2XHr.js";import{b as oe}from"./version-C520_GUm.js";import"./currencyManagement-BEhPZh48.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./index-BNk7xZkD.js";import"./BusinessImg-CuIKiE1z.js";const le="/admin/assets/shopLogo_demo-BrXd9ym-.png",te="/admin/assets/copyright-KRf6MBQ2.png",se="/admin/assets/default_tech_support-BnzeVpkk.png",ae="/admin/assets/powered_guide-e9PVShEI.png",de={class:"container"},pe={class:"content_wrapper"},ne={class:"extra"},re={class:"wechat-config"},ue={class:"flex flex-align-center",style:{gap:"10px"}},ie={class:"extra"},me={class:"wechat-config mt10"},fe={class:"flex",style:{gap:"10px"}},ge={class:"extra"},ve={class:"extra"},ye={key:0},_e={key:1,class:"extra"},we={class:"content_wrapper"},Ve={class:"content_wrapper"},he={class:"selected-action"},Ce=P({__name:"BasicSettings",setup(ke){const{themeInfo:O}=ee(),N=q(),_=M(),R=window.location.origin+"/",c=n=>n.includes("http")?n:R+n;z(()=>N.query.point,()=>{const{scrollToElement:n}=H(N.query.point||"storeInformation","scrollContainer","storeInformation");n()},{immediate:!0});const U=j();U.config;const w=K(),x=h(!1),o=h({shopCompany:void 0,shopCompanyTxt:"",defaultTechSupport:"",defaultCopyright:"Copyright © 2024 Tigshop. All Rights Reserved",poweredBy:void 0,poweredByLogo:"",poweredByStatus:void 0,shopName:"",kefuAddress:"",shopLogo:"",shopIcpNo:"",shopIcpNoUrl:"",shop110No:"",shop110Link:"",shopRegClosed:0,closeOrder:0}),D=()=>{o.value.defaultCopyright=o.value.shopCompanyTxt,b()},G=()=>{o.value.defaultTechSupport=o.value.poweredByLogo,b()};Q(async()=>{await A()});const I=h(!0),A=async()=>{try{const n=await W();Object.assign(o.value,Z(n))}catch(n){S.error(n.message)}finally{I.value=!1}};h({pcDomain:[{required:!1,message:"",trigger:"blur"},{pattern:/^https?:\/\//i,message:"PC端域名必须以http或https开头",trigger:"blur"}]});const b=async()=>{await w.value.validate(),x.value=!0;try{const n=await $(o.value);S.success("修改成功"),await U.updateConfig(),await _._getLicensed(),setTimeout(()=>{location.reload()},500)}catch(n){S.error(n.message)}finally{x.value=!1}};return(n,e)=>{const V=m("el-popover"),d=m("el-form-item"),u=m("el-radio"),v=m("el-radio-group"),y=m("TigInput"),L=m("el-button"),B=m("el-form"),F=m("a-spin");return r(),C("div",de,[l(F,{spinning:I.value},{default:t(()=>[l(B,{ref_key:"formRef",ref:w,model:o.value,"label-width":"150px",style:{display:"flex",gap:"12px","flex-direction":"column"}},{default:t(()=>[a("div",pe,[e[39]||(e[39]=a("div",{class:"title"},"商城信息",-1)),i(oe)()?(r(),C(J,{key:1},[l(d,{label:"商城LOGO-黑底",prop:"shopLogo"},{default:t(()=>[l(i(k),{photo:o.value.shopLogo,"onUpdate:photo":e[1]||(e[1]=s=>o.value.shopLogo=s),style:{width:"100%"}},null,8,["photo"]),e[20]||(e[20]=a("div",{class:"extra"},"请根据页面设置对应大小的LOGO，高清需要上传双倍大小",-1))]),_:1,__:[20]}),l(d,{label:"商城LOGO-白底",prop:"lightShopLogo"},{default:t(()=>[l(i(k),{photo:o.value.lightShopLogo,"onUpdate:photo":e[2]||(e[2]=s=>o.value.lightShopLogo=s),style:{width:"100%"}},null,8,["photo"]),e[21]||(e[21]=a("div",{class:"extra"},"请根据页面设置对应大小的LOGO，高清需要上传双倍大小",-1))]),_:1,__:[21]})],64)):(r(),g(d,{key:0,label:"商城LOGO",prop:"shopLogo"},{default:t(()=>[l(i(k),{photo:o.value.shopLogo,"onUpdate:photo":e[0]||(e[0]=s=>o.value.shopLogo=s),style:{width:"100%"}},null,8,["photo"]),a("div",ne,[e[19]||(e[19]=p(" 请根据页面设置对应大小的LOGO，高清需要上传双倍大小 ",-1)),l(V,{width:400,placement:"right-end",trigger:"click"},{reference:t(()=>e[17]||(e[17]=[a("a",null,"查看示例",-1)])),default:t(()=>e[18]||(e[18]=[a("img",{src:le,style:{width:"380px"}},null,-1)])),_:1})])]),_:1})),l(d,{label:"商城名称",prop:"shopName"},{default:t(()=>[l(T,{modelValue:o.value.shopName,"onUpdate:modelValue":e[3]||(e[3]=s=>o.value.shopName=s),dataId:1,dataType:5},null,8,["modelValue"])]),_:1}),l(d,{label:"版权信息",prop:"shopCompany"},{default:t(()=>[a("div",null,[l(v,{modelValue:o.value.shopCompany,"onUpdate:modelValue":e[4]||(e[4]=s=>o.value.shopCompany=s)},{default:t(()=>[l(u,{value:1},{default:t(()=>e[22]||(e[22]=[p("系统默认",-1)])),_:1,__:[22]}),l(u,{value:0},{default:t(()=>e[23]||(e[23]=[p("自定义",-1)])),_:1,__:[23]})]),_:1},8,["modelValue"]),a("div",re,[l(B,{ref_key:"formRef",ref:w,model:o.value},{default:t(()=>[l(d,{label:""},{default:t(()=>[a("div",ue,[o.value.shopCompany==1?(r(),g(y,{key:0,modelValue:o.value.defaultCopyright,"onUpdate:modelValue":e[5]||(e[5]=s=>o.value.defaultCopyright=s),classType:"tig-form-input",disabled:""},null,8,["modelValue"])):f("",!0),o.value.shopCompany==0?(r(),g(y,{key:1,modelValue:o.value.shopCompanyTxt,"onUpdate:modelValue":e[6]||(e[6]=s=>o.value.shopCompanyTxt=s),classType:"tig-form-input"},null,8,["modelValue"])):f("",!0),o.value.shopCompany==0?(r(),g(L,{key:2,onClick:D,link:"",type:"primary",style:{"margin-top":"3px"}},{default:t(()=>e[24]||(e[24]=[p(" 设为默认 ",-1)])),_:1,__:[24]})):f("",!0)])]),_:1})]),_:1},8,["model"]),a("div",ie,[e[27]||(e[27]=p(" 版权信息将会显示在 商城页面底部，如需自定义或隐藏，请购买去版权服务。 ",-1)),l(V,{width:400,placement:"right-end",trigger:"click"},{reference:t(()=>e[25]||(e[25]=[a("a",null,"查看示例",-1)])),default:t(()=>e[26]||(e[26]=[a("img",{src:te,style:{width:"380px"}},null,-1)])),_:1})])])])]),_:1}),l(d,{label:"技术支持标识",prop:"poweredBy"},{default:t(()=>[a("div",null,[l(v,{modelValue:o.value.poweredBy,"onUpdate:modelValue":e[7]||(e[7]=s=>o.value.poweredBy=s)},{default:t(()=>[l(u,{value:1},{default:t(()=>e[28]||(e[28]=[p("系统默认",-1)])),_:1,__:[28]}),l(u,{value:0},{default:t(()=>e[29]||(e[29]=[p("自定义",-1)])),_:1,__:[29]})]),_:1},8,["modelValue"]),a("div",me,[l(B,{ref_key:"formRef",ref:w,model:o.value},{default:t(()=>[l(d,{label:""},{default:t(()=>[a("div",fe,[o.value.poweredBy==0?(r(),g(i(k),{key:0,photo:o.value.poweredByLogo,"onUpdate:photo":e[8]||(e[8]=s=>o.value.poweredByLogo=s),style:{width:"100%"}},null,8,["photo"])):f("",!0),o.value.poweredBy==1?(r(),g(i(E),{key:1,src:c(o.value.defaultTechSupport),style:{"max-width":"200px"}},null,8,["src"])):f("",!0),o.value.poweredBy==0?(r(),g(L,{key:2,onClick:G,link:"",type:"primary"},{default:t(()=>e[30]||(e[30]=[p(" 设为默认 ",-1)])),_:1,__:[30]})):f("",!0)])]),_:1})]),_:1},8,["model"]),a("div",ge,[e[33]||(e[33]=p(" 技术标识将会显示在 商城页面底部，如需自定义或隐藏，请购买去版权服务。 ",-1)),l(V,{width:540,placement:"right-end",trigger:"click"},{reference:t(()=>e[31]||(e[31]=[a("a",null,"查看示例",-1)])),default:t(()=>e[32]||(e[32]=[a("img",{src:se,style:{width:"500px"}},null,-1)])),_:1})])])])]),_:1}),l(d,{label:"标题栏版权隐藏",prop:"poweredByStatus"},{default:t(()=>[a("div",null,[a("div",null,[l(v,{modelValue:o.value.poweredByStatus,"onUpdate:modelValue":e[9]||(e[9]=s=>o.value.poweredByStatus=s),disabled:i(_).licensedData.deCopyright==0},{default:t(()=>[l(u,{value:1},{default:t(()=>e[34]||(e[34]=[p("是",-1)])),_:1,__:[34]}),l(u,{value:0},{default:t(()=>e[35]||(e[35]=[p("否",-1)])),_:1,__:[35]})]),_:1},8,["modelValue","disabled"])]),a("div",ve,[i(_).licensedData.deCopyright==0?(r(),C("span",ye,"购买去版权服务后可修改")):f("",!0),i(_).licensedData.deCopyright==1?(r(),C("span",_e,"如果选是，则隐藏浏览器标题栏版权信息 ")):f("",!0),l(V,{width:350,placement:"right-end",trigger:"click"},{reference:t(()=>e[36]||(e[36]=[a("a",null,"查看示例",-1)])),default:t(()=>e[37]||(e[37]=[a("img",{src:ae,style:{width:"330px"}},null,-1)])),_:1})])])]),_:1}),l(d,{label:"地址展示",prop:"kefuAddress"},{default:t(()=>[l(T,{modelValue:o.value.kefuAddress,"onUpdate:modelValue":e[10]||(e[10]=s=>o.value.kefuAddress=s),dataId:6,dataType:5},null,8,["modelValue"]),e[38]||(e[38]=a("div",{class:"extra"},"企业地址会展示在商城PC端底部，为空则不显示",-1))]),_:1,__:[38]})]),a("div",we,[e[40]||(e[40]=a("div",{class:"title"},"备案信息",-1)),l(d,{label:"ICP备案号",prop:"shopIcpNo"},{default:t(()=>[l(T,{modelValue:o.value.shopIcpNo,"onUpdate:modelValue":e[11]||(e[11]=s=>o.value.shopIcpNo=s),dataId:7,dataType:5},null,8,["modelValue"])]),_:1}),l(d,{label:"ICP备案链接",prop:"shopIcpNoUrl"},{default:t(()=>[l(y,{modelValue:o.value.shopIcpNoUrl,"onUpdate:modelValue":e[12]||(e[12]=s=>o.value.shopIcpNoUrl=s),classType:"tig-form-input",placeholder:"不填则默认为：https://beian.miit.gov.cn"},null,8,["modelValue"])]),_:1}),l(d,{label:"公安备案号",prop:"shop110No"},{default:t(()=>[l(y,{modelValue:o.value.shop110No,"onUpdate:modelValue":e[13]||(e[13]=s=>o.value.shop110No=s),classType:"tig-form-input",placeholder:"不填则不显示"},null,8,["modelValue"])]),_:1}),l(d,{label:"公安备案链接",prop:"shop110Link"},{default:t(()=>[l(y,{modelValue:o.value.shop110Link,"onUpdate:modelValue":e[14]||(e[14]=s=>o.value.shop110Link=s),classType:"tig-form-input",placeholder:"不填则默认为：https://beian.mps.gov.cn/#/query/webSearch"},null,8,["modelValue"])]),_:1})]),a("div",Ve,[e[45]||(e[45]=a("div",{id:"globalSettings",class:"title"},"商城状态",-1)),l(d,{label:"关闭注册",prop:"shopRegClosed"},{default:t(()=>[l(v,{modelValue:o.value.shopRegClosed,"onUpdate:modelValue":e[15]||(e[15]=s=>o.value.shopRegClosed=s),class:"itemWidth"},{default:t(()=>[l(u,{value:1},{default:t(()=>e[41]||(e[41]=[p("是",-1)])),_:1,__:[41]}),l(u,{value:0},{default:t(()=>e[42]||(e[42]=[p("否",-1)])),_:1,__:[42]})]),_:1},8,["modelValue"])]),_:1}),l(d,{label:"关闭下单",prop:"closeShop"},{default:t(()=>[l(v,{modelValue:o.value.closeOrder,"onUpdate:modelValue":e[16]||(e[16]=s=>o.value.closeOrder=s),class:"itemWidth"},{default:t(()=>[l(u,{value:1},{default:t(()=>e[43]||(e[43]=[p("是",-1)])),_:1,__:[43]}),l(u,{value:0},{default:t(()=>e[44]||(e[44]=[p("否",-1)])),_:1,__:[44]})]),_:1},8,["modelValue"])]),_:1})])]),_:1},8,["model"]),e[47]||(e[47]=a("div",{style:{height:"30px"}},null,-1)),a("div",{class:"selected-action-warp selected-warp-left",style:X({left:i(O).layout!=="topMenu"?"369px":"270px"})},[a("div",he,[l(L,{loading:x.value,class:"form-submit-btn",size:"large",type:"primary",onClick:b},{default:t(()=>e[46]||(e[46]=[p("提 交 ",-1)])),_:1,__:[46]},8,["loading"])])],4)]),_:1,__:[47]},8,["spinning"])])}}}),Ae=Y(Ce,[["__scopeId","data-v-68254c28"]]);export{Ae as default};
