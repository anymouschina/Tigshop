/* empty css             */import{a0 as w,d as q,v as z,r as p,ak as R,an as J,o as K,e as c,f as x,g as v,h as e,y as t,l as r,k as P,i as V,K as b,F as C,m as S,j as h,t as U,J as I,_ as X}from"./index-BEWhCL1q.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-B2T-ARqM.js";import"./index-DVG44k_-.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{_ as A}from"./SelectShop.vue_vue_type_script_setup_true_lang-B2Py_DPQ.js";import{S as G}from"./SelectLogisticsCompany-CX7qoCMg.js";import{S as H}from"./SelectTimeInterval-CHncG0ge.js";import{r as Q}from"./export-CPfNg7CD.js";import{i as W}from"./version-C520_GUm.js";import{f as D}from"./time-BMcbgg5F.js";import"./index-BNk7xZkD.js";import"./shop-CWBoDOF9.js";import"./bindShop-CqwN6G6E.js";import"./logisticsCompany-CXy3bnfo.js";const Z=()=>w({url:"order/order/getExportItemList",method:"get"}),ee=()=>w({url:"order/order/exportItemInfo",method:"get"}),le=g=>w({url:"order/order/saveExportItem",method:"post",data:g}),te=g=>w({url:"order/order/orderExport",method:"get",responseType:"arraybuffer",params:g}),oe={class:"container"},se={class:"content_wrapper"},ae={class:"lyecs-table-list-warp"},ne={class:"list-table-tool lyecs-search-warp"},re={class:"advanced-search-warp list-table-tool-row"},ie={class:"simple-form-warp"},de={class:"simple-form-field"},ue={class:"form-group"},me={class:"control-container"},pe={key:0,class:"simple-form-field"},ce={class:"form-group"},ve={class:"control-container"},fe={class:"simple-form-field"},_e={class:"form-group"},be={class:"control-container"},ge={class:"simple-form-field"},ye={class:"form-group"},xe={class:"control-container"},Ve={class:"simple-form-field"},Ie={class:"form-group"},we={class:"control-container"},ke={class:"simple-form-field"},Ee={class:"form-group"},Te={class:"control-container"},Ce={class:"simple-form-field"},Se={class:"form-group"},he={class:"control-container"},Ue={class:"simple-form-field"},De={class:"form-group"},Ye={class:"control-container"},Le={class:"simple-form-field"},Me={class:"form-group"},Ne={class:"control-container"},je={class:"simple-form-field"},Be={class:"form-group"},Fe={class:"simple-form-warp"},Oe={class:"simple-form-field"},$e={style:{"margin-top":"20px"}},qe={style:{width:"100%"}},ze={style:{"margin-top":"20px","margin-left":"5px"}},Re={style:{"margin-top":"20px"}},Je=q({__name:"List",setup(g){z();const Y=p(localStorage.getItem("adminType"));p();const k=p(!0);p(0);const s=R({exportItem:"",addStartTime:D(J(15,"sub"),"YYYY-MM-DD"),addEndTime:D(new Date,"YYYY-MM-DD")}),f=p([]),i=p([]),L=async()=>{k.value=!0;try{const n=await Z(),l=await ee();let d=Object.entries(n).map(([u,m])=>({key:u,value:m})),a=Object.entries(l).map(([u,m])=>({key:u,value:m}));f.value=d.filter(u=>!a.some(m=>u.key===m.key)),i.value=a}catch(n){I.error(n.message)}finally{k.value=!1}};K(async()=>{await L()});const M=(n,l)=>{i.value.some(a=>a.key===n.key&&a.value===n.value)||(i.value.push(n),f.value.splice(l,1))},N=(n,l)=>{i.value.splice(l,1),f.value.push(n)},j=()=>{f.value.push(...i.value),i.value.length=0},B=async()=>{try{if(i.value.length>0){const n=i.value.map(d=>d.key).join(","),l=await le({exportItem:n});I.success("操作成功")}}catch(n){I.error(n.message)}},y=p(!1),F=async()=>{y.value=!0;try{s.exportItem=i.value.map(l=>l.key).join(",");const n=await te(s);y.value=!1,Q(n,"导出订单")}catch(n){I.error(n.message)}finally{y.value=!1}};return(n,l)=>{const d=c("TigInput"),a=c("el-option"),u=c("el-select"),m=c("el-button"),E=c("el-tag"),T=c("el-form-item"),O=c("el-form");return v(),x("div",oe,[e("div",se,[e("div",ae,[e("div",ne,[l[26]||(l[26]=e("div",{class:"notice-warp"},[e("p",null,"提示："),e("p",null,"1、如果数据量过大导至查询时间过久或者直接显示超时报错，请尝试缩小查询的时间间隔！"),e("p",null,"2、可通过单击可增加项和导出项目来选择需要导出的参数，也可通过拖拽项目来调整参数排序（商品信息栏目默认在单行最后）")],-1)),t(O,{model:s,inline:""},{default:r(()=>[e("div",re,[e("div",ie,[e("div",de,[e("div",ue,[l[11]||(l[11]=e("label",{class:"control-label"},[e("span",null,"订单信息：")],-1)),e("div",me,[t(d,{modelValue:s.keyword,"onUpdate:modelValue":l[0]||(l[0]=o=>s.keyword=o),name:"keyword",placeholder:"订单号/收货人姓名/订单"},null,8,["modelValue"])])])]),Y.value!="shop"&&V(W)()?(v(),x("div",pe,[e("div",ce,[l[12]||(l[12]=e("label",{class:"control-label"},[e("span",null,"选择店铺：")],-1)),e("div",ve,[t(V(A),{modelValue:s.shopId,"onUpdate:modelValue":l[1]||(l[1]=o=>s.shopId=o)},null,8,["modelValue"])])])])):P("",!0),e("div",fe,[e("div",_e,[l[13]||(l[13]=e("label",{class:"control-label"},[e("span",null,"订单状态：")],-1)),e("div",be,[t(u,{placeholder:"请选择支付状态",modelValue:s.orderStatus,"onUpdate:modelValue":l[2]||(l[2]=o=>s.orderStatus=o)},{default:r(()=>[t(a,{value:0,label:"待付款"}),t(a,{value:1,label:"待发货"}),t(a,{value:2,label:"已发货"}),t(a,{value:3,label:"已取消"}),t(a,{value:4,label:"无效"}),t(a,{value:5,label:"已完成"})]),_:1},8,["modelValue"])])])]),e("div",ge,[e("div",ye,[l[14]||(l[14]=e("label",{class:"control-label"},[e("span",null,"支付状态：")],-1)),e("div",xe,[t(u,{modelValue:s.payStatus,"onUpdate:modelValue":l[3]||(l[3]=o=>s.payStatus=o),clearable:""},{default:r(()=>[t(a,{value:0,label:"未付款"}),t(a,{value:1,label:"支付中"}),t(a,{value:2,label:"已付款"}),t(a,{value:3,label:"退货中"}),t(a,{value:4,label:"已退款"})]),_:1},8,["modelValue"])])])]),e("div",Ve,[e("div",Ie,[l[15]||(l[15]=e("label",{class:"control-label"},[e("span",null,"发货状态：")],-1)),e("div",we,[t(u,{modelValue:s.shippingStatus,"onUpdate:modelValue":l[4]||(l[4]=o=>s.shippingStatus=o),clearable:""},{default:r(()=>[t(a,{value:0,label:"待发货"}),t(a,{value:1,label:"已发货"}),t(a,{value:2,label:"已收货"}),t(a,{value:3,label:"配送中"}),t(a,{value:4,label:"配送失败"})]),_:1},8,["modelValue"])])])]),e("div",ke,[e("div",Ee,[l[16]||(l[16]=e("label",{class:"control-label"},[e("span",null,"详细地址：")],-1)),e("div",Te,[t(d,{type:"text",modelValue:s.address,"onUpdate:modelValue":l[5]||(l[5]=o=>s.address=o)},null,8,["modelValue"])])])]),e("div",Ce,[e("div",Se,[l[17]||(l[17]=e("label",{class:"control-label"},[e("span",null,"Email：")],-1)),e("div",he,[t(d,{type:"text",modelValue:s.email,"onUpdate:modelValue":l[6]||(l[6]=o=>s.email=o)},null,8,["modelValue"])])])]),e("div",Ue,[e("div",De,[l[18]||(l[18]=e("label",{class:"control-label"},[e("span",null,"手机号：")],-1)),e("div",Ye,[t(d,{type:"text",modelValue:s.mobile,"onUpdate:modelValue":l[7]||(l[7]=o=>s.mobile=o)},null,8,["modelValue"])])])]),e("div",Le,[e("div",Me,[l[19]||(l[19]=e("label",{class:"control-label"},[e("span",null,"配送物流：")],-1)),e("div",Ne,[t(V(G),{logisticsId:s.logisticsId,"onUpdate:logisticsId":l[8]||(l[8]=o=>s.logisticsId=o)},null,8,["logisticsId"])])])]),e("div",je,[e("div",Be,[l[20]||(l[20]=e("label",{class:"control-label"},[e("span",null,"下单时间：")],-1)),t(V(H),{type:"date","start-date":s.addStartTime,"onUpdate:startDate":l[9]||(l[9]=o=>s.addStartTime=o),"end-date":s.addEndTime,"onUpdate:endDate":l[10]||(l[10]=o=>s.addEndTime=o)},null,8,["start-date","end-date"])])])])]),e("div",Fe,[e("div",Oe,[t(m,{type:"primary",onClick:F,loading:y.value,disabled:i.value.length===0},{default:r(()=>l[21]||(l[21]=[b("导出EXCEL",-1)])),_:1,__:[21]},8,["loading","disabled"])])]),e("div",$e,[t(T,null,{label:r(()=>l[22]||(l[22]=[e("span",{class:"item-title-style"},"导出项目",-1)])),default:r(()=>[e("div",qe,[(v(!0),x(C,null,S(i.value,(o,_)=>(v(),h(E,{size:"large",key:_,class:"mx-1",closable:"",onClose:$=>N(o,_),"disable-transitions":!0,type:"info"},{default:r(()=>[b(U(o.value),1)]),_:2},1032,["onClose"]))),128))]),e("div",ze,[t(m,{onClick:B},{default:r(()=>l[23]||(l[23]=[b("保存",-1)])),_:1,__:[23]}),t(m,{onClick:j},{default:r(()=>l[24]||(l[24]=[b("清空",-1)])),_:1,__:[24]})])]),_:1})]),e("div",Re,[t(T,null,{label:r(()=>l[25]||(l[25]=[e("span",{class:"item-title-style"},"可增加项",-1)])),default:r(()=>[(v(!0),x(C,null,S(f.value,(o,_)=>(v(),h(E,{size:"large","disable-transitions":!0,key:_,class:"mx-1",type:"info",onClick:$=>M(o,_)},{default:r(()=>[b(U(o.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})])]),_:1},8,["model"])])])])])}}}),il=X(Je,[["__scopeId","data-v-163777d1"]]);export{il as default};
