import{d as R,a as Y,v as q,r as w,o as O,ag as A,e as p,f as l,g as i,h as n,k as m,y as s,l as a,i as o,a2 as E,K as c,t as d,_ as $}from"./index-BEWhCL1q.js";/* empty css             *//* empty css                                                                    */import{P as j}from"./Pagination-4FaohhlG.js";import{b as G}from"./shop-CWBoDOF9.js";import{b as H}from"./dashboard-BqksQYhB.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-B2T-ARqM.js";import"./index-DVG44k_-.js";/* empty css                                                                  *//* empty css                                                                              */import{S as J}from"./SelectTimeInterval-CHncG0ge.js";import{u as Q}from"./useListRequest-Bpxbydyo.js";import"./time-BMcbgg5F.js";import"./index-BNk7xZkD.js";const W={class:"container"},X={class:"content_wrapper"},Z={class:"container"},ee={class:"lyecs-table-list-warp"},te={class:"list-table-tool lyecs-search-warp"},oe={class:"list-table-tool-row"},ne={class:"simple-form-warp"},se={class:"simple-form-field"},ae={class:"form-group"},le={class:"control-container"},ie={class:"simple-form-field"},de={class:"form-group"},re={class:"simple-form-field"},pe={class:"simple-form-field"},ce={class:"table-container"},me={key:0,style:{color:"#0000ff"}},_e={key:1,style:{color:"#ff0000"}},ue={key:2},fe={key:3,style:{color:"#999","font-size":"12px"}},ye={key:0,style:{color:"#0000ff"}},ve={key:1,style:{color:"#ff0000"}},ge={key:2},be={key:3,style:{color:"#999","font-size":"12px"}},ke={class:"empty-warp"},he={key:0,class:"empty-bg"},Ce={key:0,class:"pagination-con"},we={key:0,class:"selected-action-warp selected-warp-left"},Me={class:"selected-action"},Se=R({__name:"List",props:{vendorId:{type:Number,default:0}},setup(M){const v=Y().currentRoute.value.query,S=M,z=q(),{listData:T,loading:g,total:b,selectedIds:k,filterParams:r,loadData:h,onSearchSubmit:_,onSortChange:I,onBatchAction:x,resetParams:V}=Q({apiFunction:H,idKey:"vendorId",defaultParams:{page:1,size:z.get("pageSize"),sortField:"",sortOrder:"",keyword:"",vendorId:S.vendorId||"",endTime:"",startTime:""}}),B=async u=>{await x(u,G)};h();const N=()=>{let u=window.location.href,t=new URL(u);t.search="",window.history.replaceState({},document.title,t.toString())},U=w(),C=w(0);return O(()=>{v.id&&A.confirm(`为[${v.companyName||"--"}]立即创建店铺?`,"提示",{closeOnClickModal:!1,showClose:!1,confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{C.value=Number(v.id),U.value.show()}).catch(()=>{C.value=0,N()})}),(u,t)=>{const f=p("el-button"),D=p("TigInput"),y=p("el-table-column"),F=p("el-table"),L=p("a-spin"),P=p("el-popconfirm"),K=p("el-space");return i(),l("div",W,[n("div",X,[n("div",Z,[n("div",ee,[n("div",te,[n("div",oe,[n("div",ne,[n("div",se,[n("div",ae,[n("div",le,[s(D,{modelValue:o(r).keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>o(r).keyword=e),name:"keyword",placeholder:"输入供应商名称",onKeyup:E(o(_),["enter"]),clearable:"",onClear:o(_)},{append:a(()=>[s(f,{onClick:o(_)},{default:a(()=>t[6]||(t[6]=[n("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[6]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),n("div",ie,[n("div",de,[t[7]||(t[7]=n("label",{class:"control-label"},[n("span",null,"时间范围：")],-1)),s(o(J),{"end-date":o(r).endTime,"onUpdate:endDate":t[1]||(t[1]=e=>o(r).endTime=e),"start-date":o(r).startTime,"onUpdate:startDate":t[2]||(t[2]=e=>o(r).startTime=e),clearable:!1,type:"date","value-format":"YYYY-MM-DD"},null,8,["end-date","start-date"])])]),n("div",re,[s(f,{type:"primary",plain:"",onClick:o(_)},{default:a(()=>t[8]||(t[8]=[c("搜索",-1)])),_:1,__:[8]},8,["onClick"])]),n("div",pe,[s(f,{plain:"",onClick:o(V)},{default:a(()=>t[9]||(t[9]=[c("重置",-1)])),_:1,__:[9]},8,["onClick"])])])])]),n("div",ce,[s(L,{spinning:o(g)},{default:a(()=>[s(F,{data:o(T),loading:o(g),total:o(b),"row-key":"shopId",onSortChange:o(I)},{empty:a(()=>[n("div",ke,[o(g)?m("",!0):(i(),l("div",he,"暂无数据"))])]),default:a(()=>[s(y,{label:"账户变动时间"},{default:a(({row:e})=>[c(d(e.addTime||"--"),1)]),_:1}),s(y,{label:"供应商名称"},{default:a(({row:e})=>[c(d(e.vendorName||"--"),1)]),_:1}),s(y,{label:"变动资金账户"},{default:a(({row:e})=>[e.type==1?(i(),l("span",me,"+"+d(e.vendorMoney),1)):e.type==2?(i(),l("span",_e,"-"+d(e.vendorMoney),1)):(i(),l("span",ue,d(e.vendorMoney),1)),e.newVendorMoney?(i(),l("span",fe,"（变更后金额:"+d(e.newVendorMoney)+"）",1)):m("",!0)]),_:1}),s(y,{label:"冻结资金账户",width:"250"},{default:a(({row:e})=>[e.type==1?(i(),l("span",ye,"+"+d(e.frozenMoney),1)):e.type==2?(i(),l("span",ve,"-"+d(e.frozenMoney),1)):(i(),l("span",ge,d(e.frozenMoney),1)),e.newFrozenMoney?(i(),l("span",be,"（变更后金额:"+d(e.newFrozenMoney)+"）",1)):m("",!0)]),_:1})]),_:1},8,["data","loading","total","onSortChange"])]),_:1},8,["spinning"]),o(b)>0?(i(),l("div",Ce,[s(o(j),{page:o(r).page,"onUpdate:page":t[3]||(t[3]=e=>o(r).page=e),size:o(r).size,"onUpdate:size":t[4]||(t[4]=e=>o(r).size=e),total:o(b),onCallback:o(h)},null,8,["page","size","total","onCallback"])])):m("",!0)]),o(k).length>0?(i(),l("div",we,[n("div",Me,[s(K,null,{default:a(()=>[n("span",null,[t[10]||(t[10]=c("已选择：",-1)),n("b",null,d(o(k).length),1),t[11]||(t[11]=c(" 项",-1))]),s(P,{title:"您确认要批量删除所选数据吗？",onConfirm:t[5]||(t[5]=e=>B("del"))},{reference:a(()=>[s(f,null,{default:a(()=>t[12]||(t[12]=[c("批量删除",-1)])),_:1,__:[12]})]),_:1})]),_:1})])])):m("",!0)])])])])}}}),Ye=$(Se,[["__scopeId","data-v-2dd40d4c"]]);export{Ye as default};
