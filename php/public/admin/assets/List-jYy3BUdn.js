import{d as I,v as S,e as l,f as _,g as m,h as a,y as o,l as n,i as e,a2 as z,k as g}from"./index-BEWhCL1q.js";/* empty css             *//* empty css                                                                    */import{P}from"./Pagination-4FaohhlG.js";import{g as V}from"./adminLog-CbUEnDTx.js";import{u as K}from"./useListRequest-Bpxbydyo.js";const L={class:"container"},T={class:"content_wrapper"},x={class:"lyecs-table-list-warp"},B={class:"list-table-tool lyecs-search-warp"},F={class:"list-table-tool-row"},N={class:"list-table-tool-col"},U={class:"table-container"},A={class:"empty-warp"},D={key:0,class:"empty-bg"},q={key:0,class:"pagination-con"},Q=I({__name:"List",setup(E){const b=S(),{listData:f,loading:p,total:d,filterParams:s,loadData:u,onSearchSubmit:c,onSortChange:y}=K({apiFunction:V,idKey:"articleId",defaultParams:{page:1,size:b.get("pageSize"),sortField:"logTime",sortOrder:"desc",keyword:""}});return u(),(O,t)=>{const k=l("el-button"),h=l("TigInput"),C=l("el-space"),i=l("el-table-column"),w=l("el-table"),v=l("a-spin");return m(),_("div",L,[a("div",T,[a("div",x,[a("div",B,[a("div",F,[a("div",N,[o(C,null,{default:n(()=>[o(h,{modelValue:e(s).keyword,"onUpdate:modelValue":t[0]||(t[0]=r=>e(s).keyword=r),class:"width240",name:"keyword",placeholder:"输入关键词或IP地址",onKeyup:z(e(c),["enter"]),clearable:"",onClear:e(c)},{append:n(()=>[o(k,{onClick:e(c)},{default:n(()=>t[3]||(t[3]=[a("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[3]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])]),_:1})])])]),a("div",U,[o(v,{spinning:e(p)},{default:n(()=>[o(w,{data:e(f),loading:e(p),total:e(d),"row-key":"logId",onSortChange:e(y)},{empty:n(()=>[a("div",A,[e(p)?g("",!0):(m(),_("div",D,"暂无数据"))])]),default:n(()=>[o(i,{label:"编号",prop:"logId"}),o(i,{label:"操作者",prop:"username"}),o(i,{label:"IP地址",prop:"ipAddress"}),o(i,{label:"操作日期",prop:"logTime",sortable:"custom"}),o(i,{label:"操作记录",prop:"logInfo"})]),_:1},8,["data","loading","total","onSortChange"])]),_:1},8,["spinning"]),e(d)>0?(m(),_("div",q,[o(e(P),{page:e(s).page,"onUpdate:page":t[1]||(t[1]=r=>e(s).page=r),size:e(s).size,"onUpdate:size":t[2]||(t[2]=r=>e(s).size=r),total:e(d),onCallback:e(u)},null,8,["page","size","total","onCallback"])])):g("",!0)])])])])}}});export{Q as default};
