import{d as T,v as R,a as V,e as i,f as _,g as u,h as l,y as a,l as n,i as e,a2 as h,F as $,m as j,K as c,k as S,t as f,j as E}from"./index-BEWhCL1q.js";/* empty css             */import{i as G}from"./format-C8RAoEAk.js";import{_ as H}from"./Image.vue_vue_type_script_setup_true_lang-DC1N644b.js";import"./index-DVG44k_-.js";import{P as J}from"./PopSelect.vue_vue_type_style_index_0_scoped_5832cf6b_lang-B9ASxJaT.js";import{_ as Q}from"./Switch.vue_vue_type_script_setup_true_lang-4ZoJqbbn.js";/* empty css                                                                    */import{P as W}from"./Pagination-4FaohhlG.js";import{u as x,g as X}from"./suppliers-B-M3H6eN.js";import{u as Y}from"./useListRequest-Bpxbydyo.js";import{_ as b}from"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./index-BNk7xZkD.js";const Z={class:"container"},ee={class:"content_wrapper"},te={class:"lyecs-table-list-warp"},le={class:"list-table-tool lyecs-search-warp"},oe={class:"advanced-search-warp list-table-tool-row"},ae={class:"simple-form-warp"},ne={class:"simple-form-field"},se={class:"form-group"},ie={class:"control-container"},de={class:"simple-form-field"},re={class:"form-group"},pe={class:"control-container"},ce={class:"simple-form-field"},ue={class:"form-group"},me={class:"control-container"},_e={class:"simple-form-field"},fe={class:"form-group"},be={class:"control-container"},ve={class:"simple-form-warp"},ge={class:"simple-form-field"},ke={class:"control-container"},ye={class:"list-table-tool-row mt20"},he={class:"list-table-tool-col"},Ce={class:"table-container"},we={key:1},Ve={class:"empty-warp"},Se={key:0,class:"empty-bg"},xe={key:0,class:"pagination-con"},Re=T({__name:"List",setup(Oe){const O=[{label:"开启",value:1,isShow:!0},{label:"关闭",value:2,isShow:!0}],I=R(),D=V().currentRoute.value.query,{listData:A,loading:v,total:g,filterParams:s,loadData:p,onSearchSubmit:r,onSortChange:N,onSelectChange:U,resetParams:K}=Y({apiFunction:X,idKey:"vendorId",defaultParams:{sortField:"",sortOrder:"",account:D.account||"",mainAccount:"",keyword:"",status:"",page:1,size:I.get("pageSize")}});return p(),V().replace({query:{}}),(Ie,o)=>{const m=i("el-button"),k=i("TigInput"),q=i("el-option"),z=i("el-select"),C=i("el-space"),d=i("el-table-column"),w=i("el-divider"),F=i("el-dropdown-item"),L=i("el-dropdown-menu"),P=i("el-dropdown"),B=i("el-table"),M=i("a-spin");return u(),_("div",Z,[l("div",ee,[l("div",te,[l("div",le,[l("div",oe,[l("div",ae,[l("div",ne,[l("div",se,[o[7]||(o[7]=l("label",{class:"control-label"},[l("span",null,"供应商：")],-1)),l("div",ie,[a(k,{modelValue:e(s).keyword,"onUpdate:modelValue":o[0]||(o[0]=t=>e(s).keyword=t),name:"keyword",placeholder:"输入供应商名称",onKeyup:h(e(r),["enter"]),clearable:"",onClear:e(r)},{append:n(()=>[a(m,{onClick:e(r)},{default:n(()=>o[6]||(o[6]=[l("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[6]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),l("div",de,[l("div",re,[o[8]||(o[8]=l("label",{class:"control-label"},[l("span",null,"关联账号：")],-1)),l("div",pe,[a(k,{modelValue:e(s).account,"onUpdate:modelValue":o[1]||(o[1]=t=>e(s).account=t),name:"account",placeholder:"输入关联账号名称",onKeyup:h(e(r),["enter"]),clearable:"",onClear:e(r)},null,8,["modelValue","onKeyup","onClear"])])])]),l("div",ce,[l("div",ue,[o[9]||(o[9]=l("label",{class:"control-label"},[l("span",null,"主账号：")],-1)),l("div",me,[a(k,{modelValue:e(s).mainAccount,"onUpdate:modelValue":o[2]||(o[2]=t=>e(s).mainAccount=t),name:"mainAccount",placeholder:"输入主账号名称",onKeyup:h(e(r),["enter"]),clearable:"",onClear:e(r)},null,8,["modelValue","onKeyup","onClear"])])])]),l("div",_e,[l("div",fe,[o[10]||(o[10]=l("label",{class:"control-label"},[l("span",null,"状态 ：")],-1)),l("div",be,[a(z,{modelValue:e(s).status,"onUpdate:modelValue":o[3]||(o[3]=t=>e(s).status=t),clearable:"",onChange:e(r)},{default:n(()=>[(u(),_($,null,j(O,t=>a(q,{label:t.label,value:t.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","onChange"])])])]),l("div",ve,[l("div",ge,[o[13]||(o[13]=l("label",{class:"control-label"},null,-1)),l("div",ke,[a(m,{type:"primary",plain:"",onClick:e(r)},{default:n(()=>o[11]||(o[11]=[c("搜索",-1)])),_:1,__:[11]},8,["onClick"]),a(m,{plain:"",onClick:e(K)},{default:n(()=>o[12]||(o[12]=[c("重置",-1)])),_:1,__:[12]},8,["onClick"])])])])])]),l("div",ye,[l("div",he,[a(C,null,{default:n(()=>[a(e(b),{params:{act:"add"},isDrawer:"",path:"vendor/supplier/suppliers/Info",title:"添加供应商",width:"750px",onOkCallback:e(p)},{default:n(()=>[a(m,{type:"primary"},{default:n(()=>o[14]||(o[14]=[c("添加供应商",-1)])),_:1,__:[14]})]),_:1},8,["onOkCallback"])]),_:1})])])]),l("div",Ce,[a(M,{spinning:e(v)},{default:n(()=>[a(B,{data:e(A),loading:e(v),total:e(g),"row-key":"vendorId",onSelectionChange:e(U),onSortChange:e(N)},{empty:n(()=>[l("div",Ve,[e(v)?S("",!0):(u(),_("div",Se,"暂无数据"))])]),default:n(()=>[a(d,{type:"selection",width:"32"}),a(d,{label:"供应商名称",width:"200"},{default:n(({row:t})=>[a(e(J),{"org-value":t.vendorName,"onUpdate:orgValue":y=>t.vendorName=y,max:10,params:{id:t.vendorId,field:"vendorName"},requestApi:e(x),label:"权限组名称",type:"input"},{default:n(()=>[l("div",null,f(t.vendorName),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),a(d,{label:"供应商LOGO",width:"150"},{default:n(({row:t})=>[t.vendorLogo?(u(),E(e(H),{key:0,src:e(G)(t.vendorLogo),fit:"contain",style:{height:"50px",width:"50px"}},null,8,["src"])):(u(),_("span",we,"暂无图片"))]),_:1}),a(d,{label:"联系人姓名",prop:"contactName",align:"center"},{default:n(({row:t})=>[c(f(t.contactName||"--"),1)]),_:1}),a(d,{label:"联系方式",prop:"contactMobile",align:"center"},{default:n(({row:t})=>[c(f(t.contactMobile||"--"),1)]),_:1}),a(d,{label:"主账号",prop:"loginAccount",align:"center"},{default:n(({row:t})=>[a(e(b),{params:{id:t.vendorId,type:"vendor"},isDrawer:"",path:"authority/accountManage/Detail",title:"主账号管理",width:"900px",onOkCallback:e(p)},{default:n(()=>[l("a",null,f(t.loginAccount||"--"),1)]),_:2},1032,["params","onOkCallback"])]),_:1}),a(d,{label:"企业属性",width:"100",align:"center"},{default:n(({row:t})=>[c(f(t.type==1?"个人":"企业"),1)]),_:1}),a(d,{label:"供应商状态",align:"center"},{default:n(({row:t})=>[a(e(Q),{checked:t.status,"onUpdate:checked":y=>t.status=y,switchingCode:[2,1],params:{id:t.vendorId,field:"status"},requestApi:e(x)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),a(d,{label:"创建时间",prop:"addTime"}),a(d,{width:180,fixed:"right",label:"操作"},{default:n(({row:t})=>[a(C,{size:0},{default:n(()=>[a(e(b),{params:{act:"detail",id:t.vendorId},isDrawer:"",path:"vendor/supplier/suppliers/Info",title:"编辑供应商",width:"750px",onOkCallback:e(p)},{default:n(()=>o[15]||(o[15]=[l("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[15]},1032,["params","onOkCallback"]),a(w,{direction:"vertical"}),a(e(b),{params:{act:"detail",id:t.vendorId},showOnOk:!1,bodyStyle:{padding:"0"},isDrawer:"",path:"vendor/supplier/suppliers/Detail",title:"详情",width:"750px",onCallback:e(p)},{default:n(()=>o[16]||(o[16]=[l("a",{class:"btn-link"},"详情",-1)])),_:2,__:[16]},1032,["params","onCallback"]),a(w,{direction:"vertical"}),a(P,null,{dropdown:n(()=>[a(L,null,{default:n(()=>[a(F,null,{default:n(()=>[a(e(b),{params:{id:t.vendorId,type:"vendor"},isDrawer:"",path:"authority/accountManage/Detail",title:"主账号管理",width:"900px",onOkCallback:e(p)},{default:n(()=>[a(m,{style:{width:"100%"},link:"",type:"primary"},{default:n(()=>o[17]||(o[17]=[c("主账号管理",-1)])),_:1,__:[17]})]),_:2},1032,["params","onOkCallback"])]),_:2},1024)]),_:2},1024)]),default:n(()=>[o[18]||(o[18]=l("span",{class:"iconfont-admin icon-gengduo1 btn-link"},null,-1))]),_:2,__:[18]},1024)]),_:2},1024)]),_:1})]),_:1},8,["data","loading","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(g)>0?(u(),_("div",xe,[a(e(W),{page:e(s).page,"onUpdate:page":o[4]||(o[4]=t=>e(s).page=t),size:e(s).size,"onUpdate:size":o[5]||(o[5]=t=>e(s).size=t),total:e(g),onCallback:e(p)},null,8,["page","size","total","onCallback"])])):S("",!0)])])])])}}});export{Re as default};
