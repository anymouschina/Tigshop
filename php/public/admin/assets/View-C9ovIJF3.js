import{d as E,c_ as z,aj as A,r as f,c as P,w as D,f as s,g as o,h as t,k as i,j as N,i as _,bj as U,l as W,F as C,m as T,a9 as x,t as v,n as K,_ as q}from"./index-BEWhCL1q.js";import{i as V,p as R}from"./format-C8RAoEAk.js";import{a as G}from"./product-IfnnwfpZ.js";import{m as H,g as J,j as Q,h as X,b as Y}from"./index-BP0-vtNP.js";import{_ as Z}from"./Swiper.vue_vue_type_script_setup_true_lang-ByEq1nts.js";import ee from"./View-0hXEGThy.js";/* empty css                                                             *//* empty css                                                             */import"./lodash-BnN97RgF.js";const te={key:0,class:"module-ad-empty empty-image_ad"},ae={class:"goods-ad-warp",style:{}},oe={class:"goods-ad-con"},se={class:"item-con"},ie={class:"item-photo"},de={href:"",title:"",class:"item-image-a"},le=["src"],ne={class:"item-info"},re={class:"item-name"},ce={key:0,href:"",title:"",class:"item-name-a"},ue={key:1,href:"",title:"",class:"item-brief"},pe={key:0,class:"item-action"},_e={class:"item-price"},me={class:"price_format"},ge={class:"item-con"},ve={class:"item-photo"},ye={href:"",title:"",class:"item-image-a"},he=["src"],be={class:"item-info"},fe={class:"item-name"},xe={key:0,href:"",title:"",class:"item-name-a"},Pe={key:1,href:"",title:"",class:"item-brief"},we={key:0,class:"item-action"},ke={class:"item-price"},Be={class:"price_format"},Se={class:"item-buy"},Ne={href:"javascript:;",class:"buy-btn lyecs-buyBtn"},Ce={key:0},Te={key:1},Ve={key:2,class:"iconfont-h5 icon-gouwuche iconh5-style"},Re={key:3,class:"iconfont-h5 icon-gouwuche1 iconh5-style"},je={key:4,class:"iconfont-h5 icon-jia iconh5-style"},$e={key:5,class:"iconfont-h5 icon-jia1 iconh5-style"},Fe=E({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup(j){z(l=>({f41db83c:I.value}));const e=A(j,"module"),$=f({style:1,goodsStyle:1,goodsRadioStyle:1,textAlign:1,textWeight:1,goodsNameRow:2,goodsNamePadding:1,showName:1,showBrief:1,showPrice:1,goodsPadding:5,buyBtnStyle:1,backgroundColor:"",boxRadius:0,innerPadding:0,boxPadding:10,boxPaddingTop:5,boxPaddingBottom:5,imgPadding:1,waterfall:0,swiperPageColor:"",frame:Y,title:X,products:Q});H(e.value,$.value);const{frame:F,title:h}=e.value,m=f(),y=P(()=>J(F??{})),r=P(()=>{var l,a,c,u,d,n,g,p;return{backgroundColor:`background-color: ${(l=e==null?void 0:e.value)==null?void 0:l.backgroundColor};`,boxPadding:`margin-left: ${(a=e==null?void 0:e.value)==null?void 0:a.boxPadding}px;margin-right: ${(c=e==null?void 0:e.value)==null?void 0:c.boxPadding}px;`,boxPaddingBottom:`margin-bottom: ${(u=e==null?void 0:e.value)==null?void 0:u.boxPaddingBottom}px;`,boxPaddingTop:`margin-top: ${(d=e==null?void 0:e.value)==null?void 0:d.boxPaddingTop}px;`,boxRadius:`border-radius: ${(n=e==null?void 0:e.value)==null?void 0:n.boxRadius}px;`,innerPadding:`padding: ${(g=e==null?void 0:e.value)==null?void 0:g.innerPadding}px;`,goodsPadding:`padding: ${(p=e==null?void 0:e.value)==null?void 0:p.goodsPadding}px;`}}),M={1:["productIds"],2:["productCategoryId","productNumber"],3:["productTag","productNumber"]},w={productIds:"ids",productCategoryId:"categoryId",productNumber:"size",productTag:"introType"},k=async()=>{let l={};if(typeof e.value.products=="object"&&e.value.products.productSelectType){const a=e.value.products.productSelectType,c=M[a];a===1?l[w[c[0]]]=e.value.products.productIds.join(","):(l.page=1,c.forEach(u=>{l[w[u]]=e.value.products[u]}))}try{const a=await G({productStatus:1,checkStatus:1,...l});m.value=a.records,b.value=[],L()}catch{}finally{}};k();const I=P(()=>e.value.swiperPageColor||"#333"),b=f([]),L=()=>{if(e.value.style===7&&m.value){let l=Math.ceil(m.value.length/3);for(let a=0;a<l;a++)b.value.push(m.value.slice(a*3,(a+1)*3))}};D(()=>{k()});const O=f({autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{clickable:!0}});return(l,a)=>{var c,u;return o(),s("div",{class:K("module-ad-con module-goods_ad ad-style__"+e.value.style+" ad-buy_btn_style__"+e.value.buyBtnStyle+" ad-goods_style__"+e.value.goodsStyle+" ad-goods_radio_style__"+e.value.goodsRadioStyle+" ad-text_align__"+e.value.textAlign+" ad-text_weight__"+e.value.textWeight+" ad-goods_name_row__"+e.value.goodsNameRow+" ad-goods_name_padding__"+e.value.goodsNamePadding+" ad-goods-title_style__"+((c=e.value.title)==null?void 0:c.titleStyle)),style:x(y.value.boxPadding+y.value.boxPaddingTop+y.value.boxPaddingBottom)},[t("div",{class:"module-ad-content",style:x(y.value.backgroundColor+" "+y.value.boxRadius+r.value.backgroundColor+r.value.boxPadding+r.value.boxPaddingBottom+r.value.boxPaddingTop+r.value.boxRadius+r.value.innerPadding)},[!m.value||m.value.length==0?(o(),s("div",te,a[2]||(a[2]=[t("div",{class:"image-empty-goods-bg"},null,-1),t("div",{class:"desc"},"点击添加商品",-1)]))):i("",!0),(u=_(h))!=null&&u.showTitle?(o(),N(_(ee),{key:1,modelValue:_(h),"onUpdate:modelValue":a[0]||(a[0]=d=>U(h)?h.value=d:null)},null,8,["modelValue"])):i("",!0),t("div",ae,[t("div",oe,[e.value.style===7?(o(),N(_(Z),{key:0,swiperOption:O.value,modelValue:b.value,"onUpdate:modelValue":a[1]||(a[1]=d=>b.value=d)},{default:W(({item:d})=>[(o(!0),s(C,null,T(d,(n,g)=>{var p,B,S;return o(),s("div",{class:"goods-ad-item",key:g},[t("div",{class:"item-content",style:x(r.value.goodsPadding)},[t("div",se,[t("div",ie,[t("a",de,[t("img",{src:_(V)(n.picThumb),alt:""},null,8,le)])]),t("div",ne,[t("div",re,[(p=e.value)!=null&&p.showName?(o(),s("a",ce,v(n.productName),1)):i("",!0),(B=e.value)!=null&&B.showBrief?(o(),s("a",ue,v("商品描述"))):i("",!0)]),(S=e.value)!=null&&S.showPrice?(o(),s("div",pe,[t("div",_e,[t("b",me,v(_(R)(Number(n.productPrice))),1)]),a[3]||(a[3]=t("div",{class:"item-buy"},null,-1))])):i("",!0)])])],4)])}),128))]),_:1},8,["swiperOption","modelValue"])):(o(!0),s(C,{key:1},T(m.value,d=>{var n,g,p;return o(),s("div",{class:"goods-ad-item",key:d.productId},[t("div",{class:"item-content",style:x(r.value.goodsPadding)},[t("div",ge,[t("div",ve,[t("a",ye,[t("img",{src:_(V)(d.picThumb),alt:""},null,8,he)])]),t("div",be,[t("div",fe,[(n=e.value)!=null&&n.showName?(o(),s("a",xe,v(d.productName),1)):i("",!0),(g=e.value)!=null&&g.showBrief?(o(),s("a",Pe,v("商品描述"))):i("",!0)]),(p=e.value)!=null&&p.showPrice?(o(),s("div",we,[t("div",ke,[t("b",Be,v(_(R)(Number(d.productPrice))),1)]),t("div",Se,[t("a",Ne,[e.value.buyBtnStyle===5||e.value.buyBtnStyle===6?(o(),s("span",Ce,"购买")):i("",!0),e.value.buyBtnStyle===7||e.value.buyBtnStyle===8?(o(),s("span",Te,"马上抢")):i("",!0),e.value.buyBtnStyle===1?(o(),s("span",Ve)):i("",!0),e.value.buyBtnStyle===2?(o(),s("span",Re)):i("",!0),e.value.buyBtnStyle===3?(o(),s("span",je)):i("",!0),e.value.buyBtnStyle===4?(o(),s("span",$e)):i("",!0)])])])):i("",!0)])])],4)])}),128))])])],4)],6)}}}),We=q(Fe,[["__scopeId","data-v-05aacaab"]]);export{We as default};
