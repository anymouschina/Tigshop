import{d as C,r as m,a as V,a5 as w,o as B,e as o,f as R,g as f,h as i,j as S,k as q,l as r,y as t,J as _}from"./index-BEWhCL1q.js";import{u as L}from"./translationContent-Cv-x1BTy.js";const D={class:"container"},E={class:"content_wrapper"},F={class:"lyecs-form-table"},I="batchCreate",J=C({__name:"Add",props:{id:{type:Number,default:0},dataType:{type:Number,default:0},translationName:{type:String,default:""},isDialog:{type:Boolean,default:!1}},emits:["submitCallback","update:confirmLoading","close","closeConfirm"],setup(b,{expose:y,emit:v}){const l=v,s=b,g=m(!1),k=V().currentRoute.value.query;m(s.isDialog?s.id:Number(k.id));const d=w(),e=m({translationName:s.translationName,dataType:[s.dataType],items:[]});B(()=>{setTimeout(()=>{l("closeConfirm",!0)},1e4)});const N=async()=>{await d.value.validate();try{l("update:confirmLoading",!0);const n=await L(I,e.value);l("submitCallback",n),_.success("操作成功")}catch(n){_.error(n.message)}finally{l("update:confirmLoading",!1)}};return y({onFormSubmit:()=>{N()}}),(n,a)=>{const c=o("el-checkbox"),x=o("el-checkbox-group"),p=o("el-form-item"),T=o("TigInput"),h=o("el-form");return f(),R("div",D,[i("div",E,[i("div",F,[g.value?q("",!0):(f(),S(h,{key:0,ref_key:"formRef",ref:d,model:e.value,"label-width":"auto"},{default:r(()=>[t(p,{prop:"dataType",label:"翻译类型：",rules:[{required:!0,message:"请选择翻译类型!"}]},{default:r(()=>[t(x,{modelValue:e.value.dataType,"onUpdate:modelValue":a[0]||(a[0]=u=>e.value.dataType=u)},{default:r(()=>[t(c,{label:"页面文字",value:0}),t(c,{label:"接口文字",value:1})]),_:1},8,["modelValue"])]),_:1}),t(p,{prop:"translationName",label:"翻译原文：",rules:[{required:!0,message:"翻译原文不能为空!"}]},{default:r(()=>[t(T,{width:"100%",type:"textarea",rows:10,modelValue:e.value.translationName,"onUpdate:modelValue":a[1]||(a[1]=u=>e.value.translationName=u),class:"mr10"},null,8,["modelValue"]),a[2]||(a[2]=i("div",{class:"extra"},"输入需要翻译的原文句子, 每输入完成一句用Enter键换行, 继续输入下一句",-1))]),_:1,__:[2]})]),_:1},8,["model"]))])])])}}});export{J as default};
