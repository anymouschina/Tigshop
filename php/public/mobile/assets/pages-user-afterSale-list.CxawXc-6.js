import{d as a,K as e,W as t,r as s,q as l,s as r,c as o,w as i,aa as u,ab as c,B as d,E as n,o as m,g as p,i as f,I as _,J as g,O as v,h as y,f as h,t as x,a4 as b,n as I,_ as j}from"./index-BcyAKDDV.js";import{_ as S}from"./tig-image.lWnA30Ud.js";import{_ as k}from"./format-price.csRf0ax_.js";import{_ as z}from"./loading-box.BPbOi9GY.js";import{_ as q}from"./tig-layout.DHsvU4xy.js";import{e as w}from"./afterSale.CdY0LO5g.js";const C=j(a({__name:"list",setup(a){const{t:j}=e(),C=t({page:1,size:10}),N=s(!1),V=s([]),$=s(0),E=async()=>{C.page>1?N.value=!0:u({title:j("加载中")});try{const a=await w(C);V.value=[...V.value,...a.records],$.value=a.total}catch(a){console.error(a)}finally{c(),N.value=!1}};return l(()=>{C.page<Math.ceil($.value/C.size)&&(C.page++,E())}),r(()=>{C.page=1,V.value=[],E()}),(a,e)=>{const t=y,s=f,l=d(n("tig-image"),S),r=d(n("format-price"),k),u=b,c=d(n("loading-box"),z),j=d(n("tig-layout"),q);return m(),o(j,{title:"申请列表"},{default:i(()=>[p(s,{class:"after-sale-list"},{default:i(()=>[p(s,{class:"order-list"},{default:i(()=>[(m(!0),_(g,null,v(V.value,e=>(m(),o(s,{key:e.orderId,class:"order-list-item"},{default:i(()=>[p(s,{class:"order-list-item-header"},{default:i(()=>[p(t,{class:"special-text"},{default:i(()=>[h(x(a.$t("售后编号"))+"：",1),p(t,{class:"special-color"},{default:i(()=>[h(x(e.aftersalesSn),1)]),_:2},1024)]),_:2},1024),p(t,null,{default:i(()=>[h(x(e.statusName),1)]),_:2},1024)]),_:2},1024),p(s,{class:"order-list-item-content"},{default:i(()=>[p(s,{class:"item-content-product"},{default:i(()=>[(m(!0),_(g,null,v(e.aftersalesItems,a=>(m(),o(u,{key:a.aftersalesItemId,url:"/pages/product/index?id="+a.productId,"hover-class":"navigator-hover"},{default:i(()=>[p(s,{class:"item-content-product-item"},{default:i(()=>[p(s,{class:"item-content-product-img"},{default:i(()=>[p(l,{src:a.picThumb},null,8,["src"])]),_:2},1024),p(s,{class:"item-content-product-info"},{default:i(()=>[p(s,{class:"product-item-title"},{default:i(()=>[h(x(a.productName),1)]),_:2},1024),p(s,{class:"product-item-price"},{default:i(()=>[p(r,{"show-text":!1,"decimals-style":{fontSize:"25rpx"},"currency-style":{fontSize:"23rpx"},class:"product-item-pricenum","price-data":a.price},null,8,["price-data"]),p(s,{class:"product-item-quantity"},{default:i(()=>[h("x "+x(a.quantity),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["url"]))),128))]),_:2},1024)]),_:2},1024),p(s,{class:"order-list-item-btn"},{default:i(()=>[p(s,{class:"item-btn-box"},{default:i(()=>[p(s,{class:"base-item-btn detail",onClick:a=>{return t=e.aftersaleId,void I({url:`/pages/user/afterSale/info?id=${t}`});var t}},{default:i(()=>[h(x(a.$t("售后详情")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),p(c,{modelValue:N.value,"onUpdate:modelValue":e[0]||(e[0]=a=>N.value=a),page:C.page,length:V.value.length},null,8,["modelValue","page","length"])]),_:1})]),_:1})}}}),[["__scopeId","data-v-84c0ae5b"]]);export{C as default};
