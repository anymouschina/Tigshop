import{d as a,l as s,r as e,m as l,bf as t,c as r,w as i,i as c,B as o,E as u,o as d,g as n,a as p,aK as m,I as f,J as _,O as v,aL as b,b as g,F as h,ac as y,f as C,h as k,t as j,G as x,b5 as w,n as P,_ as $}from"./index-BcyAKDDV.js";import{_ as I}from"./format-price.csRf0ax_.js";import{_ as N}from"./tig-fixed-placeholder.BvTFztLB.js";import{_ as U}from"./tig-layout.DHsvU4xy.js";import{b as E}from"./salesman.Bm7sUMen.js";import{_ as F}from"./share.vue_vue_type_script_setup_true_lang.CnzghFsZ.js";import"./tig-qrcode.CviCOgjo.js";import"./tig-image.lWnA30Ud.js";import"./useCurrency.-6BA0aeD.js";const q=$(a({__name:"detail",setup(a){s(a=>{a&&a.id&&q(a.id)});const $=e({}),q=async a=>{try{const s=await E(a);$.value=s}catch(s){console.error(s)}},z=e(1),B=a=>{z.value=a.detail.current+1},G=e(!1);return l(()=>{t()}),(a,s)=>{const e=g,l=b,t=m,E=k,q=c,J=o(u("format-price"),I),K=o(u("tig-fixed-placeholder"),N),L=o(u("tig-layout"),U);return d(),r(q,null,{default:i(()=>[n(L,null,{default:i(()=>[$.value.pics?(d(),r(q,{key:0,class:"salesman-pro-detail-imgs"},{default:i(()=>[n(q,{class:"product-bg"},{default:i(()=>[n(t,{"indicator-dots":!1,circular:!0,interval:"3000",duration:"500",onChange:B},{default:i(()=>[(d(!0),f(_,null,v($.value.pics,(a,s)=>(d(),r(l,{key:s},{default:i(()=>[n(e,{"lazy-load":"",src:h(y)(a.picUrl||""),class:"slide-image",onClick:a=>(a=>{const s=$.value.pics.map(a=>y(a.picUrl||""));w({current:s[a],urls:s})})(s)},null,8,["src","onClick"])]),_:2},1024))),128))]),_:1}),n(q,{class:"pages show"},{default:i(()=>[n(E,null,{default:i(()=>[C(j(z.value),1)]),_:1}),C(" /"+j($.value.pics.length||1),1)]),_:1})]),_:1})]),_:1})):p("",!0),n(q,{class:"salesman-pro-detail-info"},{default:i(()=>[n(q,{class:"salesman-pro-detail-price"},{default:i(()=>[n(q,{class:"salesman-pro-detail-price-num"},{default:i(()=>[n(J,{"price-data":$.value.productPrice},null,8,["price-data"])]),_:1}),Number($.value.finalCommissionPrice)>0?(d(),r(q,{key:0,class:"salesman-pro-detail-price-tip"},{default:i(()=>[n(e,{class:"price-tip-img",src:h(x)("salesman/priceTip.png")},null,8,["src"]),n(q,{class:"salesman-pro-detail-price-tip-text"},{default:i(()=>[C(j(a.$t("预计可赚"))+" ",1),n(J,{"price-data":$.value.finalCommissionPrice},null,8,["price-data"])]),_:1})]),_:1})):p("",!0)]),_:1}),n(q,{class:"salesman-pro-detail-name"},{default:i(()=>[C(j($.value.productName),1)]),_:1})]),_:1}),n(K,{"background-color":"#fff"},{default:i(()=>[n(q,{class:"bottom-btns"},{default:i(()=>[n(q,{class:"bottom-btn",onClick:s[0]||(s[0]=a=>{return s=`/pages/product/index?id=${$.value.productId}`,void P({url:s});var s})},{default:i(()=>[n(q,{class:"bottom-btn-text"},{default:i(()=>[C(j(a.$t("立即购买")),1)]),_:1})]),_:1}),n(q,{class:"bottom-btn special",onClick:s[1]||(s[1]=a=>G.value=!0)},{default:i(()=>[n(q,{class:"bottom-btn-text"},{default:i(()=>[n(q,null,{default:i(()=>[C(j(a.$t("分享赚钱")),1)]),_:1}),Number($.value.finalCommissionPrice)>0?(d(),r(E,{key:0,class:"bottom-btn-text-tip"},{default:i(()=>[C(j(a.$t("分享后预计可赚"))+" ",1),n(J,{"price-data":$.value.finalCommissionPrice},null,8,["price-data"])]),_:1})):p("",!0)]),_:1})]),_:1})]),_:1})]),_:1}),n(F,{"show-share-card":G.value,"onUpdate:showShareCard":s[2]||(s[2]=a=>G.value=a),"current-data":$.value},null,8,["show-share-card","current-data"])]),_:1})]),_:1})}}}),[["__scopeId","data-v-2774b8c4"]]);export{q as default};
