var e=Object.defineProperty,a=(a,t,s)=>(((a,t,s)=>{t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s})(a,"symbol"!=typeof t?t+"":t,s),s);import{bL as t,d as s,r as n,B as o,E as i,c as r,a as l,o as c,I as d,aI as u,J as m,O as p,g as h,F as v,_ as f,ak as g,bM as y,G as _,m as k,i as b,K as x,j as w,ay as S,W as $,k as T,l as E,bN as N,w as j,ah as C,bO as A,aM as W,aN as L,a7 as R,bG as H,bP as U,h as z,V as O,f as P,t as F,X as J,H as B,ac as V,ad as K,Y as M,Z as D,bQ as G,bR as Q,L as X,Q as Y,bS as Z,bT as q,n as ee}from"./index-BcyAKDDV.js";import{_ as ae}from"./tig-image.lWnA30Ud.js";import{_ as te}from"./format-price.csRf0ax_.js";import{g as se,s as ne,a as oe}from"./im.CjYNb-cY.js";import{b as ie}from"./shop.C0LoUVHm.js";import{h as re}from"./product.Dt_JmfR-.js";import{g as le}from"./order.DielggEZ.js";const ce=class e{log(a,t){e.console}closeConsole(){e.console=!1}};a(ce,"console",!0);let de=ce;class ue extends de{constructor(){super(...arguments),a(this,"listeners",{})}addEventListener(e,a){this.listeners[e]||(this.listeners[e]=[]),-1===this.listeners[e].indexOf(a)&&this.listeners[e].push(a)}removeEventListener(e){this.listeners[e]=[]}dispatchEvent(e,a){const t=this.listeners[e]||[];0!==t.length&&t.forEach(e=>{e.call(this,a)})}}class me extends ue{constructor(e){super(),a(this,"url",""),a(this,"socket",null),a(this,"reconnectAttempts",0),a(this,"maxReconnectAttempts",5),a(this,"reconnectInterval",1e3),a(this,"heartbeatInterval",15e3),a(this,"heartbeatTimer"),a(this,"stopWs",!1),this.url=e}onopen(e){this.addEventListener("open",e)}onmessage(e){this.addEventListener("message",e)}onclose(e){this.addEventListener("close",e)}onerror(e){this.addEventListener("error",e)}send(e){this.socket?this.socket.send(e):console.error("[WebSocket] 未连接")}connect(){0===this.reconnectAttempts&&this.log("WebSocket",`初始化连接中...          ${this.url}`),this.socket||(this.socket=t({url:this.url,complete:()=>{}}),this.socket&&(this.socket.onOpen(e=>{this.stopWs=!1,this.reconnectAttempts=0,this.startHeartbeat(),this.log("WebSocket",`连接成功,等待服务端数据推送[onopen]...     ${this.url}`),this.dispatchEvent("open",e)}),this.socket.onMessage(e=>{this.dispatchEvent("message",e),this.startHeartbeat()}),this.socket.onClose(e=>{0===this.reconnectAttempts&&this.log("WebSocket",`连接断开[onclose]...    ${this.url}`),this.stopWs||this.handleReconnect(),this.dispatchEvent("close",e)}),this.socket.onError(e=>{0===this.reconnectAttempts&&this.log("WebSocket",`连接异常[onerror]...    ${this.url}`),this.closeHeartbeat(),this.dispatchEvent("error",e)})))}handleReconnect(){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,this.log("WebSocket",`尝试重连... (${this.reconnectAttempts}/${this.maxReconnectAttempts})       ${this.url}`),setTimeout(()=>{this.connect()},this.reconnectInterval)):(this.closeHeartbeat(),this.log("WebSocket",`最大重连失败，终止重连: ${this.url}`))}close(){this.socket&&(this.stopWs=!0,this.socket.close({}),this.socket=null,this.removeEventListener("open"),this.removeEventListener("message"),this.removeEventListener("close"),this.removeEventListener("error")),this.closeHeartbeat()}startHeartbeat(){this.stopWs||(this.heartbeatTimer&&this.closeHeartbeat(),this.heartbeatTimer=setInterval(()=>{this.socket?(this.socket.send({data:JSON.stringify({type:"heartBeat"})}),this.log("WebSocket","送心跳数据...")):console.error("[WebSocket] 未连接")},this.heartbeatInterval))}closeHeartbeat(){clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0}}const pe=[{name:"微笑",id:"1"},{name:"龇牙",id:"2"},{name:"色",id:"3"},{name:"发呆",id:"4"},{name:"可怜",id:"5"},{name:"流泪",id:"6"},{name:"害羞",id:"7"},{name:"闭嘴",id:"8"},{name:"睡",id:"9"},{name:"吃瓜群众",id:"10"},{name:"尴尬",id:"11"},{name:"发怒",id:"12"},{name:"调皮",id:"13"},{name:"撇嘴",id:"14"},{name:"思考",id:"15"},{name:"不失礼貌的微笑",id:"16"},{name:"奸笑",id:"17"},{name:"抓狂",id:"18"},{name:"吐",id:"19"},{name:"偷笑",id:"20"},{name:"愉快",id:"21"},{name:"白眼",id:"22"},{name:"傲慢",id:"23"},{name:"困",id:"24"},{name:"灵光一现",id:"25"},{name:"流汗",id:"26"},{name:"憨笑",id:"27"},{name:"捂脸",id:"28"},{name:"奋斗",id:"29"},{name:"咒骂",id:"30"},{name:"疑问",id:"31"},{name:"嘘",id:"32"},{name:"晕",id:"33"},{name:"衰",id:"34"},{name:"骷髅",id:"35"},{name:"敲打",id:"36"},{name:"再见",id:"37"},{name:"擦汗",id:"38"},{name:"抠鼻",id:"39"},{name:"泣不成声",id:"40"},{name:"坏笑",id:"41"},{name:"左哼哼",id:"42"},{name:"右哼哼",id:"43"},{name:"打哈欠",id:"44"},{name:"鄙视",id:"45"},{name:"委屈",id:"46"},{name:"快哭了",id:"47"},{name:"摸头",id:"48"},{name:"阴险",id:"49"},{name:"亲亲",id:"50"},{name:"机智",id:"51"},{name:"得意",id:"52"},{name:"大金牙",id:"53"},{name:"拥抱",id:"54"},{name:"大笑",id:"55"},{name:"送心",id:"56"},{name:"震惊",id:"57"},{name:"酷拽",id:"58"},{name:"尬笑",id:"59"},{name:"大哭",id:"60"},{name:"哭笑",id:"61"},{name:"做鬼脸",id:"62"},{name:"红脸",id:"63"},{name:"鼓掌",id:"64"},{name:"恐惧",id:"65"},{name:"斜眼",id:"66"},{name:"嘿哈",id:"67"},{name:"惊讶",id:"68"},{name:"绝望的凝视",id:"69"},{name:"囧",id:"70"},{name:"皱眉",id:"71"},{name:"耶",id:"72"},{name:"石化",id:"73"},{name:"我想静静",id:"74"},{name:"吐血",id:"75"},{name:"互粉",id:"76"},{name:"互相关注",id:"77"},{name:"加好友",id:"78"},{name:"强",id:"79"},{name:"钱",id:"80"},{name:"飞吻",id:"81"},{name:"打脸",id:"82"},{name:"惊恐",id:"83"},{name:"悠闲",id:"84"},{name:"泪奔",id:"85"},{name:"舔屏",id:"86"},{name:"紫薇别走",id:"87"},{name:"听歌",id:"88"},{name:"难过",id:"89"},{name:"生病",id:"90"},{name:"绿帽子",id:"91"},{name:"如花",id:"92"},{name:"惊喜",id:"93"},{name:"吐彩虹",id:"94"},{name:"吐舌",id:"95"},{name:"无辜呆",id:"96"},{name:"看",id:"97"},{name:"白眼的狗",id:"98"},{name:"黑脸",id:"99"},{name:"猪头",id:"100"},{name:"熊吉",id:"101"},{name:"不看",id:"102"},{name:"玫瑰",id:"103"},{name:"凋谢",id:"104"},{name:"嘴唇",id:"105"},{name:"爱心",id:"106"},{name:"心碎",id:"107"},{name:"赞",id:"108"},{name:"弱",id:"109"},{name:"握手",id:"110"},{name:"ok",id:"111"},{name:"谢谢",id:"112"},{name:"比心",id:"113"},{name:"碰拳",id:"114"},{name:"击掌",id:"115"},{name:"左",id:"116"},{name:"右",id:"117"},{name:"力量",id:"118"},{name:"胜利",id:"119"},{name:"抱拳",id:"120"},{name:"勾引",id:"121"},{name:"拳头",id:"122"},{name:"庆祝",id:"123"},{name:"礼物",id:"124"},{name:"红包",id:"125"},{name:"18禁",id:"126"},{name:"去污粉",id:"127"},{name:"666",id:"128"},{name:"给力",id:"129"},{name:"v5",id:"130"},{name:"菜刀",id:"131"},{name:"炸弹",id:"132"},{name:"便便",id:"133"},{name:"月亮",id:"134"},{name:"太阳",id:"135"},{name:"发",id:"136"},{name:"黄瓜",id:"137"},{name:"西瓜",id:"138"},{name:"啤酒",id:"139"},{name:"咖啡",id:"140"},{name:"蛋糕",id:"141"}],he=s({__name:"emojiImage",props:{name:{type:String,default:""},id:{type:[String,Number],default:""}},setup(e){const a=e;const t=n("");let s="";var d,u,m;return a.id?s=String(a.id):(d=pe,u=a.name,s=null==(m=d.find(e=>e.name===u))?void 0:m.id),void 0!==s&&(t.value="http://oss.tigshop.com/official/emoji/"+s+".png"),(e,a)=>{const s=o(i("tig-image"),ae);return t.value?(c(),r(s,{key:0,src:t.value},null,8,["src"])):l("",!0)}}}),ve=f(s({__name:"Emoji",emits:["insertEmoji"],setup(e,{emit:a}){const t=a;return(e,a)=>(c(),d("div",{class:"picker_body"},[u("div",{class:"emojipicker"},[u("div",{class:"list"},[(c(!0),d(m,null,p(v(pe),(e,a)=>(c(),d("div",{key:e.id,class:"item",onClick:a=>{return s=e.name,void t("insertEmoji",s);var s}},[u("span",null,[u("span",{class:"byte-tooltip__wrapper"},[h(he,{id:e.id,class:"image"},null,8,["id"])])])],8,["onClick"]))),128))])])]))}}),[["__scopeId","data-v-00937de8"]]),fe=f(s({__name:"emojiHtml",props:{content:{type:String,default:""}},setup(e){const a=e,t=n("");return t.value=function(e,a){const t=new RegExp(`(${a.map(e=>e.name).join("|")})`,"g");return e.replace(/\[|\]/g,"").replace(t,e=>{const t=a.find(a=>a.name===e);return t?"<img class='emoji' src='http://oss.tigshop.com/official/emoji/"+t.id+".png'>":e})}(a.content,pe),(e,a)=>{const s=g;return c(),r(s,{nodes:t.value},null,8,["nodes"])}}}),[["__scopeId","data-v-87ece3de"]]),ge=s({__name:"promptTone",setup(e,{expose:a}){let t=null;const s=n(!1);t=y(),t.src=_("promptTone.wav","audio"),t.onEnded(()=>{s.value=!1});return a({play:()=>{null==t||s.value||(t.seek(1),t.play(),s.value=!0)}}),k(()=>{null!=t&&t.destroy()}),(e,a)=>{const t=b;return c(),r(t,{class:""})}}}),ye=f(s({__name:"index",setup(e){R(e=>({"7136c44a":ra.value,"0ddc1121":la.value,"01564990":ca.value,"44c6ff18":ia.value,f8f5e7e0:oa.value,"3e92d486":na.value,"4a2a6f60":sa.value,"2d6666cc":ta.value}));const{t:a}=x(),t=w(),s=S(),f=$({firstId:-1,sortOrder:"desc",userFrom:"",shopId:0}),g=n([]),y=n(""),k=n(!1),ce=n(!1),de=n(!1);let ue=n(!0),pe=n(0);const he=n(!1),ye=n(0),_e=L(),ke=()=>{history.back()},be=n(0),Ie=n(0),xe=async()=>{if(await(async()=>{try{const e=await W(".message-box",_e);Ie.value=e.height}catch(e){console.error("Error getting box info:",e)}})(),await(async()=>{try{const e=await W(".message-scroll",_e);be.value=e.height}catch(e){console.error("Error getting box info:",e)}})(),console.log("messageScrollHeight",be.value,"messageBoxHeight",Ie.value),be.value&&Ie.value){const e=Ie.value-be.value;e&&e>0&&(ye.value=e)}},we=e=>{Fe(),ue.value&&(pe.value=ye.value,ue.value=!1),0==e.detail.scrollTop&&0==he.value&&g.value.length>0&&(f.firstId=g.value[0].id,Ue())};function Se(e){k.value=e.length>0}const $e=T(()=>!0),Te=n(0),Ee=n(!1),Ne=e=>{},je=()=>{Ee.value=!0,de.value=!1,ce.value=!1},Ce=e=>{y.value+="["+e+"]"},Ae=e=>{if(Array.isArray(e.file))for(const a of e.file)We(a);else We(e.file[0])},We=e=>{G({url:Z+"/api/user/user/uploadImg",filePath:e.url,name:"file",header:{Authorization:X("token"),Secret:Q()},success:e=>{const{data:a}=JSON.parse(e.data);ze("image",{pic:a.picUrl})},fail:e=>{I,console.log("error",e),Y({title:a("图片上传失败"),icon:"none"})}})},Le=()=>{y.value&&ze()},Re=()=>{q(),ce.value=!ce.value,de.value=!1,C(()=>{xe()})},He=()=>{q(),de.value=!de.value,ce.value=!1,C(()=>{xe()})},Ue=async()=>{try{const e=await se(f);if(0==e.records.length)return void(he.value=!0);g.value=[...e.records,...g.value],C(async()=>{-1==f.firstId?await xe():setTimeout(()=>{pe.value&&(ye.value=pe.value,ue.value=!0)},0)})}catch(e){console.error(e)}},ze=async(e,a)=>{try{const t=await ne({content:{messageType:e||"text",content:y.value||"",...a},conversationId:f.conversationId,shopId:f.shopId,productId:f.productId,orderId:f.orderId});y.value="",k.value=!1,ce.value=!1,de.value=!1,g.value=[...g.value,t],C(()=>{xe()})}catch(t){console.log(t)}},Oe=n({}),Pe=n(!1),Fe=()=>{0!==g.value[g.value.length-1].isRead||2!==g.value[g.value.length-1].type||Pe.value||Je()},Je=async()=>{try{Pe.value=!0,await oe({shopId:f.shopId,servantId:g.value[g.value.length-1].servantId})}catch(e){console.error(e)}finally{Pe.value=!1}},Be=n(),Ve=T(()=>t.baseInfo.pcDomain?t.baseInfo.pcDomain:window.location.origin),Ke=$({pc:{detail:`${Ve.value}/item/`,order:`${Ve.value}/member/order/info?id=`,shop:`${Ve.value}/shop/${f.shopId}`},mobile:{detail:"/pages/product/index?id=",order:"/pages/user/order/info?id=",shop:`/pages/shop/index?shopId=${f.shopId}`}}),Me=(e,a,t)=>{let s="";switch(e){case"detail":s=Ke[a][e]+("pc"===a&&t?t.content.product.productSn:null==t?void 0:t.content.product.productId);break;case"order":s=Ke[a][e]+(t?t.content.order.orderId:"");break;case"shop":s=Ke[a][e]}return s},De=(e,a)=>{let t="";"pc"===aa.value?(t=Me(e,"pc",a),window.open(t,"_blank")):(t=Me(e,"mobile",a),ee({url:t}))},Ge=T(()=>Oe.value.shopLogo??t.baseInfo.icoImg);T(()=>Oe.value.shopTitle??a("在线客服"));const Qe=e=>{},Xe=e=>{if(!A(e.data))return void console.error("收到非JSON格式数据");const a=JSON.parse(e.data);"message"===a.type&&a.data&&Ye(a.data[0]),"read"===a.type&&g.value.forEach(e=>{1===e.type&&(e.isRead=1)})},Ye=e=>{var a;if(e.shopId===f.shopId){const t=(e=>g.value.findIndex(a=>a.id===e.id))(e);-1===t&&(g.value=[...g.value,e],null==(a=Be.value)||a.play(),C(()=>{xe()}))}},Ze=e=>{},qe=e=>{},ea=n(),aa=n("");E(async e=>{e&&(e.shopId&&Number(e.shopId)&&(f.shopId=Number(e.shopId),await(async e=>{try{const a=await ie(e);Oe.value=a}catch(a){console.error(a)}})(e.shopId)),e.productId&&Number(e.productId)&&(f.productId=Number(e.productId),(async e=>{try{const a=await re(e);let t={messageType:"product",productId:a.item.productId,picUrl:a.item.picUrl,productName:a.item.productName,productPrice:a.item.productPrice,productSn:a.item.productSn};g.value=[...g.value,t],C(()=>{xe()})}catch(a){console.error(a)}})(e.productId)),e.orderId&&Number(e.orderId)&&(f.orderId=Number(e.orderId)),e.conversationId&&Number(e.conversationId)&&(f.conversationId=Number(e.conversationId)),e.platform&&(aa.value=e.platform),e.token&&N({key:"token",data:e.token,success:async()=>{s.getUserInfo(),f.userFrom=t.XClientType,ea.value=new me(`${(()=>{let e;return e=location.origin?location.origin.replace(/^http:/,"ws:").replace(/^https:/,"wss:")+"/ws":"",e})()}?token=${e.token}&platform=${aa.value?aa.value:f.userFrom}`),ea.value.onclose(Ze),ea.value.onopen(Qe),ea.value.onerror(qe),ea.value.onmessage(Xe),ea.value.connect(),await Ue(),f.orderId&&await(async e=>{try{const a=await le({id:e});let t={messageType:"order",orderId:a.orderId,orderSn:a.orderSn,picUrl:a.items[0].picThumb,productName:a.items[0].productName,productNum:a.items.length,totalAmount:a.totalAmount,orderStatusName:a.orderStatusName};-1===g.value.findIndex(a=>"custom"===a.content.messageType&&a.content.order&&a.content.order.orderId==e)&&ze("custom",{order:t})}catch(a){console.error(a)}})(f.orderId)}}))});const ta=T(()=>`url(${_("im/gallary.png")})`),sa=T(()=>`url(${_("im/goodspic.png")})`),na=T(()=>`url(${_("im/plus@2x.png")})`),oa=T(()=>`url(${_("im/ico_face_v2@2x.png")})`),ia=T(()=>`url(${_("im/talk@2x.png")})`),ra=T(()=>"44px"),la=T(()=>t.safeAreaInsets.top+"px"),ca=T(()=>{let e=100;return de.value&&(e+=324),ce.value&&(e+=196),Ee.value?`calc(${e}rpx + ${Te.value}px)`:`${e}rpx`});return(e,a)=>{const t=b,s=z,n=o(i("tig-image"),ae),f=o(i("format-price"),te),_=O,I=o(i("up-input"),H),x=o(i("up-upload"),U);return c(),r(t,{class:"page-content"},{default:j(()=>[h(t,{class:"thanos-layout"},{default:j(()=>[h(t,{class:"thanos-layout-header"},{default:j(()=>[h(t,{class:"wapim-conversation-banner"},{default:j(()=>[h(t,{class:"shop-info",onClick:ke},{default:j(()=>[h(t,{class:"iconfont icon-houtui"})]),_:1}),h(t,{class:"right-opt",onClick:a[0]||(a[0]=e=>{ee({url:"/pages/im/list"})})},{default:j(()=>[h(s,{class:"ico-history wapim-conversation-banner-history"})]),_:1})]),_:1})]),_:1}),h(t,{class:"thanos-layout-main-content",onClick:Fe},{default:j(()=>[h(_,{class:"message-scroll","scroll-top":ye.value,"scroll-y":"true",onScroll:we},{default:j(()=>[h(t,{class:"message-box"},{default:j(()=>[he.value?(c(),r(t,{key:0,class:"empty-text"},{default:j(()=>[P(F(e.$t("已经没有更多消息了")),1)]),_:1})):l("",!0),(c(!0),d(m,null,p(g.value,(a,s)=>(c(),r(t,{key:a.id,class:J(["thanos-rich-message",[2==a.type?"in":1==a.type?"out":"","custom"===a.messageType&&1==a.type?"card-type":"image"===a.messageType?"image-type":""]])},{default:j(()=>["product"!==a.messageType&&"order"!==a.messageType?(c(),r(t,{key:0,class:"message-time"},{default:j(()=>[u("span",null,F(a.sendTime),1)]),_:2},1024)):l("",!0),3===a.type?(c(),r(t,{key:1,class:"message-time"},{default:j(()=>[u("span",null,F(a.content.content),1)]),_:2},1024)):l("",!0),3!=a.type&&"product"!==a.messageType&&"order"!==a.messageType?(c(),r(t,{key:2,class:"message-content message-content-left"},{default:j(()=>[h(t,{class:"bg-pic circle-bg-pic thanos-view thanos-hairline--surround message-avatar"},{default:j(()=>{var e;return[h(t,{class:"bg-pic-content",style:B({backgroundImage:`url(${1===a.type?v(V)(null==(e=a.user)?void 0:e.avatar):v(V)(Ge.value)})`})},null,8,["style"])]}),_:2},1024),h(t,{class:"message-content-inner"},{default:j(()=>[a.messageType?(c(),r(t,{key:0,class:"message-context"},{default:j(()=>[h(t,{class:"thanos-text-message"},{default:j(()=>["text"===a.messageType?(c(),r(t,{key:0},{default:j(()=>[h(fe,{content:a.content.content},null,8,["content"])]),_:2},1024)):l("",!0),"image"===a.messageType?(c(),r(t,{key:1,class:"message-image"},{default:j(()=>[h(n,{src:a.content.pic},null,8,["src"])]),_:2},1024)):l("",!0),"custom"===a.messageType?(c(),r(t,{key:2},{default:j(()=>[a.content.product?(c(),r(t,{key:0,class:"custom-message-product"},{default:j(()=>[h(t,{class:"product-img",onClick:e=>De("detail",a)},{default:j(()=>[a.content.product.picUrl?(c(),r(n,{key:0,src:a.content.product.picUrl},null,8,["src"])):l("",!0)]),_:2},1032,["onClick"]),h(t,{class:"product-info"},{default:j(()=>[h(t,{class:"product-name"},{default:j(()=>[P(F(a.content.product.productName),1)]),_:2},1024),h(t,{class:"product-price"},{default:j(()=>[h(f,{"font-style":{fontSize:"28rpx"},"currency-style":{fontSize:"22rpx"},"decimals-style":{fontSize:"24rpx"},"price-data":a.content.product.productPrice},null,8,["price-data"])]),_:2},1024)]),_:2},1024)]),_:2},1024)):l("",!0),a.content.order?(c(),r(t,{key:1,class:"custom-message-order",onClick:e=>De("order",a)},{default:j(()=>[h(t,{class:"tit"},{default:j(()=>[P(F(a.content.order.orderStatusName),1)]),_:2},1024),h(t,{class:"info"},{default:j(()=>[h(t,{class:"product-img"},{default:j(()=>[a.content.order.picUrl?(c(),r(n,{key:0,src:a.content.order.picUrl},null,8,["src"])):l("",!0)]),_:2},1024),h(t,{class:"product-info"},{default:j(()=>[h(t,{class:"product-name"},{default:j(()=>[P(F(a.content.order.productName),1)]),_:2},1024),h(t,{class:"product-txt"},{default:j(()=>[P(F(v(K)()?e.$t("共{0}件商品，合计",[a.content.order.productNum]):`共${a.content.order.productNum}件商品，合计`)+" ",1),h(f,{"font-style":{fontSize:"28rpx"},"currency-style":{fontSize:"22rpx"},"decimals-style":{fontSize:"24rpx"},"price-data":a.content.order.totalAmount},null,8,["price-data"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])):l("",!0)]),_:2},1024)):l("",!0)]),_:2},1024),u("span",{class:"message-status"})]),_:2},1024)):l("",!0)]),_:2},1024),1===a.type?(c(),r(t,{key:0,class:J(["read-status",[a.isRead?"read":"unread"]])},{default:j(()=>[P(F(e.$t(a.isRead?"已读":"未读")),1)]),_:2},1032,["class"])):l("",!0)]),_:2},1024)):l("",!0),"product"===a.messageType?(c(),r(t,{key:3,class:"im-goods-card"},{default:j(()=>[h(t,{class:"content"},{default:j(()=>[h(t,{class:"pic"},{default:j(()=>[h(n,{src:a.picUrl},null,8,["src"])]),_:2},1024),h(t,{class:"desc"},{default:j(()=>[h(t,{class:"title"},{default:j(()=>[P(F(a.productName),1)]),_:2},1024),h(t,{class:"price"},{default:j(()=>[h(f,{"font-style":{fontSize:"32rpx"},"currency-style":{fontSize:"22rpx"},"decimals-style":{fontSize:"24rpx"},"price-data":a.productPrice},null,8,["price-data"])]),_:2},1024)]),_:2},1024)]),_:2},1024),h(t,{class:"line"}),h(t,{class:"send",onClick:e=>{ze("custom",{product:a})}},{default:j(()=>[P(F(e.$t("发送宝贝")),1)]),_:2},1032,["onClick"])]),_:2},1024)):l("",!0)]),_:2},1032,["class"]))),128))]),_:1})]),_:1},8,["scroll-top"])]),_:1}),h(t,{class:"thanos-layout-footer"},{default:j(()=>[h(t,{class:"wapim-inputer"},{default:j(()=>[h(t,{class:"thanos-hairline--top-bottom wapim-main-inputer"},{default:j(()=>[h(t,{class:"input-box"},{default:j(()=>[h(t,{class:"rich-input"},{default:j(()=>[h(I,{modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=e=>y.value=e),style:{height:"100%"},placeholder:"",border:"none","adjust-position":$e.value,onConfirm:Le,onChange:Se,onFocus:je,onBlur:a[2]||(a[2]=e=>Ee.value=!1),onKeyboardheightchange:Ne},null,8,["modelValue","adjust-position"])]),_:1})]),_:1}),h(t,{class:"wapim-inputer-operation"},{default:j(()=>[u("span",{class:"operation face",onClick:He}),!0===k.value?(c(),d("span",{key:0,class:"operation send",onClick:Le},F(e.$t("发送")),1)):(c(),r(t,{key:1,class:"operation plus",onClick:Re}))]),_:1})]),_:1}),M(h(t,{class:"wapim-inputer-plugin"},{default:j(()=>[h(t,{class:"wapim-inputer-file-picker"},{default:j(()=>[h(t,{class:"file-inputer-plugin"},{default:j(()=>[h(x,{name:"6",multiple:"","max-count":1,onAfterRead:Ae},{default:j(()=>[h(t,{class:"pic-item plugin-item"},{default:j(()=>[h(t,{class:"photo icon"}),u("span",{class:"title"},F(e.$t("相册")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},512),[[D,ce.value]]),M(h(t,{class:"wapim-inputer-plugin"},{default:j(()=>[h(t,{class:"wapim-inputer-file-picker"},{default:j(()=>[h(t,{class:"file-emoji-plugin"},{default:j(()=>[h(ve,{onInsertEmoji:Ce})]),_:1})]),_:1})]),_:1},512),[[D,de.value]])]),_:1})]),_:1})]),_:1}),h(ge,{ref_key:"promptToneRef",ref:Be},null,512)]),_:1})}}}),[["__scopeId","data-v-0c9a3a08"]]);export{ye as default};
