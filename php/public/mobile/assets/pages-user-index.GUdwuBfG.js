import{d as e,ay as a,k as t,B as s,E as l,c as o,o as u,i,w as c,g as n,f as r,t as d,a as p,X as f,I as _,J as m,O as g,F as v,G as y,S as k,u as C,_ as h,b as x,ac as w,j as b,r as $,l as j,s as T,L,af as S,bh as I,H as z,bc as P,h as R,$ as U,n as A}from"./index-BcyAKDDV.js";import{u as B,_ as N,d as O}from"./tig-layout.DHsvU4xy.js";import{_ as q}from"./tig-image.lWnA30Ud.js";import{_ as F}from"./tig-upload.vue_vue_type_script_setup_true_lang.Dzgo_GPD.js";import{_ as E}from"./uni-badge.Bs42Tbnm.js";import{_ as H}from"./tig-copyright.BKPmSimg.js";import{_ as J}from"./tig-back-top.vue_vue_type_script_setup_true_lang.Bi73mTCV.js";import{r as G}from"./index._2d9EUEM.js";import{a as K}from"./order.DielggEZ.js";import{e as Q}from"./home.CJJfsVI7.js";import"./masonry.DMVeXjyb.js";import"./format-price.csRf0ax_.js";import"./specification.BVK5lHIl.js";import"./uni-icons.CtiPjGAO.js";import"./uni-number-box.D3RxEDC7.js";import"./product.Dt_JmfR-.js";import"./activityCard.DFNvABJe.js";import"./useList.DjEWWv0p.js";const X=h(e({__name:"index",props:{data:{type:Array,default:()=>[]},menuType:{type:[Number,String],default:1}},setup(e){const h=e;a();const x=t(()=>{let e=h.data;return e=e.filter(e=>"分销员中心"!==e.picTitle),e=e.filter(e=>"实名认证"!==e.picTitle),e=e.filter(e=>"商家入驻"!==e.picTitle),e});return(a,t)=>{const h=i,w=s(l("tig-image"),q);return u(),o(h,{class:"service-box"},{default:c(()=>[n(h,{class:"service-title"},{default:c(()=>[r(d(a.$t("我的服务")),1)]),_:1}),n(h,{class:"service-content"},{default:c(()=>[x.value.length>0?(u(),o(h,{key:0,class:f(["service-list",{grid:2==e.menuType,column:1==e.menuType}])},{default:c(()=>[(u(!0),_(m,null,g(x.value,(t,s)=>(u(),o(h,{key:s,class:"service-item",onClick:e=>(e=>{k({url:C(e.picLink)})})(t)},{default:c(()=>[n(h,{class:"service-icon"},{default:c(()=>[n(w,{"lazy-load":"",src:v(y)(t.picUrl)},null,8,["src"])]),_:2},1024),n(h,{class:"service-label"},{default:c(()=>[r(d(a.$t(t.picTitle??""))+" ",1),1===e.menuType?(u(),o(h,{key:0,class:"service-arrow iconfont-h5 icon-youjiantou"})):p("",!0)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1},8,["class"])):p("",!0)]),_:1})]),_:1})}}}),[["__scopeId","data-v-edcf8c22"]]),Z=h(e({__name:"index",props:{data:{type:Object,default:()=>({})}},setup:e=>(a,t)=>{const s=x,l=i;return u(),o(l,{class:"advertising-box"},{default:c(()=>[n(l,{class:"advertising-content"},{default:c(()=>[n(s,{class:"advertising-image",src:v(w)(e.data.picUrl),mode:"widthFix",onClick:t[0]||(t[0]=a=>{var t;(null==(t=e.data)?void 0:t.picLink)&&k({url:C(t.picLink)})})},null,8,["src"])]),_:1})]),_:1})}}),[["__scopeId","data-v-97e22329"]]),D=e({__name:"index",props:{modules:{type:Array,default:()=>[]}},setup:e=>(a,t)=>(u(!0),_(m,null,g(e.modules,(e,a)=>(u(),_(m,{key:a},["bannerList"===e.type&&e.module.bannerList.picUrl?(u(),o(Z,{key:0,data:e.module.bannerList},null,8,["data"])):"menus"===e.type?(u(),o(X,{key:1,"menu-type":e.module.menuType,data:e.module.menuList},null,8,["menu-type","data"])):p("",!0)],64))),128))}),M=h(e({__name:"index",setup(e){const{scrollTop:f}=B(),g=b(),k=a(),C=$(),h=t({get:()=>k.userInfo,set:e=>k.setUserInfo(e)}),X=$({collectCount:0,collectStoreCount:0,stayCommentOrder:0,rePay:0,reReceive:0,returnCount:0,bonus:0}),Z=$({}),M=async()=>{try{const e=await K();Z.value=e}catch(e){console.error(e)}},V=e=>{A({url:e})},W=()=>{te(),M()},Y=t(()=>k.token||L("token")),ee=t(()=>`url(${y("product/unverified.png")});`),ae=$([]),te=async()=>{try{const e=await Q();ae.value=e.data}catch(e){console.error(e)}};return j(()=>{te()}),T(()=>{if(!Y.value)return h.value={},X.value={collectCount:0,collectStoreCount:0,stayCommentOrder:0,rePay:0,reReceive:0,returnCount:0,bonus:0},void(Z.value={});k.getUserInfo(),M()}),(e,a)=>{const t=s(l("tig-navbar"),O),b=x,$=i,j=s(l("tig-image"),q),T=s(l("tig-upload"),F),L=R,A=s(l("uni-badge"),E),B=s(l("tig-copyright"),H),K=s(l("tig-layout"),N),Q=s(l("tig-back-top"),J);return u(),_(m,null,[n(K,{ref_key:"layoutRef",ref:C,onLoginSuccess:W},{default:c(()=>[n(t,{"show-left":!1,title:"会员中心",background:"linear-gradient(90deg, #fcf6fc, #f3f3fe)"}),n($,{class:"user"},{default:c(()=>[n($,{class:"user_header user_bg_color"},{default:c(()=>[n($,{class:"picTxt"},{default:c(()=>[Y.value?(u(),o(T,{key:1,class:"pictrue","request-url":"user/user/modifyAvatar",onChange:a[0]||(a[0]=e=>v(k).getUserInfo())},{default:c(()=>[n(j,{class:"pic-btn",src:v(w)(h.value.avatar)},null,8,["src"])]),_:1})):(u(),o($,{key:0,class:"pictrue",onClick:v(S)},{default:c(()=>[n(b,{class:"pic-btn",src:v(y)("common/empty-img-bg3.png")},null,8,["src"])]),_:1},8,["onClick"])),n($,{class:"text"},{default:c(()=>[Y.value?(u(),_(m,{key:1},[n($,{class:"acea-row row-middle info"},{default:c(()=>{var t;return[v(I)()?(u(),_(m,{key:0},[h.value.isCompanyAuth?(u(),o($,{key:0,class:"auth",onClick:a[1]||(a[1]=e=>V("/pages/user/userCertification/index"))},{default:c(()=>[n(b,{src:v(y)("product/authenticated.svg")},null,8,["src"])]),_:1})):(u(),o($,{key:1,class:"auth",onClick:a[2]||(a[2]=e=>V("/pages/user/userCertification/index"))},{default:c(()=>[n($,{class:"unverified",style:z(`background-image: ${ee.value};`)},null,8,["style"])]),_:1}))],64)):p("",!0),n($,{class:"name line1"},{default:c(()=>[r(d(h.value.nickname||h.value.username),1)]),_:1}),(null==(t=h.value)?void 0:t.showSign)?(u(),o($,{key:1,class:"acea-row qiandao",onClick:a[3]||(a[3]=e=>V("/pages/user/sign/index"))},{default:c(()=>[n($,{class:"iconfont icon-qiandao"}),n($,{class:""},{default:c(()=>[r(d(e.$t("签到有礼")),1)]),_:1})]),_:1})):p("",!0),n($,{class:"iconfont icon-shezhi",onClick:a[4]||(a[4]=e=>V("/pages/user/profile/index"))})]}),_:1}),n($,{class:"logo acea-row row-middle",onClick:a[5]||(a[5]=e=>v(P)()&&void 0)},{default:c(()=>{var a;return[v(P)()?(u(),o(b,{key:0,class:"vip_logo",src:null==(a=h.value)?void 0:a.rankLogo,mode:"scaleToFill"},null,8,["src"])):p("",!0),r(" "+d(e.$t(h.value.rankName)),1)]}),_:1})],64)):(u(),o($,{key:0,class:"name",onClick:v(S)},{default:c(()=>[r(d(e.$t("登录/注册")),1)]),_:1},8,["onClick"]))]),_:1})]),_:1}),n($,{class:"user_top_group"},{default:c(()=>[n($,{class:"item",onClick:a[6]||(a[6]=e=>V("/pages/user/collectProduct/index"))},{default:c(()=>[n($,{class:"tit"},{default:c(()=>[r(d(e.$t("商品收藏"))+" ",1),n(L,{class:"txt"},{default:c(()=>[r(d(Z.value.productCollect>=0?Z.value.productCollect:"--"),1)]),_:1})]),_:1})]),_:1}),v(U)()?(u(),o($,{key:0,class:"item",onClick:a[7]||(a[7]=e=>V("/pages/user/collectionShop/index"))},{default:c(()=>[n($,{class:"tit"},{default:c(()=>[r(d(e.$t("店铺关注"))+" ",1),n(L,{class:"txt"},{default:c(()=>[r(d(Z.value.shopCollect>=0?Z.value.shopCollect:"--"),1)]),_:1})]),_:1})]),_:1})):p("",!0),C.value&&C.value.isZh?(u(),o($,{key:1,class:"item",onClick:a[8]||(a[8]=e=>V("/pages/user/comment/list"))},{default:c(()=>[n($,{class:"tit"},{default:c(()=>[r(d(e.$t("待评价"))+" ",1),n(L,{class:"txt"},{default:c(()=>[r(d(Z.value.awaitComment>=0?Z.value.awaitComment:"--"),1)]),_:1})]),_:1})]),_:1})):p("",!0),n($,{class:"item",onClick:a[9]||(a[9]=e=>V("/pages/user/historyProduct/index"))},{default:c(()=>[n($,{class:"tit"},{default:c(()=>[r(d(e.$t("浏览记录")),1)]),_:1})]),_:1})]),_:1})]),_:1}),n($,{class:"user_wrapper"},{default:c(()=>[n($,{class:"list-group my-order"},{default:c(()=>[n($,{class:"title acea-row row-between-wrapper"},{default:c(()=>[n($,{class:""},{default:c(()=>[r(d(e.$t("我的订单")),1)]),_:1}),n($,{class:"more",onClick:a[10]||(a[10]=e=>V("/pages/user/order/list"))},{default:c(()=>[n($,null,{default:c(()=>[r(d(e.$t("全部订单")),1)]),_:1}),n($,{class:"iconfont icon-xiangyou"})]),_:1})]),_:1}),n($,{class:"wrap"},{default:c(()=>[n($,{class:"li",onClick:a[11]||(a[11]=e=>V("/pages/user/order/list?type=awaitPay"))},{default:c(()=>[Z.value.awaitPay>0?(u(),_(m,{key:0},[n(A,{class:"badgecolor",text:Z.value.awaitPay,absolute:"rightTop",size:"small"},{default:c(()=>[n(L,{class:"iconfont-h5 icon-daifukuan"})]),_:1},8,["text"]),n($,{class:"txt"},{default:c(()=>[r(d(e.$t("待付款")),1)]),_:1})],64)):(u(),_(m,{key:1},[n(L,{class:"iconfont-h5 icon-daifukuan"}),n($,{class:"txt"},{default:c(()=>[r(d(e.$t("待付款")),1)]),_:1})],64))]),_:1}),n($,{class:"li",onClick:a[12]||(a[12]=e=>V("/pages/user/order/list?type=awaitShipping"))},{default:c(()=>[Z.value.awaitShipping>0?(u(),_(m,{key:0},[n(A,{class:"badgecolor",text:Z.value.awaitShipping,absolute:"rightTop",size:"small"},{default:c(()=>[n(L,{class:"iconfont-h5 icon-daifahuo"})]),_:1},8,["text"]),n($,{class:"txt"},{default:c(()=>[r(d(e.$t("待发货")),1)]),_:1})],64)):(u(),_(m,{key:1},[n(L,{class:"iconfont-h5 icon-daifahuo"}),n($,{class:"txt"},{default:c(()=>[r(d(e.$t("待发货")),1)]),_:1})],64))]),_:1}),n($,{class:"li",onClick:a[13]||(a[13]=e=>V("/pages/user/order/list?type=awaitReceived"))},{default:c(()=>[Z.value.awaitReceived>0?(u(),_(m,{key:0},[n(A,{class:"badgecolor",text:Z.value.awaitReceived,absolute:"rightTop",size:"small"},{default:c(()=>[n(L,{class:"iconfont-h5 icon-daishouhuo"})]),_:1},8,["text"]),n($,{class:"txt"},{default:c(()=>[r(d(e.$t("待收货")),1)]),_:1})],64)):(u(),_(m,{key:1},[n(L,{class:"iconfont-h5 icon-daishouhuo"}),n($,{class:"txt"},{default:c(()=>[r(d(e.$t("待收货")),1)]),_:1})],64))]),_:1}),n($,{class:"li",onClick:a[14]||(a[14]=e=>V("/pages/user/order/list?type=awaitComment"))},{default:c(()=>[Z.value.awaitComment>0?(u(),_(m,{key:0},[n(A,{class:"badgecolor",text:Z.value.awaitComment,absolute:"rightTop",size:"small"},{default:c(()=>[n(L,{class:"iconfont-h5 icon-daipingjia"})]),_:1},8,["text"]),n($,{class:"txt"},{default:c(()=>[r(d(e.$t("待评价")),1)]),_:1})],64)):(u(),_(m,{key:1},[n(L,{class:"iconfont-h5 icon-daipingjia"}),n($,{class:"txt"},{default:c(()=>[r(d(e.$t("待评价")),1)]),_:1})],64))]),_:1}),n($,{class:"li",onClick:a[15]||(a[15]=e=>V("/pages/user/afterSale/list"))},{default:c(()=>[n(L,{class:"iconfont-h5 icon-tuikuanshouhou"}),n($,{class:"txt line1"},{default:c(()=>[r(d(e.$t("退换 / 售后")),1)]),_:1}),X.value.returnCount>0?(u(),o(L,{key:0,class:"counts"},{default:c(()=>[r(d(X.value.returnCount),1)]),_:1})):p("",!0)]),_:1})]),_:1})]),_:1}),n($,{class:"list-group my-wallet"},{default:c(()=>[n($,{class:"title acea-row row-between-wrapper"},{default:c(()=>[n($,{class:""},{default:c(()=>[r(d(e.$t("我的钱包")),1)]),_:1}),n($,{class:"more",onClick:a[16]||(a[16]=e=>V("/pages/user/account/index"))},{default:c(()=>[n($,null,{default:c(()=>[r(d(e.$t("进入钱包")),1)]),_:1}),n($,{class:"iconfont icon-xiangyou"})]),_:1})]),_:1}),n($,{class:"wrap"},{default:c(()=>[n($,{class:"li",onClick:a[17]||(a[17]=e=>V("/pages/user/account/index"))},{default:c(()=>[n(L,{class:"num"},{default:c(()=>[r(d(Number(h.value.totalBalance)>=0?h.value.totalBalance:0),1)]),_:1}),n($,{class:"txt"},{default:c(()=>[r(d(e.$t("余额")),1)]),_:1})]),_:1}),n($,{class:"li",onClick:a[18]||(a[18]=e=>V("/pages/coupon/index?type=2"))},{default:c(()=>[n(L,{class:"num"},{default:c(()=>[r(d(h.value.coupon>=0?h.value.coupon:0),1)]),_:1}),n($,{class:"txt"},{default:c(()=>[r(d(e.$t("优惠券")),1)]),_:1})]),_:1}),n($,{class:"li",onClick:a[19]||(a[19]=e=>V("/pages/user/point/detail"))},{default:c(()=>[n(L,{class:"num"},{default:c(()=>[r(d(h.value.points>=0?h.value.points:0),1)]),_:1}),n($,{class:"txt"},{default:c(()=>[r(d(e.$t(v(g).integralName)),1)]),_:1})]),_:1})]),_:1})]),_:1}),n(D,{modules:ae.value},null,8,["modules"])]),_:1})]),_:1}),n(G),n(B)]),_:1},512),n(Q,{"scroll-top":v(f)},null,8,["scroll-top"])],64)}}}),[["__scopeId","data-v-1159e598"]]);export{M as default};
