import{d as a,r as s,l as e,c as t,w as o,B as c,E as l,o as i,g as u,i as n,f as r,h as d,t as h,I as f,J as p,O as y,a as _,N as m,n as g,_ as I}from"./index-BcyAKDDV.js";import{_ as k}from"./tig-layout.DHsvU4xy.js";import{c as v}from"./shop.C0LoUVHm.js";const x=I(a({__name:"category",setup(a){const I=s(0),x=s([]);e(a=>{a&&a.shopId&&(I.value=a.shopId,j())});const j=async()=>{try{const a=await v(I.value);x.value=a}catch(a){console.error(a)}},C=()=>{g({url:`/pages/search/index?shopId=${I.value}`})},$=a=>{g(a>0?{url:`/pages/search/result?shopId=${I.value}&shopCategoryId=${a}`}:{url:`/pages/search/result?shopId=${I.value}`})};return(a,s)=>{const e=d,g=n,v=c(l("tig-layout"),k);return i(),t(v,{title:"店铺分类","shop-id":I.value},{default:o(()=>[u(g,{class:"shop-search-box",onClick:C},{default:o(()=>[u(g,{class:"shop-search"},{default:o(()=>[u(g,{class:"search-text"},{default:o(()=>[u(e,{class:"iconfont-h5 icon-sousuo sousuo-icon"}),r(h(a.$t("搜索")),1)]),_:1})]),_:1})]),_:1}),u(g,{class:"category-content"},{default:o(()=>[u(g,{class:"category-content-item"},{default:o(()=>[u(g,{class:"item-box special",onClick:s[0]||(s[0]=a=>$(0))},{default:o(()=>[u(g,{class:"item-left"},{default:o(()=>[r(h(a.$t("全部商品")),1)]),_:1}),u(g,{class:"item-right"},{default:o(()=>[u(e,{class:"iconfont-h5 icon-youjiantou youjiantou-icon special"})]),_:1})]),_:1})]),_:1}),(i(!0),f(p,null,y(x.value,(a,s)=>(i(),t(g,{key:a.categoryId,class:"category-content-item"},{default:o(()=>[u(g,{class:"item-box",onClick:s=>$(a.categoryId)},{default:o(()=>[u(g,{class:"item-left"},{default:o(()=>[r(h(a.categoryName),1)]),_:2},1024),u(g,{class:"item-right"},{default:o(()=>[u(e,{class:"iconfont-h5 icon-youjiantou youjiantou-icon"})]),_:1})]),_:2},1032,["onClick"]),a.children?(i(),t(g,{key:0,class:"item-children-box"},{default:o(()=>[(i(!0),f(p,null,y(a.children,(a,s)=>(i(),t(g,{key:a.categoryId,class:"children-item",onClick:m(s=>$(a.categoryId),["stop"])},{default:o(()=>[u(g,{class:"children-item-text"},{default:o(()=>[r(h(a.categoryName),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:2},1024)):_("",!0)]),_:2},1024))),128))]),_:1})]),_:1},8,["shop-id"])}}}),[["__scopeId","data-v-7e483e5c"]]);export{x as default};
