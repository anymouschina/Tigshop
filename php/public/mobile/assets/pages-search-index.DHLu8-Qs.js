import{d as a,K as e,r as s,l,L as t,c as o,w as u,B as c,E as n,o as r,g as i,i as d,a as h,h as v,M as _,f,t as p,N as y,I as m,J as g,O as k,P as x,Q as w,R as I,S as C,T as $,_ as b}from"./index-BcyAKDDV.js";import{_ as H}from"./tig-layout.DHsvU4xy.js";const B=b(a({__name:"index",setup(a){const{t:b}=e(),B=s("搜索商品"),V=s(""),j=s([]),S=s("");l(a=>{a&&a.shopId&&"undefined"!=a.shopId&&(S.value=a.shopId,B.value="店铺搜索"),t("searchHistory")&&(j.value=t("searchHistory"))});const E=()=>{V.value?(j.value.unshift(V.value),j.value=[...new Set(j.value)],j.value.length>10&&j.value.splice(10,j.value.length-10),x("searchHistory",j.value),J(V.value)):w({title:b("请输入搜索内容"),icon:"none"})},G=()=>{j.value=[],I("searchHistory")},J=a=>{let e=`/pages/search/result?keyWords=${a}`;S.value&&(e+=`&shopId=${S.value}`),C({url:e})},K=()=>{$({url:"/pages/index/index"})};return(a,e)=>{const s=v,l=_,t=d,x=c(n("tig-layout"),H);return r(),o(x,{title:B.value,customBack:!0,onBack:K},{default:u(()=>[i(t,{class:"searchGood"},{default:u(()=>[i(t,{class:"search-warp acea-row"},{default:u(()=>[i(t,{class:"search-input acea-row"},{default:u(()=>[i(s,{class:"iconfont icon-neirongsousuo"}),i(l,{modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=a=>V.value=a),focus:!0,type:"text",placeholder:a.$t("点击搜索商品"),"placeholder-class":"placeholder",onConfirm:E},null,8,["modelValue","placeholder"])]),_:1}),i(t,{class:"bnt",onClick:E},{default:u(()=>[f(p(a.$t("搜索")),1)]),_:1})]),_:1}),j.value.length?(r(),o(t,{key:0,class:"search_init_box"},{default:u(()=>[i(t,{class:"search_history_box"},{default:u(()=>[i(t,{class:"title"},{default:u(()=>[f(p(a.$t("搜索历史"))+" ",1),i(t,{class:"clear_history",onClick:y(G,["stop"])},{default:u(()=>[i(s,{class:"iconfont-h5 icon-shanchu"})]),_:1})]),_:1}),i(t,{class:"list acea-row"},{default:u(()=>[(r(!0),m(g,null,k(j.value,(a,e)=>(r(),o(t,{key:e,class:"item line1",onClick:e=>J(a)},{default:u(()=>[f(p(a),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1})):h("",!0)]),_:1})]),_:1},8,["title"])}}}),[["__scopeId","data-v-416b2ed3"]]);export{B as default};
