/* empty css             */import"./index-6c62cf9b.js";import{P as F}from"./PopFormElm-61cd9b7d.js";import{_ as S}from"./Switch.vue_vue_type_script_setup_true_lang-95245cd7.js";import{_ as O}from"./DeleteRecord.vue_vue_type_script_setup_true_lang-ae1bade7.js";/* empty css                                                                    */import{P as j}from"./Pagination-8eb7b6b1.js";import{u as E}from"./config-9548fa9b.js";import{g as G,u as w,d as H,b as K}from"./languagesList-188697d2.js";import{_ as U}from"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import{d as M,j as v,I as T,x as J,r as u,o as h,c as y,e as s,b as e,w as a,f as i,h as x,K as A,H as m,G as b}from"./index-7c2d2aef.js";import"./config-e2aa16d1.js";const Q={class:"container"},R={class:"content_wrapper"},W={class:"lyecs-table-list-warp"},X={class:"list-table-tool lyecs-search-warp"},Y={class:"list-table-tool-row"},Z={class:"list-table-tool-col"},ee={key:0},te={class:"table-container"},ae={style:{position:"relative"}},le=s("a",{class:"btn-link"},"编辑",-1),se={class:"empty-warp"},oe={key:0,class:"empty-bg"},ne={key:0,class:"pagination-con"},ye=M({__name:"List",props:{promotion_type:{type:Number,default:1}},setup(ie,{expose:z}){const L=E(),q=v(),f=v(!0),g=v(0),_=v([]),c=T({page:1,size:L.get("page_size"),sort_field:"",sort_order:"",keyword:""}),d=async()=>{f.value=!0;try{const o=await G({...c});q.value=o.filter_result,g.value=o.total}catch(o){A.error(o.message)}finally{f.value=!1}};J(()=>{d()});const V=({prop:o,order:l})=>{c.sort_field=o,c.sort_order=l=="ascending"?"asc":l=="descending"?"desc":"",d()},k=async(o,l)=>{try{const p=await K(o,{ids:_.value,value:l});A.success(p.message),d()}catch(p){A.error(p.message)}},$=o=>{_.value=o.map(l=>l.id)};return z({loadFilter:d}),(o,l)=>{const p=u("el-button"),C=u("el-popconfirm"),N=u("el-space"),P=u("el-form"),r=u("el-table-column"),B=u("el-divider"),D=u("el-table"),I=u("a-spin");return h(),y("div",Q,[s("div",R,[s("div",W,[s("div",X,[e(P,{model:c},{default:a(()=>[s("div",Y,[s("div",Z,[e(N,null,{default:a(()=>[e(i(U),{params:{act:"add"},isDrawer:"",path:"setting/multilingual/languagesList/Info",title:"添加语言",width:"600px",onOkCallback:d},{default:a(()=>[e(p,{type:"primary"},{default:a(()=>[m("添加语言")]),_:1})]),_:1}),e(C,{title:"您确认要批量删除所选数据吗？",onConfirm:l[0]||(l[0]=t=>k("del"))},{reference:a(()=>[e(p,{disabled:_.value.length===0},{default:a(()=>[m("批量删除")]),_:1},8,["disabled"])]),_:1}),e(C,{title:"您确认要批量启用所选数据吗？",onConfirm:l[1]||(l[1]=t=>k("enabled",1))},{reference:a(()=>[e(p,{disabled:_.value.length===0},{default:a(()=>[m("批量启用")]),_:1},8,["disabled"])]),_:1}),e(C,{title:"您确认要批量取消启用所选数据吗？",onConfirm:l[2]||(l[2]=t=>k("enabled",0))},{reference:a(()=>[e(p,{disabled:_.value.length===0},{default:a(()=>[m("批量取消启用")]),_:1},8,["disabled"])]),_:1}),_.value.length>0?(h(),y("span",ee,[m(" 已选择："),s("b",null,b(_.value.length),1),m(" 项 ")])):x("",!0)]),_:1})])])]),_:1},8,["model"])]),s("div",te,[e(I,{spinning:f.value},{default:a(()=>[e(D,{data:q.value,"row-key":"id",onSelectionChange:$,total:g.value,onSortChange:V,loading:f.value},{empty:a(()=>[s("div",se,[f.value?x("",!0):(h(),y("div",oe,"暂无数据"))])]),default:a(()=>[e(r,{type:"selection",width:"32"}),e(r,{label:"语言名称",prop:"language",width:150},{default:a(({row:t})=>[s("div",ae,[s("div",null,b(t.language||"--"),1)])]),_:1}),e(r,{label:"语言识别码",prop:"locale_code",width:"200"}),e(r,{label:"货币",prop:"name",width:"200"},{default:a(({row:t})=>{var n;return[s("div",null,b(((n=t.currency)==null?void 0:n.name)||"--"),1)]}),_:1}),e(r,{label:"货币符号",prop:"symbol",width:"200"},{default:a(({row:t})=>{var n;return[s("div",null,b(((n=t.currency)==null?void 0:n.symbol)||"--"),1)]}),_:1}),e(r,{label:"最后更新时间",prop:"last_updated",width:"200",sortable:"custom"}),e(r,{label:"是否启用",prop:"is_enabled",sortable:"custom"},{default:a(({row:t})=>[e(i(S),{checked:t.is_enabled,"onUpdate:checked":n=>t.is_enabled=n,requestApi:i(w),params:{id:t.id,field:"is_enabled"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),e(r,{label:"是否默认",prop:"is_default",sortable:"custom"},{default:a(({row:t})=>[e(i(S),{checked:t.is_default,"onUpdate:checked":n=>t.is_default=n,requestApi:i(w),onCallback:d,params:{id:t.id,field:"is_default"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),e(r,{label:"排序",prop:"sort",sortable:"custom"},{default:a(({row:t})=>[e(i(F),{"org-value":t.sort,"onUpdate:orgValue":n=>t.sort=n,params:{id:t.id,field:"sort"},requestApi:i(w),label:"排序",type:"input",onCallback:d},{default:a(()=>[s("div",null,b(t.sort||"--"),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),e(r,{label:"操作",fixed:"right",width:"150"},{default:a(({row:t})=>[e(i(U),{isDrawer:"",onOkCallback:d,title:"编地区语言",width:"800px",path:"setting/multilingual/languagesList/Info",params:{act:"detail",id:t.id}},{default:a(()=>[le]),_:2},1032,["params"]),e(B,{direction:"vertical"}),e(i(O),{onAfterDelete:d,requestApi:i(H),params:{id:t.id}},{default:a(()=>[m("删除")]),_:2},1032,["requestApi","params"])]),_:1})]),_:1},8,["data","total","loading"])]),_:1},8,["spinning"]),g.value>0?(h(),y("div",ne,[e(i(j),{page:c.page,"onUpdate:page":l[3]||(l[3]=t=>c.page=t),size:c.size,"onUpdate:size":l[4]||(l[4]=t=>c.size=t),total:g.value,onCallback:d},null,8,["page","size","total"])])):x("",!0)])])])])}}});export{ye as default};
