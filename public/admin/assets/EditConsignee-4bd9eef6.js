import{d as h,j as p,E as q,s as D,x as O,K as c,r as m,o as f,c as j,e as v,k as w,w as a,b as o,f as E,h as k,$ as L,a0 as F,H}from"./index-7c2d2aef.js";import{a as K,m as M}from"./order-5e1a3c9e.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-b4d9216b.js";import"./category-a8bd4d11.js";import"./index-6c62cf9b.js";import"./config-9548fa9b.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{S as T}from"./SelectRegion-b4362c1e.js";import"./shopProductCategory-792e0c23.js";/* empty css             */import"./time-290942a2.js";import"./util-1ee03ed8.js";import"./config-e2aa16d1.js";import"./region-e0d291a6.js";import"./region-05802f67.js";const $={class:"container"},z={class:"content_wrapper"},A={class:"lyecs-form-table"},G={style:{width:"100%"}},me=h({__name:"EditConsignee",props:{id:{type:Number,default:0},act:{type:String,default:0},form:{type:Object,default:()=>({})},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(C,{expose:S,emit:x}){const d=x,n=C,i=p(!0),g=q().currentRoute.value.query,_=p(n.isDialog?n.act:String(g.act)),b=p(n.isDialog?n.id:Number(g.id)),V=D(),e=p(n.form);O(()=>{U()});const U=async()=>{try{i.value=!0,console.log(_.value);const s=await K(_.value,{id:b.value});Object.assign(e.value,s.item)}catch(s){c.error(s.message),d("close")}finally{i.value=!1}},y=async()=>{await V.value.validate();try{d("update:confirmLoading",!0),console.log(e.value);const s=await M({id:b.value,...e.value});d("submitCallback",s),c.success(s.message)}catch(s){c.error(s.message)}finally{d("update:confirmLoading",!1)}};return S({onFormSubmit:()=>{y()}}),(s,l)=>{const u=m("el-input"),r=m("el-form-item"),B=m("el-button"),N=m("el-form"),R=m("a-spin");return f(),j("div",$,[v("div",z,[v("div",A,[i.value?k("",!0):(f(),w(N,{key:0,ref_key:"formRef",ref:V,model:e.value,"label-width":"auto"},{default:a(()=>[o(r,{rules:[{required:!0,message:"收货人不能为空!"}],label:"收货人",prop:"consignee"},{default:a(()=>[o(u,{modelValue:e.value.consignee,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.consignee=t)},null,8,["modelValue"])]),_:1}),o(r,{label:"所在地区",prop:"region_ids"},{default:a(()=>[v("div",G,[i.value?k("",!0):(f(),w(E(T),{key:0,modelValue:e.value.region_ids,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.region_ids=t)},null,8,["modelValue"]))])]),_:1}),o(r,{rules:[{required:!0,message:"手机不能为空!"}],label:"手机",prop:"mobile"},{default:a(()=>[o(u,{modelValue:e.value.mobile,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.mobile=t)},null,8,["modelValue"])]),_:1}),o(r,{rules:[{required:!0,message:"地址不能为空!"}],label:"地址",prop:"address"},{default:a(()=>[o(u,{modelValue:e.value.address,"onUpdate:modelValue":l[3]||(l[3]=t=>e.value.address=t)},null,8,["modelValue"])]),_:1}),o(r,{label:"邮编",prop:"postcode"},{default:a(()=>[o(u,{modelValue:e.value.postcode,"onUpdate:modelValue":l[4]||(l[4]=t=>e.value.postcode=t)},null,8,["modelValue"])]),_:1}),o(r,{label:"电子邮件",prop:"email"},{default:a(()=>[o(u,{modelValue:e.value.email,"onUpdate:modelValue":l[5]||(l[5]=t=>e.value.email=t)},null,8,["modelValue"])]),_:1}),o(r,{label:"电话",prop:"telephone"},{default:a(()=>[o(u,{modelValue:e.value.telephone,"onUpdate:modelValue":l[6]||(l[6]=t=>e.value.telephone=t)},null,8,["modelValue"])]),_:1}),L(o(r,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[o(B,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:y},{default:a(()=>[H("提交 ")]),_:1},512)]),_:1},512),[[F,!n.isDialog]])]),_:1},8,["model"])),o(R,{spinning:i.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{me as default};
