import{d as U,i as m,C as O,s as R,q,r as p,c as L,o as S,e as c,j,f as E,b as t,w as a,a3 as F,g as M,E as g,a4 as z,I as v}from"./index-DrbzVNl6.js";import{c as A,e as G}from"./shippingType-C5vYh2lk.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-MgR9Z6jO.js";import"./index-CeQDmMxd.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{S as H}from"./SelectLogisticsCompany-D6TqCoRE.js";/* empty css             */import"./time-Bh5UhrfW.js";import"./logisticsCompany-BiUbX96X.js";const J={class:"container"},K={class:"content_wrapper"},P={class:"lyecs-form-table"},ie=U({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(w,{expose:D,emit:C}){const r=C,n=w,u=m(!0),y=O().currentRoute.value.query,f=m(n.isDialog?n.act:String(y.act)),_=m(n.isDialog?n.id:Number(y.id)),h=f.value==="add"?"create":"update",b=R(),o=m({sortOrder:50,isSupportCod:0}),x=async()=>{try{const s=await A(f.value,{id:_.value});Object.assign(o.value,s)}catch(s){v.error(s.message),r("close")}finally{u.value=!1}};q(()=>{f.value==="detail"?x():u.value=!1});const T=async()=>{await b.value.validate();try{r("update:confirmLoading",!0);const s=await G(h,{id:_.value,...o.value});r("submitCallback",s),v.success("操作成功")}catch(s){v.error(s.message)}finally{r("update:confirmLoading",!1)}};return D({onFormSubmit:()=>{T()}}),(s,e)=>{const d=p("TigInput"),i=p("el-form-item"),V=p("el-radio"),N=p("el-radio-group"),k=p("el-button"),I=p("el-form"),B=p("a-spin");return S(),L("div",J,[c("div",K,[c("div",P,[u.value?E("",!0):(S(),j(I,{key:0,ref_key:"formRef",ref:b,model:o.value,"label-width":"auto"},{default:a(()=>[t(i,{rules:[{required:!0,message:"分类名称不能为空!"}],label:"分类名称",prop:"shippingTypeName"},{default:a(()=>[t(d,{classType:"tig-form-input",modelValue:o.value.shippingTypeName,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.shippingTypeName=l)},null,8,["modelValue"])]),_:1}),t(i,{label:"分类描述",prop:"shippingTypeDesc"},{default:a(()=>[t(d,{classType:"tig-form-input",modelValue:o.value.shippingTypeDesc,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.shippingTypeDesc=l),row:3,type:"textarea"},null,8,["modelValue"])]),_:1}),t(i,{label:"默认物流",prop:"shippingDefaultId"},{default:a(()=>[t(M(H),{id:o.value.shippingDefaultId,"onUpdate:id":e[2]||(e[2]=l=>o.value.shippingDefaultId=l)},null,8,["id"])]),_:1}),t(i,{label:"配送时间描述",prop:"shippingTimeDesc"},{default:a(()=>[t(d,{classType:"tig-form-input",modelValue:o.value.shippingTimeDesc,"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.shippingTimeDesc=l),row:3,type:"textarea"},null,8,["modelValue"])]),_:1}),t(i,{label:"排序",prop:"sortOrder"},{default:a(()=>[t(d,{type:"integer",classType:"tig-form-input",modelValue:o.value.sortOrder,"onUpdate:modelValue":e[4]||(e[4]=l=>o.value.sortOrder=l)},null,8,["modelValue"])]),_:1}),t(i,{label:"货到付款",prop:"isSupportCod"},{default:a(()=>[t(N,{modelValue:o.value.isSupportCod,"onUpdate:modelValue":e[5]||(e[5]=l=>o.value.isSupportCod=l),style:{width:"100%"}},{default:a(()=>[t(V,{value:1},{default:a(()=>e[6]||(e[6]=[g("是")])),_:1}),t(V,{value:0},{default:a(()=>e[7]||(e[7]=[g("否")])),_:1})]),_:1},8,["modelValue"]),e[8]||(e[8]=c("div",{class:"extra"},"该设置会影响所有所属的配送方式",-1))]),_:1}),F(t(i,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[t(k,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:T},{default:a(()=>e[9]||(e[9]=[g("提交")])),_:1},512)]),_:1},512),[[z,!n.isDialog]])]),_:1},8,["model"])),t(B,{spinning:u.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{ie as default};
