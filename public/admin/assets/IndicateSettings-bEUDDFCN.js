/* empty css             */import{d as U,p as W,K as B,s as P,i as d,q as D,dt as E,I as w,j as V,w as o,r,b1 as K,o as f,b as l,e as s,E as p,f as H,g as O,c as q,F,a as j,du as z,bt as M,_ as A}from"./index-DrbzVNl6.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-MgR9Z6jO.js";import"./index-CeQDmMxd.js";import{c as G}from"./format-CRgx78oe.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{S as J}from"./SelectRegion-JJ4Ak_JP.js";import"./time-Bh5UhrfW.js";import"./region-0UpBBzwZ.js";import"./region-p-p629KP.js";const Q={class:"itemWidth"},X={class:"selected-action-warp"},Y={class:"selected-action",style:{"padding-left":"80px"}},Z=U({__name:"IndicateSettings",setup($){const b=K();W(()=>b.query.point,()=>{const{scrollToElement:n}=M(b.query.point||"generalSetup","scrollContainer","generalSetup");n()},{immediate:!0});const _=B(),x=P(),i=d([]),v=d(!1),a=d({searchKeywords:"",msgHackWord:"",isOpenPscws:"",selfStoreName:"",shopDefaultRegions:"",defaultCountry:0,showCatLevel:0}),C=d([]);D(async()=>{await k()});const g=d(!0),k=async()=>{try{const n=await E();n.shopDefaultRegions&&(i.value=n.shopDefaultRegions.split(",").map(Number)),a.value=G(n),C.value=n.countries||[]}catch(n){w.error(n.message)}finally{g.value=!1}},N=async()=>{v.value=!0,i.value.length>0&&(a.value.shopDefaultRegions=i.value.join(","));try{const n=await z(a.value);w.success("修改成功"),_.updateConfig()}catch(n){w.error(n.message)}finally{v.value=!1}};return(n,e)=>{const y=r("TigInput"),u=r("el-form-item"),m=r("el-radio"),S=r("el-radio-group"),c=r("el-option"),R=r("el-select"),I=r("el-form"),L=r("el-button"),T=r("a-spin");return f(),V(T,{spinning:g.value},{default:o(()=>[l(I,{ref_key:"formRef",ref:x,model:a.value,"label-width":"140px",style:{"margin-left":"22px"}},{default:o(()=>[e[18]||(e[18]=s("div",{class:"title",id:"generalSetup"},"通用设置",-1)),l(u,{label:"搜索热门关键字",prop:"searchKeywords"},{default:o(()=>[l(y,{width:"100%",modelValue:a.value.searchKeywords,"onUpdate:modelValue":e[0]||(e[0]=t=>a.value.searchKeywords=t)},null,8,["modelValue"]),e[7]||(e[7]=s("div",{class:"extra"},"头部搜索框下方显示的搜索关键字,请用半角逗号(,)分隔多个关键字；颜色加亮请用b标签包含",-1))]),_:1}),l(u,{label:"敏感词屏蔽",prop:"msgHackWord"},{default:o(()=>[l(y,{width:"100%",modelValue:a.value.msgHackWord,"onUpdate:modelValue":e[1]||(e[1]=t=>a.value.msgHackWord=t)},null,8,["modelValue"]),e[8]||(e[8]=s("div",{class:"extra"},"设置后留言中出现的字符会提示非法，请用“,”号隔开，",-1))]),_:1}),l(u,{label:"搜索关键词分词",prop:"isOpenPscws"},{default:o(()=>[l(S,{modelValue:a.value.isOpenPscws,"onUpdate:modelValue":e[2]||(e[2]=t=>a.value.isOpenPscws=t),class:"itemWidth"},{default:o(()=>[l(m,{value:1},{default:o(()=>e[9]||(e[9]=[p("开启")])),_:1}),l(m,{value:0},{default:o(()=>e[10]||(e[10]=[p("关闭")])),_:1})]),_:1},8,["modelValue"]),e[11]||(e[11]=s("div",{class:"extra"},"开启后将自动分词，比如：儿童机器人，分拆分为：儿童、机器人（会降低搜索结果精准度）",-1))]),_:1}),l(u,{label:"自营名称",prop:"selfStoreName"},{default:o(()=>[l(y,{width:"100%",modelValue:a.value.selfStoreName,"onUpdate:modelValue":e[3]||(e[3]=t=>a.value.selfStoreName=t)},null,8,["modelValue"]),e[12]||(e[12]=s("div",{class:"extra"},"比如：官方自营、Tigshop自营，仅对B2B2C多商户版本有效",-1))]),_:1}),e[19]||(e[19]=s("div",{class:"title",id:"regionalSettings"},"地区设置",-1)),l(u,{label:"商城默认地区",prop:"shopCountry"},{default:o(()=>[s("div",Q,[g.value?H("",!0):(f(),V(O(J),{key:0,modelValue:i.value,"onUpdate:modelValue":e[4]||(e[4]=t=>i.value=t)},null,8,["modelValue"]))]),e[13]||(e[13]=s("div",{class:"extra"},"此地区会在系统未判断出用户IP所在地域时，默认定位地区（仅影响PC端右上角送货地址）",-1))]),_:1}),l(u,{label:"默认国家",prop:"defaultCountry"},{default:o(()=>[l(R,{modelValue:a.value.defaultCountry,"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.defaultCountry=t),style:{width:"100%"}},{default:o(()=>[l(c,{value:"0",label:"不选择"}),(f(!0),q(F,null,j(C.value,t=>(f(),V(c,{key:t.regionId,value:t.regionId,label:t.regionName},null,8,["value","label"]))),128))]),_:1},8,["modelValue"]),e[14]||(e[14]=s("div",{class:"extra"}," 如果选择了默认国家，则会员在选择地址时默认会显示该国家下的省份或地区，不再显示国家选择（修改设置对已经添加的会员地址不生效） ",-1))]),_:1}),e[20]||(e[20]=s("div",{class:"title",id:"categoryDisplay"},"分类显示",-1)),l(u,{label:"商城分类级数",prop:"showCatLevel"},{default:o(()=>[l(S,{modelValue:a.value.showCatLevel,"onUpdate:modelValue":e[6]||(e[6]=t=>a.value.showCatLevel=t),class:"itemWidth"},{default:o(()=>[l(m,{value:1},{default:o(()=>e[15]||(e[15]=[p("二级")])),_:1}),l(m,{value:0},{default:o(()=>e[16]||(e[16]=[p("三级或以上")])),_:1})]),_:1},8,["modelValue"]),e[17]||(e[17]=s("div",{class:"extra"},"根据商城情况，选择最多有多少分类级别，会影响到手机端分类展示方式（不推荐只设置一级分类）",-1))]),_:1})]),_:1},8,["model"]),e[22]||(e[22]=s("div",{style:{height:"20px"}},null,-1)),s("div",X,[s("div",Y,[l(L,{loading:v.value,class:"form-submit-btn",size:"large",type:"primary",onClick:N},{default:o(()=>e[21]||(e[21]=[p("提 交")])),_:1},8,["loading"])])])]),_:1},8,["spinning"])}}}),pe=A(Z,[["__scopeId","data-v-348566ec"]]);export{pe as default};
