import{d as w,i as m,C as V,s as h,q,r as o,c as B,o as f,e as i,j as R,f as S,w as r,b as t,I as _}from"./index-DrbzVNl6.js";import{u as I}from"./translationContent-Dpq5bYUM.js";const L={class:"container"},D={class:"content_wrapper"},E={class:"lyecs-form-table"},F="batchCreate",M=w({__name:"Add",props:{id:{type:Number,default:0},dataType:{type:Number,default:0},translationName:{type:String,default:""},isDialog:{type:Boolean,default:!1}},emits:["submitCallback","update:confirmLoading","close","closeConfirm"],setup(b,{expose:y,emit:v}){const l=v,s=b,g=m(!1),N=V().currentRoute.value.query;m(s.isDialog?s.id:Number(N.id));const c=h(),e=m({translationName:s.translationName,dataType:[s.dataType],items:[]});q(()=>{setTimeout(()=>{l("closeConfirm",!0)},1e4)});const k=async()=>{await c.value.validate();try{l("update:confirmLoading",!0);const n=await I(F,e.value);l("submitCallback",n),_.success("操作成功")}catch(n){_.error(n.message)}finally{l("update:confirmLoading",!1)}};return y({onFormSubmit:()=>{k()}}),(n,a)=>{const d=o("el-checkbox"),x=o("el-checkbox-group"),p=o("el-form-item"),C=o("TigInput"),T=o("el-form");return f(),B("div",L,[i("div",D,[i("div",E,[g.value?S("",!0):(f(),R(T,{key:0,ref_key:"formRef",ref:c,model:e.value,"label-width":"auto"},{default:r(()=>[t(p,{prop:"dataType",label:"翻译类型：",rules:[{required:!0,message:"请选择翻译类型!"}]},{default:r(()=>[t(x,{modelValue:e.value.dataType,"onUpdate:modelValue":a[0]||(a[0]=u=>e.value.dataType=u)},{default:r(()=>[t(d,{label:"页面文字",value:0}),t(d,{label:"接口文字",value:1})]),_:1},8,["modelValue"])]),_:1}),t(p,{prop:"translationName",label:"翻译原文：",rules:[{required:!0,message:"翻译原文不能为空!"}]},{default:r(()=>[t(C,{width:"100%",type:"textarea",rows:10,modelValue:e.value.translationName,"onUpdate:modelValue":a[1]||(a[1]=u=>e.value.translationName=u),class:"mr10"},null,8,["modelValue"]),a[2]||(a[2]=i("div",{class:"extra"},"输入需要翻译的原文句子, 每输入完成一句用Enter键换行, 继续输入下一句",-1))]),_:1})]),_:1},8,["model"]))])])])}}});export{M as default};
