import{d as h,i as m,C as N,s as q,q as B,r as l,c as R,o as _,e as i,j as S,f as L,w as r,b as a,I as f}from"./index-CGYuOau0.js";import{u as D}from"./translationContent-C0Nq8agy.js";const E={class:"container"},F={class:"content_wrapper"},T={class:"lyecs-form-table"},U="batch_create",M=h({__name:"Add",props:{id:{type:Number,default:0},data_type:{type:Number,default:0},translation_name:{type:String,default:""},isDialog:{type:Boolean,default:!1}},emits:["submitCallback","update:confirmLoading","close","closeConfirm"],setup(b,{expose:y,emit:v}){const s=v,n=b,g=m(!1),k=N().currentRoute.value.query;m(n.isDialog?n.id:Number(k.id));const c=q(),e=m({translation_name:n.translation_name,data_type:[n.data_type],items:[]});B(()=>{setTimeout(()=>{s("closeConfirm",!0)},1e4)});const x=async()=>{await c.value.validate();try{s("update:confirmLoading",!0);const o=await D(U,e.value);s("submitCallback",o),f.success(o.message)}catch(o){f.error(o.message)}finally{s("update:confirmLoading",!1)}};return y({onFormSubmit:()=>{x()}}),(o,t)=>{const d=l("el-checkbox"),C=l("el-checkbox-group"),p=l("el-form-item"),V=l("el-input"),w=l("el-form");return _(),R("div",E,[i("div",F,[i("div",T,[g.value?L("",!0):(_(),S(w,{key:0,ref_key:"formRef",ref:c,model:e.value,"label-width":"auto"},{default:r(()=>[a(p,{prop:"data_type",label:"翻译类型：",rules:[{required:!0,message:"请选择翻译类型!"}]},{default:r(()=>[a(C,{modelValue:e.value.data_type,"onUpdate:modelValue":t[0]||(t[0]=u=>e.value.data_type=u)},{default:r(()=>[a(d,{label:"页面文字",value:0}),a(d,{label:"接口文字",value:1})]),_:1},8,["modelValue"])]),_:1}),a(p,{prop:"translation_name",label:"翻译原文：",rules:[{required:!0,message:"翻译原文不能为空!"}]},{default:r(()=>[a(V,{type:"textarea",rows:10,modelValue:e.value.translation_name,"onUpdate:modelValue":t[1]||(t[1]=u=>e.value.translation_name=u),class:"mr10"},null,8,["modelValue"]),t[2]||(t[2]=i("div",{class:"extra"},"输入需要翻译的原文句子, 每输入完成一句用Enter键换行, 继续输入下一句",-1))]),_:1})]),_:1},8,["model"]))])])])}}});export{M as default};
