import{d as U,i,C as q,s as F,q as L,I as p,r as n,c as O,o as w,e as f,j,f as G,w as t,b as o,a0 as I,g as A,E as c,a1 as M}from"./index-CGYuOau0.js";import{F as T}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-CjXfTDg5.js";import{a as h,c as z}from"./example-BQe23v7w.js";import"./index-B-GURfkM.js";import"./vuedraggable.umd-_1km55l4.js";import"./Image.vue_vue_type_script_setup_true_lang-D9PqZe9n.js";import"./format-DFT-VJzO.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";const H={class:"container"},J={class:"content_wrapper"},K={class:"lyecs-form-table"},le=U({__name:"Info",props:{id:Number,act:String,isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(y,{expose:k,emit:C}){const m=C,u=y,_=i(!0),v=q().currentRoute.value.query,S=i(u.isDialog?u.act:String(v.act)),b=i(u.isDialog?u.id:Number(v.id)),B=S.value==="add"?"insert":"update",g=F(),a=i({});L(()=>{N()});const N=async()=>{try{const l=await h({id:b.value});Object.assign(a.value,l.item)}catch(l){p.error(l.message),m("close")}finally{_.value=!1}},x=async()=>{await g.value.validate();try{m("update:confirmLoading",!0);const l=await z(B,{id:b.value,...a.value});m("submitCallback",l),p.success(l.message)}catch(l){p.error(l.message)}finally{m("update:confirmLoading",!1)}};return k({onFormSubmit:()=>{x()}}),(l,e)=>{const d=n("el-input"),r=n("el-form-item"),V=n("el-radio"),D=n("el-radio-group"),E=n("el-button"),R=n("el-form");return w(),O("div",H,[f("div",J,[f("div",K,[_.value?G("",!0):(w(),j(R,{key:0,ref_key:"formRef",ref:g,model:a.value,"label-width":"auto"},{default:t(()=>[o(r,{prop:"example_name",label:"示例模板名称",rules:[{required:!0,message:"示例模板名称不能为空!"}]},{default:t(()=>[o(d,{modelValue:a.value.example_name,"onUpdate:modelValue":e[0]||(e[0]=s=>a.value.example_name=s)},null,8,["modelValue"])]),_:1}),o(r,{prop:"example_logo",label:"示例模板LOGO"},{default:t(()=>[o(A(T),{photo:a.value.example_logo,"onUpdate:photo":e[1]||(e[1]=s=>a.value.example_logo=s)},null,8,["photo"]),e[5]||(e[5]=f("div",{class:"extra"},"请统一上传比例为2:1的图片，宽200px，高100px（高清）",-1))]),_:1}),o(r,{prop:"example_desc",label:"示例模板描述"},{default:t(()=>[o(d,{type:"textarea",row:"2",modelValue:a.value.example_desc,"onUpdate:modelValue":e[2]||(e[2]=s=>a.value.example_desc=s)},null,8,["modelValue"])]),_:1}),o(r,{prop:"sort_order",label:"排序"},{default:t(()=>[o(d,{modelValue:a.value.sort_order,"onUpdate:modelValue":e[3]||(e[3]=s=>a.value.sort_order=s)},null,8,["modelValue"])]),_:1}),o(r,{prop:"is_show",label:"是否显示"},{default:t(()=>[o(D,{modelValue:a.value.is_show,"onUpdate:modelValue":e[4]||(e[4]=s=>a.value.is_show=s)},{default:t(()=>[o(V,{value:1},{default:t(()=>e[6]||(e[6]=[c("是")])),_:1}),o(V,{value:0},{default:t(()=>e[7]||(e[7]=[c("否")])),_:1})]),_:1},8,["modelValue"])]),_:1}),I(o(r,{"wrapper-col":{offset:4,span:16}},{default:t(()=>[o(E,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:x},{default:t(()=>e[8]||(e[8]=[c("提交")])),_:1},512)]),_:1},512),[[M,!u.isDialog]])]),_:1},8,["model"]))])])])}}});export{le as default};
