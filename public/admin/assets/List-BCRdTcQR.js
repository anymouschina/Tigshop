/* empty css             */import"./index-B-GURfkM.js";import{P as F}from"./PopFormElm-DSof3F4x.js";import{_ as S}from"./Switch.vue_vue_type_script_setup_true_lang-CKSPWIQL.js";import{_ as E}from"./DeleteRecord.vue_vue_type_script_setup_true_lang-BTFcBk5t.js";/* empty css                                                                    */import{P as O}from"./Pagination-yOfjsBuR.js";import{u as G}from"./config-DNllFJyR.js";import{g as M,u as w,d as T,b as j}from"./languagesList-4F0M2hMq.js";import{d as H,i as v,G as J,q as K,c as y,e as s,b as t,w as l,f as q,g as i,I as A,r as c,o as k,E as _,D as b}from"./index-CGYuOau0.js";import{_ as U}from"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";import"./config-DU8_t5BN.js";const Q={class:"container"},R={class:"content_wrapper"},W={class:"lyecs-table-list-warp"},X={class:"list-table-tool lyecs-search-warp"},Y={class:"list-table-tool-row"},Z={class:"list-table-tool-col"},ee={key:0},te={class:"table-container"},ae={style:{position:"relative"}},le={class:"empty-warp"},se={key:0,class:"empty-bg"},oe={key:0,class:"pagination-con"},ye=H({__name:"List",props:{promotion_type:{type:Number,default:1}},setup(ne,{expose:z}){const L=G(),x=v(),f=v(!0),g=v(0),m=v([]),p=J({page:1,size:L.get("page_size"),sort_field:"",sort_order:"",keyword:""}),d=async()=>{f.value=!0;try{const o=await M({...p});x.value=o.filter_result,g.value=o.total}catch(o){A.error(o.message)}finally{f.value=!1}};K(()=>{d()});const V=({prop:o,order:e})=>{p.sort_field=o,p.sort_order=e=="ascending"?"asc":e=="descending"?"desc":"",d()},h=async(o,e)=>{try{const u=await j(o,{ids:m.value,value:e});A.success(u.message),d()}catch(u){A.error(u.message)}},$=o=>{m.value=o.map(e=>e.id)};return z({loadFilter:d}),(o,e)=>{const u=c("el-button"),C=c("el-popconfirm"),D=c("el-space"),N=c("el-form"),r=c("el-table-column"),P=c("el-divider"),B=c("el-table"),I=c("a-spin");return k(),y("div",Q,[s("div",R,[s("div",W,[s("div",X,[t(N,{model:p},{default:l(()=>[s("div",Y,[s("div",Z,[t(D,null,{default:l(()=>[t(i(U),{params:{act:"add"},isDrawer:"",path:"setting/multilingual/languagesList/Info",title:"添加语言",width:"600px",onOkCallback:d},{default:l(()=>[t(u,{type:"primary"},{default:l(()=>e[5]||(e[5]=[_("添加语言")])),_:1})]),_:1}),t(C,{title:"您确认要批量删除所选数据吗？",onConfirm:e[0]||(e[0]=a=>h("del"))},{reference:l(()=>[t(u,{disabled:m.value.length===0},{default:l(()=>e[6]||(e[6]=[_("批量删除")])),_:1},8,["disabled"])]),_:1}),t(C,{title:"您确认要批量启用所选数据吗？",onConfirm:e[1]||(e[1]=a=>h("enabled",1))},{reference:l(()=>[t(u,{disabled:m.value.length===0},{default:l(()=>e[7]||(e[7]=[_("批量启用")])),_:1},8,["disabled"])]),_:1}),t(C,{title:"您确认要批量取消启用所选数据吗？",onConfirm:e[2]||(e[2]=a=>h("enabled",0))},{reference:l(()=>[t(u,{disabled:m.value.length===0},{default:l(()=>e[8]||(e[8]=[_("批量取消启用")])),_:1},8,["disabled"])]),_:1}),m.value.length>0?(k(),y("span",ee,[e[9]||(e[9]=_(" 已选择：")),s("b",null,b(m.value.length),1),e[10]||(e[10]=_(" 项 "))])):q("",!0)]),_:1})])])]),_:1},8,["model"])]),s("div",te,[t(I,{spinning:f.value},{default:l(()=>[t(B,{data:x.value,"row-key":"id",onSelectionChange:$,total:g.value,onSortChange:V,loading:f.value},{empty:l(()=>[s("div",le,[f.value?q("",!0):(k(),y("div",se,"暂无数据"))])]),default:l(()=>[t(r,{type:"selection",width:"32"}),t(r,{label:"语言名称",prop:"language",width:150},{default:l(({row:a})=>[s("div",ae,[s("div",null,b(a.language||"--"),1)])]),_:1}),t(r,{label:"语言识别码",prop:"locale_code",width:"200"}),t(r,{label:"货币",prop:"name",width:"200"},{default:l(({row:a})=>{var n;return[s("div",null,b(((n=a.currency)==null?void 0:n.name)||"--"),1)]}),_:1}),t(r,{label:"货币符号",prop:"symbol",width:"200"},{default:l(({row:a})=>{var n;return[s("div",null,b(((n=a.currency)==null?void 0:n.symbol)||"--"),1)]}),_:1}),t(r,{label:"最后更新时间",prop:"last_updated",width:"200",sortable:"custom"}),t(r,{label:"是否启用",prop:"is_enabled",sortable:"custom"},{default:l(({row:a})=>[t(i(S),{checked:a.is_enabled,"onUpdate:checked":n=>a.is_enabled=n,requestApi:i(w),params:{id:a.id,field:"is_enabled"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),t(r,{label:"是否默认",prop:"is_default",sortable:"custom"},{default:l(({row:a})=>[t(i(S),{checked:a.is_default,"onUpdate:checked":n=>a.is_default=n,requestApi:i(w),onCallback:d,params:{id:a.id,field:"is_default"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),t(r,{label:"排序",prop:"sort",sortable:"custom"},{default:l(({row:a})=>[t(i(F),{"org-value":a.sort,"onUpdate:orgValue":n=>a.sort=n,params:{id:a.id,field:"sort"},requestApi:i(w),label:"排序",type:"input",onCallback:d},{default:l(()=>[s("div",null,b(a.sort||"--"),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),t(r,{label:"操作",fixed:"right",width:"150"},{default:l(({row:a})=>[t(i(U),{isDrawer:"",onOkCallback:d,title:"编地区语言",width:"800px",path:"setting/multilingual/languagesList/Info",params:{act:"detail",id:a.id}},{default:l(()=>e[11]||(e[11]=[s("a",{class:"btn-link"},"编辑",-1)])),_:2},1032,["params"]),t(P,{direction:"vertical"}),t(i(E),{onAfterDelete:d,requestApi:i(T),params:{id:a.id}},{default:l(()=>e[12]||(e[12]=[_("删除")])),_:2},1032,["requestApi","params"])]),_:1})]),_:1},8,["data","total","loading"])]),_:1},8,["spinning"]),g.value>0?(k(),y("div",oe,[t(i(O),{page:p.page,"onUpdate:page":e[3]||(e[3]=a=>p.page=a),size:p.size,"onUpdate:size":e[4]||(e[4]=a=>p.size=a),total:g.value,onCallback:d},null,8,["page","size","total"])])):q("",!0)])])])])}}});export{ye as default};
