import{e as k,f as h}from"./gallery-DHkpVoP3.js";import{d as C,aU as G,i as x,G as B,q as R,I as n,r as m,c as T,o as U,e as p,b as t,w as i,g as o}from"./index-DrbzVNl6.js";const q={class:"container"},E={class:"content_wrapper"},F={class:"lyecs-form-table"},O=C({__name:"GalleryEdit",props:{id:{type:Number,default:0},parentId:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","okType"],setup(y,{expose:_,emit:g}){const b=y,{parentId:v,id:u,act:r}=G(b),I=r.value=="add"?"create":"update",c=x();let a=B({galleryName:"",gallerySort:50});R(()=>{r.value==="detail"&&S()});const S=async()=>{try{const e=await k(r.value,{id:u.value});Object.assign(a,e)}catch(e){n.error(e.message)}},N=g,V=async()=>{await c.value.validate();try{const e=await h(I,{id:u.value,parentId:v.value,...a});N("submitCallback",e),n.success("操作成功")}catch(e){n.error(e.message)}};return _({onFormSubmit:()=>{V()}}),(e,l)=>{const d=m("TigInput"),f=m("el-form-item"),w=m("el-form");return U(),T("div",q,[p("div",E,[p("div",F,[t(w,{ref_key:"formRef",ref:c,model:o(a),"label-width":"auto"},{default:i(()=>[t(f,{name:"galleryName",label:"相册名称",rules:[{required:!0,message:"相册名称不能为空!"}]},{default:i(()=>[t(d,{modelValue:o(a).galleryName,"onUpdate:modelValue":l[0]||(l[0]=s=>o(a).galleryName=s)},null,8,["modelValue"])]),_:1}),t(f,{name:"gallerySort",label:"排序"},{default:i(()=>[t(d,{type:"integer",modelValue:o(a).gallerySort,"onUpdate:modelValue":l[1]||(l[1]=s=>o(a).gallerySort=s),min:0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])])])}}});export{O as default};
