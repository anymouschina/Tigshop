/* empty css                 */import{d as M,m as S,i as g,u as U,aR as z,r as w,c as o,o as c,f as m,e as t,b as a,g as i,w as r,E as T,D as O,_ as D,q as N,A as j,I as $,aW as A,F as L,a as Q}from"./index-CGYuOau0.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-t3_hMxDC.js";import"./index-B-GURfkM.js";import{i as u}from"./format-DFT-VJzO.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              *//* empty css             */import{d as B}from"./vuedraggable.umd-_1km55l4.js";import{S as C}from"./SelectLink-7bDF6pPk.js";import{_ as v}from"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";import"./ProductGroupSelect.vue_vue_type_style_index_0_scoped_a9bbde62_lang-K6p2K1R0.js";import"./lodash-blK8fE0I.js";import{g as E,u as F}from"./decorateDiscrete-DibaskwM.js";import"./time-ClyPenjC.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";const W={style:{width:"100%"}},G={key:0,class:"gallery-list-warp"},P={class:"dec-pic-group"},q={class:"dec-pic-group-list"},I={class:"dec-pic-group-item"},H={class:"dec-pic-group-item-con"},J={class:"item-image"},R={class:"item-image-con"},X=["src"],Y={class:"item-image-con"},Z=["src"],K={class:"item-info"},ee={class:"item-info-item item-info-title"},te={class:"item-info-item item-info-link"},se={class:"lyecs-link-select"},ie={key:0,class:"dec-pic-group-item"},le={class:"dec-pic-group-item-con"},ae={class:"item-image"},oe={class:"item-image-con"},ce=["src"],de={class:"item-image-con"},ne=["src"],pe={class:"item-info"},me={class:"item-info-item item-info-title"},re={class:"item-info-item item-info-link"},ue={class:"lyecs-link-select"},_e=["onClick"],ve={class:"dec-pic-group-item"},ge={class:"dec-pic-group-item-con"},he={class:"item-image"},fe={class:"item-image-con"},ye=["src"],be={class:"item-image-con"},ke=["src"],xe={class:"item-info"},Ve={class:"item-info-item item-info-title"},$e={class:"item-info-item item-info-link"},Ce={class:"lyecs-link-select"},we={key:0,class:"dec-pic-add-con"},Me=M({__name:"NavPicList",props:S({isMultiple:{type:Boolean,default:!1},showDesc:{type:Boolean,default:!1},decorateType:{type:String,default:""}},{photos:{type:Array,default:[]},photosModifiers:{}}),emits:["update:photos"],setup(_){g(null);const k=_,s=U(_,"photos"),{isMultiple:h}=z(k),p=(d,e)=>{Object.assign(s.value[e.index],d[0])},f=(d,e)=>{s.value[e.index].pic_active_thumb=d[0].pic_thumb,s.value[e.index].pic_active_url=d[0].pic_url},V=()=>{s.value.splice(s.value.length-1,0,{pic_title:"",pic_thumb:"",pic_url:"",pic_active_thumb:"",pic_active_url:"",pic_link:""})},x=d=>{s.value.splice(d,1)};return(d,e)=>{const y=w("el-input");return c(),o("div",W,[s.value.length>0?(c(),o("div",G,[t("div",P,[t("div",q,[t("div",I,[t("div",H,[t("div",J,[t("div",R,[s.value[0].pic_active_thumb?(c(),o("img",{key:0,class:"item-image-src",src:i(u)(s.value[0].pic_active_thumb)},null,8,X)):m("",!0),a(i(v),{type:"gallery",class:"",onOkCallback:f,params:{isMultiple:!1},data:{index:0}},{default:r(()=>e[6]||(e[6]=[t("span",{class:"change-image"},"更换图片",-1)])),_:1}),e[7]||(e[7]=t("div",{class:"item-text"},"选中",-1))]),t("div",Y,[s.value[0].pic_thumb?(c(),o("img",{key:0,class:"item-image-src",src:i(u)(s.value[0].pic_thumb)},null,8,Z)):m("",!0),a(i(v),{type:"gallery",class:"",onOkCallback:p,params:{isMultiple:!1},data:{index:0}},{default:r(()=>e[8]||(e[8]=[t("span",{class:"change-image"},"更换图片",-1)])),_:1}),e[9]||(e[9]=t("div",{class:"item-text"},"未选中",-1))])]),t("div",K,[t("div",ee,[e[10]||(e[10]=t("span",{class:"lable"},"标题",-1)),a(y,{placeholder:"建议10个字以内，可不填",modelValue:s.value[0].pic_title,"onUpdate:modelValue":e[0]||(e[0]=l=>s.value[0].pic_title=l)},null,8,["modelValue"])]),t("div",te,[e[11]||(e[11]=t("span",{class:"lable"},"链接",-1)),t("div",se,[a(i(C),{modelValue:s.value[0].pic_link,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value[0].pic_link=l),disabled:"",decorateType:_.decorateType},null,8,["modelValue","decorateType"])])])])])]),a(i(B),{class:"gallery-list-ul","item-key":"",list:s.value,"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:e[2]||(e[2]=()=>{}),onEnd:e[3]||(e[3]=()=>{})},{item:r(({element:l,index:n})=>[n!==0&&n!==s.value.length-1?(c(),o("div",ie,[t("div",le,[t("div",ae,[t("div",oe,[l.pic_active_thumb?(c(),o("img",{key:0,class:"item-image-src",src:i(u)(l.pic_active_thumb)},null,8,ce)):m("",!0),a(i(v),{type:"gallery",class:"",onOkCallback:f,params:{isMultiple:!1},data:{index:n}},{default:r(()=>e[12]||(e[12]=[t("span",{class:"change-image"},"更换图片",-1)])),_:2},1032,["data"]),e[13]||(e[13]=t("div",{class:"item-text"},"选中",-1))]),t("div",de,[l.pic_thumb?(c(),o("img",{key:0,class:"item-image-src",src:i(u)(l.pic_thumb)},null,8,ne)):m("",!0),a(i(v),{type:"gallery",class:"",onOkCallback:p,params:{isMultiple:!1},data:{index:n}},{default:r(()=>e[14]||(e[14]=[t("span",{class:"change-image"},"更换图片",-1)])),_:2},1032,["data"]),e[15]||(e[15]=t("div",{class:"item-text"},"未选中",-1))])]),t("div",pe,[t("div",me,[e[16]||(e[16]=t("span",{class:"lable"},"标题",-1)),a(y,{placeholder:"建议10个字以内，可不填",modelValue:l.pic_title,"onUpdate:modelValue":b=>l.pic_title=b},null,8,["modelValue","onUpdate:modelValue"])]),t("div",re,[e[17]||(e[17]=t("span",{class:"lable"},"链接",-1)),t("div",ue,[a(i(C),{modelValue:l.pic_link,"onUpdate:modelValue":b=>l.pic_link=b,disabled:n==0,decorateType:_.decorateType},null,8,["modelValue","onUpdate:modelValue","disabled","decorateType"])])])]),i(h)==!0?(c(),o("div",{key:0,class:"del-item",onClick:b=>x(n)},e[18]||(e[18]=[t("i",{class:"ico-decorate icon-dec-cha"},null,-1)]),8,_e)):m("",!0)])])):m("",!0)]),_:1},8,["list"]),t("div",ve,[t("div",ge,[t("div",he,[t("div",fe,[s.value[s.value.length-1].pic_active_thumb?(c(),o("img",{key:0,class:"item-image-src",src:i(u)(s.value[s.value.length-1].pic_active_thumb)},null,8,ye)):m("",!0),a(i(v),{type:"gallery",class:"",onOkCallback:f,params:{isMultiple:!1},data:{index:s.value.length-1}},{default:r(()=>e[19]||(e[19]=[t("span",{class:"change-image"},"更换图片",-1)])),_:1},8,["data"]),e[20]||(e[20]=t("div",{class:"item-text"},"选中",-1))]),t("div",be,[s.value[s.value.length-1].pic_thumb?(c(),o("img",{key:0,class:"item-image-src",src:i(u)(s.value[s.value.length-1].pic_thumb)},null,8,ke)):m("",!0),a(i(v),{type:"gallery",class:"",onOkCallback:p,params:{isMultiple:!1},data:{index:s.value.length-1}},{default:r(()=>e[21]||(e[21]=[t("span",{class:"change-image"},"更换图片",-1)])),_:1},8,["data"]),e[22]||(e[22]=t("div",{class:"item-text"},"未选中",-1))])]),t("div",xe,[t("div",Ve,[e[23]||(e[23]=t("span",{class:"lable"},"标题",-1)),a(y,{placeholder:"建议10个字以内，可不填",modelValue:s.value[s.value.length-1].pic_title,"onUpdate:modelValue":e[4]||(e[4]=l=>s.value[s.value.length-1].pic_title=l)},null,8,["modelValue"])]),t("div",$e,[e[24]||(e[24]=t("span",{class:"lable"},"链接",-1)),t("div",Ce,[a(i(C),{modelValue:s.value[s.value.length-1].pic_link,"onUpdate:modelValue":e[5]||(e[5]=l=>s.value[s.value.length-1].pic_link=l),disabled:"",decorateType:_.decorateType},null,8,["modelValue","decorateType"])])])])])])]),s.value.length<5?(c(),o("div",we,[t("a",{class:"dec-pic-add-btn",onClick:V},[e[25]||(e[25]=t("i",{class:"ico-decorate icon-dec-jia"},null,-1)),T("添加导航 "+O(s.value.length)+"/5",1)])])):m("",!0)])])):m("",!0)])}}}),Te=D(Me,[["__scopeId","data-v-8fbaa528"]]),Oe={class:"container"},De={class:"content_wrapper decoratePgaeWrap"},Se={class:"flex box-wrapper"},Ue={class:"tab-box"},ze={class:"flex"},Ne={class:"decorateWrap"},je={class:"decorate-page-window",style:{"background-position":"center top",height:"700px","margin-top":"10px"}},Ae={class:"theme-modules-warp"},Le={class:"list-item modules-item modules-item-bottom_nav module-item-active"},Qe={class:"module-ad-con"},Be={class:"bottom-nav-con"},Ee={class:"bottom-nav-item"},Fe={class:"item-content"},We={class:"item-img-a"},Ge=["src"],Pe={class:"item-text-a"},qe={class:"item-text"},Ie={class:"right-box-warp",style:{width:"510px"}},He={class:"dec-edit-group dec-edit-group-block"},Je={class:"dec-edit-group-con"},Re={class:"dec-edit-save"},Xe=M({__name:"Nav",setup(_){const k=g("mobile_nav"),s=g(!0),h=g(!1),p=g({nav_list:[]}),f=g([{pic_title:"首页",pic_thumb:"img/gallery/demo/1680247587QG2y44h7a7f0M1dx9T!!pic200x200.png",pic_url:"img/gallery/demo/1680247587QG2y44h7a7f0M1dx9T!!pic.png",pic_active_thumb:"img/gallery/demo/16802475870v7jHejQtgFvn7Yd6e!!pic200x200.png",pic_active_url:"img/gallery/demo/16802475870v7jHejQtgFvn7Yd6e!!pic.png",pic_link:{path:"base",label:"商城首页",name:"商城首页",link:"/"},pic_id:583,pic_name:"ico_1"},{pic_title:"我的",pic_thumb:"img/gallery/demo/1680247679vqWSO1Ci9sAGJCzzZa!!pic200x200.png",pic_url:"img/gallery/demo/1680247679vqWSO1Ci9sAGJCzzZa!!pic.png",pic_active_thumb:"img/gallery/demo/1680247682VX4iwQSO82hyzUedDz!!pic200x200.png",pic_active_url:"img/gallery/demo/1680247682VX4iwQSO82hyzUedDz!!pic.png",pic_link:{path:"base",label:"会员中心",name:"会员中心",link:"member"},pic_id:589,pic_name:"ico_4"}]);N(()=>{V()});const V=async()=>{try{const d=await E({decorate_sn:k.value});Object.assign(p.value,d.item.data),j(()=>{p.value.nav_list.length<=0&&(p.value.nav_list=f.value,x(1))})}catch(d){$.error(d.message)}finally{s.value=!1}},x=async d=>{try{h.value=!0;const e=await F({decorate_sn:k.value,data:p.value});d!==1&&$.success(e.message)}catch(e){$.error(e.message)}finally{h.value=!1}};return(d,e)=>{const y=w("a-spin"),l=w("a-button");return c(),o("div",Oe,[t("div",De,[t("div",Se,[t("div",Ue,[t("div",ze,[t("div",Ne,[t("div",je,[t("div",Ae,[e[1]||(e[1]=A('<div class="list-item modules-item modules-item-topbar" draggable="false" data-v-605f32cc><div class="module-ad-con module-topbar-warp" data-v-605f32cc><div class="module-topbar-con" data-v-605f32cc><div class="module-topbar-title-con" data-v-605f32cc><div class="title-item" style="" data-v-605f32cc>页面标题</div></div></div></div></div>',1)),t("div",Le,[t("div",Qe,[t("div",Be,[(c(!0),o(L,null,Q(p.value.nav_list,(n,b)=>(c(),o("div",Ee,[t("div",Fe,[t("a",We,[n.pic_url?(c(),o("img",{key:0,class:"item-img",src:i(u)(n.pic_url)},null,8,Ge)):m("",!0)]),t("a",Pe,[t("span",qe,O(n.pic_title),1)])])]))),256))])])])])])]),t("div",Ie,[e[4]||(e[4]=t("div",{class:"dec-spread-title"},[t("div",{class:"title"},"底部导航设置")],-1)),a(y,{spinning:s.value},{default:r(()=>[t("div",He,[e[2]||(e[2]=t("div",{class:"dec-edit-group-title"},[t("div",{class:"title"},"添加图片")],-1)),t("div",Je,[a(i(Te),{isMultiple:!0,photos:p.value.nav_list,"onUpdate:photos":e[0]||(e[0]=n=>p.value.nav_list=n),decorateType:"mobile"},null,8,["photos"])])])]),_:1},8,["spinning"]),t("div",Re,[a(l,{loading:h.value,onClick:x,type:"primary",size:"large",class:"save-btn"},{default:r(()=>e[3]||(e[3]=[T("保存")])),_:1},8,["loading"])])])])])])])])}}}),vt=D(Xe,[["__scopeId","data-v-605f32cc"]]);export{vt as default};
