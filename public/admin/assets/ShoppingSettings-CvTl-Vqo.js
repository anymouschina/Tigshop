/* empty css             */import{d as A,p as I,K as N,s as T,i as g,q as M,dp as R,I as f,j as E,w as o,r as p,b1 as W,o as k,b as l,e as a,E as s,dq as q,bt as O,_ as Q}from"./index-DrbzVNl6.js";import{c as B}from"./format-CRgx78oe.js";const j={class:"itemWidth flex"},z={class:"selected-action-warp"},F={class:"selected-action",style:{"padding-left":"80px"}},K=A({__name:"ShoppingSettings",setup(L){const V=W();I(()=>V.query.point,()=>{const{scrollToElement:u}=O(V.query.point||"globalShoppingSettings","scrollContainer","globalShoppingSettings");u()},{immediate:!0});const b=N(),x=T(),v=g(!1),t=g({childAreaNeedRegion:0,autoCancelOrderMinute:0,integralName:"",integralScale:"",orderSendPoint:"",integralPercent:"",commentSendPoint:"",showSendPoint:"",useQiandaoPoint:0,canInvoice:0,invoiceAdded:0,returnConsignee:"",returnMobile:"",returnAddress:""});M(async()=>{await w()});const S=g(!0),w=async()=>{try{const u=await R();t.value=B(u)}catch(u){f.error(u.message)}finally{S.value=!1}},y=async()=>{v.value=!0;try{const u=await q(t.value);f.success("修改成功"),b.updateConfig()}catch(u){f.error(u.message)}finally{v.value=!1}};return(u,e)=>{const r=p("el-radio"),m=p("el-radio-group"),d=p("el-form-item"),i=p("TigInput"),P=p("el-form"),C=p("el-button"),U=p("a-spin");return k(),E(U,{spinning:S.value},{default:o(()=>[l(P,{ref_key:"formRef",ref:x,model:t.value,"label-width":"145px",style:{"margin-left":"22px"}},{default:o(()=>[e[35]||(e[35]=a("div",{class:"title",id:"globalShoppingSettings"},"购物全局设置",-1)),l(d,{label:"运费模板地区设置机制",prop:"childAreaNeedRegion"},{default:o(()=>[l(m,{modelValue:t.value.childAreaNeedRegion,"onUpdate:modelValue":e[0]||(e[0]=n=>t.value.childAreaNeedRegion=n),class:"itemWidth"},{default:o(()=>[l(r,{value:1},{default:o(()=>e[14]||(e[14]=[s("仅设置的地区可配送")])),_:1}),l(r,{value:0},{default:o(()=>e[15]||(e[15]=[s("未设置的地区皆可配送（使用默认运费设置）")])),_:1})]),_:1},8,["modelValue"]),e[16]||(e[16]=a("div",null,[a("div",{class:"extra"}," 运费模板一旦增加指定地区运费，如果该设置为“仅设置的地区可配送”，将不再默认全国都可配送，而是只能配送到增加的地区（如果收货地址不在设置范围，该配送类型不可用）； "),a("div",{class:"extra"}," 如果设置为“未设置的地区使用默认运费设置”，收货地址如果是设置的地区范围内，则按该地区的运费计费，如果不在这范围内，则按默认计费（相当于不会存在不能配送的区域）； "),a("div",{class:"extra"}," 如何选择？如果所有商品可全国配送，就选“未设置的地区使用默认运费设置”，如果有的商品只配送给部分区域，则选前者，该设置会对全站商品生效，慎重设置！ ")],-1))]),_:1}),e[36]||(e[36]=a("div",{class:"title",id:"orderSettings"},"订单设置",-1)),l(d,{label:"未付款订单",prop:"autoCancelOrderMinute"},{default:o(()=>[a("div",j,[e[17]||(e[17]=a("span",{class:"mr8"},"订单超",-1)),l(i,{type:"integer",modelValue:t.value.autoCancelOrderMinute,"onUpdate:modelValue":e[1]||(e[1]=n=>t.value.autoCancelOrderMinute=n),width:"60px"},null,8,["modelValue"]),e[18]||(e[18]=a("span",{class:"ml8"},"分钟未支付自动取消",-1))]),e[19]||(e[19]=a("div",{class:"extra"},"未支付的订单会自动取消，请填写分钟，比如10则代表10分钟未付款则取消订单，为0或空则不限制",-1))]),_:1}),e[37]||(e[37]=a("div",{class:"title",id:"pointsSetting"},"积分设置",-1)),l(d,{label:"积分名称",prop:"integralName"},{default:o(()=>[l(i,{width:"100%",modelValue:t.value.integralName,"onUpdate:modelValue":e[2]||(e[2]=n=>t.value.integralName=n)},null,8,["modelValue"]),e[20]||(e[20]=a("div",{class:"extra"},"您可以将积分重新命名。例如：金豆、金币",-1))]),_:1}),l(d,{label:"积分换算比例",prop:"integralScale"},{default:o(()=>[l(i,{width:"100%",TigInput:"",type:"decimal",decimalPlaces:1,modelValue:t.value.integralScale,"onUpdate:modelValue":e[3]||(e[3]=n=>t.value.integralScale=n)},null,8,["modelValue"]),e[21]||(e[21]=a("div",{class:"extra"},"每100积分可抵多少元现金",-1))]),_:1}),l(d,{label:"下单送积分",prop:"orderSendPoint"},{default:o(()=>[l(i,{width:"100%",TigInput:"",type:"integer",modelValue:t.value.orderSendPoint,"onUpdate:modelValue":e[4]||(e[4]=n=>t.value.orderSendPoint=n)},null,8,["modelValue"]),e[22]||(e[22]=a("div",{class:"extra"},"每消费一元送的积分数量",-1))]),_:1}),l(d,{label:"积分支付比例",prop:"integralPercent"},{default:o(()=>[l(i,{width:"100%",TigInput:"",type:"decimal",decimalPlaces:1,modelValue:t.value.integralPercent,"onUpdate:modelValue":e[5]||(e[5]=n=>t.value.integralPercent=n)},null,8,["modelValue"]),e[23]||(e[23]=a("div",{class:"extra"},"每100元商品最多可以使用多少元积分",-1))]),_:1}),l(d,{label:"评论商品送积分",prop:"commentSendPoint"},{default:o(()=>[l(i,{width:"100%",TigInput:"",type:"integer",modelValue:t.value.commentSendPoint,"onUpdate:modelValue":e[6]||(e[6]=n=>t.value.commentSendPoint=n)},null,8,["modelValue"]),e[24]||(e[24]=a("div",{class:"extra"},"每次有效评论赠送积分数",-1))]),_:1}),l(d,{label:"晒单商品送积分",prop:"showSendPoint"},{default:o(()=>[l(i,{width:"100%",TigInput:"",type:"integer",modelValue:t.value.showSendPoint,"onUpdate:modelValue":e[7]||(e[7]=n=>t.value.showSendPoint=n)},null,8,["modelValue"]),e[25]||(e[25]=a("div",{class:"extra"},"每次有效晒单赠送积分数",-1))]),_:1}),l(d,{label:"签到赠送积分",prop:"useQiandaoPoint"},{default:o(()=>[l(m,{modelValue:t.value.useQiandaoPoint,"onUpdate:modelValue":e[8]||(e[8]=n=>t.value.useQiandaoPoint=n),class:"itemWidth"},{default:o(()=>[l(r,{value:1},{default:o(()=>e[26]||(e[26]=[s("是")])),_:1}),l(r,{value:0},{default:o(()=>e[27]||(e[27]=[s("否")])),_:1})]),_:1},8,["modelValue"]),e[28]||(e[28]=a("div",{class:"extra"},"是否开启每日签到赠送积分",-1))]),_:1}),e[38]||(e[38]=a("div",{class:"title",id:"invoiceSettings"},"发票设置",-1)),l(d,{label:"是否能开发票",prop:"canInvoice"},{default:o(()=>[l(m,{modelValue:t.value.canInvoice,"onUpdate:modelValue":e[9]||(e[9]=n=>t.value.canInvoice=n),class:"itemWidth"},{default:o(()=>[l(r,{value:1},{default:o(()=>e[29]||(e[29]=[s("是")])),_:1}),l(r,{value:0},{default:o(()=>e[30]||(e[30]=[s("否")])),_:1})]),_:1},8,["modelValue"]),e[31]||(e[31]=a("div",{class:"extra"},"如果为否，订单结算时将不显示发票",-1))]),_:1}),l(d,{label:"是否支持增值税专用发票",prop:"invoiceAdded"},{default:o(()=>[l(m,{modelValue:t.value.invoiceAdded,"onUpdate:modelValue":e[10]||(e[10]=n=>t.value.invoiceAdded=n),class:"itemWidth"},{default:o(()=>[l(r,{value:1},{default:o(()=>e[32]||(e[32]=[s("是")])),_:1}),l(r,{value:0},{default:o(()=>e[33]||(e[33]=[s("否")])),_:1})]),_:1},8,["modelValue"]),e[34]||(e[34]=a("div",{class:"extra"},"开启增值税专用发票会同步开启发票资质提交和审核，关闭则只显示“普通发票”",-1))]),_:1}),e[39]||(e[39]=a("div",{class:"title",id:"returnAndExchangeSettings"},"退换货设置",-1)),l(d,{label:"回寄联系人设置",prop:"returnConsignee"},{default:o(()=>[l(i,{width:"100%",modelValue:t.value.returnConsignee,"onUpdate:modelValue":e[11]||(e[11]=n=>t.value.returnConsignee=n)},null,8,["modelValue"])]),_:1}),l(d,{label:"回寄电话设置",prop:"returnMobile"},{default:o(()=>[l(i,{width:"100%",modelValue:t.value.returnMobile,"onUpdate:modelValue":e[12]||(e[12]=n=>t.value.returnMobile=n)},null,8,["modelValue"])]),_:1}),l(d,{label:"回寄地址设置",prop:"returnAddress"},{default:o(()=>[l(i,{width:"100%",modelValue:t.value.returnAddress,"onUpdate:modelValue":e[13]||(e[13]=n=>t.value.returnAddress=n)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),e[41]||(e[41]=a("div",{style:{height:"20px"}},null,-1)),a("div",z,[a("div",F,[l(C,{loading:v.value,class:"form-submit-btn",size:"large",type:"primary",onClick:y},{default:o(()=>e[40]||(e[40]=[s("提 交")])),_:1},8,["loading"])])])]),_:1},8,["spinning"])}}}),J=Q(K,[["__scopeId","data-v-6e1a475c"]]);export{J as default};
