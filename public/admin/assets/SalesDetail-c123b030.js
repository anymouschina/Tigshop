import{d as De,j as u,I as Fe,x as ze,C as Ye,D as Ae,r as b,o as s,c as o,e,b as p,w as h,f as Ne,H as _,G as n,F as Ie,K as Oe,p as Me,i as Te,_ as qe}from"./index-7c2d2aef.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-b4d9216b.js";import"./category-a8bd4d11.js";import"./index-6c62cf9b.js";import"./config-9548fa9b.js";import{g as Be}from"./util-1ee03ed8.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import"./region-e0d291a6.js";import{S as Ee}from"./SelectTimeInterval-7da287f8.js";import"./shopProductCategory-792e0c23.js";/* empty css             */import{f as we}from"./time-290942a2.js";import{i as be}from"./index-05c93ee4.js";import{g as Le}from"./statisticsSale-8d037c03.js";import"./config-e2aa16d1.js";import"./region-05802f67.js";const c=f=>(Me("data-v-1608079b"),f=f(),Te(),f),Ge={class:"filtrate-menu"},Ue={class:"main-panel"},je={class:"main-panel-item"},He=c(()=>e("div",{class:"main-panel-item-title"},"商品浏览量",-1)),Ke={class:"main-panel-item-value"},Pe={class:"main-panel-item-increase"},Ve={key:0,class:"admin-iconfont red f12 up"},We={key:1,class:"admin-iconfont green f12"},Je={class:"main-panel-item"},Qe=c(()=>e("div",{class:"main-panel-item-title"},"商品访客数",-1)),Xe={class:"main-panel-item-value"},Ze={class:"main-panel-item-increase"},$e={key:0,class:"admin-iconfont red f12 up"},Re={key:1,class:"admin-iconfont green f12"},Ce={class:"main-panel-item"},et=c(()=>e("div",{class:"main-panel-item-title"},"下单件数",-1)),tt={class:"main-panel-item-value"},at={class:"main-panel-item-increase"},st={key:0,class:"admin-iconfont red f12 up"},ot={key:1,class:"admin-iconfont green f12"},nt={class:"main-panel-item"},it=c(()=>e("div",{class:"main-panel-item-title"},"支付金额",-1)),lt={class:"main-panel-item-value"},rt={class:"main-panel-item-increase"},_t={key:0,class:"admin-iconfont red f12 up"},dt={key:1,class:"admin-iconfont green f12"},ct={class:"main-panel-item"},mt=c(()=>e("div",{class:"main-panel-item-title"},"退款金额",-1)),ut={class:"main-panel-item-value"},pt={class:"main-panel-item-increase"},ft={key:0,class:"admin-iconfont red f12 up"},vt={key:1,class:"admin-iconfont green f12"},gt={class:"main-panel-item"},ht=c(()=>e("div",{class:"main-panel-item-title"},"退款件数",-1)),yt={class:"main-panel-item-value"},xt={class:"main-panel-item-increase"},wt={key:0,class:"admin-iconfont red f12 up"},bt={key:1,class:"admin-iconfont green f12"},St={class:"chart-menu"},kt=De({__name:"SalesDetail",setup(f){const S=u(),k=u();let a,i;const m=u({title:{text:"金额明细",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:["支付金额","退款金额"],left:"center",bottom:"bottom"},xAxis:{type:"category",data:[]},yAxis:[{type:"value",name:"金额",nameTextStyle:{color:"#7cb5ec"},nameGap:20,axisLabel:{color:"#7cb5ec",formatter:"{value} 元"}}],series:[{name:"支付金额",data:[],type:"line",smooth:!0,lineStyle:{color:"#64a9ff"},color:"#5CA5FF",emphasis:{scale:!1},tooltip:{valueFormatter:function(l){return l+"元"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(92, 165, 255,0.50)"},{offset:1,color:"rgba(92, 165, 255,0.00)"}],global:!1}}},{name:"退款金额",data:[],type:"line",smooth:!0,lineStyle:{color:"rgba(0, 190, 189,0.50)"},color:"rgba(0, 190, 189,0.50)",emphasis:{scale:!1},tooltip:{valueFormatter:function(l){return l+"元"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0, 190, 189,0.50)"},{offset:1,color:"rgba(0, 190, 189,0.00)"}],global:!1}}}]}),v=u({title:{text:"商品明细",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["商品浏览量"],left:"center",bottom:"bottom"},xAxis:{type:"category",data:[]},yAxis:[{type:"value",name:"浏览量",nameTextStyle:{color:"#64a9ff"},nameGap:20,axisLabel:{color:"#64a9ff",formatter:"{value} 次"},min:"10"}],series:[{name:"商品浏览量",type:"bar",barWidth:"50%",showBackground:!1,backgroundStyle:{color:"rgba(0, 127, 255,0.1)"},itemStyle:{color:{x:0,y:0,x2:0,y2:1,type:"linear",global:!1,colorStops:[{offset:0,color:"#007FFF"},{offset:1,color:"#539FE5"}]}},data:[]}]}),D=()=>{a==null||a.resize(),i==null||i.resize()},Se=()=>{a=be(S.value),a.setOption(m.value),i=be(k.value),i.setOption(v.value),window.addEventListener("resize",D)},d=Fe({start_time:we(Be(30,"sub"),"YYYY-MM-DD"),end_time:we(new Date,"YYYY-MM-DD")}),t=u(),F=async()=>{try{const l=await Le(d);if(l.errcode===0){t.value=l;const{horizontal_axis:r,longitudinal_axis_payment_amount:g,longitudinal_axis_product_view:y,longitudinal_axis_refund_amount:x}=l.sales_statistics_data;m.value.xAxis.data=r,m.value.series[0].data=g,m.value.series[1].data=x,a==null||a.setOption(m.value),v.value.xAxis.data=r,v.value.series[0].data=y,i==null||i.setOption(v.value)}}catch(l){Oe.error(l.message),console.error(l)}},ke=()=>{F()};return ze(()=>{Ye(()=>{Se()}),window.onresize=()=>{a==null||a.resize(),i==null||i.resize()},F()}),Ae(()=>{a==null||a.dispose(),window.removeEventListener("resize",D)}),(l,r)=>{var z,Y,A,N,I,O,M,T,q,B,E,L,G,U,j,H,K,P,V,W,J,Q,X,Z,$,R,C,ee,te,ae,se,oe,ne,ie,le,re,_e,de,ce,me,ue,pe,fe,ve,ge,he,ye,xe;const g=b("el-form-item"),y=b("el-button"),x=b("el-form");return s(),o(Ie,null,[e("div",null,[p(x,{model:d,inline:""},{default:h(()=>[e("div",Ge,[p(g,{class:"mr-10"},{default:h(()=>[p(Ne(Ee),{type:"date","start-date":d.start_time,"onUpdate:startDate":r[0]||(r[0]=w=>d.start_time=w),"end-date":d.end_time,"onUpdate:endDate":r[1]||(r[1]=w=>d.end_time=w)},null,8,["start-date","end-date"])]),_:1}),p(g,null,{default:h(()=>[p(y,{plain:"",onClick:ke},{default:h(()=>[_("搜索")]),_:1})]),_:1})])]),_:1},8,["model"]),e("div",Ue,[e("ul",null,[e("li",je,[He,e("div",Ke,n(((Y=(z=t.value)==null?void 0:z.sales_data)==null?void 0:Y.product_view)??0),1),e("div",Pe,[_(" 环比： "),e("span",null,n((N=(A=t.value)==null?void 0:A.sales_data)==null?void 0:N.product_view_growth_rate)+" %",1),((O=(I=t.value)==null?void 0:I.sales_data)==null?void 0:O.product_view_growth_rate.toString())!=="--"&&Number((T=(M=t.value)==null?void 0:M.sales_data)==null?void 0:T.product_view_growth_rate)>0?(s(),o("i",Ve,"")):(s(),o("i",We,""))])]),e("li",Je,[Qe,e("div",Xe,n(((B=(q=t.value)==null?void 0:q.sales_data)==null?void 0:B.product_visitor)??0),1),e("div",Ze,[_(" 环比： "),e("span",null,n((L=(E=t.value)==null?void 0:E.sales_data)==null?void 0:L.product_visitor_growth_rate)+" %",1),((U=(G=t.value)==null?void 0:G.sales_data)==null?void 0:U.product_visitor_growth_rate.toString())!=="--"&&Number((H=(j=t.value)==null?void 0:j.sales_data)==null?void 0:H.product_visitor_growth_rate)>0?(s(),o("i",$e,"")):(s(),o("i",Re,""))])]),e("li",Ce,[et,e("div",tt,n(((P=(K=t.value)==null?void 0:K.sales_data)==null?void 0:P.order_num)??0),1),e("div",at,[_(" 环比： "),e("span",null,n((W=(V=t.value)==null?void 0:V.sales_data)==null?void 0:W.order_num_growth_rate)+" %",1),((Q=(J=t.value)==null?void 0:J.sales_data)==null?void 0:Q.order_num_growth_rate.toString())!=="--"&&Number((Z=(X=t.value)==null?void 0:X.sales_data)==null?void 0:Z.order_num_growth_rate)>0?(s(),o("i",st,"")):(s(),o("i",ot,""))])]),e("li",nt,[it,e("div",lt,n(((R=($=t.value)==null?void 0:$.sales_data)==null?void 0:R.payment_amount)??0),1),e("div",rt,[_(" 环比： "),e("span",null,n((ee=(C=t.value)==null?void 0:C.sales_data)==null?void 0:ee.payment_amount_growth_rate)+" %",1),((ae=(te=t.value)==null?void 0:te.sales_data)==null?void 0:ae.payment_amount_growth_rate.toString())!=="--"&&Number((oe=(se=t.value)==null?void 0:se.sales_data)==null?void 0:oe.payment_amount_growth_rate)>0?(s(),o("i",_t,"")):(s(),o("i",dt,""))])]),e("li",ct,[mt,e("div",ut,n(((ie=(ne=t.value)==null?void 0:ne.sales_data)==null?void 0:ie.refund_amount)??0),1),e("div",pt,[_(" 环比： "),e("span",null,n((re=(le=t.value)==null?void 0:le.sales_data)==null?void 0:re.refund_amount_growth_rate)+" %",1),((de=(_e=t.value)==null?void 0:_e.sales_data)==null?void 0:de.refund_amount_growth_rate.toString())!=="--"&&Number((me=(ce=t.value)==null?void 0:ce.sales_data)==null?void 0:me.refund_amount_growth_rate)>0?(s(),o("i",ft,"")):(s(),o("i",vt,""))])]),e("li",gt,[ht,e("div",yt,n(((pe=(ue=t.value)==null?void 0:ue.sales_data)==null?void 0:pe.refund_quantity)??0),1),e("div",xt,[_(" 环比： "),e("span",null,n((ve=(fe=t.value)==null?void 0:fe.sales_data)==null?void 0:ve.refund_quantity_growth_rate)+" %",1),((he=(ge=t.value)==null?void 0:ge.sales_data)==null?void 0:he.refund_quantity_growth_rate.toString())!=="--"&&Number((xe=(ye=t.value)==null?void 0:ye.sales_data)==null?void 0:xe.refund_quantity_growth_rate)>0?(s(),o("i",wt,"")):(s(),o("i",bt,""))])])])])]),e("div",St,[e("div",{class:"chart-menu-item",ref_key:"SalesDetailRef",ref:S},null,512),e("div",{class:"chart-menu-item",ref_key:"NumberProductViewsRef",ref:k},null,512)])],64)}}});const Kt=qe(kt,[["__scopeId","data-v-1608079b"]]);export{Kt as default};
