import{d as C,j as m,E as N,s as B,x as R,r as o,o as p,c as S,e as c,k as q,w as r,b as t,h as E,K as f}from"./index-7c2d2aef.js";import{u as L}from"./translationContent-0ce76c05.js";const D={class:"container"},F={class:"content_wrapper"},T={class:"lyecs-form-table"},U=c("div",{class:"extra"},"输入需要翻译的原文句子, 每输入完成一句用Enter键换行, 继续输入下一句",-1),j="batch_create",z=C({__name:"Add",props:{id:{type:Number,default:0},data_type:{type:Number,default:0},translation_name:{type:String,default:""},isDialog:{type:Boolean,default:!1}},emits:["submitCallback","update:confirmLoading","close","closeConfirm"],setup(b,{expose:y,emit:v}){const s=v,l=b,g=m(!1),k=N().currentRoute.value.query;m(l.isDialog?l.id:Number(k.id));const i=B(),e=m({translation_name:l.translation_name,data_type:[l.data_type],items:[]});R(()=>{setTimeout(()=>{s("closeConfirm",!0)},1e4)});const h=async()=>{await i.value.validate();try{s("update:confirmLoading",!0);const a=await L(j,e.value);s("submitCallback",a),f.success(a.message)}catch(a){f.error(a.message)}finally{s("update:confirmLoading",!1)}};return y({onFormSubmit:()=>{h()}}),(a,n)=>{const d=o("el-checkbox"),x=o("el-checkbox-group"),_=o("el-form-item"),V=o("el-input"),w=o("el-form");return p(),S("div",D,[c("div",F,[c("div",T,[g.value?E("",!0):(p(),q(w,{key:0,ref_key:"formRef",ref:i,model:e.value,"label-width":"auto"},{default:r(()=>[t(_,{prop:"data_type",label:"翻译类型：",rules:[{required:!0,message:"请选择翻译类型!"}]},{default:r(()=>[t(x,{modelValue:e.value.data_type,"onUpdate:modelValue":n[0]||(n[0]=u=>e.value.data_type=u)},{default:r(()=>[t(d,{label:"页面文字",value:0}),t(d,{label:"接口文字",value:1})]),_:1},8,["modelValue"])]),_:1}),t(_,{prop:"translation_name",label:"翻译原文：",rules:[{required:!0,message:"翻译原文不能为空!"}]},{default:r(()=>[t(V,{type:"textarea",rows:10,modelValue:e.value.translation_name,"onUpdate:modelValue":n[1]||(n[1]=u=>e.value.translation_name=u),class:"mr10"},null,8,["modelValue"]),U]),_:1})]),_:1},8,["model"]))])])])}}});export{z as default};
