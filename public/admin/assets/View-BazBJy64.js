import{m as b,f as k,o as D,d as _,a as $}from"./index-Dp14ZkTu.js";import{g as B,a as N}from"./time-Bh5UhrfW.js";import{i as y}from"./format-CRgx78oe.js";import{g as I}from"./product-DEi2MlvQ.js";import{_ as L}from"./View.vue_vue_type_script_setup_true_lang-b_jwmlrh.js";import{d as O,u as R,i as g,ad as f,T as M,c as u,o as c,e,f as n,l as t,D as i,F as j,a as z,g as m,b as A,_ as F}from"./index-DrbzVNl6.js";/* empty css                                                             */import"./lodash-Cilobaqo.js";const V={class:"countdow-warp"},H={class:"mk-top"},U={class:"mk-top-left"},Z={class:""},E={class:"itemBox"},J=["src"],W=O({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup(w){const C=[{productId:0,productSn:"",productName:"麦片",productDesc:"",productPrice:29,marketPrice:0,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731908662JqyhZ6f1BCsWeUJlgj.jpg"},{productId:0,productSn:"",productName:"巧克力棒",productDesc:"",productPrice:29,marketPrice:0,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731908662cOmZ28i8gKl6JiUBad.jpg"},{productId:0,productSn:"",productName:"汤达人",productDesc:"",productPrice:29,marketPrice:0,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731908662AztoZ2OADHp1b8vUoQ.jpg"},{productId:0,productSn:"",productName:"士力架",productDesc:"",productPrice:29,marketPrice:0,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731908662O7VZIzaFtItS4OvAOR.jpg"}],o=R(w,"module"),h=g({pruductList:C,moduleColorStyle:"orange",moduleTitle:{title:"限时抢购",subTitle:"超低价格，史无前例",moreText:"向左滑动查看更多",titleLink:{link:"",title:""}},countdownData:{showCountdown:1,countdownBackgroundPic:"",countdownType:"dailyCycle",dailyTime:N(new Date,20),specifyTime:B(1),timeContent:["天","时","分","秒"],marginTop:50,countdownPicBottom:30},rowNum:3,picScale:"1:1",picFillType:"cover",textAlignment:"center",productPadding:5,productRadius:5,picBottomRadius:1,showProductName:0,showProductPrice:1,priceWeight:700,crossedOutPrice:1,moduleColor:{titleColor:"#ffffff",subTitleColor:"#ffffff",tipsColor:"#fafafa",productBackgroundColor:"#ffffff",productNameColor:"#333333",productPriceColor:"#72b76c",crossedOutPriceColor:"#999999",countdownColor:"#f7f7f7"},moduleStyle:$,contentStyle:_});b(o.value,h.value);const T={"3:2":"calc(100% / 3 * 2)","1:1":"calc(100% / 1 * 1)","3:4":"calc(100% / 3 * 4)","16:9":"calc(100% / 16 * 9)"},l=f(()=>k(o.value.moduleStyle??{},o.value.contentStyle??{},o.value.subTitle??{})),p={天:"DD",时:"HH",分:"mm",秒:"ss"},x={DD:"天",HH:"时",mm:"分",ss:"秒"},P=f(()=>{let a="";if(o.value.countdownData.timeContent&&o.value.countdownData.timeContent.length>0)for(let d=0;d<o.value.countdownData.timeContent.length;d++){const r=o.value.countdownData.timeContent[d];r&&(a+=` ${p[r]} ${x[p[r]]}`)}return a}),v=g([]);return M(async()=>{if(o.value.pruductList&&o.value.pruductList.length>0)try{const a=await I({ids:o.value.pruductList.map(d=>d.productId).join(",")});v.value=[...D(o.value.pruductList),...a.records]}catch(a){console.error(a)}}),(a,d)=>{var r;return c(),u("div",{class:"module-ad-con",style:t(l.value.moduleStyle.boxPaddingBottom+l.value.moduleStyle.boxPaddingTop+l.value.moduleStyle.boxPaddingBottom+l.value.moduleStyle.boxPadding+l.value.moduleStyle.backgroundSize+l.value.moduleStyle.backgroundImage)},[e("div",{class:"module-ad-content",style:t(l.value.moduleContentStyle.backgroundImage+l.value.moduleContentStyle.backgroundSize+l.value.moduleContentStyle.boxRadius2+l.value.moduleContentStyle.boxShadow+l.value.moduleContentStyle.innerPadding)},[e("div",V,[e("div",H,[e("div",U,[e("div",{class:"mk-title line1",style:t(`color: ${o.value.moduleColor.titleColor}`)},i(o.value.moduleTitle.title),5),e("div",{class:"mk-stitle line1",style:t(`color: ${o.value.moduleColor.subTitleColor}`)},i(o.value.moduleTitle.subTitle),5)]),e("div",Z,[e("div",{class:"mk-notice",style:t(`color: ${o.value.moduleColor.tipsColor}`)},i(o.value.moduleTitle.moreText),5)])]),e("div",E,[(c(!0),u(j,null,z(v.value,(s,S)=>(c(),u("div",{key:S,class:"li",style:t(`flex: 0 0 ${100/o.value.rowNum}%`)},[e("div",{class:"item",style:t(`padding: ${o.value.productPadding}px; background-color: ${o.value.moduleColor.productBackgroundColor}; border-radius: ${o.value.productRadius}px`)},[e("div",{class:"imgBox",style:t(`padding-top: ${T[o.value.picScale]}`)},[e("div",{class:"img",style:t(` border-radius: ${o.value.picBottomRadius===1?`${o.value.productRadius}px  ${o.value.productRadius}px 0 0`:`${o.value.productRadius}px`};
                                            background-size: ${o.value.picFillType};
                                            background-image: url(${m(y)(s.picThumb)});`)},null,4)],4),e("div",{class:"goods-info",style:t(`padding-bottom: 0px; text-align: ${o.value.textAlignment}`)},[o.value.showProductName?(c(),u("div",{key:0,class:"title",style:t(`color: ${o.value.moduleColor.productNameColor}`)},i(s.productName?s.productName:"商品名称"),5)):n("",!0),o.value.showProductPrice?(c(),u("div",{key:1,class:"priceBox",style:t(`justify-content: ${o.value.textAlignment}`)},[e("div",{class:"price",style:t(`color: ${o.value.moduleColor.productPriceColor}; font-weight: ${o.value.headlines}; font-family: inherit`)}," ￥"+i(s.productPrice),5),o.value.crossedOutPrice?(c(),u("div",{key:0,class:"origin",style:t(`color: ${o.value.moduleColor.crossedOutPriceColor}`)},i(s.marketPrice),5)):n("",!0)],4)):n("",!0)],4)],4)],4))),128))])]),o.value.countdownData.showCountdown?(c(),u("div",{key:0,class:"countdown",style:t(`margin-top: -${o.value.countdownData.countdownPicBottom}px; border-radius: 0px 0px 6px 6px`)},[e("img",{class:"countdown-img",src:m(y)((r=o.value.countdownData.countdownBackgroundPic)==null?void 0:r.picUrl)},null,8,J),e("div",{class:"count-down",style:t(`top: ${o.value.countdownData.marginTop}%;`)},[A(m(L),{countdownType:o.value.countdownData.countdownType,"value-style":{color:o.value.moduleColor.countdownColor,"font-size":"16px",display:"block"},format:P.value,dailyTime:o.value.countdownData.dailyTime,specifyTime:o.value.countdownData.specifyTime},null,8,["countdownType","value-style","format","dailyTime","specifyTime"])],4)],4)):n("",!0)],4)],4)}}}),to=F(W,[["__scopeId","data-v-c0e4b892"]]);export{to as default};
