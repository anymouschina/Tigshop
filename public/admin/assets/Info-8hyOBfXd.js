import{d as L,i as m,C as j,s as E,q as F,r as u,c as I,o as w,e as k,j as h,f as M,b as o,w as l,a0 as O,E as f,g as T,a1 as z,I as _}from"./index-CGYuOau0.js";import{a as A,c as G}from"./suppliers-C_pM6L3X.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-t3_hMxDC.js";import"./index-B-GURfkM.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{S as H}from"./SelectRegion-DoCx4QPp.js";/* empty css             */import"./time-ClyPenjC.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";import"./region-DycKrsYv.js";import"./region-dYomvalu.js";const J={class:"container"},K={class:"content_wrapper"},P={class:"lyecs-form-table"},ie=L({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(S,{expose:C,emit:x}){const p=x,r=S,d=m(!0),v=j().currentRoute.value.query,c=m(r.isDialog?r.act:String(v.act)),b=m(r.isDialog?r.id:Number(v.id)),U=c.value==="add"?"create":"update",g=E(),t=m({is_check:1}),B=async()=>{try{const s=await A(c.value,{id:b.value});Object.assign(t.value,s.item)}catch(s){_.error(s.message),p("close")}finally{d.value=!1}};F(()=>{c.value==="detail"?B():d.value=!1});const V=async()=>{await g.value.validate();try{p("update:confirmLoading",!0);const s=await G(U,{id:b.value,...t.value});p("submitCallback",s),_.success(s.message)}catch(s){_.error(s.message)}finally{p("update:confirmLoading",!1)}};return C({onFormSubmit:()=>{V()}}),(s,e)=>{const y=u("el-radio-button"),N=u("el-radio-group"),n=u("el-form-item"),i=u("el-input"),R=u("el-button"),D=u("el-form"),q=u("a-spin");return w(),I("div",J,[k("div",K,[k("div",P,[d.value?M("",!0):(w(),h(D,{key:0,ref_key:"formRef",ref:g,model:t.value,"label-width":"auto"},{default:l(()=>[o(n,{label:"供应商状态",prop:"is_check"},{default:l(()=>[o(N,{modelValue:t.value.is_check,"onUpdate:modelValue":e[0]||(e[0]=a=>t.value.is_check=a)},{default:l(()=>[o(y,{value:0},{default:l(()=>e[7]||(e[7]=[f("停用")])),_:1}),o(y,{value:1},{default:l(()=>e[8]||(e[8]=[f("启用")])),_:1})]),_:1},8,["modelValue"])]),_:1}),o(n,{rules:[{required:!0,message:"供应商名称不能为空!"}],label:"供应商名称",prop:"suppliers_name"},{default:l(()=>[o(i,{modelValue:t.value.suppliers_name,"onUpdate:modelValue":e[1]||(e[1]=a=>t.value.suppliers_name=a)},null,8,["modelValue"])]),_:1}),o(n,{label:"供应商备注",prop:"suppliers_desc"},{default:l(()=>[o(i,{modelValue:t.value.suppliers_desc,"onUpdate:modelValue":e[2]||(e[2]=a=>t.value.suppliers_desc=a),row:"2",type:"textarea"},null,8,["modelValue"])]),_:1}),o(n,{label:"负责人姓名",prop:"contact_name"},{default:l(()=>[o(i,{modelValue:t.value.contact_name,"onUpdate:modelValue":e[3]||(e[3]=a=>t.value.contact_name=a)},null,8,["modelValue"])]),_:1}),o(n,{label:"负责人联系方式",prop:"contact_phone"},{default:l(()=>[o(i,{modelValue:t.value.contact_phone,"onUpdate:modelValue":e[4]||(e[4]=a=>t.value.contact_phone=a)},null,8,["modelValue"])]),_:1}),o(n,{label:"供应商所在区域",prop:"regions"},{default:l(()=>[o(T(H),{modelValue:t.value.regions,"onUpdate:modelValue":e[5]||(e[5]=a=>t.value.regions=a),style:{width:"100%"}},null,8,["modelValue"])]),_:1}),o(n,{label:"供应商地址",prop:"contact_address"},{default:l(()=>[o(i,{modelValue:t.value.contact_address,"onUpdate:modelValue":e[6]||(e[6]=a=>t.value.contact_address=a)},null,8,["modelValue"])]),_:1}),O(o(n,{"wrapper-col":{offset:4,span:16}},{default:l(()=>[o(R,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:V},{default:l(()=>e[9]||(e[9]=[f("提交")])),_:1},512)]),_:1},512),[[z,!r.isDialog]])]),_:1},8,["model"])),o(q,{spinning:d.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{ie as default};
