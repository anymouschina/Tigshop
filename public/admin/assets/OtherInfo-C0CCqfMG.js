import{d as B,i as m,C as R,G as S,q as U,r as p,c as q,o as V,e as y,j as D,f as I,w as l,b as t,a3 as L,E as j,a4 as E,y as F,I as g}from"./index-DrbzVNl6.js";const $={class:"container"},z={class:"content_wrapper"},G={class:"lyecs-form-table"},P=B({__name:"OtherInfo",props:{id:{type:Number,default:0},act:String,isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(k,{expose:w,emit:C}){const u=C,d=k,c=m(),f=m(0),b=m(!0);if(d.isDialog)c.value=d.act,f.value=d.id;else{const{currentRoute:i}=R(),e=i.value.query;c.value=e.act,f.value=e.id}const T=c.value=="add"?"insert":"update",v=m(),a=S({});U(async()=>{b.value=!1});const x=async i=>{await i.validate((e,s)=>{e&&(u("update:confirmLoading",!0),new Promise((n,N)=>{F({url:"brand/"+T+"/",method:"post",data:{id:f.value,...a}}).then(r=>{setTimeout(()=>{u("update:confirmLoading",!1)},600),g.success("操作成功"),u("submitCallback",r)}).catch(r=>{g.error(r.message),u("submitCallback",r)})}))})},_=m(null);return w({onFormSubmit:()=>{_.value.$el.click()}}),(i,e)=>{const s=p("TigInput"),n=p("el-form-item"),N=p("el-button"),r=p("el-form");return V(),q("div",$,[y("div",z,[y("div",G,[b.value?I("",!0):(V(),D(r,{key:0,ref_key:"formRef",ref:v,model:a,"label-width":"auto"},{default:l(()=>[t(n,{label:"发票类型",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[0]||(e[0]=o=>a.brandName=o)},null,8,["modelValue"])]),_:1}),t(n,{label:"发票抬头",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[1]||(e[1]=o=>a.brandName=o)},null,8,["modelValue"])]),_:1}),t(n,{label:"发票内容",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[2]||(e[2]=o=>a.brandName=o)},null,8,["modelValue"])]),_:1}),t(n,{label:"客户给商家的留言",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[3]||(e[3]=o=>a.brandName=o),autosize:{minRows:4,maxRows:6},type:"textarea"},null,8,["modelValue"])]),_:1}),t(n,{label:"缺货处理",prop:"brandName"},{default:l(()=>[t(s,{classType:"tig-form-input",modelValue:a.brandName,"onUpdate:modelValue":e[4]||(e[4]=o=>a.brandName=o)},null,8,["modelValue"])]),_:1}),L(t(n,{"wrapper-col":{offset:4,span:16}},{default:l(()=>[t(N,{ref_key:"submitBtn",ref:_,class:"form-submit-btn",type:"primary",onClick:e[5]||(e[5]=o=>x(v.value))},{default:l(()=>e[6]||(e[6]=[j("提交 ")])),_:1},512)]),_:1},512),[[E,!d.isDialog]])]),_:1},8,["model"]))])])])}}});export{P as default};
