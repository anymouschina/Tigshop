import{d as N,G as V,dC as x,C,i as m,s as D,r as d,j as k,o as F,w as r,a0 as I,b as t,g as R,a1 as B,e as g,D as L,I as b}from"./index-CGYuOau0.js";import{F as U}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-CjXfTDg5.js";import{u as q}from"./team-CP5xEwTn.js";import"./index-B-GURfkM.js";import"./vuedraggable.umd-_1km55l4.js";import"./Image.vue_vue_type_script_setup_true_lang-D9PqZe9n.js";import"./format-DFT-VJzO.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";const Q=N({__name:"Info",props:{act:{type:String,default:""},id:{type:Number,default:0},type:{type:Number,default:1},page:{type:Number,default:1},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(f,{expose:v,emit:h}){const u=h,i=f,a=V(JSON.parse(JSON.stringify(x().shopInfo))),c=C().currentRoute.value.query,y=m(i.isDialog?i.act:String(c.act));m(i.isDialog?i.id:Number(c.id)),y.value;const n=D(),e=m({shop_id:a.shop_id,shop_title:a.shop_title,shop_logo:a.shop_logo,description:a.description}),S=async()=>{await n.value.validate();try{u("update:confirmLoading",!0);const l=await q({...e.value});await n.value.resetFields(),b.success(l.message),u("submitCallback",l)}catch(l){b.error(l.message)}finally{u("update:confirmLoading",!1)}};return v({onFormSubmit:()=>{S()}}),(l,o)=>{const p=d("el-form-item"),_=d("el-input"),w=d("el-form");return F(),k(w,{ref_key:"formRef",ref:n,model:e.value,class:"form-body","label-suffix":"：","label-width":"auto"},{default:r(()=>[I(t(p,{label:"店铺Logo"},{default:r(()=>[t(R(U),{photo:e.value.shop_logo,"onUpdate:photo":o[0]||(o[0]=s=>e.value.shop_logo=s),isMultiple:!1},null,8,["photo"])]),_:1},512),[[B,f.page]]),t(p,{rules:[{required:!0,message:"请输入店铺名称!"}],label:"店铺名称",prop:"shop_title"},{default:r(()=>[t(_,{modelValue:e.value.shop_title,"onUpdate:modelValue":o[1]||(o[1]=s=>e.value.shop_title=s),placeholder:"请输入店铺名称"},null,8,["modelValue"]),o[3]||(o[3]=g("div",{class:"extra"},"店铺名称应尽量简洁易记, 建议15字以内",-1))]),_:1}),t(p,{label:"创建时间",prop:"account_no"},{default:r(()=>[g("p",null,L(a.add_time),1)]),_:1}),t(p,{label:"店铺简介",prop:"description"},{default:r(()=>[t(_,{modelValue:e.value.description,"onUpdate:modelValue":o[2]||(o[2]=s=>e.value.description=s),rows:4,type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])}}});export{Q as default};
