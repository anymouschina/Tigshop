import{d as I,j as c,I as N,x as P,r as _,o as u,c as f,e,G as B,b as t,w as o,f as m,h as w,K as b,M as D,H as K,L as U}from"./index-7c2d2aef.js";/* empty css             */import{_ as M}from"./Image.vue_vue_type_script_setup_true_lang-36bd437b.js";import"./index-6c62cf9b.js";/* empty css                                                                    */import{P as R}from"./Pagination-8eb7b6b1.js";import{u as y}from"./config-9548fa9b.js";import{g as $,a as j}from"./live-13439de8.js";import{_ as A}from"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import"./format-4e0206d3.js";import"./util-1ee03ed8.js";import"./config-e2aa16d1.js";const E={class:"container"},F={class:"content_wrapper"},G={class:"notice-warp"},H={class:"lyecs-table-list-warp"},O={class:"list-table-tool lyecs-search-warp"},T={class:"advanced-search-warp list-table-tool-row"},q={class:"simple-form-warp"},J={class:"simple-form-field"},Q={class:"form-group"},W={class:"control-container"},X=e("span",null,"（一天上限三百次）",-1),Y={class:"simple-form-field"},Z={class:"form-group"},ee={class:"control-container"},te=e("span",{class:"iconfont icon-chakan1"},null,-1),oe={class:"table-container"},ae=e("a",{class:"btn-link"},"编辑",-1),se={class:"empty-warp"},le={key:0,class:"empty-bg"},ie={key:0,class:"pagination-con"},be=I({__name:"List",setup(ne){const k=y(),x=c(y().domain),h=c(),n=c(!0),p=c(0);c([]),c(!1);const s=N({page:1,size:k.get("page_size"),sort_field:"",sort_order:"",wechat_live_title:""}),d=async()=>{n.value=!0;try{const i=await $({...s});h.value=i.filter_result,p.value=i.total}catch(i){b.error(i.message)}finally{n.value=!1}},C=async()=>{n.value=!0;try{await j(),d()}catch(i){b.error(i.message)}finally{n.value=!1}};P(()=>{d()});const v=()=>{d()};return(i,r)=>{const g=_("el-button"),z=_("el-input"),V=_("el-form"),l=_("el-table-column"),L=_("el-table"),S=_("a-spin");return u(),f("div",E,[e("div",F,[e("div",G,[e("p",null," 积分兑换列表前台地址为："+B(x.value)+"/exchange/list.html（支持手机版自动跳转） ",1)]),e("div",H,[e("div",O,[t(V,{model:s},{default:o(()=>[e("div",T,[e("div",q,[e("div",J,[e("div",Q,[e("div",W,[t(g,{type:"primary",icon:m(D),onClick:C},{default:o(()=>[K("API更新直播间")]),_:1},8,["icon"]),X])])]),e("div",Y,[e("div",Z,[e("div",ee,[t(z,{modelValue:s.wechat_live_title,"onUpdate:modelValue":r[0]||(r[0]=a=>s.wechat_live_title=a),name:"wechat_live_title",placeholder:"输入直播名称",onKeyup:U(v,["enter"])},{append:o(()=>[t(g,{onClick:v},{default:o(()=>[te]),_:1})]),_:1},8,["modelValue"])])])])])])]),_:1},8,["model"])]),e("div",oe,[t(S,{spinning:n.value},{default:o(()=>[t(L,{data:h.value,"row-key":"room_id",total:p.value},{empty:o(()=>[e("div",se,[n.value?w("",!0):(u(),f("div",le,"暂无数据"))])]),default:o(()=>[t(l,{label:"房间ID",prop:"room_id",width:80}),t(l,{label:"直播名称",prop:"wechat_live_title",width:200}),t(l,{label:"开始日期",prop:"last_update_time"}),t(l,{label:"结束日期",prop:"end_time"}),t(l,{label:"当前状态",prop:"live_status_text"}),t(l,{label:"直播封面",prop:"points_deducted_amount"},{default:o(({row:a})=>[t(m(M),{src:a.cover_img,fit:"contain",style:{height:"25px",width:"60px"}},null,8,["src"])]),_:1}),t(l,{label:"商品显示范围",prop:"act_range_text"}),t(l,{label:"操作",fixed:"right",width:150},{default:o(({row:a})=>[t(m(A),{isDrawer:"",onOkCallback:d,title:"编辑直播",width:"750px",path:"promotion/live/Info",params:{act:"detail",id:a.room_id}},{default:o(()=>[ae]),_:2},1032,["params"])]),_:1})]),_:1},8,["data","total"])]),_:1},8,["spinning"]),p.value>0?(u(),f("div",ie,[t(m(R),{page:s.page,"onUpdate:page":r[1]||(r[1]=a=>s.page=a),size:s.size,"onUpdate:size":r[2]||(r[2]=a=>s.size=a),total:p.value,onCallback:d},null,8,["page","size","total"])])):w("",!0)])])])])}}});export{be as default};
