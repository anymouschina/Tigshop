import{p as W,_ as H,a as J,M as O,c as Q,l as X}from"./pageTabs-417bbf61.js";import{d as z,de as Y,j as I,dm as M,r as f,o as t,c as n,e,n as T,f as o,k as c,h as _,F as h,p as E,i as N,_ as A,E as R,bf as j,dk as D,a9 as K,x as G,w as a,df as Z,b as g,G as S,du as ee,K as te,P as oe,a as P,C as se}from"./index-7c2d2aef.js";import{u as F}from"./theme-cc18c5b2.js";import{u as ne}from"./config-9548fa9b.js";import{u as ae,r as ie,i as L}from"./format-4e0206d3.js";import{e as le}from"./util-1ee03ed8.js";import{S as ce}from"./SelectShop-1ec19599.js";import{u as _e}from"./menus-a5eaec1a.js";import{l as re}from"./logo_blue2-e6122341.js";import"./index-6c62cf9b.js";import"./version-f7bce787.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import"./config-e2aa16d1.js";import"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-9b6073fb.js";import"./vuedraggable.umd-75ad0f8f.js";import"./Image.vue_vue_type_script_setup_true_lang-36bd437b.js";import"./authority-44614dad.js";const ue=u=>(E("data-v-d8d1b613"),u=u(),N(),u),pe=ue(()=>e("div",{class:"body-menu-mask"},null,-1)),de={class:"main-warp"},me=z({__name:"pageContainer",setup(u){const p=Y();I(localStorage.getItem("adminType")),M();const{themeInfo:y}=F();return(r,k)=>{const v=f("router-view");return t(),n(h,null,[pe,e("div",de,[e("div",{class:T(["page-grid-content",`admin-${o(y).navTheme}`])},[!r.$route.meta.is404&&o(y).isMultiLabel?(t(),c(W,{key:0})):_("",!0),r.$route.meta.is404?_("",!0):(t(),c(H,{key:1})),(t(),c(v,{key:o(p).routerKey})),r.$route.meta.is404?_("",!0):(t(),c(J,{key:2}))],2)])],64)}}});const he=A(me,[["__scopeId","data-v-d8d1b613"]]),m=u=>(E("data-v-32f470d5"),u=u(),N(),u),ge={class:"page-top"},ve={class:"page-top-warp"},fe={class:"top-bar-right"},ye={class:"top-bar-item mr10"},ke={class:"auth-img"},we=["src"],xe={class:"top-bar-item openShop-btn"},be=["href"],Se=m(()=>e("i",{class:"iconfont icon-guanli"},null,-1)),Ce={key:0},$e={class:"top-bar-item top-bar-user",id:"dropdown-memu"},Te={class:"admin-user-warp"},Ie={class:"top-bar-btn",href:"javascript:;"},Me={class:"admin-user-photo"},ze=["src"],Be=["src"],Ve={key:0,class:"admin-user-name"},Pe=m(()=>e("i",{class:"iconfont icon-xiala"},null,-1)),Le={class:"dropdown-memu top-bar-memu"},Ae={class:"entrance-list"},Fe=m(()=>e("p",{class:"entrance lyecs-openPage"},[e("i",{class:"iconfont icon-gerenshezhi",style:{"font-size":"22px"}}),e("span",null,"管理账号")],-1)),Ue=m(()=>e("i",{class:"iconfont icon-qingchuhuancun",style:{"font-size":"22px"}},null,-1)),qe=m(()=>e("span",null,"清除缓存",-1)),De=[Ue,qe],Ee=m(()=>e("p",{class:"entrance lyecs-openPage"},[e("i",{class:"iconfont icon-quanxian",style:{"font-size":"22px"}}),e("span",null,"店铺设置")],-1)),Ne=m(()=>e("p",{class:"entrance lyecs-openPage"},[e("i",{class:"iconfont icon-quanxian",style:{"font-size":"22px"}}),e("span",null,"后台设置")],-1)),Re={class:"admin_exit"},je=m(()=>e("span",null,"切换店铺",-1)),Ke=[je],Ge=m(()=>e("span",{style:{color:"#f0f2f5"}},"｜",-1)),We=m(()=>e("span",null,"退出登录",-1)),He=[We],Je=z({__name:"pageTopBar",setup(u){const p=I(localStorage.getItem("adminType")),{themeInfo:y}=F();R();const r=j(),k=M(),{logout:v,updateUserInfo:B}=D(),d=K(()=>D().userInfo),V=async()=>{try{const x=await Q(),b=ne();B(),b.updateConfig(),k.mainMenu=await _e(),ee.success({message:"缓存已清除",description:"缓存清除后可刷新页面更新效果"})}catch(x){te.error(x.message)}},C=async()=>{v()},i=I(!1),U=()=>{i.value=!0},$=()=>{i.value=!1};return G(()=>{r._getLicensed()}),(x,b)=>{const s=f("router-link"),l=f("a-dropdown"),w=f("el-dialog");return t(),n(h,null,[e("div",ge,[e("div",ve,[e("div",fe,[e("div",ye,[e("div",ke,[p.value!=="shop"?(t(),c(s,{key:0,to:{path:"/setting/licensed/index"}},{default:a(()=>[e("img",{src:o(Z)(),style:{height:"25px","margin-top":"2px"}},null,8,we)]),_:1})):_("",!0)])]),g(O),e("div",xe,[e("a",{class:"top-bar-btn",href:o(ae)("/"),target:"_blank"},[Se,o(y).layout!=="top"?(t(),n("span",Ce,"查看店铺")):_("",!0)],8,be)]),e("div",$e,[g(l,null,{overlay:a(()=>[e("div",Le,[e("div",Ae,[g(s,{to:{path:"/authority/account_editing/index"}},{default:a(()=>[Fe]),_:1}),e("p",{class:"entrance",onClick:V},De),p.value==="shop"?(t(),c(s,{key:0,to:{path:"/merchant_setting/shop_team"}},{default:a(()=>[Ee]),_:1})):(t(),c(s,{key:1,to:{path:"/setting/config/base"}},{default:a(()=>[Ne]),_:1}))]),e("div",null,[e("div",Re,[p.value==="shop"?(t(),n(h,{key:0},[e("a",{onClick:U},Ke),Ge],64)):_("",!0),e("a",{onClick:C},He)])])])]),default:a(()=>[e("div",Te,[e("a",Ie,[e("span",Me,[o(le)(String(d.value.avatar))=="def"?(t(),n("img",{key:0,src:o(ie)(d.value.avatar)},null,8,ze)):(t(),n("img",{key:1,src:o(L)(d.value.avatar)},null,8,Be))]),o(y).layout!=="top"?(t(),n("div",Ve,S(/^1[3-9]\d{9}$/.test(d.value.username)?d.value.username.replace(/(\d{3})\d{4}/,"$1****"):d.value.username),1)):_("",!0),Pe])])]),_:1})])])])]),g(w,{class:"page-top","show-close":!1,"z-index":"12",modelValue:i.value,"onUpdate:modelValue":b[0]||(b[0]=q=>i.value=q),width:"500px"},{default:a(()=>[i.value?(t(),c(ce,{key:0,onClosePopup:$,isIndex:!0,username:d.value.username},null,8,["username"])):_("",!0)]),_:1},8,["modelValue"])],64)}}});const Oe=A(Je,[["__scopeId","data-v-32f470d5"]]),Qe={class:"page_left_menu_content"},Xe={key:0,class:"head_logo"},Ye=["src"],Ze=["src"],et={style:{width:"100%",position:"absolute"}},tt={class:"fold_btn"},ot=z({__name:"pageTopMenu",setup(u){const{themeInfo:p}=F(),r=j().licensedData,k=M(),v=R(),B=M(),d=I(""),V=K(()=>B.mainMenu);G(()=>{d.value=v.currentRoute.value.name});const C=i=>{window.innerWidth<=756?(i.blank?window.open("/"+i.route_link,"_blank"):v.push("/"+i.route_link),k.menuActive=!1):(i.blank?window.open("/"+i.route_link,"_blank"):v.push("/"+i.route_link),se(),k.childMenuShow=!0)};return oe(()=>{d.value=v.currentRoute.value.name}),(i,U)=>{const $=f("el-menu-item"),x=f("el-sub-menu"),b=f("el-menu");return t(),n("div",{class:T(["page_left_menu",[o(k).childMenuShow?"child-menu-show":"child-menu-hide"]])},[e("div",Qe,[o(k).childMenuShow?(t(),n("div",Xe,[o(p).navTheme==="light"?(t(),n("img",{key:0,class:"logo_img",src:o(r).admin_light_logo?o(L)(o(r).admin_light_logo):o(re)},null,8,Ye)):_("",!0),o(p).navTheme==="dark"?(t(),n("img",{key:1,class:"logo_img",src:o(r).admin_light_logo?o(L)(o(r).admin_light_logo):o(X)},null,8,Ze)):_("",!0)])):_("",!0),e("div",{class:T(["menu_list",o(p).navTheme])},[e("div",et,[g(b,{"default-active":d.value,mode:"horizontal","popper-class":"el-top-menu-popper "+(o(p).navTheme==="light"?"popper-light":"popper-dark"),ellipsis:"","text-color":"var(--tig-menu-text-color)"},{default:a(()=>[(t(!0),n(h,null,P(V.value,s=>(t(),n(h,{key:s.authority_id},[s.children.length&&s.is_show?(t(),c(x,{key:0,class:"",index:s.authority_sn},{title:a(()=>[e("i",{class:T(s.authority_ico+" child-ico")},null,2),e("span",null,S(s.authority_name),1)]),default:a(()=>[(t(!0),n(h,null,P(s.children,l=>(t(),n(h,null,[l.children&&l.children.length&&l.is_show?(t(),c(x,{key:0,index:l.authority_sn},{title:a(()=>[e("span",null,S(l.authority_name),1)]),default:a(()=>[(t(!0),n(h,null,P(l.children,w=>(t(),c($,{key:w.authority_id,index:w.authority_sn,onClick:q=>C(w)},{title:a(()=>[e("span",null,S(w.authority_name),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1032,["index"])):l.is_show?(t(),c($,{key:1,index:l.authority_sn,onClick:w=>C(l)},{title:a(()=>[e("span",null,S(l.authority_name),1)]),_:2},1032,["index","onClick"])):_("",!0)],64))),256))]),_:2},1032,["index"])):s.is_show?(t(),c($,{key:1,index:s.authority_sn,onClick:l=>C(s)},{title:a(()=>[e("i",{class:T(s.authority_ico+"child-ico")},null,2),e("span",null,S(s.authority_name),1)]),_:2},1032,["index","onClick"])):_("",!0)],64))),128))]),_:1},8,["default-active","popper-class"])])],2),e("div",tt,[g(Oe)])])],2)}}});const st=A(ot,[["__scopeId","data-v-bed0f1b9"]]),wt=z({__name:"View",setup(u){return(p,y)=>{const r=f("router-view");return t(),n(h,null,[g(st),g(he,null,{default:a(()=>[g(r)]),_:1})],64)}}});export{wt as default};
