import{d as L,j as m,E as T,s as q,x as j,r,o as w,c as E,e as g,k as F,w as a,b as e,f as H,H as c,$ as I,a0 as K,h as M,K as f}from"./index-7c2d2aef.js";import{c as O,e as $}from"./shippingType-048b9d8a.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-b4d9216b.js";import"./category-a8bd4d11.js";import"./index-6c62cf9b.js";import"./config-9548fa9b.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import"./region-e0d291a6.js";import{S as z}from"./SelectLogisticsCompany-9a4f016c.js";import"./shopProductCategory-792e0c23.js";/* empty css             */import"./time-290942a2.js";import"./util-1ee03ed8.js";import"./config-e2aa16d1.js";import"./region-05802f67.js";import"./logisticsCompany-fd0ba0a2.js";const A={class:"container"},G={class:"content_wrapper"},J={class:"lyecs-form-table"},P=g("div",{class:"extra"},"该设置会影响所有所属的配送方式",-1),ce=L({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(S,{expose:x,emit:k}){const p=k,n=S,u=m(!0),v=T().currentRoute.value.query,_=m(n.isDialog?n.act:String(v.act)),y=m(n.isDialog?n.id:Number(v.id)),C=_.value==="add"?"create":"update",b=q(),t=m({sort_order:50,is_support_cod:0}),B=async()=>{try{const s=await O(_.value,{id:y.value});Object.assign(t.value,s.item)}catch(s){f.error(s.message),p("close")}finally{u.value=!1}};j(()=>{_.value==="detail"?B():u.value=!1});const h=async()=>{await b.value.validate();try{p("update:confirmLoading",!0);const s=await $(C,{id:y.value,...t.value});p("submitCallback",s),f.success(s.message)}catch(s){f.error(s.message)}finally{p("update:confirmLoading",!1)}};return x({onFormSubmit:()=>{h()}}),(s,o)=>{const d=r("el-input"),i=r("el-form-item"),V=r("el-radio"),N=r("el-radio-group"),U=r("el-button"),D=r("el-form"),R=r("a-spin");return w(),E("div",A,[g("div",G,[g("div",J,[u.value?M("",!0):(w(),F(D,{key:0,ref_key:"formRef",ref:b,model:t.value,"label-width":"auto"},{default:a(()=>[e(i,{rules:[{required:!0,message:"分类名称不能为空!"}],label:"分类名称",prop:"shipping_type_name"},{default:a(()=>[e(d,{modelValue:t.value.shipping_type_name,"onUpdate:modelValue":o[0]||(o[0]=l=>t.value.shipping_type_name=l)},null,8,["modelValue"])]),_:1}),e(i,{label:"分类描述",prop:"shipping_type_desc"},{default:a(()=>[e(d,{modelValue:t.value.shipping_type_desc,"onUpdate:modelValue":o[1]||(o[1]=l=>t.value.shipping_type_desc=l),row:"3",type:"textarea"},null,8,["modelValue"])]),_:1}),e(i,{label:"默认物流",prop:"shipping_default_id"},{default:a(()=>[e(H(z),{id:t.value.shipping_default_id,"onUpdate:id":o[2]||(o[2]=l=>t.value.shipping_default_id=l)},null,8,["id"])]),_:1}),e(i,{label:"配送时间描述",prop:"shipping_time_desc"},{default:a(()=>[e(d,{modelValue:t.value.shipping_time_desc,"onUpdate:modelValue":o[3]||(o[3]=l=>t.value.shipping_time_desc=l),row:"3",type:"textarea"},null,8,["modelValue"])]),_:1}),e(i,{label:"排序",prop:"sort_order"},{default:a(()=>[e(d,{modelValue:t.value.sort_order,"onUpdate:modelValue":o[4]||(o[4]=l=>t.value.sort_order=l)},null,8,["modelValue"])]),_:1}),e(i,{label:"货到付款",prop:"is_support_cod"},{default:a(()=>[e(N,{modelValue:t.value.is_support_cod,"onUpdate:modelValue":o[5]||(o[5]=l=>t.value.is_support_cod=l),style:{width:"100%"}},{default:a(()=>[e(V,{value:1},{default:a(()=>[c("是")]),_:1}),e(V,{value:0},{default:a(()=>[c("否")]),_:1})]),_:1},8,["modelValue"]),P]),_:1}),I(e(i,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[e(U,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:h},{default:a(()=>[c("提交")]),_:1},512)]),_:1},512),[[K,!n.isDialog]])]),_:1},8,["model"])),e(R,{spinning:u.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{ce as default};
