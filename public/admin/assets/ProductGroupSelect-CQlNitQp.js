import{d as T,m as C,i as U,u as M,r as n,c as g,o as G,b as s,f as b,w as i,e as o,g as m,dX as P,E as f,D as S,I as x,_ as B}from"./index-DrbzVNl6.js";import"./index-CeQDmMxd.js";import{d as D}from"./vuedraggable.umd-DAKh-e3Q.js";import{g as E}from"./productGroup-BlnNtZy_.js";import{_ as N}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";import"./ProductGroupSelect.vue_vue_type_style_index_0_scoped_7559934f_lang-BEuf7bhy.js";const L={class:"dec-goods-group-item"},O={class:"dec-edit-group"},$={class:"dec-edit-group-con"},j={class:"dec-input-group","dynamic-class":".image-ad-title-d"},A={class:"dec-edit-group"},F={class:"dec-edit-group-con"},X={class:"dec-input-group","dynamic-class":".image-ad-title-d"},q={class:"dec-edit-group"},z={class:"dec-edit-group-con"},H={key:0},J={class:"dec-edit-group"},K={class:"dec-edit-group-con"},Q={class:"dec-input-group"},R={class:"dec-edit-group"},W={class:"dec-edit-group-con"},Y={class:"dec-input-group"},Z=["onClick"],oo={key:0,class:"gallery-list-warp"},eo={class:"dec-pic-group"},to={class:"dec-pic-add-con"},so=T({__name:"ProductGroupSelect",props:C({isMultiple:{type:Boolean,default:!1},type:{type:String,default:"goods"}},{productGroups:{default:[]},productGroupsModifiers:{}}),emits:["update:productGroups"],setup(p){const h=p,v=U([]),u=M(p,"productGroups"),k=async l=>{V(l.ids)},V=async(l,e=-1,_=6)=>{try{const d=await E({productGroupIds:l,size:_,page:1});if(e===-1){let r=[];d.records.forEach(c=>{let t={productGroupId:c.productGroupId,productGroupName:c.productGroupName,title:c.productGroupName,subTitle:"",menuTitle:c.productGroupName,productNumType:"number",productNum:6,bannerPic:{},bannerLink:{link:{},title:""}};r.push(t)}),u.value.push(...r)}else u.value[e].productGroupId=d.records[0].productGroupId,u.value[e].productGroupName=d.records[0].productGroupName,u.value[e].menuTitle=d.records[0].productGroupName;v.value=u.value.map(r=>r.productGroupId)}catch(d){x.error(d.message)}},I=l=>{u.value.splice(l,1),v.value.splice(l,1)},w=l=>{V(l.ids,l.index)};return(l,e)=>{const _=n("el-button"),d=n("el-input"),r=n("el-radio"),c=n("el-radio-group");return G(),g("div",null,[s(m(D),{class:"dec-goods-group-list","item-key":"productGroupId",list:u.value,"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:e[0]||(e[0]=()=>{}),onEnd:e[1]||(e[1]=()=>{})},{item:i(({element:t,index:y})=>[o("div",L,[o("div",O,[e[2]||(e[2]=o("div",{class:"dec-edit-group-title"},[o("div",{class:"label"},"商品来源")],-1)),o("div",$,[o("div",j,[s(m(N),{isDrawer:"",onOkCallback:w,title:"选择商品分组",width:"600px",path:"product/productGroup/src/SelectProductGroup",params:{selectedIds:[t.productGroupId],index:y,isMultiple:h.isMultiple},style:{width:"100%"}},{default:i(()=>[s(_,{type:"primary",link:"",icon:m(P)},{default:i(()=>[f(S(t.productGroupName),1)]),_:2},1032,["icon"])]),_:2},1032,["params"])])])]),o("div",A,[e[3]||(e[3]=o("div",{class:"dec-edit-group-title"},[o("div",{class:"label"},"菜单名称")],-1)),o("div",F,[o("div",X,[s(d,{modelValue:t.menuTitle,"onUpdate:modelValue":a=>t.menuTitle=a,placeholder:"请输入菜单名称"},null,8,["modelValue","onUpdate:modelValue"])])])]),o("div",q,[e[5]||(e[5]=o("div",{class:"dec-edit-group-title"},[o("div",{class:"label"},"商品个数"),o("div",{class:"value"})],-1)),o("div",z,[s(c,{class:"dec-radio-group",modelValue:t.productNumType,"onUpdate:modelValue":a=>t.productNumType=a},{default:i(()=>[s(r,{value:"number"},{default:i(()=>[s(d,{style:{width:"90px"},type:"number",modelValue:t.productNum,"onUpdate:modelValue":a=>t.productNum=a,placeholder:"请输入商品数量"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),s(r,{value:"all"},{default:i(()=>e[4]||(e[4]=[f("全部")])),_:1})]),_:2},1032,["modelValue","onUpdate:modelValue"])])]),p.type==="productGroup"?(G(),g("div",H,[o("div",J,[e[6]||(e[6]=o("div",{class:"dec-edit-group-title"},[o("div",{class:"label"},"主标题")],-1)),o("div",K,[o("div",Q,[s(d,{modelValue:t.title,"onUpdate:modelValue":a=>t.title=a,placeholder:"请输入标题内容"},null,8,["modelValue","onUpdate:modelValue"])])])]),o("div",R,[e[7]||(e[7]=o("div",{class:"dec-edit-group-title"},[o("div",{class:"label"},"副标题")],-1)),o("div",W,[o("div",Y,[s(d,{modelValue:t.subTitle,"onUpdate:modelValue":a=>t.subTitle=a,placeholder:"请输入标题内容"},null,8,["modelValue","onUpdate:modelValue"])])])])])):b("",!0),o("div",{class:"del-item",onClick:a=>I(y)},e[8]||(e[8]=[o("i",{class:"ico-decorate icon-dec-cha"},null,-1)]),8,Z)])]),_:1},8,["list"]),p.isMultiple||u.value.length<1?(G(),g("div",oo,[o("div",eo,[o("div",to,[s(m(N),{isDrawer:"",onOkCallback:k,title:"选择商品分组",width:"600px",path:"product/productGroup/src/SelectProductGroup",params:{selectedIds:v.value,isMultiple:h.isMultiple},style:{width:"100%"}},{default:i(()=>e[9]||(e[9]=[o("a",{class:"dec-pic-add-btn"},[o("i",{class:"ico-decorate icon-dec-jia"}),f("添加商品分组")],-1)])),_:1},8,["params"])])])])):b("",!0)])}}}),po=B(so,[["__scopeId","data-v-7559934f"]]);export{po as P};
