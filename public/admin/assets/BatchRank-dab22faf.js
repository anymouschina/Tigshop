import{d as C,j as s,E as V,s as R,x as D,r,o as d,c as N,e as f,k as q,w as n,b as t,f as L,$ as E,a0 as F,H as $,h as j,K as _}from"./index-7c2d2aef.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-b4d9216b.js";import"./category-a8bd4d11.js";import"./index-6c62cf9b.js";import"./config-9548fa9b.js";/* empty css                                                                    *//* empty css                                                                  */import{_ as A}from"./SelectRankList.vue_vue_type_script_setup_true_lang-57f97863.js";/* empty css                                                                              */import"./region-e0d291a6.js";import{b as H}from"./user-dc73f8d4.js";import"./shopProductCategory-792e0c23.js";/* empty css             */import"./time-290942a2.js";import"./util-1ee03ed8.js";import"./config-e2aa16d1.js";import"./userRank-9565375c.js";import"./region-05802f67.js";const K={class:"container"},M={class:"content_wrapper"},T={class:"lyecs-form-table"},ie=C({__name:"BatchRank",props:{ids:{type:Array,default:[]},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(b,{expose:v,emit:g}){const i=g,o=b,l=s(!0),k=V().currentRoute.value.query,y=s(o.isDialog?o.act:String(k.act)),h=s(o.ids),m=R(),a=s({rank_id:""});D(()=>{l.value=!1});const c=async()=>{await m.value.validate();try{i("update:confirmLoading",!0);const e=await H(y.value,{ids:h.value,rank_id:a.value.rank_id});i("submitCallback",e),_.success(e.message)}catch(e){_.error(e.message)}finally{i("update:confirmLoading",!1)}};return v({onFormSubmit:()=>{c()}}),(e,u)=>{const p=r("el-form-item"),w=r("el-button"),S=r("el-form"),x=r("a-spin");return d(),N("div",K,[f("div",M,[f("div",T,[l.value?j("",!0):(d(),q(S,{key:0,ref_key:"formRef",ref:m,model:a.value,"label-width":"auto"},{default:n(()=>[t(p,{label:"会员等级",prop:"rank_id",rules:[{required:!0,message:"请选择会员等级!"}]},{default:n(()=>[t(L(A),{modelValue:a.value.rank_id,"onUpdate:modelValue":u[0]||(u[0]=B=>a.value.rank_id=B)},null,8,["modelValue"])]),_:1}),E(t(p,{"wrapper-col":{offset:4,span:16}},{default:n(()=>[t(w,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:c},{default:n(()=>[$("提交")]),_:1},512)]),_:1},512),[[F,!o.isDialog]])]),_:1},8,["model"])),t(x,{spinning:l.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{ie as default};
