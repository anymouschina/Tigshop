import{g as w}from"./user-dc73f8d4.js";import{d as k,j as m,I as b,a9 as x,r as p,o as a,c as r,b as B,w as V,F as n,a as C,k as N,h as F,e as _,K as S}from"./index-7c2d2aef.js";const U=_("div",{class:"extra"},"注意：搜索结果只显示前20条记录，如果没有找到相应会员，请更精确地查找；",-1),I=_("div",{class:"extra"},"另外，如果该会员是从论坛注册的且没有在商城登录过，也无法找到，需要先在商城登录。",-1),j=k({__name:"SelectUser",props:{user_id:{type:Number},user_name:{type:String,default:""},showTips:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0}},emits:["update:user_id"],setup(u,{emit:f}){const i=u,l=m(!0),o=b({page:1,size:20}),v=f,d=x({get:()=>i.user_id,set:s=>v("update:user_id",s)}),c=m([]),y=async s=>{l.value=!0,o.keyword="",o.keyword=String(s);try{const t=await w({...o});c.value=t.filter_result}catch(t){S.error(t.message)}finally{l.value=!1}};return(s,t)=>{const g=p("el-option"),h=p("el-select");return a(),r(n,null,[B(h,{style:{width:"100%"},modelValue:d.value,"onUpdate:modelValue":t[0]||(t[0]=e=>d.value=e),loading:l.value,"remote-method":y,filterable:"",multiple:i.multiple,placeholder:"请输入会员名称/手机号",remote:"","remote-show-suffix":"","reserve-keyword":""},{default:V(()=>[(a(!0),r(n,null,C(c.value,e=>(a(),N(g,{key:e.user_id,label:"会员名称："+e.username+(e.mobile?"（"+e.mobile+"）":""),value:e.user_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","multiple"]),u.showTips?(a(),r(n,{key:0},[U,I],64)):F("",!0)],64)}}});export{j as _};
