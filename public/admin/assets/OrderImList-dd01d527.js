import{g as S}from"./order-5e1a3c9e.js";import{i as B,p as L}from"./format-4e0206d3.js";import"./index-6c62cf9b.js";import{_ as k}from"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import{d as $,j as c,I as F,x as N,r as b,o as _,c as p,e,n as m,F as w,a as A,k as D,h as J,b as h,q as P,K as V,G as a,w as x,f as u,p as j,i as E,_ as M}from"./index-7c2d2aef.js";import"./config-9548fa9b.js";import"./config-e2aa16d1.js";import"./util-1ee03ed8.js";const v=r=>(j("data-v-379e3613"),r=r(),E(),r),Q={class:"top-bar"},T={class:"info-bar"},q={class:"order-card"},G={class:"order-history-m_header_2AO48"},H={class:"order-history-m_header-line_3zlQJ"},K=v(()=>e("label",null,"订单编号：",-1)),R={class:"order-history-m_content_2mSu8"},U={class:"order-history-m_header-line_3zlQJ"},X=v(()=>e("label",null,"下单时间：",-1)),W={class:"order-history-m_content_2mSu8 order-history-m_time_1Pp-t"},Y={class:"order-history-m_status_fLMU8"},Z=["onClick"],ee={style:{border:"1px solid #f5f5f5"},class:"order-history-m_goods-pic_3wo1h"},se=["src"],te={class:"order-history-m_goods-detail_1XBpg"},oe={class:"order-history-m_goods-name_2i4Hj"},re={class:"order-history-m_summary_2gJrv"},ae={class:"order-history-m_bottom_2g40I"},ie={class:"order-history-m_orderOperationArea_o0OOz"},de={class:"zent-popover-wrapper zent-pop-wrapper",style:{display:"inline-block"}},_e=v(()=>e("a",null,"备注",-1)),ne=$({__name:"OrderImList",props:{userId:{type:Number,default:0},preview:{type:Boolean,default:!1}},setup(r){const C=r,i=c(1),n=t=>{i.value=t,t==1?d.order_status=-1:t==2?d.order_status=[0,1,2]:t==3?d.order_status=5:t==4&&(d.order_status=[3,4,-2]),g()},l=c(!1),d=F({page:1,size:9999,order_status:-1,sort_field:"add_time",sort_order:"desc",user_id:C.userId}),f=c(0),y=c([]),g=async()=>{l.value=!0;try{const t=await S({...d});y.value=t.filter_result,f.value=t.total}catch(t){V.error(t.message)}finally{l.value=!1}},I=t=>{console.log(t)};return N(()=>{g()}),(t,o)=>{const O=b("el-empty"),z=b("a-spin");return _(),p("div",{class:"order-area",style:P({height:r.preview?"calc(100vh - 153px)":"calc(100vh - 50px)"})},[e("div",Q,[e("div",{onClick:o[0]||(o[0]=s=>n(1)),class:m([{tab__actived:i.value==1},"card"])},"全部",2),e("div",{onClick:o[1]||(o[1]=s=>n(2)),class:m([{tab__actived:i.value==2},"card"])},"未完成",2),e("div",{onClick:o[2]||(o[2]=s=>n(3)),class:m([{tab__actived:i.value==3},"card"])},"已完成",2),e("div",{onClick:o[3]||(o[3]=s=>n(4)),class:m([{tab__actived:i.value==4},"card"])},"已关闭",2)]),e("div",T,[l.value?J("",!0):(_(),p(w,{key:0},[f.value>0?(_(!0),p(w,{key:0},A(y.value,s=>(_(),p("div",q,[e("div",G,[e("div",H,[K,e("div",R,a(s.order_sn),1)]),e("div",U,[X,e("div",W,a(s.add_time),1),e("div",Y,a(s.order_status_name),1)])]),h(u(k),{params:{act:"detail",id:s.order_id},showClose:!1,showOnOk:!1,title:"订单详情 "+s.order_sn,isDrawer:"",path:"order/order/Info",width:"880px"},{default:x(()=>[e("a",{class:"order-history-m_goods-item_216A0",onClick:le=>I(s),target:"_blank"},[e("div",ee,[e("img",{width:"100%",src:u(B)(s.items[0].product_pic_thumb)},null,8,se)]),e("div",te,[e("div",oe,a(s.items[0].product_name),1)])],8,Z)]),_:2},1032,["params","title"]),e("div",re,"共 "+a(s.items.length)+" 件商品，实付 "+a(u(L)(s.total_amount)),1),e("div",ae,[e("div",ie,[e("div",de,[h(u(k),{params:{act:"detail",id:s.order_id,valueName:"admin_note"},isDrawer:"",path:"order/order/src/EditRemark",title:"编辑备注",width:"600px"},{default:x(()=>[_e]),_:2},1032,["params"])])])])]))),256)):(_(),D(O,{key:1,description:"暂无订单～"}))],64)),h(z,{spinning:l.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])],4)}}});const ge=M(ne,[["__scopeId","data-v-379e3613"]]);export{ge as default};
