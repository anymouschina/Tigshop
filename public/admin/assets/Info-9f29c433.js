import{d as N,I as V,dk as k,E as x,j as m,s as C,r as d,o as D,k as F,w as r,$ as I,a0 as R,b as o,f as B,e as h,G as L,K as g}from"./index-7c2d2aef.js";import{F as U}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-9b6073fb.js";import{u as q}from"./team-899ca128.js";import"./index-6c62cf9b.js";import"./vuedraggable.umd-75ad0f8f.js";import"./Image.vue_vue_type_script_setup_true_lang-36bd437b.js";import"./format-4e0206d3.js";import"./config-9548fa9b.js";import"./config-e2aa16d1.js";import"./util-1ee03ed8.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";const G=h("div",{class:"extra"},"店铺名称应尽量简洁易记, 建议15字以内",-1),T=N({__name:"Info",props:{act:{type:String,default:""},id:{type:Number,default:0},type:{type:Number,default:1},page:{type:Number,default:1},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(c,{expose:b,emit:v}){const n=v,i=c,a=V(JSON.parse(JSON.stringify(k().shopInfo))),f=x().currentRoute.value.query,y=m(i.isDialog?i.act:String(f.act));m(i.isDialog?i.id:Number(f.id)),y.value;const u=C(),e=m({shop_id:a.shop_id,shop_title:a.shop_title,shop_logo:a.shop_logo,description:a.description}),S=async()=>{await u.value.validate();try{n("update:confirmLoading",!0);const l=await q({...e.value});await u.value.resetFields(),g.success(l.message),n("submitCallback",l)}catch(l){g.error(l.message)}finally{n("update:confirmLoading",!1)}};return b({onFormSubmit:()=>{S()}}),(l,t)=>{const p=d("el-form-item"),_=d("el-input"),w=d("el-form");return D(),F(w,{ref_key:"formRef",ref:u,model:e.value,class:"form-body","label-suffix":"：","label-width":"auto"},{default:r(()=>[I(o(p,{label:"店铺Logo"},{default:r(()=>[o(B(U),{photo:e.value.shop_logo,"onUpdate:photo":t[0]||(t[0]=s=>e.value.shop_logo=s),isMultiple:!1},null,8,["photo"])]),_:1},512),[[R,c.page]]),o(p,{rules:[{required:!0,message:"请输入店铺名称!"}],label:"店铺名称",prop:"shop_title"},{default:r(()=>[o(_,{modelValue:e.value.shop_title,"onUpdate:modelValue":t[1]||(t[1]=s=>e.value.shop_title=s),placeholder:"请输入店铺名称"},null,8,["modelValue"]),G]),_:1}),o(p,{label:"创建时间",prop:"account_no"},{default:r(()=>[h("p",null,L(a.add_time),1)]),_:1}),o(p,{label:"店铺简介",prop:"description"},{default:r(()=>[o(_,{modelValue:e.value.description,"onUpdate:modelValue":t[2]||(t[2]=s=>e.value.description=s),rows:4,type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])}}});export{T as default};
