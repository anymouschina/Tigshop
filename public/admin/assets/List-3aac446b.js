import{d as G,j as h,I as H,x as M,r as d,o as v,c as w,e as a,b as t,w as o,f as n,h as V,K as g,L as T,H as p,k as J,G as U}from"./index-7c2d2aef.js";/* empty css             */import"./index-6c62cf9b.js";import{P as x}from"./PopFormElm-61cd9b7d.js";import{_ as B}from"./Switch.vue_vue_type_script_setup_true_lang-95245cd7.js";import{_ as Q}from"./DeleteRecord.vue_vue_type_script_setup_true_lang-ae1bade7.js";/* empty css                                                                    */import{P as R}from"./Pagination-8eb7b6b1.js";import{u as X}from"./config-9548fa9b.js";import{_ as Y}from"./Image.vue_vue_type_script_setup_true_lang-36bd437b.js";import{g as Z,u as y,d as ee,b as te,c as ae}from"./brand-995f2ca4.js";import{c as oe}from"./version-f7bce787.js";import{_ as z}from"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import"./config-e2aa16d1.js";import"./format-4e0206d3.js";import"./util-1ee03ed8.js";const se={class:"container"},le={class:"content_wrapper"},ne={class:"lyecs-table-list-warp"},ie={class:"list-table-tool lyecs-search-warp"},de={class:"advanced-search-warp list-table-tool-row"},re={class:"simple-form-warp"},ce={class:"simple-form-field"},_e={class:"form-group"},pe={class:"control-container"},ue=a("span",{class:"iconfont icon-chakan1"},null,-1),me={class:"simple-form-field"},fe={class:"form-group"},be=a("label",{class:"control-label"},[a("span",null,"是否显示：")],-1),he={class:"control-container"},ve={class:"simple-form-field"},ge={class:"form-group"},ye=a("label",{class:"control-label"},[a("span",null,"是否显示：")],-1),ke={class:"control-container"},we={class:"simple-form-field"},Ve={class:"form-group"},Ue=a("label",{class:"control-label"},[a("span",null,"是否热门：")],-1),Ce={class:"control-container"},qe={class:"simple-form-field"},xe={class:"form-group"},Ae=a("label",{class:"control-label"},[a("span",null,"首字母：")],-1),Se={class:"control-container"},Be={class:"simple-form-field"},ze={class:"list-table-tool-row"},Fe={class:"list-table-tool-col"},Pe={key:1},$e=a("div",{class:"list-table-tool-col"},null,-1),De={class:"table-container"},Ie={style:{position:"relative"}},Ne=a("a",{class:"btn-link"},"编辑",-1),Ke={class:"empty-warp"},Le={key:0,class:"empty-bg"},Oe={key:0,class:"pagination-con"},st=G({__name:"List",setup(We){const F=X(),A=h([]),b=h(!0),k=h(0),u=h([]);h(!1);const l=H({page:1,size:F.get("page_size"),sort_field:"",sort_order:"",keyword:"",first_word:""}),r=async()=>{b.value=!0;try{const i=await Z({...l});A.value=i.filter_result,k.value=i.total}catch(i){g.error(i.message)}finally{b.value=!1}};M(()=>{r()});const C=()=>{r()},P=({prop:i,order:s})=>{l.sort_field=i,l.sort_order=s=="ascending"?"asc":s=="descending"?"desc":"",r()},$=async i=>{try{const s=await te(i,{ids:u.value});g.success(s.message),r()}catch(s){g.error(s.message)}},D=i=>{u.value=i.map(s=>s.brand_id)},I=async()=>{try{const i=await ae();g.success(i.message),r()}catch(i){g.error(i.message)}};return(i,s)=>{const m=d("el-button"),S=d("el-input"),f=d("el-option"),q=d("el-select"),N=d("router-link"),K=d("el-popconfirm"),L=d("el-space"),O=d("el-form"),_=d("el-table-column"),W=d("el-divider"),j=d("el-table"),E=d("a-spin");return v(),w("div",se,[a("div",le,[a("div",ne,[a("div",ie,[t(O,{model:l},{default:o(()=>[a("div",de,[a("div",re,[a("div",ce,[a("div",_e,[a("div",pe,[t(S,{modelValue:l.keyword,"onUpdate:modelValue":s[0]||(s[0]=e=>l.keyword=e),name:"keyword",placeholder:"输入品牌名称",onKeyup:T(C,["enter"])},{append:o(()=>[t(m,{onClick:C},{default:o(()=>[ue]),_:1})]),_:1},8,["modelValue"])])])]),a("div",me,[a("div",fe,[be,a("div",he,[t(q,{modelValue:l.is_show,"onUpdate:modelValue":s[1]||(s[1]=e=>l.is_show=e),clearable:""},{default:o(()=>[t(f,{value:0,label:"不显示"}),t(f,{value:1,label:"显示"})]),_:1},8,["modelValue"])])])]),a("div",ve,[a("div",ge,[ye,a("div",ke,[t(q,{modelValue:l.is_show,"onUpdate:modelValue":s[2]||(s[2]=e=>l.is_show=e),clearable:""},{default:o(()=>[t(f,{value:0,label:"不显示"}),t(f,{value:1,label:"显示"})]),_:1},8,["modelValue"])])])]),a("div",we,[a("div",Ve,[Ue,a("div",Ce,[t(q,{modelValue:l.brand_is_hot,"onUpdate:modelValue":s[3]||(s[3]=e=>l.brand_is_hot=e),clearable:""},{default:o(()=>[t(f,{value:0,label:"否"}),t(f,{value:1,label:"是"})]),_:1},8,["modelValue"])])])]),a("div",qe,[a("div",xe,[Ae,a("div",Se,[t(S,{modelValue:l.first_word,"onUpdate:modelValue":s[4]||(s[4]=e=>l.first_word=e)},null,8,["modelValue"])])])]),a("div",Be,[t(m,{type:"primary",onClick:C},{default:o(()=>[p("搜索")]),_:1})])])]),a("div",ze,[a("div",Fe,[t(L,null,{default:o(()=>[t(n(z),{params:{act:"add"},isDrawer:"",path:"product/brand/Info",title:"添加品牌",width:"600px",onOkCallback:r},{default:o(()=>[t(m,{type:"primary"},{default:o(()=>[p("添加品牌")]),_:1})]),_:1}),n(oe)()?(v(),J(N,{key:0,to:{path:"/setting/multilingual/translationContent/list",query:{type:"brand"}}},{default:o(()=>[t(m,null,{default:o(()=>[p("批量翻译品牌名称")]),_:1})]),_:1})):V("",!0),t(K,{title:"您确认要批量删除所选数据吗？",onConfirm:s[5]||(s[5]=e=>$("del"))},{reference:o(()=>[t(m,{disabled:u.value.length===0},{default:o(()=>[p("批量删除")]),_:1},8,["disabled"])]),_:1}),t(m,{loading:!1,disabled:u.value.length===0,onClick:I},{default:o(()=>[p("批量更新品牌首字母 ")]),_:1},8,["disabled"]),u.value.length>0?(v(),w("span",Pe,[p(" 已选择："),a("b",null,U(u.value.length),1),p(" 项 ")])):V("",!0)]),_:1})]),$e])]),_:1},8,["model"])]),a("div",De,[t(E,{spinning:b.value},{default:o(()=>[t(j,{data:A.value,loading:b.value,total:k.value,"row-key":"brand_id",onSelectionChange:D,onSortChange:P},{empty:o(()=>[a("div",Ke,[b.value?V("",!0):(v(),w("div",Le,"暂无数据"))])]),default:o(()=>[t(_,{type:"selection",width:"32"}),t(_,{width:200,label:"品牌名称",prop:"brand_id",sortable:"custom"},{default:o(({row:e})=>[a("div",Ie,[t(n(x),{"org-value":e.brand_name,"onUpdate:orgValue":c=>e.brand_name=c,max:30,params:{id:e.brand_id,field:"brand_name"},requestApi:n(y),label:"品牌名称",type:"textarea"},{default:o(()=>[a("div",null,U(e.brand_name),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])])]),_:1}),t(_,{label:"品牌缩略图"},{default:o(({row:e})=>[t(n(Y),{src:e.brand_logo,fit:"contain",style:{height:"25px",width:"60px"}},null,8,["src"])]),_:1}),t(_,{label:"首字母"},{default:o(({row:e})=>[t(n(x),{"org-value":e.first_word,"onUpdate:orgValue":c=>e.first_word=c,len:1,params:{id:e.brand_id,field:"first_word"},requestApi:n(y),label:"首字母",type:"input"},{default:o(()=>[a("div",null,U(e.first_word||"-"),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),t(_,{label:"是否热销"},{default:o(({row:e})=>[t(n(B),{checked:e.brand_is_hot,"onUpdate:checked":c=>e.brand_is_hot=c,params:{id:e.brand_id,field:"brand_is_hot"},requestApi:n(y)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),t(_,{label:"是否显示",prop:"is_show",sortable:"custom"},{default:o(({row:e})=>[t(n(B),{checked:e.is_show,"onUpdate:checked":c=>e.is_show=c,params:{id:e.brand_id,field:"is_show"},requestApi:n(y)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),t(_,{label:"排序",prop:"sort_order",sortable:"custom"},{default:o(({row:e})=>[t(n(x),{"org-value":e.sort_order,"onUpdate:orgValue":c=>e.sort_order=c,params:{id:e.brand_id,field:"sort_order"},requestApi:n(y),extra:"默认值为50，数值越小，排序越靠前",label:"排序",type:"input"},{default:o(()=>[a("div",null,U(e.sort_order),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),t(_,{width:150,fixed:"right",label:"操作"},{default:o(({row:e})=>[t(n(z),{params:{act:"detail",id:e.brand_id},isDrawer:"",path:"product/brand/Info",title:"编辑品牌",width:"600px",onOkCallback:r},{default:o(()=>[Ne]),_:2},1032,["params"]),t(W,{direction:"vertical"}),t(n(Q),{params:{id:e.brand_id},requestApi:n(ee),onAfterDelete:r},{default:o(()=>[p("删除 ")]),_:2},1032,["params","requestApi"])]),_:1})]),_:1},8,["data","loading","total"])]),_:1},8,["spinning"]),k.value>0?(v(),w("div",Oe,[t(n(R),{page:l.page,"onUpdate:page":s[6]||(s[6]=e=>l.page=e),size:l.size,"onUpdate:size":s[7]||(s[7]=e=>l.size=e),total:k.value,onCallback:r},null,8,["page","size","total"])])):V("",!0)])])])])}}});export{st as default};
