import{d as L,j as i,E as j,s as q,x as E,r as s,o as k,c as F,e as v,k as G,w as a,b as e,H as t,G as r,$ as H,a0 as K,h as M,K as f}from"./index-7c2d2aef.js";import{a as O,u as T}from"./userInvoice-2d82e9dd.js";const $={class:"container"},z={class:"content_wrapper"},A={class:"lyecs-form-table"},J=v("div",{class:"extra"},"若通过可不写",-1),X=L({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(V,{expose:x,emit:S}){const c=S,u=V,m=i(!0),y=j().currentRoute.value.query,b=i(u.isDialog?u.act:String(y.act)),g=i(u.isDialog?u.id:Number(y.id)),C=b.value==="add"?"create":"update",h=q(),o=i({}),B=async()=>{try{const n=await O(b.value,{id:g.value});Object.assign(o.value,n.item)}catch(n){f.error(n.message),c("close")}finally{m.value=!1}};E(()=>{B()});const w=async()=>{await h.value.validate();try{c("update:confirmLoading",!0);const n=await T(C,{id:g.value,...o.value});c("submitCallback",n),f.success(n.message)}catch(n){f.error(n.message)}finally{c("update:confirmLoading",!1)}};return x({onFormSubmit:()=>{w()}}),(n,p)=>{const l=s("el-form-item"),d=s("el-radio"),D=s("el-radio-group"),N=s("el-input"),R=s("el-button"),U=s("el-form"),I=s("a-spin");return k(),F("div",$,[v("div",z,[v("div",A,[m.value?M("",!0):(k(),G(U,{key:0,ref_key:"formRef",ref:h,model:o.value,"label-width":"auto"},{default:a(()=>[e(l,{label:"申请会员",prop:"username"},{default:a(()=>[t(r(o.value.username),1)]),_:1}),e(l,{label:"公司名称",prop:"company_name"},{default:a(()=>[t(r(o.value.company_name),1)]),_:1}),e(l,{label:"纳税人识别码",prop:"company_code"},{default:a(()=>[t(r(o.value.company_code),1)]),_:1}),e(l,{label:"注册地址",prop:"company_address"},{default:a(()=>[t(r(o.value.company_address),1)]),_:1}),e(l,{label:"注册电话",prop:"company_phone"},{default:a(()=>[t(r(o.value.company_phone),1)]),_:1}),e(l,{label:"开户银行",prop:"company_bank"},{default:a(()=>[t(r(o.value.company_bank),1)]),_:1}),e(l,{label:"银行账户",prop:"company_account"},{default:a(()=>[t(r(o.value.company_account),1)]),_:1}),e(l,{label:"申请状态",prop:"status"},{default:a(()=>[e(D,{modelValue:o.value.status,"onUpdate:modelValue":p[0]||(p[0]=_=>o.value.status=_)},{default:a(()=>[e(d,{value:1},{default:a(()=>[t("审核通过")]),_:1}),e(d,{value:2},{default:a(()=>[t("待审核")]),_:1}),e(d,{value:3},{default:a(()=>[t("审核未通过")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(l,{label:"申请未通过原因",prop:"apply_reply"},{default:a(()=>[e(N,{modelValue:o.value.apply_reply,"onUpdate:modelValue":p[1]||(p[1]=_=>o.value.apply_reply=_),row:"2",type:"textarea"},null,8,["modelValue"]),J]),_:1}),H(e(l,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[e(R,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:w},{default:a(()=>[t("提交")]),_:1},512)]),_:1},512),[[K,!u.isDialog]])]),_:1},8,["model"])),e(I,{spinning:m.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{X as default};
