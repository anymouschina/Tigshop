/* empty css             */import{b as C,c as V}from"./productBatch-0b436jTv.js";import{r as B}from"./export-D_WXJj3y.js";import{d as S,s as k,G as A,i as R,c as D,e as a,b as t,w as l,r as u,o as E,E as d,dH as U,I as _,_ as F}from"./index-DrbzVNl6.js";const I={class:"container"},N={class:"content_wrapper"},P={class:"lyecs-table-list-warp"},j={class:"list-table-tool lyecs-search-warp"},q={class:"lyecs-form-table"},L=S({__name:"List",setup(T){const f=k(),o=A({isAutoCat:0,isAutoBrand:0,isChangePic:0,isUpload:1,file:""}),p=R(),v=s=>{p.value.clearFiles();const e=s[0];e.uid=U(),p.value.handleStart(e)},b=s=>{let e=new FormData;e.append("file",s.raw),o.file=e.get("file")},w=async()=>{const s=await C();B(s,"模板文件")},g=async()=>{await f.value.validate();try{const s=await V({...o});_.success("操作成功")}catch(s){_.error(s.message)}};return(s,e)=>{const n=u("el-form-item"),c=u("el-button"),y=u("el-upload"),r=u("el-radio"),m=u("el-radio-group"),x=u("el-form");return E(),D("div",I,[a("div",N,[a("div",P,[a("div",j,[e[14]||(e[14]=a("div",{class:"notice-warp"},[a("p",null,"提示："),a("p",null,"1、请先下载模板文件，然后通过上传导入商品"),a("p",null," 2、商品相册：请先将图片上传至服务器站点目录（推荐上传至OSS或站点根目录/img/upload/” 下的目录），比如图片完整路径为：“/www/web/public/img/upload/2022/1.jpg”，填写时请省略public/在内的前面的路径，直接填写“img/upload/2022/1.jpg”即可；多张图请用符号|分隔，第一张图片会作为商品主图 "),a("p",null,"3、商品分类：请按分类级别依次填写名称，使用|分隔，比如：家用电器|电视|平板电视，如果分类不存在时想自动创建，可钩选自动创建分类"),a("p",null,"4、商品品牌：填写品牌名称，如果品牌名称不存在时想自动创建，可钩选自动创建品牌"),a("p",null,"5、关键词：请用空格分隔"),a("p",null,"6、是否上架：填1代表上架，0代表下架"),a("p",{class:"red"},"提示：提交后请勿刷新或关闭页面！")],-1)),a("div",q,[t(x,{ref_key:"formRef",ref:f,model:o,"label-width":"auto"},{default:l(()=>[t(n,{label:"下载模板文件"},{default:l(()=>[a("a",{href:"#",onClick:w},"商品导入模板文件")]),_:1}),t(n,{rules:[{required:!0,message:"请选择文件!"}],label:"上传文件"},{default:l(()=>[t(y,{ref_key:"uploadRef",ref:p,"auto-upload":!1,limit:1,"on-change":b,"on-exceed":v,accept:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",class:"upload-demo"},{trigger:l(()=>[t(c,{type:"primary"},{default:l(()=>e[4]||(e[4]=[d("选择文件")])),_:1})]),_:1},512)]),_:1}),t(n,{label:"是否自动添加分类"},{default:l(()=>[t(m,{modelValue:o.isAutoCat,"onUpdate:modelValue":e[0]||(e[0]=i=>o.isAutoCat=i),class:"width100"},{default:l(()=>[t(r,{value:1},{default:l(()=>e[5]||(e[5]=[d("是")])),_:1}),t(r,{value:0},{default:l(()=>e[6]||(e[6]=[d("否")])),_:1})]),_:1},8,["modelValue"]),e[7]||(e[7]=a("div",{class:"extra"},"如果选指否，则分类不存在时会输出错误；如果选指是，则会自动新建分类！",-1))]),_:1}),t(n,{label:"是否自动添加品牌"},{default:l(()=>[t(m,{modelValue:o.isAutoBrand,"onUpdate:modelValue":e[1]||(e[1]=i=>o.isAutoBrand=i)},{default:l(()=>[t(r,{value:1},{default:l(()=>e[8]||(e[8]=[d("是")])),_:1}),t(r,{value:0},{default:l(()=>e[9]||(e[9]=[d("否")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(n,{label:"是否修改商品相册"},{default:l(()=>[t(m,{modelValue:o.isChangePic,"onUpdate:modelValue":e[2]||(e[2]=i=>o.isChangePic=i),class:"width100"},{default:l(()=>[t(r,{value:1},{default:l(()=>e[10]||(e[10]=[d("是")])),_:1}),t(r,{value:0},{default:l(()=>e[11]||(e[11]=[d("否")])),_:1})]),_:1},8,["modelValue"]),e[12]||(e[12]=a("div",{class:"extra"},"为防止误操作，默认不会对文件中的商品相册字段进行修改，如果需要修改，请钩选此项为“是”",-1))]),_:1}),t(n,{label:" "},{default:l(()=>[t(c,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:e[3]||(e[3]=i=>g())},{default:l(()=>e[13]||(e[13]=[d("提交 ")])),_:1},512)]),_:1})]),_:1},8,["model"])])])])])])}}}),$=F(L,[["__scopeId","data-v-2415faac"]]);export{$ as default};
