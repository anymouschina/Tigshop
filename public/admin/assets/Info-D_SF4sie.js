import{d as ie,m as Ue,u as $e,q as me,i as V,K as ve,G as Ae,I as N,r as S,c as g,o,b as i,f as m,w as d,j as f,g as r,E as y,e as a,D as ee,F as D,a as F,_ as de,aU as Me,n as ae,a3 as oe,a4 as re,aR as Ne,bm as Pe,C as he,s as Be,p as Re,A as M}from"./index-DrbzVNl6.js";import{F as De}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-BDvYUQtN.js";import"./index-CeQDmMxd.js";import{d as qe}from"./vuedraggable.umd-DAKh-e3Q.js";import{_ as ue}from"./Image.vue_vue_type_script_setup_true_lang-BWzCs9jv.js";import{i as Z}from"./format-CRgx78oe.js";import{_ as P}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";import{e as Ee,f as Oe,h as je,b as Fe,i as ze}from"./product-DEi2MlvQ.js";import{R as Ge}from"./RadioType-BS0S7lC6.js";import{_}from"./Checkbox.vue_vue_type_script_setup_true_lang-B1TQ86Kt.js";import{S as He}from"./SelectBrand-DNAqPzAl.js";import{_ as Ke}from"./SelectCategory.vue_vue_type_script_setup_true_lang-DKnpU9uO.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-MgR9Z6jO.js";import{S as We}from"./SelectProduct-BHvR_Ddk.js";import{g as Je}from"./article-D9QgJXUQ.js";/* empty css                                                                    */import{P as Qe}from"./Pagination-wR9huHyl.js";/* empty css                                                                              */import{_ as Xe}from"./SelectShopProductCategory.vue_vue_type_script_setup_true_lang-JfdfLDEN.js";/* empty css             */import ne from"./ProductDesc-IwnFRkDv.js";import{_ as pe}from"./PriceInput.vue_vue_type_script_setup_true_lang-FE8edalZ.js";import Ye from"./Attr-BiM0gkNb.js";import{B as Ze}from"./BusinessData-CHGCSdy5.js";import{_ as _e}from"./Editor.vue_vue_type_script_setup_true_lang-DYKF5akI.js";/* empty css                                                                  */import"./brand-C64i7ZtK.js";import"./category-B3nMG9Bb.js";import"./category-BQLd1cDS.js";import"./time-Bh5UhrfW.js";import"./SelectSku--IXQGnUO.js";/* empty css                                                                  */import"./shopProductCategory-BXIUO5BE.js";import"./PopFormElm-BZp1_Wme.js";import"./currencyManagement-ChS-Zs2m.js";import"./version-CL9k3sYf.js";import"./index.esm-bNAKkq0_.js";const el={class:"lyecs-article-select-group"},ll={key:2,class:"ml10"},tl={key:0,class:"lyecs-article-selected-con"},al={class:"article-selected-list"},il={class:"article-selected-list-tr"},dl={class:"col col2 article-info"},sl={class:"col col3"},ol=["onClick"],rl={key:0,class:"pagination-con"},ul=ie({__name:"SelectArticle",props:Ue({max:{type:Number,default:-1},disabled:{type:Boolean,default:!1},isMultiple:{type:Boolean,default:!0}},{modelValue:{type:Array,default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(s,{expose:H}){const T=s,c=$e(s,"modelValue");me(async()=>{c.value&&c.value.length>0&&await E(c.value)});const k=V([]),A=V(0),h=ve(),I=V(!0),C=Ae({page:1,size:h.get("pageSize"),sortField:"",sortOrder:"",keyword:""}),q=V(""),E=async w=>{I.value=!0;try{q.value=Array.isArray(w)?w.join(","):"";const p=await Je({articleIds:q.value,...C});k.value=p.records,A.value=p.total}catch(p){N.error(p.message)}finally{I.value=!1}},b=w=>{let p=c.value;T.isMultiple==!1&&(p=[]);for(let L in w)p.push(w[L]);c.value=p,E(p)},x=()=>{k.value=[],c.value=[]},$=w=>{let p=k.value[w].articleId;c.value=c.value.filter(L=>L!==p),k.value.splice(w,1)};return H({modelValue:c,articleList:k}),(w,p)=>{const L=S("el-button"),l=S("el-space");return o(),g("div",el,[i(l,null,{default:d(()=>[s.disabled?(o(),f(L,{key:1,disabled:s.max>0&&c.value.length>=s.max||s.disabled,type:"primary"},{default:d(()=>p[3]||(p[3]=[y("选择文章")])),_:1},8,["disabled"])):(o(),f(r(P),{key:0,params:{selectedIds:c.value,isMultiple:T.isMultiple},isDrawer:"",path:"content/article/src/SelectArticle",title:"选择文章",width:"600px",onOkCallback:b},{default:d(()=>[i(L,{disabled:s.max>0&&c.value.length>=s.max,type:"primary"},{default:d(()=>p[2]||(p[2]=[y("选择文章")])),_:1},8,["disabled"])]),_:1},8,["params"])),s.isMultiple&&c.value.length>0?(o(),g("span",ll,[p[4]||(p[4]=y("已选择 ")),a("b",null,ee(c.value.length),1),p[5]||(p[5]=y(" 个文章"))])):m("",!0),s.isMultiple&&c.value.length>0?(o(),f(L,{key:3,disabled:s.disabled,onClick:x},{default:d(()=>p[6]||(p[6]=[y("清空")])),_:1},8,["disabled"])):m("",!0)]),_:1}),k.value.length>0&&!I.value?(o(),g("div",tl,[a("div",al,[p[7]||(p[7]=a("div",{class:"article-selected-list-tr article-selected-list-th"},[a("div",{class:"col col2"},"文章名称"),a("div",{class:"col col3"},"操作")],-1)),(o(!0),g(D,null,F(k.value,(B,U)=>(o(),g("div",il,[a("div",dl,ee(B.articleTitle),1),a("div",sl,[a("a",{class:"del-btn",onClick:le=>$(U)},"删除",8,ol)])]))),256))]),A.value>0?(o(),g("div",rl,[i(r(Qe),{page:C.page,"onUpdate:page":p[0]||(p[0]=B=>C.page=B),size:C.size,"onUpdate:size":p[1]||(p[1]=B=>C.size=B),total:A.value,onCallback:E,layout:"slot ,prev, pager, next",background:!1},null,8,["page","size","total"])])):m("",!0)])):m("",!0)])}}}),nl=de(ul,[["__scopeId","data-v-9ce1b16a"]]),pl={class:"gallery-pic"},ml={class:"item-img add-photo-btn"},vl={class:"video-item-box-icon"},cl=["src"],fl={class:"flex",style:{"flex-direction":"column",height:"80px",width:"80px","align-items":"center","justify-content":"center","line-height":"22px"}},yl={key:0,class:"item-action"},gl={key:1,class:"gallery-list-warp"},bl={class:"item","data-id":"img.imgId"},xl={class:"img flex flex-justify-center"},kl={class:"lyecs-dialogImage"},Vl=["src"],Il=["onClick"],wl={key:0,class:"item gallery-add-item add-gallery-photo-btn",draggable:"false"},Cl={class:"item gallery-add-item add-gallery-photo-btn",draggable:"false"},Sl=ie({__name:"FormAddGalleryVideo",props:{video:{type:Array,default:[]},videos:{type:Array,default:[]},isMultiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:Number,default:1}},emits:["update:video","update:videos"],setup(s,{emit:H}){V(null);const T=s,{video:c,videos:k,isMultiple:A,disabled:h}=Me(T),I=H,C=b=>{A.value==!0?I("update:videos",k.value.concat(b)):I("update:video",b)},q=b=>{A.value==!0?(k.value.splice(b,1),I("update:videos",k.value)):I("update:video",[])},E=()=>{I("update:videos",[])};return(b,x)=>{const $=S("SvgIcon"),w=S("el-icon");return o(),g("div",pl,[!r(A)&&s.type==1?(o(),g("div",{key:0,class:ae("gallery-pic-select "+(r(c).length>0?"have_image":""))},[a("div",ml,[r(c).length>0?(o(),g(D,{key:0},[a("div",vl,[i(r(P),{type:"galleryVideo",class:"item item-edit",onOkCallback:C,width:"850px",params:{isMultiple:T.isMultiple}},{default:d(()=>x[3]||(x[3]=[a("i",{class:"iconfont-admin icon-shipin"},null,-1)])),_:1},8,["params"])]),r(c)[0].videoCover?(o(),f(r(ue),{key:0,class:"gallery-img",src:r(Z)(r(c)[0].videoCover)},null,8,["src"])):m("",!0),r(c)[0].videoCover?m("",!0):(o(),g("video",{key:1,src:r(Z)(r(c)[0].videoUrl)},null,8,cl)),oe(a("i",{onClick:x[0]||(x[0]=p=>q(0)),class:"btn-del iconfont icon-cha"},null,512),[[re,!r(h)]])],64)):m("",!0),r(c).length==0?(o(),f(r(P),{key:1,type:"galleryVideo",class:"item-bg",onOkCallback:C,params:{isMultiple:T.isMultiple},width:"850px"},{default:d(()=>[a("div",fl,[i($,{name:"product-add-video",width:"20",height:"20"}),x[4]||(x[4]=a("span",null,"添加视频",-1))])]),_:1},8,["params"])):m("",!0)]),r(c).length>0&&s.type==1?(o(),g("div",yl,[i(r(P),{type:"galleryVideo",class:"item item-edit",onOkCallback:C,width:"850px",params:{isMultiple:T.isMultiple}},{default:d(()=>x[5]||(x[5]=[a("span",{class:"iconfont icon-bianji1"},null,-1)])),_:1},8,["params"]),a("span",{onClick:E,class:"item item-remove iconfont icon-shanchu"})])):m("",!0)],2)):m("",!0),a("div",null,[s.type==2?(o(),f(r(P),{key:0,type:"galleryVideo",onOkCallback:C,params:{isMultiple:T.isMultiple},width:"850px"},{default:d(()=>[a("div",null,[Ne(b.$slots,"default",{},void 0,!0)])]),_:3},8,["params"])):m("",!0)]),r(A)?(o(),g("div",gl,[a("div",null,[i(r(qe),{class:"gallery-list-ul","item-key":"picId",list:r(k),"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:x[1]||(x[1]=()=>{}),onEnd:x[2]||(x[2]=()=>{})},{item:d(({element:p,index:L})=>[a("div",bl,[a("div",xl,[i(r(P),{type:"galleryVideo",onOkCallback:C,width:"850px",params:{isMultiple:T.isMultiple}},{default:d(()=>[a("a",kl,[x[6]||(x[6]=a("div",{class:"video-item-box-icon"},[a("i",{class:"iconfont-admin icon-shipin"})],-1)),p.videoCover?(o(),f(r(ue),{key:0,class:"gallery-img",big:p.videoCover,src:r(Z)(p.videoCover)},null,8,["big","src"])):m("",!0),p.videoCover?m("",!0):(o(),g("video",{key:1,src:r(Z)(p.videoUrl)},null,8,Vl))])]),_:2},1032,["params"]),oe(a("i",{onClick:l=>q(L),class:"btn-del iconfont icon-cha"},null,8,Il),[[re,!r(h)]])])])]),footer:d(()=>[r(h)?(o(),g("div",wl,x[7]||(x[7]=[a("i",{class:"iconfont icon-tianjiatupian"},null,-1)]))):(o(),f(r(P),{key:1,type:"galleryVideo",class:"",onOkCallback:C,params:{isMultiple:T.isMultiple},width:"850px"},{default:d(()=>[a("div",Cl,[i(w,{size:"25"},{default:d(()=>[i(r(Pe))]),_:1})])]),_:1},8,["params"]))]),_:1},8,["list"])])])):m("",!0)])}}}),Tl=de(Sl,[["__scopeId","data-v-34b8237a"]]),Ll={class:"product-container"},Ul={class:"anchor"},$l={class:"tab-row"},Al={class:"form-warp",id:"part1"},Ml={key:0,class:"extra mt10"},Nl={class:"flex flex-justify-between"},Pl={class:"flex flex-justify-between"},hl={key:1,class:"con-btn"},Bl={class:"keywords"},Rl={class:"form-warp",id:"part2"},Dl={class:"form-warp",id:"part3"},ql={class:"flex flex-align-center"},El={class:"flex flex-justify-between"},Ol={key:0,class:"con-btn"},jl={class:"flex flex-justify-between"},Fl={key:0,class:"con-btn"},zl={class:"form-warp",id:"part4"},Gl={class:"form-warp",id:"part5"},Hl=ie({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},examine:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close","closeConfirm"],setup(s,{expose:H,emit:T}){ve().config,V(1);const c=T,k=s,A=[{title:"基本信息",id:"part1"},{title:"价格及库存",id:"part2"},{title:"物流及配送",id:"part3"},{title:"商品详情",id:"part4"},{title:"高级信息",id:"part5"}],h=V(null),I=V(""),C=n=>{n.preventDefault()},q=n=>{I.value=n},E=V(localStorage.getItem("adminType")),b=V(!0),x=he().currentRoute.value.query,$=V(k.isDialog?k.act:String(x.act)),w=V(k.isDialog?k.id:Number(x.id)),p=$.value==="add"?"create":$.value==="copy"?"copy":"update",L=Be(),l=V({snType:1,productType:1,freeShipping:0,shopCategoryId:0,productStatus:1,giveIntegral:-1,rankIntegral:-1,integral:0,isSupportCod:0,productVideoInfo:[],productDescArr:[],productRelated:[],serviceList:[],eCardList:[],productList:[],limitNumber:0,virtualSample:"",paidContent:[],noShipping:0,attrList:{normal:[],spe:[],extra:[]}});Re(l.value,n=>{n.productType!=1?l.value.noShipping=1:l.value.noShipping=0});const B=V([]);me(async()=>{await K(!1),B.value=[{key:1,title:"普通商品"}],$.value==="detail"||$.value==="copy"||$.value==="again"?await Ve():b.value=!1,setTimeout(()=>{c("closeConfirm",!0)},1e4)});const U=(n,e)=>{I.value=n,e=e||"start";const u=document.querySelector(n);u&&u.scrollIntoView({behavior:"smooth",block:e})},le=V([]),ce=(n,e,u)=>{if(e)u();else{u(new Error("商品名称不能为空")),M(()=>{U("#part1")});return}},fe=(n,e,u)=>{if(e)u();else{u(new Error("请选择商品图片")),M(()=>{U("#part1")});return}},ye=(n,e,u)=>{if(e)u();else{u(new Error("请选择商品类目")),M(()=>{U("#part1")});return}},ge=(n,e,u)=>{if(e)u();else{u(new Error("商品售价不能为空")),M(()=>{U("#part2")});return}},be=(n,e,u)=>{if(e)u();else{u(new Error("商品库存不能为空")),M(()=>{U("#part2","end")});return}},xe=(n,e,u)=>{if(e)u();else{u(new Error("请选择电子卡券组")),M(()=>{U("#part1")});return}},ke=(n,e,u)=>{if(e)u();else{u(new Error("请选择运费模板")),M(()=>{U("#part3")});return}},Ve=async()=>{try{const n=await Ee("detail",{id:w.value});n.productRelated==null&&(n.productRelated=[]),l.value.serviceList=l.value.serviceList.map(e=>{var u;return{...e,check:(u=n.productServiceIds)!=null&&u.includes(e.productServiceId)?1:0}}),Object.assign(l.value,n,n)}catch(n){N.error(n.message),c("close")}finally{b.value=!1}},O=V(!1),te=V(),se=async()=>{O.value=!0;try{te.value.loaded=!1,await te.value.loadCategory()}catch(n){N.error(n.message)}finally{setTimeout(()=>{O.value=!1},200)}},K=async(n=!0)=>{var e;O.value=!0;try{const u=await Oe();le.value=u.attrTplList,l.value.serviceList=u.serviceList,l.value.serviceList=(e=u.serviceList)==null?void 0:e.map(z=>{var v;return{...z,check:(v=u.item.productServiceIds)!=null&&v.includes(z.productServiceId)?1:0}}),l.value.suppliersList=u.suppliersList,l.value.shippingTplList=u.shippingTplList,l.value.eCardList=u.eCardList}catch(u){N.error(u.message),c("close")}finally{b.value=!1,setTimeout(()=>{O.value=!1},200)}};function Ie(n){for(let e=0;e<n.length;e++){const u=n[e];if(!u.attrValues||u.attrValues.length===0||u.attrValues.some(z=>z==="")||u.skuStock===null||u.skuStock===void 0)return console.error("请填写完整的规格信息"),!1}return!0}const J=V(),we=async()=>{if(await L.value.validate(),l.value.productType==2&&(l.value.virtualSample=="<p><br></p>"||l.value.virtualSample=="")){N.error("虚拟商品信息不能为空!"),M(()=>{U("#part4")});return}if(l.value.productType==4&&l.value.paidContent.length==0){N.error("付费内容信息不能为空!"),M(()=>{U("#part4")});return}Ie(l.value.productList)?J.value.skuErrorText="":(N.error("请将商品规格的信息填写完整!"),J.value.skuErrorText="请将商品规格的信息填写完整",M(()=>{U("#part2","end")})),await J.value.validateProductSku();try{c("update:confirmLoading",!0),l.value.productServiceIds=l.value.serviceList.filter(e=>e.check===1).map(e=>e.productServiceId);const n=await Fe(p,{...l.value});k.act==="again"&&await ze({id:w.value}),c("submitCallback",n),N.success(n)}catch(n){N.error(n.message)}finally{c("update:confirmLoading",!1)}},Ce=()=>{we()},Se=async()=>{try{const n=await je({productName:l.value.productName});l.value.keywords=n}catch(n){N.error(n.message)}finally{b.value=!1}};return H({onFormSubmit:Ce}),(n,e)=>{const u=S("el-anchor-link"),z=S("el-anchor"),v=S("el-form-item"),W=S("el-option"),Q=S("el-select"),j=S("el-button"),R=S("TigInput"),G=S("el-radio"),X=S("el-radio-group"),Te=S("el-form");return o(),g("div",Ll,[a("div",Ul,[i(z,{container:h.value,offset:10,direction:"horizontal",onClick:C,onChange:q},{default:d(()=>[a("div",$l,[(o(),g(D,null,F(A,(t,Y)=>i(u,{key:t.id,href:"#"+t.id,class:ae({active:I.value===""&&Y===0?!0:I.value==="#"+t.id})},{default:d(()=>[a("div",{class:ae(["item",{active:I.value===""&&Y===0?!0:I.value==="#"+t.id}])},ee(t.title),3)]),_:2},1032,["href","class"])),64))])]),_:1},8,["container"])]),a("div",{class:"form-container",ref_key:"containerRef",ref:h},[b.value?m("",!0):(o(),f(Te,{key:0,ref_key:"formRef",ref:L,model:l.value,"label-width":"100px",name:"form_in_modal"},{default:d(()=>[a("div",Al,[e[51]||(e[51]=a("div",{class:"title"},[a("p",{class:"xian"}),y(" 基本信息 ")],-1)),i(v,{rules:[{required:!0}],label:"商品类型",prop:"productType"},{default:d(()=>[a("div",null,[e[36]||(e[36]=a("div",{class:"extra mb10",style:{"margin-top":"3px"}},"不同商品类型可编辑的字段内容不同，商品类型一旦发布后将不可更改",-1)),i(r(Ge),{modelValue:l.value.productType,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value.productType=t),radioList:B.value,disabled:$.value=="detail"},null,8,["modelValue","radioList","disabled"]),l.value.productType!=1?(o(),g("div",Ml,"该类型商品同样需要客户填写收货地址")):m("",!0)])]),_:1}),i(v,{label:"商品图片",prop:"imgList",rules:[{required:!0,validator:fe}]},{default:d(()=>[b.value?m("",!0):(o(),f(r(De),{key:0,photos:l.value.imgList,"onUpdate:photos":e[1]||(e[1]=t=>l.value.imgList=t),isMultiple:!0,disabled:s.examine==1},null,8,["photos","disabled"])),e[37]||(e[37]=a("div",{class:"extra"},"您可以通过拖拽来调整相册图片顺序，第一张图将作为商品主图展示",-1))]),_:1},8,["rules"]),i(v,{label:"商品视频",prop:"productVideoInfo"},{default:d(()=>[b.value?m("",!0):(o(),f(r(Tl),{key:0,video:l.value.productVideoInfo,"onUpdate:video":e[2]||(e[2]=t=>l.value.productVideoInfo=t),disabled:s.examine==1},null,8,["video","disabled"])),e[38]||(e[38]=a("div",{class:"extra"},"如有商品视频则商品视频作为商品主图展示",-1))]),_:1}),l.value.productType==3?(o(),f(v,{key:0,label:"电子卡券分组",class:"inner-item",prop:"cardGroupId",rules:[{required:!0,validator:xe}]},{default:d(()=>[a("div",Nl,[i(Q,{modelValue:l.value.cardGroupId,"onUpdate:modelValue":e[3]||(e[3]=t=>l.value.cardGroupId=t),placeholder:"请选择",disabled:s.examine==1},{default:d(()=>[(o(!0),g(D,null,F(l.value.eCardList,t=>(o(),f(W,{key:t.groupId,label:t.groupName,value:t.groupId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])])]),_:1},8,["rules"])):m("",!0),i(v,{rules:[{required:!0,validator:ce}],label:"商品名称",prop:"productName",class:"inner-item"},{default:d(()=>[i(Ze,{modelValue:l.value.productName,"onUpdate:modelValue":e[4]||(e[4]=t=>l.value.productName=t),disabled:s.examine==1,placeholder:"请输入商品名称",dataType:2,dataId:w.value,maxlength:100},null,8,["modelValue","disabled","dataId"])]),_:1},8,["rules"]),i(v,{label:"商品品牌",prop:"brandId",class:"inner-item"},{default:d(()=>[b.value?m("",!0):(o(),f(r(He),{key:0,brandId:l.value.brandId,"onUpdate:brandId":e[5]||(e[5]=t=>l.value.brandId=t),disabled:s.examine==1,style:{width:"190px"}},null,8,["brandId","disabled"]))]),_:1}),i(v,{rules:[{required:!0,message:"请选择商品类目!",validator:ye}],label:"商品类目",prop:"categoryId",class:"inner-item"},{default:d(()=>[a("div",Pl,[b.value?m("",!0):(o(),f(r(Ke),{key:0,ref_key:"selectCategory",ref:te,categoryId:l.value.categoryId,"onUpdate:categoryId":e[6]||(e[6]=t=>l.value.categoryId=t),multiple:!1,disabled:s.examine==1,style:{width:"100%"}},null,8,["categoryId","disabled"])),s.examine!=1?(o(),g("div",hl,[i(r(P),{params:{act:"add",parentId:0},isDrawer:"",path:"product/category/Info",title:"添加分类",width:"600px",onOkCallback:se},{default:d(()=>[i(j,{link:"",type:"primary"},{default:d(()=>e[39]||(e[39]=[y("新建")])),_:1})]),_:1}),e[41]||(e[41]=a("p",{class:"ml10 mr10",style:{"margin-bottom":"3px"}},"|",-1)),i(j,{link:"",type:"primary",loading:O.value,onClick:se},{default:d(()=>e[40]||(e[40]=[y("刷新")])),_:1},8,["loading"])])):m("",!0)])]),_:1},8,["rules"]),E.value=="shop"?(o(),f(v,{key:1,label:"店铺分类",prop:"shopCategoryId",class:"inner-item"},{default:d(()=>[i(r(Xe),{categoryId:l.value.shopCategoryId,"onUpdate:categoryId":e[7]||(e[7]=t=>l.value.shopCategoryId=t),disabled:s.examine==1},null,8,["categoryId","disabled"])]),_:1})):m("",!0),i(v,{label:"商品重量",prop:"decimal",class:"inner-item"},{default:d(()=>[i(R,{width:"190px",type:"decimal",decimalPlaces:3,modelValue:l.value.productWeight,"onUpdate:modelValue":e[8]||(e[8]=t=>l.value.productWeight=t),class:"InputBox",disabled:s.examine==1,placeholder:"请输入"},{append:d(()=>e[42]||(e[42]=[y("Kg")])),_:1},8,["modelValue","disabled"])]),_:1}),i(v,{label:"商品条码",prop:"productTsn",class:"inner-item"},{default:d(()=>[a("div",null,[i(R,{classType:"tig-form-input",modelValue:l.value.productTsn,"onUpdate:modelValue":e[9]||(e[9]=t=>l.value.productTsn=t),disabled:s.examine==1},null,8,["modelValue","disabled"]),e[43]||(e[43]=a("div",{class:"extra"},"用于快速识商品所标记的编码，比如：69开头的13位标准码",-1))])]),_:1}),i(v,{label:"商品编码",prop:"productSn",class:"inner-item"},{default:d(()=>[a("div",null,[i(R,{classType:"tig-form-input",modelValue:l.value.productSn,"onUpdate:modelValue":e[10]||(e[10]=t=>l.value.productSn=t),disabled:s.examine==1},null,8,["modelValue","disabled"]),e[44]||(e[44]=a("div",{class:"extra"},"如果您不输入商品编码，系统将自动生成一个唯一的编码",-1))])]),_:1}),i(v,{label:"搜索关键词",prop:"keywords",class:"inner-item"},{default:d(()=>[a("div",Bl,[i(R,{classType:"tig-form-input",disabled:s.examine==1,modelValue:l.value.keywords,"onUpdate:modelValue":e[11]||(e[11]=t=>l.value.keywords=t),class:"InputBox",placeholder:"例如：牙刷 自动 清洁"},null,8,["disabled","modelValue"]),i(j,{disabled:s.examine==1,onClick:Se},{default:d(()=>e[45]||(e[45]=[y("更新关键词")])),_:1},8,["disabled"])]),e[46]||(e[46]=a("div",{class:"extra"},"用空格分隔，为空时会自动根据商品名称分词",-1))]),_:1}),i(v,{extra:"",label:"商品描述",prop:"productBrief",class:"inner-item"},{default:d(()=>[a("div",null,[i(R,{classType:"tig-form-input",modelValue:l.value.productBrief,"onUpdate:modelValue":e[12]||(e[12]=t=>l.value.productBrief=t),rows:2,type:"textarea",disabled:s.examine==1,placeholder:"例如：顺丰快递 又快又好"},null,8,["modelValue","disabled"]),e[47]||(e[47]=a("div",{class:"extra"},"该描述一般会高亮出现在商品名称后面",-1))])]),_:1}),i(v,{label:"是否上架",prop:"productStatus",class:"inner-item"},{default:d(()=>[i(X,{style:{width:"100%"},modelValue:l.value.productStatus,"onUpdate:modelValue":e[13]||(e[13]=t=>l.value.productStatus=t),disabled:s.examine==1},{default:d(()=>[i(G,{value:1},{default:d(()=>e[48]||(e[48]=[y("上架")])),_:1}),i(G,{value:0},{default:d(()=>e[49]||(e[49]=[y("下架")])),_:1})]),_:1},8,["modelValue","disabled"]),e[50]||(e[50]=a("div",{class:"extra"},"上架则允许销售（未审核的商品无法手动上架）",-1))]),_:1})]),a("div",Rl,[e[54]||(e[54]=a("div",{class:"title"},[a("p",{class:"xian"}),y(" 价格及库存 ")],-1)),a("div",null,[i(v,{label:"商品售价",prop:"productPrice",rules:[{required:!0,message:"商品售价不能为空",validator:ge}],class:"inner-item"},{default:d(()=>[i(pe,{width:"190px",modelValue:l.value.productPrice,"onUpdate:modelValue":e[14]||(e[14]=t=>l.value.productPrice=t),disabled:s.examine==1,placeholder:"请输入商品售价"},null,8,["modelValue","disabled"])]),_:1},8,["rules"]),i(v,{extra:"不填则根据设置的比例自动计算",label:"划线价",prop:"marketPrice",class:"inner-item"},{default:d(()=>[a("div",null,[i(pe,{width:"190px",modelValue:l.value.marketPrice,"onUpdate:modelValue":e[15]||(e[15]=t=>l.value.marketPrice=t),disabled:s.examine==1,placeholder:"请输入商品划线价"},null,8,["modelValue","disabled"]),e[52]||(e[52]=a("div",{class:"extra"},"划线价格，不填则不显示",-1))])]),_:1})]),b.value?m("",!0):(o(),f(Ye,{key:0,ref_key:"attrForm",ref:J,attrChanged:l.value.attrChanged,"onUpdate:attrChanged":e[16]||(e[16]=t=>l.value.attrChanged=t),attrList:l.value.attrList,"onUpdate:attrList":e[17]||(e[17]=t=>l.value.attrList=t),productList:l.value.productList,"onUpdate:productList":e[18]||(e[18]=t=>l.value.productList=t),attrTplList:le.value,action:$.value,disabled:s.examine==1},null,8,["attrChanged","attrList","productList","attrTplList","action","disabled"])),!l.value.productList||l.value.productList.length==0?(o(),f(v,{key:1,label:"库存",prop:"productStock",rules:[{required:!0,message:"商品库存不能为空",validator:be}],class:"inner-item"},{default:d(()=>[i(R,{width:"190px",type:"integer",modelValue:l.value.productStock,"onUpdate:modelValue":e[19]||(e[19]=t=>l.value.productStock=t),placeholder:"请输入商品库存",disabled:s.examine==1},null,8,["modelValue","disabled"])]),_:1},8,["rules"])):m("",!0),i(v,{label:"限购数量",prop:"limitNumber",class:"inner-item"},{default:d(()=>[a("div",null,[i(R,{width:"190px",type:"integer",modelValue:l.value.limitNumber,"onUpdate:modelValue":e[20]||(e[20]=t=>l.value.limitNumber=t),description:"请输入限购数量",disabled:s.examine==1},null,8,["modelValue","disabled"]),e[53]||(e[53]=a("div",{class:"extra"},"商品限购数量，为0则不限制",-1))])]),_:1})]),a("div",Dl,[e[64]||(e[64]=a("div",{class:"title"},[a("p",{class:"xian"}),y(" 物流及配送 ")],-1)),l.value.productType!=1?(o(),f(v,{key:0,label:"配送方式",prop:"noShipping",rules:[{required:!0,message:"请选择配送方式!"}]},{default:d(()=>[i(X,{style:{width:"100%"},modelValue:l.value.noShipping,"onUpdate:modelValue":e[21]||(e[21]=t=>l.value.noShipping=t),disabled:s.examine==1},{default:d(()=>[i(G,{value:1},{default:d(()=>e[55]||(e[55]=[y("无需配送")])),_:1})]),_:1},8,["modelValue","disabled"]),i(X,{style:{width:"100%"},modelValue:l.value.noShipping,"onUpdate:modelValue":e[23]||(e[23]=t=>l.value.noShipping=t),disabled:s.examine==1||l.value.productType!=1||l.value.noShipping==1},{default:d(()=>[i(G,{value:0},{default:d(()=>[a("div",ql,[e[59]||(e[59]=a("div",{class:"mr10"},"运费模板",-1)),i(v,{label:"",prop:"shippingTplId"},{default:d(()=>[a("div",El,[i(Q,{modelValue:l.value.shippingTplId,"onUpdate:modelValue":e[22]||(e[22]=t=>l.value.shippingTplId=t),placeholder:"请选择",style:{width:"100%"},disabled:s.examine==1||l.value.productType!=1||l.value.noShipping==1},{default:d(()=>[(o(!0),g(D,null,F(l.value.shippingTplList,t=>(o(),f(W,{key:t.shippingTplId,label:t.shippingTplName,value:t.shippingTplId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),s.examine!=1?(o(),g("div",Ol,[i(r(P),{params:{act:"add"},isDrawer:"",path:"setting/shippingTpl/Info",title:"添加运费模板",width:"900px",onOkCallback:K},{default:d(()=>[i(j,{link:"",type:"primary"},{default:d(()=>e[56]||(e[56]=[y("新建")])),_:1})]),_:1}),e[58]||(e[58]=a("p",{class:"ml10 mr10",style:{"margin-bottom":"3px"}},"|",-1)),i(j,{link:"",type:"primary",loading:O.value,onClick:K},{default:d(()=>e[57]||(e[57]=[y("刷新")])),_:1},8,["loading"])])):m("",!0)])]),_:1})])]),_:1})]),_:1},8,["modelValue","disabled"])]),_:1})):m("",!0),l.value.productType==1?(o(),f(v,{key:1,label:"运费模板",prop:"shippingTplId",rules:[{required:!0,validator:ke}]},{default:d(()=>[a("div",null,[a("div",jl,[i(Q,{modelValue:l.value.shippingTplId,"onUpdate:modelValue":e[24]||(e[24]=t=>l.value.shippingTplId=t),placeholder:"请选择",style:{width:"100%"},disabled:s.examine==1||l.value.productType!=1||l.value.noShipping==1||l.value.shopId>0},{default:d(()=>[(o(!0),g(D,null,F(l.value.shippingTplList,t=>(o(),f(W,{key:t.shippingTplId,label:t.shippingTplName,value:t.shippingTplId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),s.examine!=1?(o(),g("div",Fl,[i(r(P),{params:{act:"add"},isDrawer:"",path:"setting/shippingTpl/Info",title:"添加运费模板",width:"900px",onOkCallback:K},{default:d(()=>[i(j,{link:"",type:"primary"},{default:d(()=>e[60]||(e[60]=[y("新建")])),_:1})]),_:1}),e[62]||(e[62]=a("p",{class:"ml10 mr10",style:{"margin-bottom":"3px"}},"|",-1)),i(j,{link:"",type:"primary",loading:O.value,onClick:K},{default:d(()=>e[61]||(e[61]=[y("刷新")])),_:1},8,["loading"])])):m("",!0)]),e[63]||(e[63]=a("div",{class:"extra"},"可选择自定义的运费模板，不选择默认会指定默认运费模板。",-1))])]),_:1},8,["rules"])):m("",!0)]),a("div",zl,[e[66]||(e[66]=a("div",{class:"title"},[a("p",{class:"xian"}),y(" 商品详情 ")],-1)),l.value.productType==4?(o(),f(ne,{key:0,productType:l.value.productType,label:"付费内容详情",descArr:l.value.paidContent,"onUpdate:descArr":e[25]||(e[25]=t=>l.value.paidContent=t),disabled:s.examine==1},null,8,["productType","descArr","disabled"])):m("",!0),i(ne,{label:l.value.productType==4?"普通商品详情":"商品详情",descArr:l.value.productDescArr,"onUpdate:descArr":e[26]||(e[26]=t=>l.value.productDescArr=t),disabled:s.examine==1},null,8,["label","descArr","disabled"]),l.value.productType==2?(o(),f(v,{key:1,label:"虚拟商品信息",prop:"virtualSample",rules:[{required:!0,message:"虚拟商品信息不能为空!"}]},{default:d(()=>[i(r(_e),{html:l.value.virtualSample,"onUpdate:html":e[27]||(e[27]=t=>l.value.virtualSample=t),height:"350px"},null,8,["html"]),e[65]||(e[65]=a("div",{class:"extra"},"此处填写内容，将在订单详情中展示",-1))]),_:1})):m("",!0)]),a("div",Gl,[e[76]||(e[76]=a("div",{class:"title"},[a("p",{class:"xian"}),y(" 高级信息 ")],-1)),i(v,{label:"加入推荐"},{default:d(()=>[i(r(_),{modelValue:l.value.isBest,"onUpdate:modelValue":e[28]||(e[28]=t=>l.value.isBest=t),disabled:s.examine==1},{default:d(()=>e[67]||(e[67]=[y(" 精品")])),_:1},8,["modelValue","disabled"]),i(r(_),{modelValue:l.value.isNew,"onUpdate:modelValue":e[29]||(e[29]=t=>l.value.isNew=t),disabled:s.examine==1},{default:d(()=>e[68]||(e[68]=[y(" 新品")])),_:1},8,["modelValue","disabled"]),i(r(_),{modelValue:l.value.isHot,"onUpdate:modelValue":e[30]||(e[30]=t=>l.value.isHot=t),disabled:s.examine==1},{default:d(()=>e[69]||(e[69]=[y(" 热销")])),_:1},8,["modelValue","disabled"])]),_:1}),i(v,{label:"供应商",prop:"suppliersId",class:"inner-item"},{default:d(()=>[i(Q,{modelValue:l.value.suppliersId,"onUpdate:modelValue":e[31]||(e[31]=t=>l.value.suppliersId=t),placeholder:"请选择",disabled:s.examine==1},{default:d(()=>[i(W,{label:"请选择",value:0}),(o(!0),g(D,null,F(l.value.suppliersList,t=>(o(),f(W,{key:t.suppliersId,label:t.suppliersName,value:t.suppliersId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])]),_:1}),i(v,{label:"服务说明",prop:"productServiceIds"},{default:d(()=>[(o(!0),g(D,null,F(l.value.serviceList,(t,Y)=>(o(),f(r(_),{modelValue:t.check,"onUpdate:modelValue":Le=>t.check=Le,key:Y,disabled:s.examine==1},{default:d(()=>[y(ee(t.productServiceName),1)]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"]))),128))]),_:1}),i(v,{label:"货到付款",prop:"isSupportCod"},{default:d(()=>[i(X,{style:{width:"100%"},modelValue:l.value.isSupportCod,"onUpdate:modelValue":e[32]||(e[32]=t=>l.value.isSupportCod=t),disabled:s.examine==1},{default:d(()=>[i(G,{value:1},{default:d(()=>e[70]||(e[70]=[y("是")])),_:1}),i(G,{value:0},{default:d(()=>e[71]||(e[71]=[y("否")])),_:1})]),_:1},8,["modelValue","disabled"]),e[72]||(e[72]=a("div",{class:"extra"},"勾选“是”表示该商品可以使用货到付款",-1))]),_:1}),i(v,{label:"显示销量",prop:"virtualSales",class:"inner-item"},{default:d(()=>[a("div",null,[i(R,{width:"190px",type:"integer",modelValue:l.value.virtualSales,"onUpdate:modelValue":e[33]||(e[33]=t=>l.value.virtualSales=t),class:"InputBox",disabled:s.examine==1},null,8,["modelValue","disabled"]),e[73]||(e[73]=a("div",{class:"extra"},"显示销量会随下单而增加，但不是真实销售数据",-1))])]),_:1}),i(v,{label:"相关商品",prop:"productRelated"},{default:d(()=>[b.value?m("",!0):(o(),f(r(We),{key:0,max:10,ids:l.value.productRelated,"onUpdate:ids":e[34]||(e[34]=t=>l.value.productRelated=t),disabled:s.examine==1},null,8,["ids","disabled"])),e[74]||(e[74]=a("div",{class:"extra"},"最多添加10个商品，仅用于在商品详情页展示",-1))]),_:1}),i(v,{label:"关联文章",prop:"productArticleList"},{default:d(()=>[b.value?m("",!0):(o(),f(r(nl),{key:0,max:10,modelValue:l.value.productArticleList,"onUpdate:modelValue":e[35]||(e[35]=t=>l.value.productArticleList=t),disabled:s.examine==1},null,8,["modelValue","disabled"])),e[75]||(e[75]=a("div",{class:"extra"},"最多添加10篇文章",-1))]),_:1})])]),_:1},8,["model"]))],512)])}}}),$t=de(Hl,[["__scopeId","data-v-9e0c69c5"]]);export{$t as default};
