/* empty css             */import{y as w,d as M,i as c,G,q as P,c as x,e as l,b as t,w as r,I as V,r as p,o as _,f as X,g as k,E as g,F as U,a as I,j as T,D as L,_ as A}from"./index-CGYuOau0.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-t3_hMxDC.js";import"./index-B-GURfkM.js";import{u as H}from"./config-DNllFJyR.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{_ as J}from"./SelectShop.vue_vue_type_script_setup_true_lang-BoPU8Xwc.js";import{S as K}from"./SelectLogisticsCompany-CjvtX9cs.js";import{r as Q}from"./export-Bb89fUlC.js";import{a as W}from"./version-CpBOsX2d.js";import"./time-ClyPenjC.js";import"./config-DU8_t5BN.js";import"./shop-Daw3OFCx.js";import"./logisticsCompany-BhiSneCE.js";const Y=()=>w({url:"order/order/get_export_item_list",method:"get"}),Z=()=>w({url:"order/order/export_item_info",method:"get"}),ee=b=>w({url:"order/order/save_export_item",method:"post",data:b}),le=b=>w({url:"order/order/order_export",method:"get",responseType:"arraybuffer",params:b}),te={class:"container"},oe={class:"content_wrapper"},se={class:"lyecs-table-list-warp"},ae={class:"list-table-tool lyecs-search-warp"},ne={class:"advanced-search-warp list-table-tool-row"},re={class:"simple-form-warp"},ie={class:"simple-form-field"},de={class:"form-group"},ue={class:"control-container"},pe={key:0,class:"simple-form-field"},me={class:"form-group"},ce={class:"control-container"},_e={class:"simple-form-field"},ve={class:"form-group"},fe={class:"control-container"},ge={class:"simple-form-field"},be={class:"form-group"},ye={class:"control-container"},xe={class:"simple-form-field"},Ve={class:"form-group"},we={class:"control-container"},he={class:"simple-form-field"},ke={class:"form-group"},Ce={class:"control-container"},Ee={class:"simple-form-field"},De={class:"form-group"},Ue={class:"control-container"},Ie={class:"simple-form-field"},Te={class:"form-group"},Le={class:"control-container"},Ne={class:"simple-form-field"},Se={class:"form-group"},je={class:"control-container"},qe={class:"simple-form-field"},Be={class:"form-group"},Fe={class:"control-container"},Oe={style:{"margin-top":"20px"}},Re={style:{width:"100%"}},$e={style:{"margin-top":"20px","margin-left":"5px"}},ze={style:{"margin-top":"20px"}},Me=M({__name:"List",setup(b){H();const N=c(localStorage.getItem("adminType"));c();const C=c(!0);c(0);const s=G({add_end_time:"",add_start_time:"",export_item:[],add_time:[]}),v=c([]),i=c([]),S=async()=>{C.value=!0;try{const a=await Y(),e=await Z();let d=Object.entries(a.item).map(([u,m])=>({key:u,value:m})),n=Object.entries(e.item).map(([u,m])=>({key:u,value:m}));v.value=d.filter(u=>!n.some(m=>u.key===m.key)),i.value=n}catch(a){V.error(a.message)}finally{C.value=!1}},j=()=>{const a=new Date,e=new Date;e.setDate(a.getDate()-15),s.add_time=[e,a]};P(async()=>{await j(),await S()});const q=(a,e)=>{i.value.some(n=>n.key===a.key&&n.value===a.value)||(i.value.push(a),v.value.splice(e,1))},B=(a,e)=>{i.value.splice(e,1),v.value.push(a)},F=()=>{v.value.push(...i.value),i.value.length=0},O=async()=>{try{if(i.value.length>0){const a=i.value.map(d=>d.key),e=await ee({export_item:a});V.success(e.message)}}catch(a){V.error(a.message)}},y=c(!1),R=async()=>{y.value=!0;try{s.export_item=i.value.map(e=>e.key);const a=await le(s);y.value=!1,console.log(a),Q(a,"导出订单")}catch(a){V.error(a.message)}finally{y.value=!1}};return(a,e)=>{const d=p("el-input"),n=p("el-option"),u=p("el-select"),m=p("el-date-picker"),h=p("el-button"),E=p("el-tag"),D=p("el-form-item"),$=p("el-form");return _(),x("div",te,[l("div",oe,[l("div",se,[l("div",ae,[e[24]||(e[24]=l("div",{class:"notice-warp"},[l("p",null,"提示："),l("p",null,"1、如果数据量过大导至查询时间过久或者直接显示超时报错，请尝试缩小查询的时间间隔！"),l("p",null,"2、可通过单击可增加项和导出项目来选择需要导出的参数，也可通过拖拽项目来调整参数排序（商品信息栏目默认在单行最后）")],-1)),t($,{model:s,inline:""},{default:r(()=>[l("div",ne,[l("div",re,[l("div",ie,[l("div",de,[l("div",ue,[t(d,{style:{width:"180px"},modelValue:s.keyword,"onUpdate:modelValue":e[0]||(e[0]=o=>s.keyword=o),name:"keyword",placeholder:"订单号/收货人姓名/订单"},null,8,["modelValue"])])])]),N.value!="shop"&&k(W)()?(_(),x("div",pe,[l("div",me,[e[10]||(e[10]=l("label",{class:"control-label"},[l("span",null,"选择店铺：")],-1)),l("div",ce,[t(k(J),{modelValue:s.shop_id,"onUpdate:modelValue":e[1]||(e[1]=o=>s.shop_id=o)},null,8,["modelValue"])])])])):X("",!0),l("div",_e,[l("div",ve,[e[11]||(e[11]=l("label",{class:"control-label"},[l("span",null,"订单状态：")],-1)),l("div",fe,[t(u,{placeholder:"请选择支付状态",modelValue:s.order_status,"onUpdate:modelValue":e[2]||(e[2]=o=>s.order_status=o)},{default:r(()=>[t(n,{value:0,label:"待付款"}),t(n,{value:1,label:"待发货"}),t(n,{value:2,label:"已发货"}),t(n,{value:3,label:"已取消"}),t(n,{value:4,label:"无效"}),t(n,{value:5,label:"已完成"})]),_:1},8,["modelValue"])])])]),l("div",ge,[l("div",be,[e[12]||(e[12]=l("label",{class:"control-label"},[l("span",null,"支付状态：")],-1)),l("div",ye,[t(u,{modelValue:s.pay_status,"onUpdate:modelValue":e[3]||(e[3]=o=>s.pay_status=o),clearable:""},{default:r(()=>[t(n,{value:0,label:"未付款"}),t(n,{value:1,label:"支付中"}),t(n,{value:2,label:"已付款"}),t(n,{value:3,label:"退货中"}),t(n,{value:4,label:"已退款"})]),_:1},8,["modelValue"])])])]),l("div",xe,[l("div",Ve,[e[13]||(e[13]=l("label",{class:"control-label"},[l("span",null,"发货状态：")],-1)),l("div",we,[t(u,{modelValue:s.shipping_status,"onUpdate:modelValue":e[4]||(e[4]=o=>s.shipping_status=o),clearable:""},{default:r(()=>[t(n,{value:0,label:"待发货"}),t(n,{value:1,label:"已发货"}),t(n,{value:2,label:"已收货"}),t(n,{value:3,label:"配送中"}),t(n,{value:4,label:"配送失败"})]),_:1},8,["modelValue"])])])]),l("div",he,[l("div",ke,[e[14]||(e[14]=l("label",{class:"control-label"},[l("span",null,"详细地址：")],-1)),l("div",Ce,[t(d,{style:{width:"170px"},type:"text",modelValue:s.address,"onUpdate:modelValue":e[5]||(e[5]=o=>s.address=o)},null,8,["modelValue"])])])]),l("div",Ee,[l("div",De,[e[15]||(e[15]=l("label",{class:"control-label"},[l("span",null,"Email：")],-1)),l("div",Ue,[t(d,{style:{width:"170px"},type:"text",modelValue:s.email,"onUpdate:modelValue":e[6]||(e[6]=o=>s.email=o)},null,8,["modelValue"])])])]),l("div",Ie,[l("div",Te,[e[16]||(e[16]=l("label",{class:"control-label"},[l("span",null,"手机号：")],-1)),l("div",Le,[t(d,{style:{width:"170px"},type:"text",modelValue:s.mobile,"onUpdate:modelValue":e[7]||(e[7]=o=>s.mobile=o)},null,8,["modelValue"])])])]),l("div",Ne,[l("div",Se,[e[17]||(e[17]=l("label",{class:"control-label"},[l("span",null,"配送物流：")],-1)),l("div",je,[t(k(K),{id:s.logistics_id,"onUpdate:id":e[8]||(e[8]=o=>s.logistics_id=o)},null,8,["id"])])])]),l("div",qe,[l("div",Be,[e[18]||(e[18]=l("label",{class:"control-label"},[l("span",null,"下单时间：")],-1)),l("div",Fe,[t(m,{modelValue:s.add_time,"onUpdate:modelValue":e[9]||(e[9]=o=>s.add_time=o),"end-placeholder":"结束时间","range-separator":"-","start-placeholder":"起始时间",style:{width:"280px"},type:"daterange"},null,8,["modelValue"])])])])])]),t(h,{type:"primary",onClick:R,loading:y.value,disabled:i.value.length===0},{default:r(()=>e[19]||(e[19]=[g("导出EXCEL")])),_:1},8,["loading","disabled"]),l("div",Oe,[t(D,null,{label:r(()=>e[20]||(e[20]=[l("span",{class:"item-title-style"},"导出项目",-1)])),default:r(()=>[l("div",Re,[(_(!0),x(U,null,I(i.value,(o,f)=>(_(),T(E,{size:"large",key:f,class:"mx-1",closable:"",onClose:z=>B(o,f),"disable-transitions":!0,type:"info"},{default:r(()=>[g(L(o.value),1)]),_:2},1032,["onClose"]))),128))]),l("div",$e,[t(h,{onClick:O},{default:r(()=>e[21]||(e[21]=[g("保存")])),_:1}),t(h,{onClick:F},{default:r(()=>e[22]||(e[22]=[g("清空")])),_:1})])]),_:1})]),l("div",ze,[t(D,null,{label:r(()=>e[23]||(e[23]=[l("span",{class:"item-title-style"},"可增加项",-1)])),default:r(()=>[(_(!0),x(U,null,I(v.value,(o,f)=>(_(),T(E,{size:"large","disable-transitions":!0,key:f,class:"mx-1",type:"info",onClick:z=>q(o,f)},{default:r(()=>[g(L(o.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})])]),_:1},8,["model"])])])])])}}}),al=A(Me,[["__scopeId","data-v-38daac99"]]);export{al as default};
