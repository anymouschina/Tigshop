import{d as P,K as B,i as f,G as K,q as $,c as v,e as a,b as s,w as o,M as E,g as i,f as C,E as g,D as h,I as S,r as c,o as y}from"./index-DrbzVNl6.js";/* empty css             */import"./index-CeQDmMxd.js";import{P as I}from"./PopFormElm-BZp1_Wme.js";import{_ as L}from"./Switch.vue_vue_type_script_setup_true_lang-C5nzofSO.js";import{D as M}from"./DeleteRecord-MR4vGqLl.js";/* empty css                                                                    */import{P as G}from"./Pagination-wR9huHyl.js";import{g as R,b as j,u as b,d as H}from"./shippingType-C5vYh2lk.js";import{_ as D}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";const J={class:"container"},Q={class:"content_wrapper"},W={class:"lyecs-table-list-warp"},X={class:"list-table-tool lyecs-search-warp"},Y={class:"advanced-search-warp list-table-tool-row"},Z={class:"simple-form-warp"},ee={class:"simple-form-field"},te={class:"form-group"},se={class:"control-container"},ae={class:"simple-form-field"},oe={class:"form-group"},ie={class:"control-container"},le={class:"simple-form-field"},ne={class:"form-group"},pe={class:"control-container"},re={key:0},de={class:"table-container"},ce={class:"empty-warp"},ue={key:0,class:"empty-bg"},me={key:0,class:"pagination-con"},Ie=P({__name:"List",setup(ge){const q=B(),V=f([]),u=f(!0),_=f(0),m=f([]),n=K({page:1,size:q.get("pageSize"),sortField:"",sortOrder:"",keyword:""}),p=async()=>{u.value=!0;try{const l=await R({...n});V.value=l.records,_.value=l.total}catch(l){S.error(l.message)}finally{u.value=!1}};$(()=>{p()});const T=()=>{p()},w=({prop:l,order:e})=>{n.sortField=l,n.sortOrder=e=="ascending"?"asc":e=="descending"?"desc":"",p()},A=async l=>{try{const e=await j(l,{ids:m.value});S.success("操作成功"),p()}catch(e){S.error(e.message)}},U=l=>{m.value=l.map(e=>e.shippingTypeId)};return(l,e)=>{const k=c("el-button"),x=c("TigInput"),N=c("el-popconfirm"),r=c("el-table-column"),O=c("el-divider"),z=c("el-table"),F=c("a-spin");return y(),v("div",J,[a("div",Q,[a("div",W,[a("div",X,[a("div",Y,[a("div",Z,[a("div",ee,[a("div",te,[a("div",se,[s(x,{modelValue:n.keyword,"onUpdate:modelValue":e[0]||(e[0]=t=>n.keyword=t),name:"keyword",placeholder:"输入配送类型",onKeyup:E(T,["enter"]),clearable:"",onClear:T},{append:o(()=>[s(k,{onClick:T},{default:o(()=>e[4]||(e[4]=[a("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1})]),_:1},8,["modelValue"])])])]),a("div",ae,[a("div",oe,[a("div",ie,[s(i(D),{params:{act:"add"},isDrawer:"",path:"setting/shippingType/Info",title:"添加配送类型",width:"580px",onOkCallback:p},{default:o(()=>[s(k,{type:"primary"},{default:o(()=>e[5]||(e[5]=[g("添加配送方式")])),_:1})]),_:1})])])]),a("div",le,[a("div",ne,[a("div",pe,[s(N,{title:"您确认要批量删除所选数据吗？",onConfirm:e[1]||(e[1]=t=>A("del"))},{reference:o(()=>[s(k,{disabled:m.value.length===0},{default:o(()=>e[6]||(e[6]=[g("批量删除")])),_:1},8,["disabled"])]),_:1}),m.value.length>0?(y(),v("span",re,[e[7]||(e[7]=g(" 已选择：")),a("b",null,h(m.value.length),1),e[8]||(e[8]=g(" 项 "))])):C("",!0)])])])])])]),a("div",de,[s(F,{spinning:u.value},{default:o(()=>[s(z,{data:V.value,loading:u.value,total:_.value,"row-key":"shippingTypeId",onSelectionChange:U,onSortChange:w},{empty:o(()=>[a("div",ce,[u.value?C("",!0):(y(),v("div",ue,"暂无数据"))])]),default:o(()=>[s(r,{type:"selection",width:"32"}),s(r,{label:"分类名称"},{default:o(({row:t})=>[s(i(I),{"org-value":t.shippingTypeName,"onUpdate:orgValue":d=>t.shippingTypeName=d,max:10,params:{id:t.shippingTypeId,field:"shippingTypeName"},requestApi:i(b),label:"分类名称",type:"input"},{default:o(()=>[a("div",null,h(t.shippingTypeName),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),s(r,{label:"分类描述",prop:"shippingTypeDesc"},{default:o(({row:t})=>[s(i(I),{"org-value":t.shippingTypeDesc,"onUpdate:orgValue":d=>t.shippingTypeDesc=d,max:0,params:{id:t.shippingTypeId,field:"shippingTypeDesc"},requestApi:i(b),label:"分类描述",type:"input"},{default:o(()=>[a("div",null,h(t.shippingTypeDesc),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),s(r,{label:"默认物流",prop:"logisticsName"}),s(r,{label:"货到付款",prop:"isSupportCod",sortable:"custom"},{default:o(({row:t})=>[s(i(L),{checked:t.isSupportCod,"onUpdate:checked":d=>t.isSupportCod=d,params:{id:t.shippingTypeId,field:"isSupportCod"},requestApi:i(b)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),s(r,{label:"排序",prop:"sortOrder",sortable:"custom"},{default:o(({row:t})=>[s(i(I),{"org-value":t.sortOrder,"onUpdate:orgValue":d=>t.sortOrder=d,params:{id:t.shippingTypeId,field:"sortOrder"},requestApi:i(b),extra:"默认值为50，数值越小，排序越靠前",label:"排序",type:"integer"},{default:o(()=>[a("div",null,h(t.sortOrder),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),s(r,{width:150,fixed:"right",label:"操作"},{default:o(({row:t})=>[s(i(D),{params:{act:"detail",id:t.shippingTypeId},isDrawer:"",path:"setting/shippingType/Info",title:"编辑配送类型",width:"580px",onOkCallback:p},{default:o(()=>e[9]||(e[9]=[a("a",{class:"btn-link"},"编辑",-1)])),_:2},1032,["params"]),s(O,{direction:"vertical"}),s(i(M),{params:{id:t.shippingTypeId},requestApi:i(H),onAfterDelete:p},{default:o(()=>e[10]||(e[10]=[g("删除 ")])),_:2},1032,["params","requestApi"])]),_:1})]),_:1},8,["data","loading","total"])]),_:1},8,["spinning"]),_.value>0?(y(),v("div",me,[s(i(G),{page:n.page,"onUpdate:page":e[2]||(e[2]=t=>n.page=t),size:n.size,"onUpdate:size":e[3]||(e[3]=t=>n.size=t),total:_.value,onCallback:p},null,8,["page","size","total"])])):C("",!0)])])])])}}});export{Ie as default};
