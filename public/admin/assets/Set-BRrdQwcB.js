import{d as B,i as c,C as D,s as N,q as R,r as l,c as q,o as g,e as o,j as L,f as j,b as a,w as n,a3 as E,E as F,a4 as U,I as m,_ as M}from"./index-DrbzVNl6.js";import{f as O,h as z}from"./shop-DM8_bN_f.js";const A={class:"container"},G={class:"content_wrapper"},H={class:"lyecs-form-table"},J={class:"tig-radio"},K={class:"flex mb20"},P={class:"flex"},Q={class:"check-box"},W={class:"flex mb20"},X=B({__name:"Set",props:{id:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(y,{expose:h,emit:w}){const r=w,i=y,d=c(!1),x=D().currentRoute.value.query,p=c(i.isDialog?i.id:Number(x.id)),f=N(),t=c({dateType:0}),S=async()=>{try{const s=await O({shopId:p.value,code:"orderConfig"});Object.assign(t.value,s)}catch(s){m.error(s.message),r("close")}finally{d.value=!1}};R(()=>{S()});const _=async()=>{await f.value.validate();try{r("update:confirmLoading",!0);const s=await z({shopId:p.value,...t.value,code:"orderConfig"});r("submitCallback",s),m.success("操作成功")}catch(s){m.error(s.message)}finally{r("update:confirmLoading",!1)}};return h({onFormSubmit:()=>{_()}}),(s,e)=>{const v=l("el-radio"),C=l("TigInput"),V=l("el-radio-group"),b=l("el-form-item"),k=l("el-button"),I=l("el-form"),T=l("a-spin");return g(),q("div",A,[o("div",G,[o("div",H,[d.value?j("",!0):(g(),L(I,{key:0,ref_key:"formRef",ref:f,model:t.value,"label-width":"auto"},{default:n(()=>[a(b,{label:"店铺状态",prop:"status"},{default:n(()=>[o("div",J,[a(V,{modelValue:t.value.dateType,"onUpdate:modelValue":e[1]||(e[1]=u=>t.value.dateType=u)},{default:n(()=>[o("div",K,[a(v,{value:1}),o("div",P,[e[2]||(e[2]=o("p",{class:"mr10"},"订单收货后",-1)),o("div",Q,[a(C,{type:"integer",modelValue:t.value.useDay,"onUpdate:modelValue":e[0]||(e[0]=u=>t.value.useDay=u),class:"mr10",width:"100px",disabled:t.value.dateType==0},null,8,["modelValue","disabled"])]),e[3]||(e[3]=o("p",{class:"mr10"},"天结算",-1))])]),o("div",W,[a(v,{value:0}),e[4]||(e[4]=o("p",{class:"mr10"},"确认收货后立即不可售后",-1))])]),_:1},8,["modelValue"])])]),_:1}),E(a(b,{"wrapper-col":{offset:4,span:16}},{default:n(()=>[a(k,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:_},{default:n(()=>e[5]||(e[5]=[F("提交")])),_:1},512)]),_:1},512),[[U,!i.isDialog]])]),_:1},8,["model"])),a(T,{spinning:d.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}}),ee=M(X,[["__scopeId","data-v-ed47bb94"]]);export{ee as default};
