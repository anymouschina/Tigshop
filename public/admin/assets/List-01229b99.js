/* empty css             */import"./index-6c62cf9b.js";import{P as q}from"./PopFormElm-61cd9b7d.js";import{_ as G}from"./Switch.vue_vue_type_script_setup_true_lang-95245cd7.js";import{_ as H}from"./DeleteRecord.vue_vue_type_script_setup_true_lang-ae1bade7.js";/* empty css                                                                    */import{P as K}from"./Pagination-8eb7b6b1.js";import{u as M}from"./config-9548fa9b.js";import{_ as T}from"./Image.vue_vue_type_script_setup_true_lang-36bd437b.js";import{g as J,u as w,d as Q,b as R}from"./example-df148fa6.js";import{_ as z}from"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import{d as W,j as u,I as X,x as Y,r,o as f,c as v,e as a,b as e,w as o,f as n,h as y,K as C,H as c,n as Z,G as V}from"./index-7c2d2aef.js";import"./config-e2aa16d1.js";import"./format-4e0206d3.js";import"./util-1ee03ed8.js";const ee={class:"container"},te={class:"content_wrapper"},ae={class:"lyecs-table-list-warp"},oe={class:"list-table-tool lyecs-search-warp"},le={class:"list-table-tool-row"},se={class:"list-table-tool-col"},ne=a("span",{class:"iconfont icon-chakan1"},null,-1),ie=a("i",{class:"iconfont icon-xia"},null,-1),re=a("div",{class:"list-table-tool-col"},null,-1),de={key:0,class:"advanced-search-warp list-table-tool-row"},ce={class:"simple-form-warp"},pe={class:"simple-form-field"},_e={class:"form-group"},me=a("label",{class:"control-label"},[a("span",null,"是否显示：")],-1),ue={class:"control-container"},fe={class:"simple-form-field"},ve={class:"table-container"},he={style:{position:"relative"}},ge=a("a",{class:"btn-link"},"编辑",-1),be={class:"empty-warp"},xe={key:0,class:"empty-bg"},ye={key:0,class:"pagination-con"},ke={key:0,class:"selected-action-warp"},we={class:"selected-action"},Oe=W({__name:"List",setup(Ce){const $=M(),S=u(),_=u(!0),h=u(0),g=u([]),b=u(!1),s=X({page:1,size:$.get("page_size"),sort_field:"",sort_order:"",keyword:"",is_show:-1}),d=async()=>{_.value=!0;try{const i=await J({...s});S.value=i.filter_result,h.value=i.total}catch(i){C.error(i.message)}finally{_.value=!1}};Y(()=>{d()});const U=()=>{d()},P=({prop:i,order:l})=>{s.sort_field=i,s.sort_order=l=="ascending"?"asc":l=="descending"?"desc":"",d()},B=async i=>{try{const l=await R(i,{ids:g.value});C.success(l.message),d()}catch(l){C.error(l.message)}},D=i=>{g.value=i.map(l=>l.example_id)};return(i,l)=>{const x=r("el-button"),E=r("el-input"),A=r("el-space"),k=r("el-option"),I=r("el-select"),N=r("el-form"),p=r("el-table-column"),F=r("el-divider"),L=r("el-table"),O=r("a-spin"),j=r("el-popconfirm");return f(),v("div",ee,[a("div",te,[a("div",ae,[a("div",oe,[e(N,{model:s},{default:o(()=>[a("div",le,[a("div",se,[e(A,null,{default:o(()=>[e(n(z),{isDrawer:"",onOkCallback:d,title:"添加示例模板",width:"600px",path:"product/example/Info",params:{act:"add"}},{default:o(()=>[e(x,{type:"primary"},{default:o(()=>[c("添加示例模板")]),_:1})]),_:1}),e(E,{name:"keyword",modelValue:s.keyword,"onUpdate:modelValue":l[0]||(l[0]=t=>s.keyword=t),placeholder:"输入示例模板名称"},{append:o(()=>[e(x,{onClick:U},{default:o(()=>[ne]),_:1})]),_:1},8,["modelValue"]),a("a",{class:Z("advanced-search-btn ml18 "+(b.value?"active":"")),onClick:l[1]||(l[1]=t=>b.value=!b.value)},[c("高级搜索"),ie],2)]),_:1})]),re]),b.value?(f(),v("div",de,[a("div",ce,[a("div",pe,[a("div",_e,[me,a("div",ue,[e(I,{modelValue:s.is_show,"onUpdate:modelValue":l[2]||(l[2]=t=>s.is_show=t)},{default:o(()=>[e(k,{value:-1,label:"请选择..."}),e(k,{value:0,label:"不显示"}),e(k,{value:1,label:"显示"})]),_:1},8,["modelValue"])])])]),a("div",fe,[e(x,{type:"primary",onClick:U},{default:o(()=>[c("搜索")]),_:1})])])])):y("",!0)]),_:1},8,["model"])]),a("div",ve,[e(O,{spinning:_.value},{default:o(()=>[e(L,{data:S.value,"row-key":"example_id",onSelectionChange:D,total:h.value,onSortChange:P,loading:_.value},{empty:o(()=>[a("div",be,[_.value?y("",!0):(f(),v("div",xe,"暂无数据"))])]),default:o(()=>[e(p,{type:"selection",width:"32"}),e(p,{label:"示例模板名称",prop:"example_id",sortable:"custom",width:200},{default:o(({row:t})=>[a("div",he,[e(n(q),{label:"示例模板名称",type:"textarea",requestApi:n(w),"org-value":t.example_name,"onUpdate:orgValue":m=>t.example_name=m,params:{id:t.example_id,field:"example_name"},max:50},{default:o(()=>[a("div",null,V(t.example_name),1)]),_:2},1032,["requestApi","org-value","onUpdate:orgValue","params"])])]),_:1}),e(p,{label:"示例模板缩略图"},{default:o(({row:t})=>[e(n(T),{style:{height:"25px",width:"60px"},src:t.example_logo,fit:"contain"},null,8,["src"])]),_:1}),e(p,{label:"是否显示",prop:"is_show",sortable:"custom"},{default:o(({row:t})=>[e(n(G),{checked:t.is_show,"onUpdate:checked":m=>t.is_show=m,requestApi:n(w),params:{id:t.example_id,field:"is_show"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),e(p,{label:"排序",prop:"sort_order",sortable:"custom"},{default:o(({row:t})=>[e(n(q),{label:"排序",type:"input",requestApi:n(w),"org-value":t.sort_order,"onUpdate:orgValue":m=>t.sort_order=m,params:{id:t.example_id,field:"sort_order"},extra:"默认值为50，数值越小，排序越靠前"},{default:o(()=>[a("div",null,V(t.sort_order),1)]),_:2},1032,["requestApi","org-value","onUpdate:orgValue","params"])]),_:1}),e(p,{label:"操作",fixed:"right",width:150},{default:o(({row:t})=>[e(n(z),{isDrawer:"",onOkCallback:d,title:"编辑示例模板",width:"600px",path:"product/example/Info",params:{act:"edit",id:t.example_id}},{default:o(()=>[ge]),_:2},1032,["params"]),e(F,{direction:"vertical"}),e(n(H),{onAfterDelete:d,requestApi:n(Q),params:{id:t.example_id}},{default:o(()=>[c("删除")]),_:2},1032,["requestApi","params"])]),_:1})]),_:1},8,["data","total","loading"])]),_:1},8,["spinning"]),h.value>0?(f(),v("div",ye,[e(n(K),{page:s.page,"onUpdate:page":l[3]||(l[3]=t=>s.page=t),size:s.size,"onUpdate:size":l[4]||(l[4]=t=>s.size=t),total:h.value,onCallback:d},null,8,["page","size","total"])])):y("",!0)]),g.value.length>0?(f(),v("div",ke,[a("div",we,[e(A,null,{default:o(()=>[a("span",null,[c("已选择："),a("b",null,V(g.value.length),1),c(" 项")]),e(j,{title:"您确认要批量删除所选数据吗？",onConfirm:l[5]||(l[5]=t=>B("del"))},{reference:o(()=>[e(x,null,{default:o(()=>[c("批量删除")]),_:1})]),_:1})]),_:1})])])):y("",!0)])])])}}});export{Oe as default};
