import{d as j,m as x,u as K,j as o,v as T,x as E,r as f,o as s,c as h,b as d,aN as F,f as v,w as r,k as m,h as w,L as U,F as L,K as $,_ as q}from"./index-7c2d2aef.js";import"./index-6c62cf9b.js";import{g as z}from"./currencyManagement-2d40fd5e.js";import{c as C}from"./version-f7bce787.js";import{_ as B}from"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";const A={key:0,style:{width:"100%"}},G={key:1,class:"flex flex-justify-between flex-align-center",style:{width:"100%"}},H=j({__name:"BusinessData",props:x({disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},data_type:{type:Number,default:2},data_id:{type:Number,default:0},type:{type:String,default:"input"},splitString:{type:String,value:","}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:x(["update:modelValue"],["update:modelValue"]),setup(a,{emit:S}){const i=a,b=S,e=K(a,"modelValue"),k=o(""),l=o(!1),g=async()=>{try{const t=await z({data_type:i.data_type,data_id:i.data_id});t.item.length<=0?l.value=!0:(k.value=t.translation_name,l.value=!1)}catch(t){$.error(t.message)}};T(e,t=>{t!=k.value?l.value=!0:l.value=!1});const n=o(),y=o();y.value=i.splitString||",",i.type=="select"&&console.log(e.value),typeof e.value=="string"?n.value=e.value?e.value.split(y.value):[]:n.value=e.value;const D=t=>{typeof e.value=="string"?b("update:modelValue",n.value.join(y.value)):b("update:modelValue",n.value)},u=o(),N=t=>{t&&(u.value=t)},I=()=>{n.value.indexOf(u.value)===-1&&u.value&&(n.value.push(u.value),u.value="")};return E(()=>{i.data_id>0&&g()}),(t,p)=>{const c=f("SvgIcon"),V=f("el-button"),M=f("el-input"),O=f("el-select");return s(),h(L,null,[a.type=="input"?(s(),h("div",A,[d(M,{modelValue:e.value,"onUpdate:modelValue":p[0]||(p[0]=_=>e.value=_),disabled:a.disabled,placeholder:a.placeholder},F({_:2},[v(C)()?{name:"append",fn:r(()=>[d(v(B),{isDrawer:"",onOkCallback:g,title:"编辑",width:"800px",path:"setting/multilingual/translationContent/BusinessDialog",params:{act:l.value?"add":"detail",id:a.data_id,data_type:a.data_type,translation_name:e.value}},{default:r(()=>[d(V,null,{default:r(()=>[l.value?(s(),m(c,{key:1,name:"multilingual-multilingual-a",width:"18",height:"18",style:{"margin-bottom":"5px"}})):(s(),m(c,{key:0,name:"multilingual-multilingual",width:"18",height:"18",style:{"margin-bottom":"5px"}}))]),_:1})]),_:1},8,["params"])]),key:"0"}:void 0]),1032,["modelValue","disabled","placeholder"])])):w("",!0),a.type=="select"?(s(),h("div",G,[d(O,{class:"input-tag-warp",style:{width:"100%"},teleported:!1,modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=_=>n.value=_),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"","popper-class":"input-tag-popper-warp",onChange:D,"filter-method":N,onKeyup:U(I,["enter"])},null,8,["modelValue"]),v(C)()?(s(),m(v(B),{key:0,isDrawer:"",onOkCallback:g,title:"编辑",width:"800px",path:"setting/multilingual/translationContent/BusinessDialog",params:{act:l.value?"add":"detail",id:a.data_id,data_type:a.data_type,translation_name:e.value}},{default:r(()=>[d(V,{style:{"margin-left":"10px"}},{default:r(()=>[l.value?(s(),m(c,{key:1,name:"multilingual-multilingual-a",width:"18",height:"18"})):(s(),m(c,{key:0,name:"multilingual-multilingual",width:"18",height:"18"}))]),_:1})]),_:1},8,["params"])):w("",!0)])):w("",!0)],64)}}});const X=q(H,[["__scopeId","data-v-752b8faf"]]);export{X as B};
