import{F as V}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-BDvYUQtN.js";import"./index-CeQDmMxd.js";import"./vuedraggable.umd-DAKh-e3Q.js";import{d as z,i as v,p as F,q as I,r as p,c as i,o as d,e as t,b as s,w as a,E as y,f as S,g as E,F as U,I as c,_ as L}from"./index-DrbzVNl6.js";import{_ as N}from"./TextEditor.vue_vue_type_script_setup_true_lang-BOAx5RNg.js";import{g as W,s as $}from"./config-DqAzJmVX.js";import"./Image.vue_vue_type_script_setup_true_lang-BWzCs9jv.js";import"./format-CRgx78oe.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";import"./index.esm-bNAKkq0_.js";const B={class:"index-m_preferenceSwitch_1TP3q"},G={class:"index-m_header_2mdaa"},M={class:"info-box"},q={class:"right-box"},H={style:{width:"100%","padding-left":"25px","font-size":"14px"}},j={style:{display:"flex","flex-direction":"column"}},A={style:{display:"flex"}},D=["innerHTML"],O={key:1,style:{width:"100%"}},P={style:{display:"flex"}},R={key:0},J={key:1,style:{"margin-top":"14px"}},K={key:0,style:{width:"100%","padding-left":"25px"}},Q=z({__name:"FirstGreeting",setup(X){const r=v(!1),o=v({activate:!1,sendText:!1,sendWechat:!1,wechatImage:"",replyContent:"你好，欢迎光临！"}),m=v({replyContentTemp:""}),g=()=>{m.value.replyContentTemp=o.value.replyContent,r.value=!0},w=()=>{o.value.replyContent=m.value.replyContentTemp,r.value=!1},u=v(!1),b=async()=>{try{const n=await $({code:"welcome",data:o.value})}catch(n){c.error(n.message)}},h=()=>{u.value&&b(),u.value||(u.value=!0)};F(()=>o.value,()=>{h()},{deep:!0});const C=async()=>{try{const n=await W({code:"welcome"});n?Object.assign(o.value,n):u.value=!0}catch(n){c.error(n.message)}};return I(()=>{C()}),(n,e)=>{const k=p("el-switch"),_=p("el-checkbox"),f=p("el-button"),x=p("el-form-item"),T=p("el-form");return d(),i(U,null,[t("div",B,[t("div",G,[e[8]||(e[8]=t("span",{class:"index-m_title_180SF"},"首句欢迎语",-1)),s(k,{class:"switch-pl",modelValue:o.value.activate,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.activate=l)},null,8,["modelValue"])]),e[9]||(e[9]=t("div",{class:"index-m_desc_Erwpt"},"当买家发送的第一条消息分配到人工接待时，会发送这个回复。相同内容一天内只会对一个买家发送一次",-1))]),e[18]||(e[18]=t("div",{class:"zent-block-header"},[t("div",{class:"zent-block-header__title zent-block-header__title-ribbon"},[t("h3",null,"回复内容")]),t("div",{class:"zent-block-header__content"},"(若都勾选则自动回复文字消息+微信二维码名片)")],-1)),t("div",M,[t("div",q,[s(T,{ref:"formRef",model:o.value,"label-width":"auto"},{default:a(()=>[s(x,{label:"",prop:"brandLogo"},{default:a(()=>[s(_,{style:{width:"100%"},modelValue:o.value.sendText,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.sendText=l)},{default:a(()=>e[10]||(e[10]=[t("span",{style:{"font-size":"14px"}},"发送文字消息",-1)])),_:1},8,["modelValue"]),t("div",H,[t("div",j,[t("div",A,[e[11]||(e[11]=t("div",{style:{"min-width":"70px"}},"回复内容：",-1)),r.value?(d(),i("div",O,[s(N,{html:m.value.replyContentTemp,"onUpdate:html":e[2]||(e[2]=l=>m.value.replyContentTemp=l),height:"300px"},null,8,["html"])])):(d(),i("div",{key:0,innerHTML:o.value.replyContent},null,8,D))]),t("div",P,[e[15]||(e[15]=t("div",{style:{width:"70px"}},null,-1)),r.value?(d(),i("div",J,[s(f,{onClick:e[4]||(e[4]=l=>w()),style:{"font-size":"14px"},type:"primary"},{default:a(()=>e[13]||(e[13]=[y("保存")])),_:1}),s(f,{onClick:e[5]||(e[5]=l=>r.value=!1),style:{"font-size":"14px"}},{default:a(()=>e[14]||(e[14]=[y("取消")])),_:1})])):(d(),i("div",R,[s(f,{onClick:e[3]||(e[3]=l=>g()),style:{"font-size":"14px"},type:"primary",link:""},{default:a(()=>e[12]||(e[12]=[y("编辑")])),_:1})]))])])])]),_:1}),s(x,{label:"",prop:"brandLogo"},{default:a(()=>[s(_,{style:{width:"100%"},modelValue:o.value.sendWechat,"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.sendWechat=l)},{default:a(()=>e[16]||(e[16]=[t("span",{style:{"font-size":"14px"}},"发送微信二维码名片",-1)])),_:1},8,["modelValue"]),o.value.sendWechat?(d(),i("div",K,[s(E(V),{photo:o.value.wechatImage,"onUpdate:photo":e[7]||(e[7]=l=>o.value.wechatImage=l)},null,8,["photo"])])):S("",!0),e[17]||(e[17]=t("div",{class:"extra"},"系统自动发送微信二维码名片，引导买家添加客服微信，提升加粉效率",-1))]),_:1})]),_:1},8,["model"])])])],64)}}}),de=L(Q,[["__scopeId","data-v-eb922d13"]]);export{de as default};
