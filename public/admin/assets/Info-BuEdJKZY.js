import{d as L,i as m,C as j,s as E,q as F,r,c as h,o as V,e as f,j as M,f as O,b as e,w as a,a0 as T,E as l,D as u,a1 as z,I as v}from"./index-CGYuOau0.js";import{a as A,u as G}from"./userInvoice-CMFSFG2F.js";const H={class:"container"},J={class:"content_wrapper"},K={class:"lyecs-form-table"},X=L({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(x,{expose:C,emit:S}){const i=S,p=x,c=m(!0),y=j().currentRoute.value.query,b=m(p.isDialog?p.act:String(y.act)),g=m(p.isDialog?p.id:Number(y.id)),D=b.value==="add"?"create":"update",w=E(),o=m({}),B=async()=>{try{const s=await A(b.value,{id:g.value});Object.assign(o.value,s.item)}catch(s){v.error(s.message),i("close")}finally{c.value=!1}};F(()=>{B()});const k=async()=>{await w.value.validate();try{i("update:confirmLoading",!0);const s=await G(D,{id:g.value,...o.value});i("submitCallback",s),v.success(s.message)}catch(s){v.error(s.message)}finally{i("update:confirmLoading",!1)}};return C({onFormSubmit:()=>{k()}}),(s,t)=>{const n=r("el-form-item"),d=r("el-radio"),N=r("el-radio-group"),I=r("el-input"),R=r("el-button"),U=r("el-form"),q=r("a-spin");return V(),h("div",H,[f("div",J,[f("div",K,[c.value?O("",!0):(V(),M(U,{key:0,ref_key:"formRef",ref:w,model:o.value,"label-width":"auto"},{default:a(()=>[e(n,{label:"申请会员",prop:"username"},{default:a(()=>[l(u(o.value.username),1)]),_:1}),e(n,{label:"公司名称",prop:"company_name"},{default:a(()=>[l(u(o.value.company_name),1)]),_:1}),e(n,{label:"纳税人识别码",prop:"company_code"},{default:a(()=>[l(u(o.value.company_code),1)]),_:1}),e(n,{label:"注册地址",prop:"company_address"},{default:a(()=>[l(u(o.value.company_address),1)]),_:1}),e(n,{label:"注册电话",prop:"company_phone"},{default:a(()=>[l(u(o.value.company_phone),1)]),_:1}),e(n,{label:"开户银行",prop:"company_bank"},{default:a(()=>[l(u(o.value.company_bank),1)]),_:1}),e(n,{label:"银行账户",prop:"company_account"},{default:a(()=>[l(u(o.value.company_account),1)]),_:1}),e(n,{label:"申请状态",prop:"status"},{default:a(()=>[e(N,{modelValue:o.value.status,"onUpdate:modelValue":t[0]||(t[0]=_=>o.value.status=_)},{default:a(()=>[e(d,{value:1},{default:a(()=>t[2]||(t[2]=[l("审核通过")])),_:1}),e(d,{value:2},{default:a(()=>t[3]||(t[3]=[l("待审核")])),_:1}),e(d,{value:3},{default:a(()=>t[4]||(t[4]=[l("审核未通过")])),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,{label:"申请未通过原因",prop:"apply_reply"},{default:a(()=>[e(I,{modelValue:o.value.apply_reply,"onUpdate:modelValue":t[1]||(t[1]=_=>o.value.apply_reply=_),row:"2",type:"textarea"},null,8,["modelValue"]),t[5]||(t[5]=f("div",{class:"extra"},"若通过可不写",-1))]),_:1}),T(e(n,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[e(R,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:k},{default:a(()=>t[6]||(t[6]=[l("提交")])),_:1},512)]),_:1},512),[[z,!p.isDialog]])]),_:1},8,["model"])),e(q,{spinning:c.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{X as default};
