import{m as P,f as q,q as E,d as A,a as J}from"./index-Dp14ZkTu.js";import{i as _}from"./format-CRgx78oe.js";import{d as N,u as G,i as h,ad as r,q as H,T as V,c as g,o as v,e as a,f as y,l as t,D as f,n as U,F as O,a as Q,g as Y,_ as R}from"./index-DrbzVNl6.js";/* empty css                                                             */import"./lodash-Cilobaqo.js";const j=N({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup(k){const e=G(k,"module"),C=h({picList:[{picId:1424,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731388896OTbuADBoe1LEFefwJo.png?x-oss-process=image/resize,m_pad,h_200,h_200",picUrl:"https://oss.tigshop.com/img/gallery/202411/1731388896OTbuADBoe1LEFefwJo.png",picName:"FtohhFYy2fnPEqrcsqpSq5H53DzH"},{picId:1425,picThumb:"https://oss.tigshop.com/img/gallery/202411/17313888965IIgWQGqsTYhoe7H7T.png?x-oss-process=image/resize,m_pad,h_200,h_200",picUrl:"https://oss.tigshop.com/img/gallery/202411/17313888965IIgWQGqsTYhoe7H7T.png",picName:"FlVOfGJJyjhQmsiDGJViz_S2clyl"},{picId:1424,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731388896OTbuADBoe1LEFefwJo.png?x-oss-process=image/resize,m_pad,h_200,h_200",picUrl:"https://oss.tigshop.com/img/gallery/202411/1731388896OTbuADBoe1LEFefwJo.png",picName:"FtohhFYy2fnPEqrcsqpSq5H53DzH"},{picId:1425,picThumb:"https://oss.tigshop.com/img/gallery/202411/17313888965IIgWQGqsTYhoe7H7T.png?x-oss-process=image/resize,m_pad,h_200,h_200",picUrl:"https://oss.tigshop.com/img/gallery/202411/17313888965IIgWQGqsTYhoe7H7T.png",picName:"FlVOfGJJyjhQmsiDGJViz_S2clyl"}],rowNum:1.5,slidingEffect:"auto",slidingSpeed:25,picMarginTop:0,picMargin:10,picRadius:6,picFillType:"cover",picTitleDesc:{show:1,titleColor:"#ffffff",titleFontSize:14,titleFontWeight:400,descColor:"#ffffff",descFontSize:12,descFontWeight:0,fontPosition:"",textAlignment:"right",marginTop:10,marginBottom:10,marginLeft:0,backgroundColor:""},moduleTitle:{titleText:"",subTitleText:"",titlePosition:"top",textAlignment:"right",titleMarginTop:0,titleMarginBottom:0,titleMarginLeft:0,titleColor:"#ffffff",titleFontSize:16,titleFontWeight:700,subFontTitleColor:"#ffffff",subFontTitleSize:12,subFontTitleWeight:700},moduleStyle:J,contentStyle:A});P(e.value,C.value);const s=r(()=>q(e.value.moduleStyle??{},e.value.contentStyle??{},e.value.subTitle??{})),B=r(()=>e.value.picList?E(e.value.picList,5):[]),b=r(()=>{var l;return`width: ${D.value*((l=e.value.picList)==null?void 0:l.length)}px; display: flex; animation-duration: ${e.value.slidingSpeed}s; position: relative; top: 0px; left: 0px`}),I=r(()=>`transform: translateX(0px);animation-play-state:  ${e.value.slidingEffect==="manual"?"paused":"running"};`),L=r(()=>`margin-right: ${e.value.picMargin}px; background: none; border-radius: ${e.value.picRadius}px; position: relative; overflow: hidden`),M=r(()=>`width: 100%;height: 0px;padding-top: ${S.value*100}%;border-bottom-left-radius: 0px;border-bottom-right-radius: 0px;background-size: cover;background-repeat: no-repeat;background-position: center center;`),x=r(()=>{var l,o,n,i,c,d,u,p;return{picTextBox:`background: ${(l=e.value.picTitleDesc)!=null&&l.backgroundColor?e.value.picTitleDesc.backgroundColor:"none"};text-align: ${(o=e.value.picTitleDesc)==null?void 0:o.textAlignment};`,picTextTitle:`color: ${(n=e.value.picTitleDesc)==null?void 0:n.titleColor}; font-size: ${(i=e.value.picTitleDesc)==null?void 0:i.titleFontSize}px; font-weight: ${(c=e.value.picTitleDesc)==null?void 0:c.titleFontWeight}; overflow: hidden`,picTextDesc:`margin-top: 6px; font-size: ${(d=e.value.picTitleDesc)==null?void 0:d.descFontSize}px;font-weight: ${(u=e.value.picTitleDesc)==null?void 0:u.descFontWeight};color: ${(p=e.value.picTitleDesc)==null?void 0:p.descColor};overflow: hidden;`}}),m=r(()=>{var l,o,n,i,c,d,u,p,T,z;return{titleBox:`text-align: ${(l=e.value.moduleTitle)==null?void 0:l.textAlignment}; margin: ${(o=e.value.moduleTitle)==null?void 0:o.titleMarginTop}px ${(n=e.value.moduleTitle)==null?void 0:n.titleMarginLeft}px ${(i=e.value.moduleTitle)==null?void 0:i.titleMarginBottom}px;`,title:`font-size: ${(c=e.value.moduleTitle)==null?void 0:c.titleFontSize}px; font-weight: ${(d=e.value.moduleTitle)==null?void 0:d.titleFontWeight};color: ${(u=e.value.moduleTitle)==null?void 0:u.titleColor};`,subTitle:`font-size: ${(p=e.value.moduleTitle)==null?void 0:p.subFontTitleSize}px; margin-top: 8px; font-weight: ${(T=e.value.moduleTitle)==null?void 0:T.subFontTitleWeight};color: ${(z=e.value.moduleTitle)==null?void 0:z.subFontTitleColor};`}}),S=h(0),W=l=>new Promise((o,n)=>{const i=new Image;i.src=_(l),i.onload=()=>{o({width:i.width,height:i.height})},i.onerror=()=>{n()}}),F=async l=>{try{const o=await W(l);S.value=Number((o.height/o.width).toFixed(3))}catch(o){console.error(o)}},$=h(),w=h(0),D=r(()=>w.value/e.value.rowNum);return H(async()=>{await F(e.value.picList[0].picUrl),w.value=$.value.clientWidth}),V(()=>{F(e.value.picList[0].picUrl)}),(l,o)=>{var n,i,c,d;return v(),g("div",{class:"module-ad-con",style:t(s.value.moduleStyle.boxPaddingBottom+s.value.moduleStyle.boxPaddingTop+s.value.moduleStyle.boxPaddingBottom+s.value.moduleStyle.boxPadding+s.value.moduleStyle.backgroundSize+s.value.moduleStyle.backgroundImage)},[a("div",{class:"module-ad-content",style:t(s.value.moduleContentStyle.backgroundImage+s.value.moduleContentStyle.backgroundSize+s.value.moduleContentStyle.boxRadius+s.value.moduleContentStyle.boxShadow+s.value.moduleContentStyle.innerPadding)},[a("div",{class:"slidelarge-image",ref_key:"slidelargeRef",ref:$},[e.value.moduleTitle&&e.value.moduleTitle.titlePosition==="top"?(v(),g("div",{key:0,style:t(m.value.titleBox)},[a("div",{style:t(m.value.title)},f((n=e.value.moduleTitle)==null?void 0:n.titleText),5),a("div",{style:t(m.value.subTitle)},f((i=e.value.moduleTitle)==null?void 0:i.subTitleText),5)],4)):y("",!0),a("div",{style:t(`margin-top: ${e.value.picMarginTop}%; width: 100%; z-index: 1; overflow: hidden;`)},[a("div",{style:t(b.value)},[a("div",{class:U([{"slidelarge-image-box":e.value.slidingEffect==="auto"}]),style:t(b.value+I.value)},[(v(!0),g(O,null,Q(B.value,(u,p)=>{var T;return v(),g("div",{key:p,style:t(`width: ${D.value}px; flex-shrink: 0`)},[a("div",{style:t(L.value)},[a("div",{style:t(M.value+`background-image: url(${Y(_)(u.picUrl)});`)},null,4),(T=e.value.picTitleDesc)!=null&&T.show?(v(),g("div",{key:0,style:t(x.value.picTextBox+`${e.value.picTitleDesc.fontPosition==="internal"?"position: absolute;left: 0px;right: 0px;bottom: 0px;padding: 10px 15px;":""}${e.value.picTitleDesc.fontPosition!=="internal"?`margin: ${e.value.picTitleDesc.marginTop}px ${e.value.picTitleDesc.marginLeft}px ${e.value.picTitleDesc.marginBottom}px;`:""}`)},[a("div",{style:t(x.value.picTextTitle)},f(u.picTitle),5),a("div",{style:t(x.value.picTextDesc)},f(u.picDesc),5)],4)):y("",!0)],4)],4)}),128))],6)],4)],4),e.value.moduleTitle&&e.value.moduleTitle.titlePosition==="bottom"?(v(),g("div",{key:1,style:t(m.value.titleBox)},[a("div",{style:t(m.value.title)},f((c=e.value.moduleTitle)==null?void 0:c.titleText),5),a("div",{style:t(m.value.subTitle)},f((d=e.value.moduleTitle)==null?void 0:d.subTitleText),5)],4)):y("",!0)],512)],4)],4)}}}),le=R(j,[["__scopeId","data-v-36149d7e"]]);export{le as default};
