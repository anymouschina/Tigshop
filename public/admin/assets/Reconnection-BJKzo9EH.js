import R from"./ReconnectionList-Rejb_FPF.js";import{t as V}from"./conversation-rd7RS6Jg.js";import{d as x,i as r,c as N,F as B,e as o,b as i,r as p,w as n,o as f,j as U,f as L,E as I,I as d,_ as E}from"./index-DrbzVNl6.js";import"./format-CRgx78oe.js";import"./StatusDot-eKxl7wC-.js";const F={class:"dialog-footer"},W=x({__name:"Reconnection",props:{conversationId:{type:Number,default:0}},emits:["serversUpdated"],setup(c,{expose:_,emit:C}){const k=r(null),t=r(!1),y=c,u=()=>{t.value=!0},v=()=>{t.value=!1},b=C,s=r(0),g=async()=>{if(s.value==0){d.error("请选择转接客服");return}try{const l=await V({conversationId:y.conversationId,servantId:s.value});d.success("操作成功"),t.value=!1,b("serversUpdated")}catch(l){d.error(l.message)}finally{}};return _({showWin:u}),(l,e)=>{const m=p("el-button"),w=p("el-dialog");return f(),N(B,null,[o("div",{class:"reception-panel-toolbar-waiting",onClick:u}," 转接 "),i(w,{"destroy-on-close":!0,modelValue:t.value,"onUpdate:modelValue":e[1]||(e[1]=a=>t.value=a),"show-close":!1,width:"560"},{header:n(({close:a,titleId:j,titleClass:T})=>[o("div",{class:"header-title"},[e[3]||(e[3]=o("div",{class:"title"}," 转接客服 ",-1)),o("div",{onClick:v,class:"right"},e[2]||(e[2]=[o("em",{class:"main_pel_m iconfont-admin icon-cha1"},null,-1)]))])]),footer:n(()=>[o("div",F,[i(m,{onClick:v},{default:n(()=>e[4]||(e[4]=[I("取消")])),_:1}),i(m,{disabled:s.value==0,type:"primary",onClick:g},{default:n(()=>e[5]||(e[5]=[I(" 转接 ")])),_:1},8,["disabled"])])]),default:n(()=>[t.value?(f(),U(R,{key:0,servantId:s.value,"onUpdate:servantId":e[0]||(e[0]=a=>s.value=a),conversationId:c.conversationId,ref_key:"ReconnectionListRef",ref:k},null,8,["servantId","conversationId"])):L("",!0)]),_:1},8,["modelValue"])],64)}}}),H=E(W,[["__scopeId","data-v-78e6c604"]]);export{H as default};
