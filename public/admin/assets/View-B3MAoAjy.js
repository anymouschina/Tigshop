import{m as G,f as H,q as V,d as L,a as Q}from"./index-Bm8xE4_u.js";import{i as F}from"./format-DFT-VJzO.js";import{d as W,u as A,i as h,aa as u,q as M,Q as O,c as m,o as g,e as a,f as y,l as t,D as v,n as Y,F as N,a as P,g as j,_ as R}from"./index-CGYuOau0.js";/* empty css                                                             */import"./lodash-blK8fE0I.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";const X=W({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup(B){const e=A(B,"module"),D=h({pic_list:[{pic_id:1424,pic_thumb:"img/gallery/202411/1731388896OTbuADBoe1LEFefwJo.png?x-oss-process=image/resize,m_pad,h_200,h_200",pic_url:"https://oss.tigshop.com/img/gallery/202411/1731388896OTbuADBoe1LEFefwJo.png",pic_name:"FtohhFYy2fnPEqrcsqpSq5H53DzH"},{pic_id:1425,pic_thumb:"img/gallery/202411/17313888965IIgWQGqsTYhoe7H7T.png?x-oss-process=image/resize,m_pad,h_200,h_200",pic_url:"https://oss.tigshop.com/img/gallery/202411/17313888965IIgWQGqsTYhoe7H7T.png",pic_name:"FlVOfGJJyjhQmsiDGJViz_S2clyl"},{pic_id:1424,pic_thumb:"img/gallery/202411/1731388896OTbuADBoe1LEFefwJo.png?x-oss-process=image/resize,m_pad,h_200,h_200",pic_url:"https://oss.tigshop.com/img/gallery/202411/1731388896OTbuADBoe1LEFefwJo.png",pic_name:"FtohhFYy2fnPEqrcsqpSq5H53DzH"},{pic_id:1425,pic_thumb:"img/gallery/202411/17313888965IIgWQGqsTYhoe7H7T.png?x-oss-process=image/resize,m_pad,h_200,h_200",pic_url:"https://oss.tigshop.com/img/gallery/202411/17313888965IIgWQGqsTYhoe7H7T.png",pic_name:"FlVOfGJJyjhQmsiDGJViz_S2clyl"}],row_num:1.5,sliding_effect:"auto",sliding_speed:25,pic_margin_top:0,pic_margin:10,pic_radius:6,pic_fill_type:"cover",pic_title_desc:{show:1,title_color:"#ffffff",title_font_size:14,title_font_weight:400,desc_color:"#ffffff",desc_font_size:12,desc_font_weight:0,font_position:"",text_alignment:"right",margin_top:10,margin_bottom:10,margin_left:0,background_color:""},module_title:{title_text:"",sub_title_text:"",title_position:"top",text_alignment:"right",title_margin_top:0,title_margin_bottom:0,title_margin_left:0,title_color:"#ffffff",title_font_size:16,title_font_weight:700,sub_font_title_color:"#ffffff",sub_font_title_size:12,sub_font_title_weight:700},module_style:Q,content_style:L});G(e.value,D.value);const s=u(()=>H(e.value.module_style??{},e.value.content_style??{},e.value.sub_title??{})),I=u(()=>e.value.pic_list?V(e.value.pic_list,5):[]),b=u(()=>{var l;return`width: ${T.value*((l=e.value.pic_list)==null?void 0:l.length)}px; display: flex; animation-duration: ${e.value.sliding_speed}s; position: relative; top: 0px; left: 0px`}),q=u(()=>`transform: translateX(0px);animation-play-state:  ${e.value.sliding_effect==="manual"?"paused":"running"};`),C=u(()=>`margin-right: ${e.value.pic_margin}px; background: none; border-radius: ${e.value.pic_radius}px; position: relative; overflow: hidden`),J=u(()=>`width: 100%;height: 0px;padding-top: ${w.value*100}%;border-bottom-left-radius: 0px;border-bottom-right-radius: 0px;background-size: cover;background-repeat: no-repeat;background-position: center center;`),x=u(()=>{var l,o,n,i,r,d,_,c;return{picTextBox:`background: ${(l=e.value.pic_title_desc)!=null&&l.background_color?e.value.pic_title_desc.background_color:"none"};text-align: ${(o=e.value.pic_title_desc)==null?void 0:o.text_alignment};`,picTextTitle:`color: ${(n=e.value.pic_title_desc)==null?void 0:n.title_color}; font-size: ${(i=e.value.pic_title_desc)==null?void 0:i.title_font_size}px; font-weight: ${(r=e.value.pic_title_desc)==null?void 0:r.title_font_weight}; overflow: hidden`,picTextDesc:`margin-top: 6px; font-size: ${(d=e.value.pic_title_desc)==null?void 0:d.desc_font_size}px;font-weight: ${(_=e.value.pic_title_desc)==null?void 0:_.desc_font_weight};color: ${(c=e.value.pic_title_desc)==null?void 0:c.desc_color};overflow: hidden;`}}),p=u(()=>{var l,o,n,i,r,d,_,c,f,k;return{titleBox:`text-align: ${(l=e.value.module_title)==null?void 0:l.text_alignment}; margin: ${(o=e.value.module_title)==null?void 0:o.title_margin_top}px ${(n=e.value.module_title)==null?void 0:n.title_margin_left}px ${(i=e.value.module_title)==null?void 0:i.title_margin_bottom}px;`,title:`font-size: ${(r=e.value.module_title)==null?void 0:r.title_font_size}px; font-weight: ${(d=e.value.module_title)==null?void 0:d.title_font_weight};color: ${(_=e.value.module_title)==null?void 0:_.title_color};`,subTitle:`font-size: ${(c=e.value.module_title)==null?void 0:c.sub_font_title_size}px; margin-top: 8px; font-weight: ${(f=e.value.module_title)==null?void 0:f.sub_font_title_weight};color: ${(k=e.value.module_title)==null?void 0:k.sub_font_title_color};`}}),w=h(0),E=l=>new Promise((o,n)=>{const i=new Image;i.src=F(l),i.onload=()=>{o({width:i.width,height:i.height})},i.onerror=()=>{n()}}),$=async l=>{try{const o=await E(l);w.value=Number((o.height/o.width).toFixed(3))}catch(o){console.error(o)}},S=h(),z=h(0),T=u(()=>z.value/e.value.row_num);return M(async()=>{await $(e.value.pic_list[0].pic_url),z.value=S.value.clientWidth}),O(()=>{$(e.value.pic_list[0].pic_url)}),(l,o)=>{var n,i,r,d;return g(),m("div",{class:"module-ad-con",style:t(s.value.moduleStyle.box_padding_bottom+s.value.moduleStyle.box_padding_top+s.value.moduleStyle.box_padding_bottom+s.value.moduleStyle.box_padding+s.value.moduleStyle.background_size+s.value.moduleStyle.background_image)},[a("div",{class:"module-ad-content",style:t(s.value.moduleContentStyle.background_image+s.value.moduleContentStyle.background_size+s.value.moduleContentStyle.box_radius+s.value.moduleContentStyle.box_shadow+s.value.moduleContentStyle.inner_padding)},[a("div",{class:"slidelarge-image",ref_key:"slidelargeRef",ref:S},[e.value.module_title&&e.value.module_title.title_position==="top"?(g(),m("div",{key:0,style:t(p.value.titleBox)},[a("div",{style:t(p.value.title)},v((n=e.value.module_title)==null?void 0:n.title_text),5),a("div",{style:t(p.value.subTitle)},v((i=e.value.module_title)==null?void 0:i.sub_title_text),5)],4)):y("",!0),a("div",{style:t(`margin-top: ${e.value.pic_margin_top}%; width: 100%; z-index: 1; overflow: hidden;`)},[a("div",{style:t(b.value)},[a("div",{class:Y([{"slidelarge-image-box":e.value.sliding_effect==="auto"}]),style:t(b.value+q.value)},[(g(!0),m(N,null,P(I.value,(_,c)=>{var f;return g(),m("div",{key:c,style:t(`width: ${T.value}px; flex-shrink: 0`)},[a("div",{style:t(C.value)},[a("div",{style:t(J.value+`background-image: url(${j(F)(_.pic_url)});`)},null,4),(f=e.value.pic_title_desc)!=null&&f.show?(g(),m("div",{key:0,style:t(x.value.picTextBox+`${e.value.pic_title_desc.font_position==="internal"?"position: absolute;left: 0px;right: 0px;bottom: 0px;padding: 10px 15px;":""}${e.value.pic_title_desc.font_position!=="internal"?`margin: ${e.value.pic_title_desc.margin_top}px ${e.value.pic_title_desc.margin_left}px ${e.value.pic_title_desc.margin_bottom}px;`:""}`)},[a("div",{style:t(x.value.picTextTitle)},v(_.pic_title),5),a("div",{style:t(x.value.picTextDesc)},v(_.pic_desc),5)],4)):y("",!0)],4)],4)}),128))],6)],4)],4),e.value.module_title&&e.value.module_title.title_position==="bottom"?(g(),m("div",{key:1,style:t(p.value.titleBox)},[a("div",{style:t(p.value.title)},v((r=e.value.module_title)==null?void 0:r.title_text),5),a("div",{style:t(p.value.subTitle)},v((d=e.value.module_title)==null?void 0:d.sub_title_text),5)],4)):y("",!0)],512)],4)],4)}}}),ae=R(X,[["__scopeId","data-v-8a94e6a1"]]);export{ae as default};
