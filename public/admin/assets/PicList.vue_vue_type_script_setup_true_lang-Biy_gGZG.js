import{d as B,m as M,i as j,u as w,aR as O,r as S,c as a,o as s,e as o,f as n,b as c,g as i,w as g,D as y,j as D,E as C}from"./index-CGYuOau0.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-t3_hMxDC.js";import"./index-B-GURfkM.js";import{i as U}from"./format-DFT-VJzO.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{S as x}from"./SelectLink-7bDF6pPk.js";import{_}from"./SelectColor.vue_vue_type_script_setup_true_lang-DaNn8bLS.js";/* empty css             */import{d as E}from"./vuedraggable.umd-_1km55l4.js";import{_ as h}from"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";const I={style:{width:"100%"}},N={class:"gallery-list-warp"},A={class:"dec-pic-group"},$={class:"dec-pic-group-list"},L={class:"dec-pic-group-item"},P={class:"dec-pic-group-item-con"},R={key:0,class:"item-image"},F={class:"item-image-con"},q=["src"],z={class:"item-info"},G={key:0,class:"item-info-item item-info-title"},H={key:1,class:"item-info-item item-info-title"},J={class:"item-info-item item-info-link"},K={class:"lyecs-link-select"},Q={key:2,class:"item-info-item item-info-color"},W={class:"lyecs-link-select"},X={class:"flex flex-align-center"},Y=["onClick"],Z={key:0,class:"dec-pic-group-list"},ee={class:"dec-pic-group-item"},oe={class:"dec-pic-group-item-con"},le={key:0,class:"item-image"},te={class:"item-image-con"},se=["src"],ie={class:"change-image"},ae={class:"item-info"},de={key:0,class:"item-info-item item-info-title"},ne={key:1,class:"item-info-item item-info-title"},ce={class:"item-info-item item-info-link"},re={class:"lyecs-link-select"},ue={key:2,class:"item-info-item item-info-color"},me={class:"lyecs-link-select"},pe={class:"flex flex-align-center"},fe={key:1,class:"dec-pic-add-con"},ve={class:"dec-pic-add-btn"},Be=B({__name:"PicList",props:M({isMultiple:{type:Boolean,default:!1},showDesc:{type:Boolean,default:!1},title:{type:String,default:"添加图片"},showText:{type:Boolean,default:!0},showImage:{type:Boolean,default:!0},showColor:{type:Boolean,default:!1},backgroundColor:{type:Array,default:()=>[]},decorateType:{type:String,default:""}},{photos:{type:Array,default:[]},photosModifiers:{},photo:{type:Object,default:{}},photoModifiers:{}}),emits:["update:photos","update:photo"],setup(t){j(null);const f=t,m=w(t,"photos"),d=w(t,"photo"),{isMultiple:v}=O(f),k=(u,e)=>{v.value?Object.assign(m.value[e.index],u[0]):d.value=u[0]},b=u=>{if(f.showImage)if(f.showColor){let e={gradient_color_a:f.backgroundColor[0],gradient_color_b:f.backgroundColor[1]};u.forEach(p=>{Object.assign(p,e)}),m.value.push(...u)}else m.value.push(...u);else{let e={path:"",label:"",name:"",data:{name:"",path:""}};m.value.push(e)}},T=u=>{m.value.splice(u,1)};return(u,e)=>{const p=S("el-input");return s(),a("div",I,[o("div",N,[o("div",A,[o("div",$,[c(i(E),{class:"gallery-list-ul","item-key":"",list:m.value,"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:e[0]||(e[0]=()=>{}),onEnd:e[1]||(e[1]=()=>{})},{item:g(({element:l,index:V})=>[o("div",L,[o("div",P,[t.showImage?(s(),a("div",R,[o("div",F,[l.pic_thumb?(s(),a("img",{key:0,class:"item-image-src",src:i(U)(l.pic_thumb)},null,8,q)):n("",!0),c(i(h),{type:"gallery",class:"",onOkCallback:k,params:{isMultiple:!1},data:{index:V}},{default:g(()=>e[7]||(e[7]=[o("span",{class:"change-image"},"更换图片",-1)])),_:2},1032,["data"])])])):n("",!0),o("div",z,[t.showText?(s(),a("div",G,[e[8]||(e[8]=o("span",{class:"lable"},"标题",-1)),c(p,{placeholder:"建议10个字以内，可不填",modelValue:l.pic_title,"onUpdate:modelValue":r=>l.pic_title=r},null,8,["modelValue","onUpdate:modelValue"])])):n("",!0),t.showDesc?(s(),a("div",H,[e[9]||(e[9]=o("span",{class:"lable"},"描述",-1)),c(p,{placeholder:"可不填",modelValue:l.pic_desc,"onUpdate:modelValue":r=>l.pic_desc=r},null,8,["modelValue","onUpdate:modelValue"])])):n("",!0),o("div",J,[e[10]||(e[10]=o("span",{class:"lable"},"链接",-1)),o("div",K,[c(i(x),{modelValue:l.pic_link,"onUpdate:modelValue":r=>l.pic_link=r,disabled:l.type=="default",decorateType:t.decorateType},null,8,["modelValue","onUpdate:modelValue","disabled","decorateType"])])]),t.showColor?(s(),a("div",Q,[e[12]||(e[12]=o("span",{class:"lable"},"背景色",-1)),o("div",W,[o("div",X,[o("div",null,[c(i(_),{color:l.gradient_color_a,"onUpdate:color":r=>l.gradient_color_a=r},null,8,["color","onUpdate:color"])]),e[11]||(e[11]=o("div",{style:{margin:"0 10px"}},"-",-1)),o("div",null,[c(i(_),{color:l.gradient_color_b,"onUpdate:color":r=>l.gradient_color_b=r},null,8,["color","onUpdate:color"])])])])])):n("",!0)]),i(v)==!0?(s(),a("div",{key:1,class:"del-item",onClick:r=>T(V)},e[13]||(e[13]=[o("i",{class:"ico-decorate icon-dec-cha"},null,-1)]),8,Y)):n("",!0)])])]),_:1},8,["list"])]),i(v)==!1?(s(),a("div",Z,[o("div",ee,[o("div",oe,[t.showImage?(s(),a("div",le,[o("div",te,[d.value.pic_thumb?(s(),a("img",{key:0,class:"item-image-src",src:i(U)(d.value.pic_thumb)},null,8,se)):n("",!0),c(i(h),{type:"gallery",class:"",onOkCallback:k,params:{isMultiple:!1}},{default:g(()=>[o("span",ie,y(d.value.pic_thumb?"更换图片":"添加图片"),1)]),_:1})])])):n("",!0),o("div",ae,[t.showText?(s(),a("div",de,[e[14]||(e[14]=o("span",{class:"lable"},"标题",-1)),c(p,{placeholder:"建议10个字以内，可不填",modelValue:d.value.pic_title,"onUpdate:modelValue":e[2]||(e[2]=l=>d.value.pic_title=l)},null,8,["modelValue"])])):n("",!0),t.showDesc?(s(),a("div",ne,[e[15]||(e[15]=o("span",{class:"lable"},"描述",-1)),c(p,{placeholder:"可不填",modelValue:d.value.pic_desc,"onUpdate:modelValue":e[3]||(e[3]=l=>d.value.pic_desc=l)},null,8,["modelValue"])])):n("",!0),o("div",ce,[e[16]||(e[16]=o("span",{class:"lable"},"链接",-1)),o("div",re,[c(i(x),{modelValue:d.value.pic_link,"onUpdate:modelValue":e[4]||(e[4]=l=>d.value.pic_link=l),decorateType:t.decorateType},null,8,["modelValue","decorateType"])])]),t.showColor?(s(),a("div",ue,[e[18]||(e[18]=o("span",{class:"lable"},"背景色",-1)),o("div",me,[o("div",pe,[o("div",null,[c(i(_),{color:d.value.gradient_color_a,"onUpdate:color":e[5]||(e[5]=l=>d.value.gradient_color_a=l)},null,8,["color"])]),e[17]||(e[17]=o("div",{style:{margin:"0 10px"}},"-",-1)),o("div",null,[c(i(_),{color:d.value.gradient_color_b,"onUpdate:color":e[6]||(e[6]=l=>d.value.gradient_color_b=l)},null,8,["color"])])])])])):n("",!0)])])])])):n("",!0),i(v)==!0?(s(),a("div",fe,[t.showImage?(s(),D(i(h),{key:0,type:"gallery",class:"",onOkCallback:b,params:{isMultiple:i(v)},style:{width:"100%"}},{default:g(()=>[o("a",ve,[e[19]||(e[19]=o("i",{class:"ico-decorate icon-dec-jia"},null,-1)),C(y(t.title),1)])]),_:1},8,["params"])):(s(),a("a",{key:1,onClick:b,class:"dec-pic-add-btn"},[e[20]||(e[20]=o("i",{class:"ico-decorate icon-dec-jia"},null,-1)),C(y(t.title),1)]))])):n("",!0)])])])}}});export{Be as _};
