import{d as D,C as N,i as c,s as x,r as l,c as B,o as R,e as _,b as e,w as s,a0 as h,E as q,a1 as L,I as b}from"./index-CGYuOau0.js";import{c as T}from"./mobileDecorate-CHe_vRQP.js";const E={class:"container"},F={class:"content_wrapper"},I={class:"lyecs-form-table"},A=D({__name:"Info",props:{id:{type:Number,default:0},decorateType:{type:Number,default:1},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(v,{expose:y,emit:g}){const n=g,t=v,d=N().currentRoute.value.query,w=c(t.isDialog?t.act:String(d.act)),V=c(t.isDialog?t.id:Number(d.id)),C=w.value==="add"?"create":"update",m=x(),o=c({}),p=async()=>{await m.value.validate();try{n("update:confirmLoading",!0);const r=await T(C,{id:V.value,decorate_type:t.decorateType,...o.value});n("submitCallback",r),b.success(r.message)}catch(r){b.error(r.message)}finally{n("update:confirmLoading",!1)}};return y({onFormSubmit:()=>{p()}}),(r,a)=>{const f=l("el-input"),i=l("el-form-item"),S=l("el-button"),k=l("el-form");return R(),B("div",E,[_("div",F,[_("div",I,[e(k,{ref_key:"formRef",ref:m,model:o.value,"label-width":"auto"},{default:s(()=>[e(i,{prop:"decorate_title",label:"首页装修模板名称",rules:[{required:!0,message:"首页装修模板名称不能为空!"}]},{default:s(()=>[e(f,{modelValue:o.value.decorate_title,"onUpdate:modelValue":a[0]||(a[0]=u=>o.value.decorate_title=u)},null,8,["modelValue"])]),_:1}),e(i,{prop:"sort_order",label:"排序"},{default:s(()=>[e(f,{modelValue:o.value.sort_order,"onUpdate:modelValue":a[1]||(a[1]=u=>o.value.sort_order=u)},null,8,["modelValue"])]),_:1}),h(e(i,{"wrapper-col":{offset:4,span:16}},{default:s(()=>[e(S,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:p},{default:s(()=>a[2]||(a[2]=[q("提交")])),_:1},512)]),_:1},512),[[L,!t.isDialog]])]),_:1},8,["model"])])])])}}});export{A as default};
