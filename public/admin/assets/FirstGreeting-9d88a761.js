import{F}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-9b6073fb.js";import{_ as I}from"./TextEditor.vue_vue_type_script_setup_true_lang-33651ecd.js";import{g as S,s as U}from"./config-47ce92c4.js";import{d as E,j as v,v as G,x as N,r as _,o as d,c as r,e,b as l,w as n,H as h,f as W,h as $,F as B,K as g,p as H,i as M,_ as j}from"./index-7c2d2aef.js";import"./index-6c62cf9b.js";import"./vuedraggable.umd-75ad0f8f.js";import"./Image.vue_vue_type_script_setup_true_lang-36bd437b.js";import"./format-4e0206d3.js";import"./config-9548fa9b.js";import"./config-e2aa16d1.js";import"./util-1ee03ed8.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import"./index.esm-0534e563.js";const i=c=>(H("data-v-a77dc62d"),c=c(),M(),c),L={class:"index-m_preferenceSwitch_1TP3q"},q={class:"index-m_header_2mdaa"},A=i(()=>e("span",{class:"index-m_title_180SF"},"首句欢迎语",-1)),D=i(()=>e("div",{class:"index-m_desc_Erwpt"},"当买家发送的第一条消息分配到人工接待时，会发送这个回复。相同内容一天内只会对一个买家发送一次",-1)),K=i(()=>e("div",{class:"zent-block-header"},[e("div",{class:"zent-block-header__title zent-block-header__title-ribbon"},[e("h3",null,"回复内容")]),e("div",{class:"zent-block-header__content"},"(若都勾选则自动回复文字消息+微信二维码名片)")],-1)),O={class:"info-box"},P={class:"right-box"},R=i(()=>e("span",{style:{"font-size":"14px"}},"发送文字消息",-1)),J={style:{width:"100%","padding-left":"25px","font-size":"14px"}},Q={style:{display:"flex","flex-direction":"column"}},X={style:{display:"flex"}},Y=i(()=>e("div",{style:{"min-width":"70px"}},"回复内容：",-1)),Z=["innerHTML"],ee={key:1,style:{width:"100%"}},te={style:{display:"flex"}},oe=i(()=>e("div",{style:{width:"70px"}},null,-1)),se={key:0},le={key:1,style:{"margin-top":"14px"}},ae=i(()=>e("span",{style:{"font-size":"14px"}},"发送微信二维码名片",-1)),ne={key:0,style:{width:"100%","padding-left":"25px"}},ie=i(()=>e("div",{class:"extra"},"系统自动发送微信二维码名片，引导买家添加客服微信，提升加粉效率",-1)),de=E({__name:"FirstGreeting",setup(c){const p=v(!1),t=v({activate:!1,sendText:!1,sendWechat:!1,wechatImage:"",replyContent:"你好，欢迎光临！"}),m=v({replyContentTemp:""}),w=()=>{m.value.replyContentTemp=t.value.replyContent,p.value=!0},b=()=>{t.value.replyContent=m.value.replyContentTemp,p.value=!1},u=v(!1),C=async()=>{try{const a=await U({code:"welcome",data:t.value})}catch(a){g.error(a.message)}},k=()=>{u.value&&C(),u.value||(u.value=!0)};G(()=>t.value,()=>{k()},{deep:!0});const T=async()=>{try{const a=await S({code:"welcome"});a.item?Object.assign(t.value,a.item):u.value=!0}catch(a){g.error(a.message)}};return N(()=>{T()}),(a,o)=>{const V=_("el-switch"),y=_("el-checkbox"),f=_("el-button"),x=_("el-form-item"),z=_("el-form");return d(),r(B,null,[e("div",L,[e("div",q,[A,l(V,{class:"switch-pl",modelValue:t.value.activate,"onUpdate:modelValue":o[0]||(o[0]=s=>t.value.activate=s)},null,8,["modelValue"])]),D]),K,e("div",O,[e("div",P,[l(z,{ref:"formRef",model:t.value,"label-width":"auto"},{default:n(()=>[l(x,{label:"",prop:"brand_logo"},{default:n(()=>[l(y,{style:{width:"100%"},modelValue:t.value.sendText,"onUpdate:modelValue":o[1]||(o[1]=s=>t.value.sendText=s)},{default:n(()=>[R]),_:1},8,["modelValue"]),e("div",J,[e("div",Q,[e("div",X,[Y,p.value?(d(),r("div",ee,[l(I,{html:m.value.replyContentTemp,"onUpdate:html":o[2]||(o[2]=s=>m.value.replyContentTemp=s),height:"300px"},null,8,["html"])])):(d(),r("div",{key:0,innerHTML:t.value.replyContent},null,8,Z))]),e("div",te,[oe,p.value?(d(),r("div",le,[l(f,{onClick:o[4]||(o[4]=s=>b()),style:{"font-size":"14px"},type:"primary"},{default:n(()=>[h("保存")]),_:1}),l(f,{onClick:o[5]||(o[5]=s=>p.value=!1),style:{"font-size":"14px"}},{default:n(()=>[h("取消")]),_:1})])):(d(),r("div",se,[l(f,{onClick:o[3]||(o[3]=s=>w()),style:{"font-size":"14px"},type:"primary",link:""},{default:n(()=>[h("编辑")]),_:1})]))])])])]),_:1}),l(x,{label:"",prop:"brand_logo"},{default:n(()=>[l(y,{style:{width:"100%"},modelValue:t.value.sendWechat,"onUpdate:modelValue":o[6]||(o[6]=s=>t.value.sendWechat=s)},{default:n(()=>[ae]),_:1},8,["modelValue"]),t.value.sendWechat?(d(),r("div",ne,[l(W(F),{photo:t.value.wechatImage,"onUpdate:photo":o[7]||(o[7]=s=>t.value.wechatImage=s)},null,8,["photo"])])):$("",!0),ie]),_:1})]),_:1},8,["model"])])])],64)}}});const be=j(de,[["__scopeId","data-v-a77dc62d"]]);export{be as default};
