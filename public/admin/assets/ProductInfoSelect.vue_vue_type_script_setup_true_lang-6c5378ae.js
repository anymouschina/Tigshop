import"./index-6c62cf9b.js";import{d as g}from"./vuedraggable.umd-75ad0f8f.js";import{u as f,i as h}from"./format-4e0206d3.js";import{g as v}from"./product-689c7c1e.js";import{_ as k}from"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import{d as b,m as x,j as p,u as M,x as C,o as L,c as S,b as n,w as i,e as t,f as d,K as w}from"./index-7c2d2aef.js";const y={class:"dec-goods-group-item dec-tip dec-goods-group-item-goods"},B={class:"dec-goods-group-item-con"},j={class:"item-goods-con"},E=["href","title"],N=["src"],P=["onClick"],F=t("i",{class:"ico-decorate icon-dec-cha"},null,-1),V=[F],$=t("div",{class:"dec-goods-group-item dec-goods-group-add dec-tip","data-title":"添加商品"},[t("div",{class:"dec-goods-group-item-con"},[t("div",{class:"item-goods-con"},[t("a",{href:"javascript:;"},[t("i",{class:"ico-decorate icon-dec-jia"})])])])],-1),G=b({__name:"ProductInfoSelect",props:x({isMultiple:{type:Boolean,default:!1},maxSelection:{type:Number,default:0}},{productList:{},productListModifiers:{}}),emits:["update:productList"],setup(r){p(null);const a=r,l=p([]),e=M(r,"productList");C(()=>{});const _=async c=>{try{const o=await v({ids:c,size:100,page:1});console.log(o.filter_result),o.filter_result.forEach(s=>{let u={product_id:s.product_id,product_sn:s.product_sn,product_name:s.product_name,product_desc:s.product_desc,product_price:s.product_price,market_price:s.market_price,pic_thumb:s.pic_thumb}}),e.value.push(...o.filter_result),console.log(e.value)}catch(o){w.error(o.message)}},m=c=>{e.value.splice(c,1),l.value=e.value.filter(o=>o.product_id!==0).map(o=>o.product_id)};return(c,o)=>(L(),S("div",null,[n(d(g),{class:"dec-goods-group-list","item-key":"prodcut_id",list:e.value,"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:o[0]||(o[0]=()=>{}),onEnd:o[1]||(o[1]=()=>{})},{item:i(({element:s,index:u})=>[t("div",y,[t("div",B,[t("div",j,[t("a",{href:d(f)({path:"product",id:s.product_id}),target:"_blank",title:s.product_name},[t("img",{class:"item-goods-img",src:d(h)(s.pic_thumb)},null,8,N)],8,E)]),t("div",{class:"del-item",onClick:z=>m(u)},V,8,P)])])]),footer:i(()=>[n(d(k),{isDrawer:"",onOkCallback:_,title:"选择商品",width:"600px",path:"product/product/src/SelectProduct",params:{selected_ids:l.value,isMultiple:a.isMultiple,maxSelection:a.maxSelection}},{default:i(()=>[$]),_:1},8,["params"])]),_:1},8,["list"])]))}});export{G as _};
