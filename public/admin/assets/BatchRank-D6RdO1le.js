import{d as V,i as n,C as x,s as R,q,r,c as D,o as p,e as f,j as N,f as L,b as t,w as i,a0 as E,g as F,E as j,a1 as A,I as _}from"./index-CGYuOau0.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-t3_hMxDC.js";import"./index-B-GURfkM.js";/* empty css                                                                    *//* empty css                                                                  */import{_ as I}from"./SelectRankList.vue_vue_type_script_setup_true_lang-CCUoIaLF.js";/* empty css                                                                              */import{b as M}from"./user-CEb--1cT.js";/* empty css             */import"./time-ClyPenjC.js";import"./userRank-4CcE-k1Z.js";const T={class:"container"},U={class:"content_wrapper"},$={class:"lyecs-form-table"},ee=V({__name:"BatchRank",props:{ids:{type:Array,default:[]},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(b,{expose:v,emit:g}){const l=g,o=b,m=n(!0),k=x().currentRoute.value.query,y=n(o.isDialog?o.act:String(k.act)),w=n(o.ids),c=R(),a=n({rank_id:""});q(()=>{m.value=!1});const u=async()=>{await c.value.validate();try{l("update:confirmLoading",!0);const e=await M(y.value,{ids:w.value,rank_id:a.value.rank_id});l("submitCallback",e),_.success(e.message)}catch(e){_.error(e.message)}finally{l("update:confirmLoading",!1)}};return v({onFormSubmit:()=>{u()}}),(e,s)=>{const d=r("el-form-item"),h=r("el-button"),C=r("el-form"),S=r("a-spin");return p(),D("div",T,[f("div",U,[f("div",$,[m.value?L("",!0):(p(),N(C,{key:0,ref_key:"formRef",ref:c,model:a.value,"label-width":"auto"},{default:i(()=>[t(d,{label:"会员等级",prop:"rank_id",rules:[{required:!0,message:"请选择会员等级!"}]},{default:i(()=>[t(F(I),{modelValue:a.value.rank_id,"onUpdate:modelValue":s[0]||(s[0]=B=>a.value.rank_id=B)},null,8,["modelValue"])]),_:1}),E(t(d,{"wrapper-col":{offset:4,span:16}},{default:i(()=>[t(h,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:u},{default:i(()=>s[1]||(s[1]=[j("提交")])),_:1},512)]),_:1},512),[[A,!o.isDialog]])]),_:1},8,["model"])),t(S,{spinning:m.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{ee as default};
