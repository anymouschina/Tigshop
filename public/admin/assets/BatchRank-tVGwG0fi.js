import{d as I,i as n,C as V,s as x,q as R,r,c as q,o as p,e as f,j as D,f as N,b as e,w as i,a3 as L,g as E,E as F,a4 as j,I as _}from"./index-DrbzVNl6.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-MgR9Z6jO.js";import"./index-CeQDmMxd.js";/* empty css                                                                    *//* empty css                                                                  */import{_ as A}from"./SelectRankList.vue_vue_type_script_setup_true_lang-DzjPE1aZ.js";/* empty css                                                                              */import{b as M}from"./user-Zgy4YOmN.js";/* empty css             */import"./time-Bh5UhrfW.js";import"./userRank-Cwfy5SLP.js";const T={class:"container"},U={class:"content_wrapper"},$={class:"lyecs-form-table"},ee=I({__name:"BatchRank",props:{ids:{type:Array,default:[]},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(b,{expose:v,emit:g}){const l=g,t=b,m=n(!0),k=V().currentRoute.value.query,y=n(t.isDialog?t.act:String(k.act)),w=n(t.ids),c=x(),o=n({rankId:""});R(()=>{m.value=!1});const u=async()=>{await c.value.validate();try{l("update:confirmLoading",!0);const a=await M(y.value,{ids:w.value,rankId:o.value.rankId});l("submitCallback",a),_.success("操作成功")}catch(a){_.error(a.message)}finally{l("update:confirmLoading",!1)}};return v({onFormSubmit:()=>{u()}}),(a,s)=>{const d=r("el-form-item"),h=r("el-button"),C=r("el-form"),S=r("a-spin");return p(),q("div",T,[f("div",U,[f("div",$,[m.value?N("",!0):(p(),D(C,{key:0,ref_key:"formRef",ref:c,model:o.value,"label-width":"auto"},{default:i(()=>[e(d,{label:"会员等级",prop:"rankId",rules:[{required:!0,message:"请选择会员等级!"}]},{default:i(()=>[e(E(A),{modelValue:o.value.rankId,"onUpdate:modelValue":s[0]||(s[0]=B=>o.value.rankId=B)},null,8,["modelValue"])]),_:1}),L(e(d,{"wrapper-col":{offset:4,span:16}},{default:i(()=>[e(h,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:u},{default:i(()=>s[1]||(s[1]=[F("提交")])),_:1},512)]),_:1},512),[[j,!t.isDialog]])]),_:1},8,["model"])),e(S,{spinning:m.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{ee as default};
