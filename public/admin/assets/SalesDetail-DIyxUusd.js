import{d as Se,i as u,G as ke,K as De,q as Fe,A as ze,B as Ae,r as w,c as o,o as n,e,b as c,w as v,g as Ye,E as d,D as i,F as Ne,I as Oe,_ as qe}from"./index-CGYuOau0.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-t3_hMxDC.js";import"./index-B-GURfkM.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{S as Be}from"./SelectTimeInterval-BYQIPzkk.js";/* empty css             */import{f as xe}from"./time-ClyPenjC.js";import{i as we}from"./index-u3wYLQ4o.js";import{g as Ee}from"./statisticsSale-Cl-gZY0A.js";const Me={class:"filtrate-menu"},Te={class:"main-panel"},Le={class:"main-panel-item"},Ge={class:"main-panel-item-value"},Ie={class:"main-panel-item-increase"},Ue={key:0,class:"admin-iconfont red f12 up"},Ke={key:1,class:"admin-iconfont green f12"},Pe={class:"main-panel-item"},Ve={class:"main-panel-item-value"},We={class:"main-panel-item-increase"},je={key:0,class:"admin-iconfont red f12 up"},He={key:1,class:"admin-iconfont green f12"},Je={class:"main-panel-item"},Qe={class:"main-panel-item-value"},Xe={class:"main-panel-item-increase"},Ze={key:0,class:"admin-iconfont red f12 up"},$e={key:1,class:"admin-iconfont green f12"},Re={class:"main-panel-item"},Ce={class:"main-panel-item-value"},et={class:"main-panel-item-increase"},tt={key:0,class:"admin-iconfont red f12 up"},at={key:1,class:"admin-iconfont green f12"},st={class:"main-panel-item"},ot={class:"main-panel-item-value"},nt={class:"main-panel-item-increase"},it={key:0,class:"admin-iconfont red f12 up"},lt={key:1,class:"admin-iconfont green f12"},rt={class:"main-panel-item"},dt={class:"main-panel-item-value"},_t={class:"main-panel-item-increase"},mt={key:0,class:"admin-iconfont red f12 up"},ut={key:1,class:"admin-iconfont green f12"},ct={class:"chart-menu"},pt=Se({__name:"SalesDetail",setup(ft){const b=u(),h=u();let s,l;const m=u({title:{text:"金额明细",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},legend:{data:["支付金额","退款金额"],left:"center",bottom:"bottom"},xAxis:{type:"category",data:[]},yAxis:[{type:"value",name:"金额",nameTextStyle:{color:"#7cb5ec"},nameGap:20,axisLabel:{color:"#7cb5ec",formatter:"{value} 元"}}],series:[{name:"支付金额",data:[],type:"line",smooth:!0,lineStyle:{color:"#64a9ff"},color:"#5CA5FF",emphasis:{scale:!1},tooltip:{valueFormatter:function(r){return r+"元"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(92, 165, 255,0.50)"},{offset:1,color:"rgba(92, 165, 255,0.00)"}],global:!1}}},{name:"退款金额",data:[],type:"line",smooth:!0,lineStyle:{color:"rgba(0, 190, 189,0.50)"},color:"rgba(0, 190, 189,0.50)",emphasis:{scale:!1},tooltip:{valueFormatter:function(r){return r+"元"}},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(0, 190, 189,0.50)"},{offset:1,color:"rgba(0, 190, 189,0.00)"}],global:!1}}}]}),p=u({title:{text:"商品明细",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{data:["商品浏览量"],left:"center",bottom:"bottom"},xAxis:{type:"category",data:[]},yAxis:[{type:"value",name:"浏览量",nameTextStyle:{color:"#64a9ff"},nameGap:20,axisLabel:{color:"#64a9ff",formatter:"{value} 次"},min:"10"}],series:[{name:"商品浏览量",type:"bar",barWidth:"50%",showBackground:!1,backgroundStyle:{color:"rgba(0, 127, 255,0.1)"},itemStyle:{color:{x:0,y:0,x2:0,y2:1,type:"linear",global:!1,colorStops:[{offset:0,color:"#007FFF"},{offset:1,color:"#539FE5"}]}},data:[]}]}),S=()=>{s==null||s.resize(),l==null||l.resize()},be=()=>{s=we(b.value),s.setOption(m.value),l=we(h.value),l.setOption(p.value),window.addEventListener("resize",S)},_=ke({start_time:xe(De(30,"sub"),"YYYY-MM-DD"),end_time:xe(new Date,"YYYY-MM-DD")}),a=u(),k=async()=>{try{const r=await Ee(_);if(r.errcode===0){a.value=r;const{horizontal_axis:t,longitudinal_axis_payment_amount:f,longitudinal_axis_product_view:g,longitudinal_axis_refund_amount:y}=r.sales_statistics_data;m.value.xAxis.data=t,m.value.series[0].data=f,m.value.series[1].data=y,s==null||s.setOption(m.value),p.value.xAxis.data=t,p.value.series[0].data=g,l==null||l.setOption(p.value)}}catch(r){Oe.error(r.message),console.error(r)}},he=()=>{k()};return Fe(()=>{ze(()=>{be()}),window.onresize=()=>{s==null||s.resize(),l==null||l.resize()},k()}),Ae(()=>{s==null||s.dispose(),window.removeEventListener("resize",S)}),(r,t)=>{var D,F,z,A,Y,N,O,q,B,E,M,T,L,G,I,U,K,P,V,W,j,H,J,Q,X,Z,$,R,C,ee,te,ae,se,oe,ne,ie,le,re,de,_e,me,ue,ce,pe,fe,ve,ge,ye;const f=w("el-form-item"),g=w("el-button"),y=w("el-form");return n(),o(Ne,null,[e("div",null,[c(y,{model:_,inline:""},{default:v(()=>[e("div",Me,[c(f,{class:"mr-10"},{default:v(()=>[c(Ye(Be),{type:"date","start-date":_.start_time,"onUpdate:startDate":t[0]||(t[0]=x=>_.start_time=x),"end-date":_.end_time,"onUpdate:endDate":t[1]||(t[1]=x=>_.end_time=x)},null,8,["start-date","end-date"])]),_:1}),c(f,null,{default:v(()=>[c(g,{plain:"",onClick:he},{default:v(()=>t[2]||(t[2]=[d("搜索")])),_:1})]),_:1})])]),_:1},8,["model"]),e("div",Te,[e("ul",null,[e("li",Le,[t[4]||(t[4]=e("div",{class:"main-panel-item-title"},"商品浏览量",-1)),e("div",Ge,i(((F=(D=a.value)==null?void 0:D.sales_data)==null?void 0:F.product_view)??0),1),e("div",Ie,[t[3]||(t[3]=d(" 环比： ")),e("span",null,i((A=(z=a.value)==null?void 0:z.sales_data)==null?void 0:A.product_view_growth_rate)+" %",1),((N=(Y=a.value)==null?void 0:Y.sales_data)==null?void 0:N.product_view_growth_rate.toString())!=="--"&&Number((q=(O=a.value)==null?void 0:O.sales_data)==null?void 0:q.product_view_growth_rate)>0?(n(),o("i",Ue,"")):(n(),o("i",Ke,""))])]),e("li",Pe,[t[6]||(t[6]=e("div",{class:"main-panel-item-title"},"商品访客数",-1)),e("div",Ve,i(((E=(B=a.value)==null?void 0:B.sales_data)==null?void 0:E.product_visitor)??0),1),e("div",We,[t[5]||(t[5]=d(" 环比： ")),e("span",null,i((T=(M=a.value)==null?void 0:M.sales_data)==null?void 0:T.product_visitor_growth_rate)+" %",1),((G=(L=a.value)==null?void 0:L.sales_data)==null?void 0:G.product_visitor_growth_rate.toString())!=="--"&&Number((U=(I=a.value)==null?void 0:I.sales_data)==null?void 0:U.product_visitor_growth_rate)>0?(n(),o("i",je,"")):(n(),o("i",He,""))])]),e("li",Je,[t[8]||(t[8]=e("div",{class:"main-panel-item-title"},"下单件数",-1)),e("div",Qe,i(((P=(K=a.value)==null?void 0:K.sales_data)==null?void 0:P.order_num)??0),1),e("div",Xe,[t[7]||(t[7]=d(" 环比： ")),e("span",null,i((W=(V=a.value)==null?void 0:V.sales_data)==null?void 0:W.order_num_growth_rate)+" %",1),((H=(j=a.value)==null?void 0:j.sales_data)==null?void 0:H.order_num_growth_rate.toString())!=="--"&&Number((Q=(J=a.value)==null?void 0:J.sales_data)==null?void 0:Q.order_num_growth_rate)>0?(n(),o("i",Ze,"")):(n(),o("i",$e,""))])]),e("li",Re,[t[10]||(t[10]=e("div",{class:"main-panel-item-title"},"支付金额",-1)),e("div",Ce,i(((Z=(X=a.value)==null?void 0:X.sales_data)==null?void 0:Z.payment_amount)??0),1),e("div",et,[t[9]||(t[9]=d(" 环比： ")),e("span",null,i((R=($=a.value)==null?void 0:$.sales_data)==null?void 0:R.payment_amount_growth_rate)+" %",1),((ee=(C=a.value)==null?void 0:C.sales_data)==null?void 0:ee.payment_amount_growth_rate.toString())!=="--"&&Number((ae=(te=a.value)==null?void 0:te.sales_data)==null?void 0:ae.payment_amount_growth_rate)>0?(n(),o("i",tt,"")):(n(),o("i",at,""))])]),e("li",st,[t[12]||(t[12]=e("div",{class:"main-panel-item-title"},"退款金额",-1)),e("div",ot,i(((oe=(se=a.value)==null?void 0:se.sales_data)==null?void 0:oe.refund_amount)??0),1),e("div",nt,[t[11]||(t[11]=d(" 环比： ")),e("span",null,i((ie=(ne=a.value)==null?void 0:ne.sales_data)==null?void 0:ie.refund_amount_growth_rate)+" %",1),((re=(le=a.value)==null?void 0:le.sales_data)==null?void 0:re.refund_amount_growth_rate.toString())!=="--"&&Number((_e=(de=a.value)==null?void 0:de.sales_data)==null?void 0:_e.refund_amount_growth_rate)>0?(n(),o("i",it,"")):(n(),o("i",lt,""))])]),e("li",rt,[t[14]||(t[14]=e("div",{class:"main-panel-item-title"},"退款件数",-1)),e("div",dt,i(((ue=(me=a.value)==null?void 0:me.sales_data)==null?void 0:ue.refund_quantity)??0),1),e("div",_t,[t[13]||(t[13]=d(" 环比： ")),e("span",null,i((pe=(ce=a.value)==null?void 0:ce.sales_data)==null?void 0:pe.refund_quantity_growth_rate)+" %",1),((ve=(fe=a.value)==null?void 0:fe.sales_data)==null?void 0:ve.refund_quantity_growth_rate.toString())!=="--"&&Number((ye=(ge=a.value)==null?void 0:ge.sales_data)==null?void 0:ye.refund_quantity_growth_rate)>0?(n(),o("i",mt,"")):(n(),o("i",ut,""))])])])])]),e("div",ct,[e("div",{class:"chart-menu-item",ref_key:"SalesDetailRef",ref:b},null,512),e("div",{class:"chart-menu-item",ref_key:"NumberProductViewsRef",ref:h},null,512)])],64)}}}),zt=qe(pt,[["__scopeId","data-v-1608079b"]]);export{zt as default};
