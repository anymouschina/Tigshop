import{d as T,cS as U,u as I,i as f,aa as w,Q as K,c as s,o as a,e as t,f as i,j as M,g as p,aI as Q,w as R,F as j,a as C,l as x,D as v,n as q,_ as A}from"./index-CGYuOau0.js";import{i as L,p as B}from"./format-DFT-VJzO.js";import{g as G}from"./product-CxWf3yyB.js";import{m as H,g as J,j as W,h as X,b as Y}from"./index-Bm8xE4_u.js";import{_ as Z}from"./Swiper.vue_vue_type_script_setup_true_lang-CDJrLTCc.js";import ee from"./View-DSn-10qY.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";/* empty css                                                             */import"./lodash-blK8fE0I.js";const te={key:0,class:"module-ad-empty empty-image_ad"},oe={class:"goods-ad-warp",style:{}},ae={class:"goods-ad-con"},se={class:"item-con"},ie={class:"item-photo"},de={href:"",title:"",class:"item-image-a"},le=["src"],_e={class:"item-info"},ne={class:"item-name"},re={key:0,href:"",title:"",class:"item-name-a"},ce={key:1,href:"",title:"",class:"item-brief"},ue={key:0,class:"item-action"},pe={class:"item-price"},me={class:"price_format"},ge={class:"item-con"},ve={class:"item-photo"},ye={href:"",title:"",class:"item-image-a"},be=["src"],he={class:"item-info"},fe={class:"item-name"},xe={key:0,href:"",title:"",class:"item-name-a"},we={key:1,href:"",title:"",class:"item-brief"},ke={key:0,class:"item-action"},Ve={class:"item-price"},$e={class:"price_format"},Fe={class:"item-buy"},Me={href:"javascript:;",class:"buy-btn lyecs-buyBtn"},je={key:0},Ce={key:1},Le={key:2,class:"iconfont-h5 icon-gouwuche iconh5-style"},Be={key:3,class:"iconfont-h5 icon-gouwuche1 iconh5-style"},Ne={key:4,class:"iconfont-h5 icon-jia iconh5-style"},Oe={key:5,class:"iconfont-h5 icon-jia1 iconh5-style"},Ee=T({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup(N){U(l=>({"60d3d310":z.value}));const e=I(N,"module"),O=f({style:1,goods_style:1,goods_radio_style:1,text_align:1,text_weight:1,goods_name_row:2,goods_name_padding:1,show_name:1,show_brief:1,show_price:1,goods_padding:5,buy_btn_style:1,background_color:"",box_radius:0,inner_padding:0,box_padding:10,box_padding_top:5,box_padding_bottom:5,img_padding:1,waterfall:0,swiper_page_color:"",frame:Y,title:X,products:W});H(e.value,O.value);const{frame:E,title:b}=e.value,m=f(),y=w(()=>J(E??{})),n=w(()=>{var l,o,r,c,d,_,g,u;return{background_color:`background-color: ${(l=e==null?void 0:e.value)==null?void 0:l.background_color};`,box_padding:`margin-left: ${(o=e==null?void 0:e.value)==null?void 0:o.box_padding}px;margin-right: ${(r=e==null?void 0:e.value)==null?void 0:r.box_padding}px;`,box_padding_bottom:`margin-bottom: ${(c=e==null?void 0:e.value)==null?void 0:c.box_padding_bottom}px;`,box_padding_top:`margin-top: ${(d=e==null?void 0:e.value)==null?void 0:d.box_padding_top}px;`,box_radius:`border-radius: ${(_=e==null?void 0:e.value)==null?void 0:_.box_radius}px;`,inner_padding:`padding: ${(g=e==null?void 0:e.value)==null?void 0:g.inner_padding}px;`,goods_padding:`padding: ${(u=e==null?void 0:e.value)==null?void 0:u.goods_padding}px;`}}),S={1:["product_ids"],2:["product_category_id","product_number"],3:["product_tag","product_number"]},k={product_ids:"ids",product_category_id:"category_id",product_number:"size",product_tag:"intro_type"},V=async()=>{let l={};if(typeof e.value.products=="object"&&e.value.products.product_select_type){const o=e.value.products.product_select_type,r=S[o];o===1?l[k[r[0]]]=e.value.products.product_ids.join(","):(l.page=1,r.forEach(c=>{l[k[c]]=e.value.products[c]}))}try{const o=await G(l);m.value=o.filter_result,h.value=[],D()}catch{}finally{}};V();const z=w(()=>e.value.swiper_page_color||"#333"),h=f([]),D=()=>{if(e.value.style===7&&m.value){let l=Math.ceil(m.value.length/3);for(let o=0;o<l;o++)h.value.push(m.value.slice(o*3,(o+1)*3))}};K(()=>{V()});const P=f({autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{clickable:!0}});return(l,o)=>{var r,c;return a(),s("div",{class:q("module-ad-con module-goods_ad ad-style__"+e.value.style+" ad-buy_btn_style__"+e.value.buy_btn_style+" ad-goods_style__"+e.value.goods_style+" ad-goods_radio_style__"+e.value.goods_radio_style+" ad-text_align__"+e.value.text_align+" ad-text_weight__"+e.value.text_weight+" ad-goods_name_row__"+e.value.goods_name_row+" ad-goods_name_padding__"+e.value.goods_name_padding+" ad-goods-title_style__"+((r=e.value.title)==null?void 0:r.title_style)),style:x(y.value.box_padding+y.value.box_padding_top+y.value.box_padding_bottom)},[t("div",{class:"module-ad-content",style:x(y.value.background_color+" "+y.value.box_radius+n.value.background_color+n.value.box_padding+n.value.box_padding_bottom+n.value.box_padding_top+n.value.box_radius+n.value.inner_padding)},[!m.value||m.value.length==0?(a(),s("div",te,o[2]||(o[2]=[t("div",{class:"image-empty-bg"},null,-1),t("div",{class:"desc"},"点击添加图片广告",-1)]))):i("",!0),(c=p(b))!=null&&c.show_title?(a(),M(p(ee),{key:1,modelValue:p(b),"onUpdate:modelValue":o[0]||(o[0]=d=>Q(b)?b.value=d:null)},null,8,["modelValue"])):i("",!0),t("div",oe,[t("div",ae,[e.value.style===7?(a(),M(p(Z),{key:0,swiperOption:P.value,modelValue:h.value,"onUpdate:modelValue":o[1]||(o[1]=d=>h.value=d)},{default:R(({item:d})=>[(a(!0),s(j,null,C(d,(_,g)=>{var u,$,F;return a(),s("div",{class:"goods-ad-item",key:g},[t("div",{class:"item-content",style:x(n.value.goods_padding)},[t("div",se,[t("div",ie,[t("a",de,[t("img",{src:p(L)(_.pic_thumb),alt:""},null,8,le)])]),t("div",_e,[t("div",ne,[(u=e.value)!=null&&u.show_name?(a(),s("a",re,v(_.product_name),1)):i("",!0),($=e.value)!=null&&$.show_brief?(a(),s("a",ce,v("商品描述"))):i("",!0)]),(F=e.value)!=null&&F.show_price?(a(),s("div",ue,[t("div",pe,[t("b",me,v(p(B)(Number(_.product_price))),1)]),o[3]||(o[3]=t("div",{class:"item-buy"},null,-1))])):i("",!0)])])],4)])}),128))]),_:1},8,["swiperOption","modelValue"])):(a(!0),s(j,{key:1},C(m.value,d=>{var _,g,u;return a(),s("div",{class:"goods-ad-item",key:d.product_id},[t("div",{class:"item-content",style:x(n.value.goods_padding)},[t("div",ge,[t("div",ve,[t("a",ye,[t("img",{src:p(L)(d.pic_thumb),alt:""},null,8,be)])]),t("div",he,[t("div",fe,[(_=e.value)!=null&&_.show_name?(a(),s("a",xe,v(d.product_name),1)):i("",!0),(g=e.value)!=null&&g.show_brief?(a(),s("a",we,v("商品描述"))):i("",!0)]),(u=e.value)!=null&&u.show_price?(a(),s("div",ke,[t("div",Ve,[t("b",$e,v(p(B)(Number(d.product_price))),1)]),t("div",Fe,[t("a",Me,[e.value.buy_btn_style===5||e.value.buy_btn_style===6?(a(),s("span",je,"购买")):i("",!0),e.value.buy_btn_style===7||e.value.buy_btn_style===8?(a(),s("span",Ce,"马上抢")):i("",!0),e.value.buy_btn_style===1?(a(),s("span",Le)):i("",!0),e.value.buy_btn_style===2?(a(),s("span",Be)):i("",!0),e.value.buy_btn_style===3?(a(),s("span",Ne)):i("",!0),e.value.buy_btn_style===4?(a(),s("span",Oe)):i("",!0)])])])):i("",!0)])])],4)])}),128))])])],4)],6)}}}),qe=A(Ee,[["__scopeId","data-v-26ec602d"]]);export{qe as default};
