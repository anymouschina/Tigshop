import{d as C,j as l,I as S,x as h,r as c,o as b,c as x,k as B,w as i,b as o,f as V,$ as j,a0 as A,H as D,h as L,A as N,K as g}from"./index-7c2d2aef.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-b4d9216b.js";import"./category-a8bd4d11.js";import"./index-6c62cf9b.js";import"./config-9548fa9b.js";/* empty css                                                                    *//* empty css                                                                  */import{S as $}from"./SelectArticleCategory-74d7e522.js";import"./region-e0d291a6.js";import"./shopProductCategory-792e0c23.js";/* empty css             */import"./time-290942a2.js";import"./util-1ee03ed8.js";import"./config-e2aa16d1.js";import"./articleCategory-7e779613.js";/* empty css                                                                              */import"./region-05802f67.js";const Y=C({__name:"Move",props:{ids:{type:Array,default:()=>[]},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(v,{expose:k,emit:y}){const p=l(!0),m=v,u=l(),a=S({ids:m.ids,target_cat:[]}),r=y;h(async()=>{p.value=!1});const w=async n=>{n&&await n.validate((t,s)=>{t&&(r("update:confirmLoading",!0),new Promise((f,_)=>{N({url:"content/article/batch",method:"post",data:{ids:m.ids.join(","),type:"move_cat",...a}}).then(e=>{setTimeout(()=>{r("update:confirmLoading",!1)},600),e.errcode>0?(r("submitCallback",e),g.error(e.message)):(g.success(e.message),r("submitCallback",e))})}))})},d=l();return k({onFormSubmit:()=>{d.value.$el.click()}}),(n,t)=>{const s=c("el-form-item"),f=c("el-button"),_=c("el-form");return b(),x("div",null,[p.value?L("",!0):(b(),B(_,{key:0,ref_key:"formRef",ref:u,model:a,"label-width":"auto"},{default:i(()=>[o(s),o(s,{label:"转移至",prop:"target_cat"},{default:i(()=>[o(V($),{"min-width":"100%",modelValue:a.target_cat,"onUpdate:modelValue":t[0]||(t[0]=e=>a.target_cat=e)},null,8,["modelValue"])]),_:1}),j(o(s,{"wrapper-col":{offset:4,span:16}},{default:i(()=>[o(f,{ref_key:"submitBtn",ref:d,class:"form-submit-btn",type:"primary",onClick:t[1]||(t[1]=e=>w(u.value))},{default:i(()=>[D("提交 ")]),_:1},512)]),_:1},512),[[A,!m.isDialog]])]),_:1},8,["model"]))])}}});export{Y as default};
