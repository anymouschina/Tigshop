import{d as z,K as b,i as c,G as V,q as D,c as f,e,D as N,b as t,w as a,N as P,f as w,g as _,I as y,r as d,o as v,O as U,E as B}from"./index-DrbzVNl6.js";/* empty css             */import{_ as O}from"./Image.vue_vue_type_script_setup_true_lang-BWzCs9jv.js";import"./index-CeQDmMxd.js";/* empty css                                                                    */import{P as R}from"./Pagination-wR9huHyl.js";import{g as A,a as E}from"./live-Bu2vNkIT.js";import{_ as F}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";import"./format-CRgx78oe.js";const M={class:"container"},$={class:"content_wrapper"},q={class:"notice-warp"},G={class:"lyecs-table-list-warp"},K={class:"list-table-tool lyecs-search-warp"},j={class:"advanced-search-warp list-table-tool-row"},H={class:"simple-form-warp"},J={class:"simple-form-field"},Q={class:"form-group"},W={class:"control-container"},X={class:"simple-form-field"},Y={class:"form-group"},Z={class:"control-container"},ee={class:"table-container"},te={class:"empty-warp"},oe={key:0,class:"empty-bg"},ae={key:0,class:"pagination-con"},ue=z({__name:"List",setup(se){const k=b(),T=c(b().domain),g=c(),r=c(!0),m=c(0);c([]),c(!1);const l=V({page:1,size:k.get("pageSize"),sortField:"",sortOrder:"",wechatLiveTitle:""}),p=async()=>{r.value=!0;try{const n=await A({...l});g.value=n.records,m.value=n.total}catch(n){y.error(n.message)}finally{r.value=!1}},x=async()=>{r.value=!0;try{await E(),p()}catch(n){y.error(n.message)}finally{r.value=!1}};D(()=>{p()});const u=()=>{p()};return(n,o)=>{const h=d("el-button"),C=d("TigInput"),I=d("el-form"),i=d("el-table-column"),L=d("el-table"),S=d("a-spin");return v(),f("div",M,[e("div",$,[e("div",q,[e("p",null," 积分兑换列表前台地址为："+N(T.value)+"/exchange/list.html（支持手机版自动跳转） ",1)]),e("div",G,[e("div",K,[t(I,{model:l,onSubmit:P(u,["prevent"])},{default:a(()=>[e("div",j,[e("div",H,[e("div",J,[e("div",Q,[e("div",W,[t(h,{type:"primary",icon:_(U),onClick:x},{default:a(()=>o[3]||(o[3]=[B("API更新直播间")])),_:1},8,["icon"]),o[4]||(o[4]=e("span",null,"（一天上限三百次）",-1))])])]),e("div",X,[e("div",Y,[e("div",Z,[t(C,{modelValue:l.wechatLiveTitle,"onUpdate:modelValue":o[0]||(o[0]=s=>l.wechatLiveTitle=s),name:"wechatLiveTitle",placeholder:"输入直播名称",clearable:"",onClear:u},{append:a(()=>[t(h,{onClick:u},{default:a(()=>o[5]||(o[5]=[e("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1})]),_:1},8,["modelValue"])])])])])])]),_:1},8,["model"])]),e("div",ee,[t(S,{spinning:r.value},{default:a(()=>[t(L,{data:g.value,"row-key":"roomId",total:m.value},{empty:a(()=>[e("div",te,[r.value?w("",!0):(v(),f("div",oe,"暂无数据"))])]),default:a(()=>[t(i,{label:"房间ID",prop:"roomId",width:80}),t(i,{label:"直播名称",prop:"wechatLiveTitle",width:200}),t(i,{label:"开始日期",prop:"lastUpdateTime"}),t(i,{label:"结束日期",prop:"endTime"}),t(i,{label:"当前状态",prop:"liveStatusText"}),t(i,{label:"直播封面",prop:"pointsDeductedAmount"},{default:a(({row:s})=>[t(_(O),{src:s.coverImg,fit:"contain",style:{height:"25px",width:"60px"}},null,8,["src"])]),_:1}),t(i,{label:"商品显示范围",prop:"actRangeText"}),t(i,{label:"操作",fixed:"right",width:150},{default:a(({row:s})=>[t(_(F),{isDrawer:"",onOkCallback:p,title:"编辑直播",width:"750px",path:"promotion/live/Info",params:{act:"detail",id:s.roomId}},{default:a(()=>o[6]||(o[6]=[e("a",{class:"btn-link"},"编辑",-1)])),_:2},1032,["params"])]),_:1})]),_:1},8,["data","total"])]),_:1},8,["spinning"]),m.value>0?(v(),f("div",ae,[t(_(R),{page:l.page,"onUpdate:page":o[1]||(o[1]=s=>l.page=s),size:l.size,"onUpdate:size":o[2]||(o[2]=s=>l.size=s),total:m.value,onCallback:p},null,8,["page","size","total"])])):w("",!0)])])])])}}});export{ue as default};
