import{d as q,i as n,C as R,q as V,r as p,c as L,o as u,j as c,f,w as o,b as a,a0 as E,e as _,E as g,g as k,a1 as F,I as w}from"./index-CGYuOau0.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-t3_hMxDC.js";import{_ as C}from"./SelectCategory.vue_vue_type_script_setup_true_lang-D0pGcDY-.js";import"./index-B-GURfkM.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              *//* empty css             */import{m as M}from"./category-BQcUsnE8.js";import"./time-ClyPenjC.js";import"./category-DpIl2IOo.js";const P=q({__name:"Move",props:{id:{type:Number,required:!0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(x,{expose:N,emit:B}){const s=n(!0),r=x,v=n(),y=R().currentRoute.value.query;n(r.isDialog?r.id:Number(y.id));const t=n({id:r.isDialog?r.id:Number(y.id),target_cat_id:0}),m=B;V(async()=>{s.value=!1});const b=async()=>{await v.value.validate();try{m("update:confirmLoading",!0),console.log(t.value);const l=await M({...t.value});m("submitCallback",l),w.success(l.message)}catch(l){w.error(l.message)}finally{m("update:confirmLoading",!1)}};return N({onFormSubmit:()=>{b()}}),(l,e)=>{const i=p("el-form-item"),D=p("el-button"),S=p("el-form");return u(),L("div",null,[s.value?f("",!0):(u(),c(S,{key:0,ref_key:"formRef",ref:v,model:t.value,"label-width":"auto"},{default:o(()=>[a(i,null,{default:o(()=>e[2]||(e[2]=[_("div",{class:"extra"},[g("什么是转移商品分类? "),_("br"),g(" 如果需要对商品的分类进行变更,那么你可以通过此功能,正确管理你的商品分类。 ")],-1)])),_:1}),a(i,{label:"此分类",prop:"id"},{default:o(()=>[s.value?f("",!0):(u(),c(k(C),{key:0,category_id:t.value.id,"onUpdate:category_id":e[0]||(e[0]=d=>t.value.id=d),multiple:!1,style:{width:"100%"}},null,8,["category_id"]))]),_:1}),a(i,null,{default:o(()=>e[3]||(e[3]=[_("div",{class:"extra"},"转移至",-1)])),_:1}),a(i,{label:"此分类",prop:"target_cat_id"},{default:o(()=>[s.value?f("",!0):(u(),c(k(C),{key:0,category_id:t.value.target_cat_id,"onUpdate:category_id":e[1]||(e[1]=d=>t.value.target_cat_id=d),multiple:!1,style:{width:"100%"}},null,8,["category_id"]))]),_:1}),E(a(i,{"wrapper-col":{offset:4,span:16}},{default:o(()=>[a(D,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:b},{default:o(()=>e[4]||(e[4]=[g("提交 ")])),_:1},512)]),_:1},512),[[F,!r.isDialog]])]),_:1},8,["model"]))])}}});export{P as default};
