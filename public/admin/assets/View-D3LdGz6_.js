import{m as S,f as E,k as L,o as D,a as P}from"./index-Bm8xE4_u.js";import{_ as x}from"./Swiper.vue_vue_type_script_setup_true_lang-CDJrLTCc.js";import{i as b}from"./format-DFT-VJzO.js";import{g as Z}from"./product-CxWf3yyB.js";import{d as q,u as J,i as s,aa as O,Q as j,c,o as l,e as o,F as w,a as G,l as r,g as d,D as a,f as z,j as Y,b as C,w as V,_ as K}from"./index-CGYuOau0.js";/* empty css                                                             */import"./lodash-blK8fE0I.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";const N={style:{padding:"6px"}},A={class:"top"},H={class:"top-tit"},R=["src"],T={class:"pic-box"},Q={class:"item"},U=q({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup(I){const e=J(I,"module"),$=s({combo_groups:[{title_image:{pic_url:"https://oss.tigshop.com/img/gallery/202411/1731485744JPyV2kPmhJjwi9b1OD.png",pic_thumb:"img/gallery/202411/1731485744JPyV2kPmhJjwi9b1OD.png?x-oss-process=image/resize,m_pad,h_200,h_200",pic_id:1429,pic_name:"FpMGh7lhbRC26udZs5OVGsD1MQkm"},group_title:"限时特惠",group_sub_title:"心动福利",group_desc:"限时！西冷牛排降20.1元",group_color:"rgba(218, 79, 51, 1)",group_type:"image",pic_list:[{pic_id:1428,pic_thumb:"img/gallery/202411/1731485744Z36HLJIkKupT78pAPB.jpg?x-oss-process=image/resize,m_pad,h_200,h_200",pic_url:"https://oss.tigshop.com/img/gallery/202411/1731485744Z36HLJIkKupT78pAPB.jpg",pic_name:"FmBvbpIyBQcPAjaR1tpYu4NSfM2L",pic_title:"禽蛋抢先购"},{pic_id:1427,pic_thumb:"img/gallery/202411/1731485744G6SecTiZ2YnnqTOrzO.jpg?x-oss-process=image/resize,m_pad,h_200,h_200",pic_url:"https://oss.tigshop.com/img/gallery/202411/1731485744G6SecTiZ2YnnqTOrzO.jpg",pic_name:"Fk9ihEJjXDwwG174KZcjuaQeyGus",pic_title:"清洁好帮手"},{pic_id:1426,pic_thumb:"img/gallery/202411/1731485744OYBNIbPBqdFUwc8YMO.jpg?x-oss-process=image/resize,m_pad,h_200,h_200",pic_url:"https://oss.tigshop.com/img/gallery/202411/1731485744OYBNIbPBqdFUwc8YMO.jpg",pic_name:"FlX7c5fV9sbgl9QZ0i0z1K1DK6DB",pic_title:"精选好食材"}],pruduct_list:[],more_link:{link:{link:"",title:""},link_title:""}},{title_image:{pic_url:"https://oss.tigshop.com/img/gallery/202411/17314857564qYuFM87aXbimtojrK.png",pic_thumb:"img/gallery/202411/17314857564qYuFM87aXbimtojrK.png?x-oss-process=image/resize,m_pad,h_200,h_200",pic_id:1434,pic_name:"FqaBzM4nqSLzx4ydDgi3SfbS5R3g"},group_title:"生鲜惠选",group_sub_title:"榜单推荐",group_desc:"猫山王榴莲冰皮月饼香甜爆浆",group_color:"rgba(177, 123, 57, 1)",group_type:"product",pic_list:[],pruduct_list:[{product_id:0,product_sn:"",product_name:"刺身拼盘",product_desc:"",product_price:39,market_price:0,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731485756wtyOOnqoeEn6W2XfNP.jpg"},{product_id:0,product_sn:"",product_name:"冰鲜剥皮鱼",product_desc:"",product_price:39,market_price:0,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731485756sGPXRzI7o84S5HAPo5.jpg"},{product_id:0,product_sn:"",product_name:"北极甜虾",product_desc:"",product_price:39,market_price:0,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731485756JsgKabEE4BO09iRqnc.jpg"},{product_id:0,product_sn:"",product_name:"秋刀鱼",product_desc:"",product_price:39,market_price:0,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731485756ivBG9CydBhi21do1xk.jpg"}],more_link:{link:{link:"",title:""},link_title:""}},{title_image:{pic_url:"https://oss.tigshop.com/img/gallery/202411/1731485768izrm5sZYVmQOne5yYf.png",pic_thumb:"img/gallery/202411/1731485768izrm5sZYVmQOne5yYf.png?x-oss-process=image/resize,m_pad,h_200,h_200",pic_id:1439,pic_name:"FrEc7JTpoNjpEJR8HlE4Klv6trKM"},group_title:"全球好物",group_sub_title:"大牌严选",group_desc:"七夕礼~欧舒丹明细沐浴礼盒",group_color:"rgba(36, 78, 179, 1)",group_type:"product",pic_list:[],pruduct_list:[{product_id:0,product_sn:"",product_name:"牙膏",product_desc:"",product_price:80,market_price:0,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731485768ECo8ixzZvZVOLDsJf3.jpg"},{product_id:0,product_sn:"",product_name:"卫生巾",product_desc:"",product_price:80,market_price:0,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731485768PFd7qRdzskII6k0ZTU.jpg"},{product_id:0,product_sn:"",product_name:"卫生巾",product_desc:"",product_price:80,market_price:0,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731485768yn1Oq5lqvNyx7N8gbE.jpg"},{product_id:0,product_sn:"",product_name:"沐浴露",product_desc:"",product_price:80,market_price:0,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731485768bH293zqhEdmoNbO7VQ.jpg"}],more_link:{link:{link:"",title:""},link_title:""}},{title_image:{pic_url:"https://oss.tigshop.com/img/gallery/202411/1731485780Z15LILaEOLfudumi3H.png",pic_thumb:"img/gallery/202411/1731485780Z15LILaEOLfudumi3H.png?x-oss-process=image/resize,m_pad,h_200,h_200",pic_id:1441,pic_name:"FlF_0eUIigJ19i2n6VOTIhZuMn0G"},group_title:"逛出新奇",group_sub_title:"上新日历",group_desc:"颗颗饱满！甜！巨峰葡萄~",group_color:"rgba(99, 49, 119, 1)",group_type:"product",pic_list:[],pruduct_list:[{product_id:0,product_sn:"",product_name:"摆件",product_desc:"",product_price:55,market_price:0,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731485780O9GnV2rCLcOodydJAb.jpg"},{product_id:0,product_sn:"",product_name:"桌面垃圾桶",product_desc:"",product_price:25,market_price:0,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/17314857806ABCknloual53A5XH0.jpg"},{product_id:0,product_sn:"",product_name:"垃圾袋",product_desc:"",product_price:15,market_price:0,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731485780y9OjupFgDDLmI31GhJ.jpg"},{product_id:0,product_sn:"",product_name:"脸盆",product_desc:"",product_price:25,market_price:0,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731485780Okip8X3FFefKxhz8OG.jpg"}],more_link:{link:{link:"",title:""},link_title:""}}],regular_price_color:"#e84a40",sale_tag_background_color_a:"#f8d7a0",sale_tag_background_color_b:"#ffffff",sale_tag_font_color:"#83441c",sale_price_background_color:"#e73a68",sale_price_font_color:"#ffffff",sale_price_decimal:0,image_radius:6,sold_out_icon:1,background_gradient_type:"upDown",gradient_color_a:"#ffeadf",gradient_color_b:"#ffffff",group_title_color:"#000000",banner_tittle_color:"#ffffff",banner_dot_color:"#ffffff",group_radius:10,group_shadow:0,module_style:P,carousel_direction:"horizontal",auto_play:1,interval:5});S(e.value,$.value);const g=s({autoplay:{delay:e.value.interval*1e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:!1}),_=O(()=>E(e.value.module_style??{},e.value.content_style??{},e.value.sub_title??{})),B=O(()=>{let i=`border-radius: ${e.value.group_radius}px;background-image: linear-gradient(${L[e.value.background_gradient_type]},${e.value.gradient_color_a} -50%, ${e.value.gradient_color_b});`;return e.value.group_shadow===1&&(i+="box-shadow: rgba(0, 0, 0, 0.06) 0px 2px 4px;"),i}),h=s(0),F=()=>{m.value&&m.value.clientWidth>0&&(h.value=(m.value.clientWidth/2-4-12)*.63)},m=s(),f=s(0),M=i=>{f.value=i.realIndex},y=s({});return j(()=>{e.value.combo_groups&&e.value.combo_groups.forEach(async(i,n)=>{if(i.group_type==="product")try{const t=await Z({ids:i.pruduct_list.map(u=>u.product_id).join(",")});y.value[n]=[...D(i.pruduct_list),...t.filter_result]}catch(t){console.error(t)}})}),j(()=>{var i;e.value.auto_play==1?g.value.autoplay={delay:e.value.interval*1e3,disableOnInteraction:!1,pauseOnMouseEnter:!0}:g.value.autoplay=!1,(i=e.value.module_style)!=null&&i.box_padding&&F()}),(i,n)=>(l(),c("div",{class:"module-ad-con",style:r(_.value.moduleStyle.box_padding_bottom+_.value.moduleStyle.box_padding_top+_.value.moduleStyle.box_padding+_.value.moduleStyle.background_size+_.value.moduleStyle.background_image)},[o("div",{class:"main",ref_key:"mainRef",ref:m},[(l(!0),c(w,null,G(e.value.combo_groups,(t,u)=>{var v,k;return l(),c("div",{key:t,class:"list",style:r(B.value+`${u>1?"margin-top: 10px;":""}`)},[o("div",N,[o("div",A,[o("div",H,[(v=t.title_image)!=null&&v.pic_url?(l(),c("img",{key:0,class:"img",src:d(b)(t.title_image.pic_url)},null,8,R)):(l(),c("div",{key:1,class:"big-title",style:r(`color:${e.value.group_title_color}`)},a(t.group_title),5)),o("div",{class:"title",style:r(`background:${t.group_color}`)},a(t.group_sub_title),5)]),o("div",{class:"desc",style:r(`color: ${t.group_color}`)},a(t.group_desc),5)]),o("div",{style:r(`border-radius: ${e.value.group_radius}px; overflow: hidden; position: relative; height: ${h.value}px;`)},[t.group_type==="image"?(l(),c(w,{key:0},[C(d(x),{swiperOption:g.value,modelValue:t.pic_list,"onUpdate:modelValue":p=>t.pic_list=p,onActiveIndexChange:M},{default:V(({item:p})=>[o("div",T,[o("div",{class:"pic-img",style:r(` height: ${h.value}px;background-image: url(${d(b)(p.pic_url)});`)},null,4),o("div",{class:"tit",style:r(`color: ${e.value.banner_tittle_color};`)},a(p.pic_title),5)])]),_:2},1032,["swiperOption","modelValue","onUpdate:modelValue"]),o("div",{style:r(`position: absolute; right: 10px; bottom: 5px; line-height: 18px; color:${e.value.banner_dot_color}; z-index: 9`)},a(`${f.value+1}/${(k=t.pic_list)==null?void 0:k.length}`),5)],64)):z("",!0),t.group_type==="product"?(l(),Y(d(x),{key:1,swiperOption:{...g.value,slidesPerView:2,spaceBetween:6},modelValue:y.value[u],"onUpdate:modelValue":p=>y.value[u]=p,onActiveIndexChange:n[0]||(n[0]=()=>{})},{default:V(({item:p})=>[o("div",Q,[o("div",{class:"goods-img",style:r(`width: 100%;
                                                            padding-top: 100%;
                                                            background-size: cover;
                                                            border-radius: ${e.value.image_radius}px;
                                                            background-image: url(${d(b)(p.pic_thumb)});`)},null,4),o("div",{class:"goods-price",style:r(`color: ${e.value.regular_price_color}`)},"￥"+a(p.product_price),5)])]),_:2},1032,["swiperOption","modelValue","onUpdate:modelValue"])):z("",!0)],4)])],4)}),128))],512)],4))}}),ce=K(U,[["__scopeId","data-v-83e6bcd4"]]);export{ce as default};
