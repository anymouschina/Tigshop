/* empty css             */import{A as V,d as A,j as v,I as D,x as G,r as u,o as b,c as k,e,b as l,w as i,K as x,f as U,H as g,F as L,a as S,k as T,G as N,p as H,i as K,_ as M}from"./index-7c2d2aef.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-b4d9216b.js";import"./category-a8bd4d11.js";import"./index-6c62cf9b.js";import{u as P}from"./config-9548fa9b.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{_ as X}from"./SelectShop.vue_vue_type_script_setup_true_lang-a1d04369.js";import"./region-e0d291a6.js";import{S as J}from"./SelectLogisticsCompany-9a4f016c.js";import"./shopProductCategory-792e0c23.js";import{r as Q}from"./export-59d12e73.js";import"./time-290942a2.js";import"./util-1ee03ed8.js";import"./config-e2aa16d1.js";import"./shop-b8a8699a.js";import"./region-05802f67.js";import"./logisticsCompany-fd0ba0a2.js";const W=()=>V({url:"order/order/get_export_item_list",method:"get"}),Y=()=>V({url:"order/order/export_item_info",method:"get"}),Z=p=>V({url:"order/order/save_export_item",method:"post",data:p}),ee=p=>V({url:"order/order/order_export",method:"get",responseType:"arraybuffer",params:p}),r=p=>(H("data-v-38e07ffc"),p=p(),K(),p),le={class:"container"},te={class:"content_wrapper"},oe={class:"lyecs-table-list-warp"},se={class:"list-table-tool lyecs-search-warp"},ae=r(()=>e("div",{class:"notice-warp"},[e("p",null,"提示："),e("p",null,"1、如果数据量过大导至查询时间过久或者直接显示超时报错，请尝试缩小查询的时间间隔！"),e("p",null,"2、可通过单击可增加项和导出项目来选择需要导出的参数，也可通过拖拽项目来调整参数排序（商品信息栏目默认在单行最后）")],-1)),ne={class:"advanced-search-warp list-table-tool-row"},ie={class:"simple-form-warp"},re={class:"simple-form-field"},de={class:"form-group"},ce={class:"control-container"},_e={class:"simple-form-field"},pe={class:"form-group"},ue=r(()=>e("label",{class:"control-label"},[e("span",null,"选择店铺：")],-1)),me={class:"control-container"},ve={class:"simple-form-field"},fe={class:"form-group"},he=r(()=>e("label",{class:"control-label"},[e("span",null,"订单状态：")],-1)),be={class:"control-container"},ge={class:"simple-form-field"},ye={class:"form-group"},xe=r(()=>e("label",{class:"control-label"},[e("span",null,"支付状态：")],-1)),Ve={class:"control-container"},we={class:"simple-form-field"},ke={class:"form-group"},Ce=r(()=>e("label",{class:"control-label"},[e("span",null,"发货状态：")],-1)),Ee={class:"control-container"},Ie={class:"simple-form-field"},Ue={class:"form-group"},Le=r(()=>e("label",{class:"control-label"},[e("span",null,"详细地址：")],-1)),Se={class:"control-container"},Te={class:"simple-form-field"},Ne={class:"form-group"},je=r(()=>e("label",{class:"control-label"},[e("span",null,"Email：")],-1)),Be={class:"control-container"},Fe={class:"simple-form-field"},Oe={class:"form-group"},$e=r(()=>e("label",{class:"control-label"},[e("span",null,"手机号：")],-1)),qe={class:"control-container"},ze={class:"simple-form-field"},Re={class:"form-group"},Ae=r(()=>e("label",{class:"control-label"},[e("span",null,"配送物流：")],-1)),De={class:"control-container"},Ge={class:"simple-form-field"},He={class:"form-group"},Ke=r(()=>e("label",{class:"control-label"},[e("span",null,"下单时间：")],-1)),Me={class:"control-container"},Pe={style:{"margin-top":"20px"}},Xe=r(()=>e("span",{class:"item-title-style"},"导出项目",-1)),Je={style:{width:"100%"}},Qe={style:{"margin-top":"20px","margin-left":"5px"}},We={style:{"margin-top":"20px"}},Ye=r(()=>e("span",{class:"item-title-style"},"可增加项",-1)),Ze=A({__name:"List",setup(p){P(),v();const C=v(!0);v(0);const s=D({add_end_time:"",add_start_time:"",export_item:[]}),f=v([]),d=v([]),j=async()=>{C.value=!0;try{const n=await W(),t=await Y();let c=Object.entries(n.item).map(([_,m])=>({key:_,value:m})),a=Object.entries(t.item).map(([_,m])=>({key:_,value:m}));f.value=c.filter(_=>!a.some(m=>_.key===m.key)),d.value=a}catch(n){x.error(n.message)}finally{C.value=!1}};G(()=>{j()});const B=(n,t)=>{d.value.some(a=>a.key===n.key&&a.value===n.value)||(d.value.push(n),f.value.splice(t,1))},F=(n,t)=>{d.value.splice(t,1),f.value.push(n)},O=()=>{f.value.push(...d.value),d.value.length=0},$=async()=>{try{if(d.value.length>0){const n=d.value.map(c=>c.key),t=await Z({export_item:n});x.success(t.message)}}catch(n){x.error(n.message)}},y=v(!1),q=async()=>{y.value=!0;try{s.export_item=d.value.map(t=>t.key);const n=await ee(s);y.value=!1,console.log(n),Q(n,"导出订单")}catch(n){x.error(n.message)}finally{y.value=!1}};return(n,t)=>{const c=u("el-input"),a=u("el-option"),_=u("el-select"),m=u("el-date-picker"),w=u("el-button"),E=u("el-tag"),I=u("el-form-item"),z=u("el-form");return b(),k("div",le,[e("div",te,[e("div",oe,[e("div",se,[ae,l(z,{model:s,inline:""},{default:i(()=>[e("div",ne,[e("div",ie,[e("div",re,[e("div",de,[e("div",ce,[l(c,{style:{width:"180px"},modelValue:s.keyword,"onUpdate:modelValue":t[0]||(t[0]=o=>s.keyword=o),name:"keyword",placeholder:"订单号/收货人姓名/订单"},null,8,["modelValue"])])])]),e("div",_e,[e("div",pe,[ue,e("div",me,[l(U(X),{modelValue:s.shop_id,"onUpdate:modelValue":t[1]||(t[1]=o=>s.shop_id=o)},null,8,["modelValue"])])])]),e("div",ve,[e("div",fe,[he,e("div",be,[l(_,{placeholder:"请选择支付状态",modelValue:s.order_status,"onUpdate:modelValue":t[2]||(t[2]=o=>s.order_status=o)},{default:i(()=>[l(a,{value:0,label:"待付款"}),l(a,{value:1,label:"待发货"}),l(a,{value:2,label:"已发货"}),l(a,{value:3,label:"已取消"}),l(a,{value:4,label:"无效"}),l(a,{value:5,label:"已完成"})]),_:1},8,["modelValue"])])])]),e("div",ge,[e("div",ye,[xe,e("div",Ve,[l(_,{modelValue:s.pay_status,"onUpdate:modelValue":t[3]||(t[3]=o=>s.pay_status=o),clearable:""},{default:i(()=>[l(a,{value:0,label:"未付款"}),l(a,{value:1,label:"支付中"}),l(a,{value:2,label:"已付款"}),l(a,{value:3,label:"退货中"}),l(a,{value:4,label:"已退款"})]),_:1},8,["modelValue"])])])]),e("div",we,[e("div",ke,[Ce,e("div",Ee,[l(_,{modelValue:s.shipping_status,"onUpdate:modelValue":t[4]||(t[4]=o=>s.shipping_status=o),clearable:""},{default:i(()=>[l(a,{value:0,label:"待发货"}),l(a,{value:1,label:"已发货"}),l(a,{value:2,label:"已收货"}),l(a,{value:3,label:"配送中"}),l(a,{value:4,label:"配送失败"})]),_:1},8,["modelValue"])])])]),e("div",Ie,[e("div",Ue,[Le,e("div",Se,[l(c,{style:{width:"170px"},type:"text",modelValue:s.address,"onUpdate:modelValue":t[5]||(t[5]=o=>s.address=o)},null,8,["modelValue"])])])]),e("div",Te,[e("div",Ne,[je,e("div",Be,[l(c,{style:{width:"170px"},type:"text",modelValue:s.email,"onUpdate:modelValue":t[6]||(t[6]=o=>s.email=o)},null,8,["modelValue"])])])]),e("div",Fe,[e("div",Oe,[$e,e("div",qe,[l(c,{style:{width:"170px"},type:"text",modelValue:s.mobile,"onUpdate:modelValue":t[7]||(t[7]=o=>s.mobile=o)},null,8,["modelValue"])])])]),e("div",ze,[e("div",Re,[Ae,e("div",De,[l(U(J),{id:s.logistics_id,"onUpdate:id":t[8]||(t[8]=o=>s.logistics_id=o)},null,8,["id"])])])]),e("div",Ge,[e("div",He,[Ke,e("div",Me,[l(m,{modelValue:s.add_time,"onUpdate:modelValue":t[9]||(t[9]=o=>s.add_time=o),"end-placeholder":"结束时间","range-separator":"-","start-placeholder":"起始时间",style:{width:"280px"},type:"daterange"},null,8,["modelValue"])])])])])]),l(w,{type:"primary",onClick:q,loading:y.value,disabled:d.value.length===0},{default:i(()=>[g("导出EXCEL")]),_:1},8,["loading","disabled"]),e("div",Pe,[l(I,null,{label:i(()=>[Xe]),default:i(()=>[e("div",Je,[(b(!0),k(L,null,S(d.value,(o,h)=>(b(),T(E,{size:"large",key:h,class:"mx-1",closable:"",onClose:R=>F(o,h),"disable-transitions":!0,type:"info"},{default:i(()=>[g(N(o.value),1)]),_:2},1032,["onClose"]))),128))]),e("div",Qe,[l(w,{onClick:$},{default:i(()=>[g("保存")]),_:1}),l(w,{onClick:O},{default:i(()=>[g("清空")]),_:1})])]),_:1})]),e("div",We,[l(I,null,{label:i(()=>[Ye]),default:i(()=>[(b(!0),k(L,null,S(f.value,(o,h)=>(b(),T(E,{size:"large","disable-transitions":!0,key:h,class:"mx-1",type:"info",onClick:R=>B(o,h)},{default:i(()=>[g(N(o.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})])]),_:1},8,["model"])])])])])}}});const yl=M(Ze,[["__scopeId","data-v-38e07ffc"]]);export{yl as default};
