import{d as r,y as u,aa as p,aR as h,c as m,o as C,n as w,e as g,I as o}from"./index-CGYuOau0.js";const k=r({__name:"Switch",props:{requestApi:{type:Function,default:u},params:{type:Object,default:{}},checked:{type:[Boolean,Number],default:Number},switchingCode:{type:Array,default:[0,1]}},emits:["update:checked","callback","updateData"],setup(n,{emit:i}){const e=n,l=p(()=>s.value==e.switchingCode[1]?1:0),a=i,{checked:s}=h(e),d=()=>{e.requestApi({...e.params,val:s.value==e.switchingCode[1]?e.switchingCode[0]:e.switchingCode[1]}).then(t=>{a("update:checked",s.value==e.switchingCode[1]?e.switchingCode[0]:e.switchingCode[1]),a("callback"),a("updateData"),o.success(t.message||"操作成功")}).catch(t=>{o.error(t.message)})};return(t,c)=>(C(),m("div",{onClick:d,class:w("table-switch table-switch-"+(l.value?"on":"off"))},c[0]||(c[0]=[g("i",null,null,-1)]),2))}});export{k as _};
