import{d as F,i as f,C as L,s as O,q as j,r as n,c as E,o as B,e as _,j as G,f as I,b as o,w as t,a0 as A,g as M,E as u,a1 as T,I as g}from"./index-CGYuOau0.js";import{F as Z}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-CjXfTDg5.js";import{e as z,f as H}from"./brand-BWQ0xslz.js";import{B as J}from"./BusinessData-CIJvb5fj.js";import"./index-B-GURfkM.js";import"./vuedraggable.umd-_1km55l4.js";import"./Image.vue_vue_type_script_setup_true_lang-D9PqZe9n.js";import"./format-DFT-VJzO.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";import"./currencyManagement-Ctv3q6kF.js";import"./version-CpBOsX2d.js";const K={class:"container"},P={class:"content_wrapper"},Q={class:"lyecs-form-table"},ue=F({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(C,{expose:k,emit:S}){const i=S,d=C,m=f(!0),V=L().currentRoute.value.query,v=f(d.isDialog?d.act:String(V.act)),b=f(d.isDialog?d.id:Number(V.id)),U=v.value==="add"?"create":"update",w=O(),a=f({sort_order:50,is_show:1,brand_is_hot:0}),D=async()=>{try{const r=await z(v.value,{id:b.value});Object.assign(a.value,r.item)}catch(r){g.error(r.message),i("close")}finally{m.value=!1}};j(()=>{v.value==="detail"?D():m.value=!1});const y=async()=>{await w.value.validate();try{i("update:confirmLoading",!0);const r=await H(U,{id:b.value,...a.value});i("submitCallback",r),g.success(r.message)}catch(r){g.error(r.message)}finally{i("update:confirmLoading",!1)}};return k({onFormSubmit:()=>{y()}}),(r,e)=>{const s=n("el-form-item"),c=n("el-input"),p=n("el-radio"),x=n("el-radio-group"),N=n("el-button"),R=n("el-form"),q=n("a-spin");return B(),E("div",K,[_("div",P,[_("div",Q,[m.value?I("",!0):(B(),G(R,{key:0,ref_key:"formRef",ref:w,model:a.value,"label-width":"auto"},{default:t(()=>[o(s,{rules:[{required:!0,message:"品牌名称不能为空!"}],label:"品牌名称",prop:"brand_name"},{default:t(()=>[o(J,{modelValue:a.value.brand_name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.brand_name=l),placeholder:"请输入品牌名称",data_type:4,data_id:b.value},null,8,["modelValue","data_id"])]),_:1}),o(s,{label:"品牌LOGO",prop:"brand_logo"},{default:t(()=>[o(M(Z),{photo:a.value.brand_logo,"onUpdate:photo":e[1]||(e[1]=l=>a.value.brand_logo=l)},null,8,["photo"]),e[7]||(e[7]=_("div",{class:"extra"},"请统一上传比例为2:1的图片，宽200px，高100px（高清）",-1))]),_:1}),o(s,{label:"品牌描述",prop:"brand_desc"},{default:t(()=>[o(c,{modelValue:a.value.brand_desc,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.brand_desc=l),row:"2",type:"textarea"},null,8,["modelValue"])]),_:1}),o(s,{label:"排序",prop:"sort_order"},{default:t(()=>[o(c,{modelValue:a.value.sort_order,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.sort_order=l)},null,8,["modelValue"])]),_:1}),o(s,{label:"首字母",prop:"first_word"},{default:t(()=>[o(c,{modelValue:a.value.first_word,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.first_word=l)},null,8,["modelValue"]),e[8]||(e[8]=_("div",{class:"extra"},"如果不填则自动生成，不过有些多音字无法准确判断，如“重”字系统则无法确认是Z还是C",-1))]),_:1}),o(s,{label:"是否显示",prop:"is_show"},{default:t(()=>[o(x,{modelValue:a.value.is_show,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.is_show=l)},{default:t(()=>[o(p,{value:1},{default:t(()=>e[9]||(e[9]=[u("是")])),_:1}),o(p,{value:0},{default:t(()=>e[10]||(e[10]=[u("否")])),_:1})]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"是否热门品牌",prop:"brand_is_hot"},{default:t(()=>[o(x,{modelValue:a.value.brand_is_hot,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.brand_is_hot=l)},{default:t(()=>[o(p,{value:1},{default:t(()=>e[11]||(e[11]=[u("是")])),_:1}),o(p,{value:0},{default:t(()=>e[12]||(e[12]=[u("否")])),_:1})]),_:1},8,["modelValue"])]),_:1}),A(o(s,{"wrapper-col":{offset:4,span:16}},{default:t(()=>[o(N,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:y},{default:t(()=>e[13]||(e[13]=[u("提交")])),_:1},512)]),_:1},512),[[T,!d.isDialog]])]),_:1},8,["model"])),o(q,{spinning:m.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{ue as default};
