import{d as R,i as u,C as D,s as q,q as I,r as l,c as L,o as y,e as t,j,f as E,b as a,w as n,a0 as F,E as U,a1 as M,I as m,_ as O}from"./index-CGYuOau0.js";import{f as T,h as z}from"./shop-Daw3OFCx.js";const A={class:"container"},G={class:"content_wrapper"},H={class:"lyecs-form-table"},J={class:"tig-radio"},K={class:"flex mb20"},P={class:"flex"},Q={class:"check-box"},W={class:"flex mb20"},X=R({__name:"Set",props:{id:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(g,{expose:h,emit:w}){const i=w,r=g,d=u(!1),x=D().currentRoute.value.query,p=u(r.isDialog?r.id:Number(x.id)),_=q(),s=u({date_type:0}),S=async()=>{try{const o=await T({shop_id:p.value,code:"order_config"});Object.assign(s.value,o.item)}catch(o){m.error(o.message),i("close")}finally{d.value=!1}};I(()=>{S()});const f=async()=>{await _.value.validate();try{i("update:confirmLoading",!0);const o=await z({shop_id:p.value,...s.value,code:"order_config"});i("submitCallback",o),m.success(o.message)}catch(o){m.error(o.message)}finally{i("update:confirmLoading",!1)}};return h({onFormSubmit:()=>{f()}}),(o,e)=>{const v=l("el-radio"),V=l("el-input"),k=l("el-radio-group"),b=l("el-form-item"),C=l("el-button"),B=l("el-form"),N=l("a-spin");return y(),L("div",A,[t("div",G,[t("div",H,[d.value?E("",!0):(y(),j(B,{key:0,ref_key:"formRef",ref:_,model:s.value,"label-width":"auto"},{default:n(()=>[a(b,{label:"店铺状态",prop:"status"},{default:n(()=>[t("div",J,[a(k,{modelValue:s.value.date_type,"onUpdate:modelValue":e[1]||(e[1]=c=>s.value.date_type=c)},{default:n(()=>[t("div",K,[a(v,{value:1}),t("div",P,[e[2]||(e[2]=t("p",{class:"mr10"},"订单收货后",-1)),t("div",Q,[a(V,{modelValue:s.value.use_day,"onUpdate:modelValue":e[0]||(e[0]=c=>s.value.use_day=c),class:"mr10",style:{width:"100px"},disabled:s.value.date_type==0},null,8,["modelValue","disabled"])]),e[3]||(e[3]=t("p",{class:"mr10"},"天结算",-1))])]),t("div",W,[a(v,{value:0}),e[4]||(e[4]=t("p",{class:"mr10"},"确认收货后立即不可售后",-1))])]),_:1},8,["modelValue"])])]),_:1}),F(a(b,{"wrapper-col":{offset:4,span:16}},{default:n(()=>[a(C,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:f},{default:n(()=>e[5]||(e[5]=[U("提交")])),_:1},512)]),_:1},512),[[M,!r.isDialog]])]),_:1},8,["model"])),a(N,{spinning:d.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}}),ee=O(X,[["__scopeId","data-v-e8f8584a"]]);export{ee as default};
