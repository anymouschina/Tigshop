import{_ as V}from"./TextEditor.vue_vue_type_script_setup_true_lang-33651ecd.js";import{g as E,s as I}from"./config-47ce92c4.js";import{d as F,j as f,v as $,x as B,r,o as _,c,e,b as l,w as a,H as h,F as G,K as y,p as H,i as M,_ as N}from"./index-7c2d2aef.js";import"./index.esm-0534e563.js";import"./index-6c62cf9b.js";import"./format-4e0206d3.js";import"./config-9548fa9b.js";import"./config-e2aa16d1.js";import"./util-1ee03ed8.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";const i=p=>(H("data-v-8d536f1e"),p=p(),M(),p),U={class:"index-m_preferenceSwitch_1TP3q"},j={class:"index-m_header_2mdaa"},L=i(()=>e("span",{class:"index-m_title_180SF"},"客服离线提醒语",-1)),q=i(()=>e("div",{class:"index-m_desc_Erwpt"},"所有客服均不在线时，会发送这个回复",-1)),D=i(()=>e("div",{class:"zent-block-header"},[e("div",{class:"zent-block-header__title zent-block-header__title-ribbon"},[e("h3",null,"回复内容")]),e("div",{class:"zent-block-header__content"},"(若都勾选则自动回复文字消息)")],-1)),K={class:"info-box"},O={class:"right-box"},P=i(()=>e("span",{style:{"font-size":"14px"}},"发送文字消息",-1)),R={style:{width:"100%","padding-left":"25px","font-size":"14px"}},A={style:{display:"flex","flex-direction":"column"}},J={style:{display:"flex"}},Q=i(()=>e("div",{style:{"min-width":"70px"}},"回复内容：",-1)),W=["innerHTML"],X={key:1,style:{width:"100%"}},Y={style:{display:"flex"}},Z=i(()=>e("div",{style:{width:"70px"}},null,-1)),ee={key:0},te={key:1,style:{"margin-top":"14px"}},oe=F({__name:"EndGreeting",setup(p){const d=f(!1),o=f({activate:!1,sendText:!1,replyContent:"我们现在都不在呢，等明天早上看到消息会第一时间回复的"}),m=f({replyContentTemp:""}),x=()=>{m.value.replyContentTemp=o.value.replyContent,d.value=!0},g=()=>{o.value.replyContent=m.value.replyContentTemp,d.value=!1},w=async()=>{try{const s=await I({code:"off_work",data:o.value})}catch(s){y.error(s.message)}},u=f(!1),b=()=>{u.value&&w(),u.value||(u.value=!0)};$(()=>o.value,()=>{b()},{deep:!0});const k=async()=>{try{const s=await E({code:"off_work"});s.item?Object.assign(o.value,s.item):u.value=!0}catch(s){y.error(s.message)}finally{}};return B(()=>{k()}),(s,t)=>{const C=r("el-switch"),T=r("el-checkbox"),v=r("el-button"),z=r("el-form-item"),S=r("el-form");return _(),c(G,null,[e("div",U,[e("div",j,[L,l(C,{class:"switch-pl",modelValue:o.value.activate,"onUpdate:modelValue":t[0]||(t[0]=n=>o.value.activate=n)},null,8,["modelValue"])]),q]),D,e("div",K,[e("div",O,[l(S,{ref:"formRef",model:o.value,"label-width":"auto"},{default:a(()=>[l(z,{label:"",prop:"brand_logo"},{default:a(()=>[l(T,{style:{width:"100%"},modelValue:o.value.sendText,"onUpdate:modelValue":t[1]||(t[1]=n=>o.value.sendText=n)},{default:a(()=>[P]),_:1},8,["modelValue"]),e("div",R,[e("div",A,[e("div",J,[Q,d.value?(_(),c("div",X,[l(V,{html:m.value.replyContentTemp,"onUpdate:html":t[2]||(t[2]=n=>m.value.replyContentTemp=n),height:"300px"},null,8,["html"])])):(_(),c("div",{key:0,innerHTML:o.value.replyContent},null,8,W))]),e("div",Y,[Z,d.value?(_(),c("div",te,[l(v,{onClick:t[4]||(t[4]=n=>g()),style:{"font-size":"14px"},type:"primary"},{default:a(()=>[h("保存")]),_:1}),l(v,{onClick:t[5]||(t[5]=n=>d.value=!1),style:{"font-size":"14px"}},{default:a(()=>[h("取消")]),_:1})])):(_(),c("div",ee,[l(v,{onClick:t[3]||(t[3]=n=>x()),style:{"font-size":"14px"},type:"primary",link:""},{default:a(()=>[h("编辑")]),_:1})]))])])])]),_:1})]),_:1},8,["model"])])])],64)}}});const me=N(oe,[["__scopeId","data-v-8d536f1e"]]);export{me as default};
