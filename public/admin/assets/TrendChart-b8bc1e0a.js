/* empty css             */import{i as _}from"./index-05c93ee4.js";import u from"./SelectTime-2619b23f.js";import{c as y}from"./overview-02b8b928.js";import{g}from"./util-1ee03ed8.js";import{f as x}from"./time-290942a2.js";import{d as v,I as b,j as p,x as h,C as w,D as T,o as z,c as D,b as C,e as V,F as k,K as O,_ as A}from"./index-7c2d2aef.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-b4d9216b.js";import"./category-a8bd4d11.js";import"./index-6c62cf9b.js";import"./config-9548fa9b.js";import"./config-e2aa16d1.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import"./region-e0d291a6.js";import"./region-05802f67.js";import"./SelectTimeInterval-7da287f8.js";import"./shopProductCategory-792e0c23.js";const M=v({__name:"TrendChart",setup(S){const t=b({date_type:3,start_end_time:x(g(1,"sub"),"YYYY-MM-DD")}),n=p();let e;const s=p({grid:{left:"5%",right:"4%",bottom:"25%"},tooltip:{trigger:"axis"},legend:{data:["分销员销售额(元)"],icon:"rect",itemWidth:20,itemHeight:4},xAxis:{type:"category",data:[]},yAxis:{type:"value",name:"分销员销售额(元)"},dataZoom:[{backgroundColor:"#fff",fillerColor:"rgb(234, 236, 253, 0.6)",borderColor:"#bbc2f9",showDetail:!1,startValue:0,endValue:100,filterMode:"empty",left:"center",zoomLoxk:!0,bottom:3}],series:[{name:"分销员销售额(元)",data:[],type:"line",smooth:!1,lineStyle:{color:"#3aa1ff"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(58,161,255, 0.5)"},{offset:1,color:"#ffffff"}],global:!1}},color:"#3aa1ff",emphasis:{scale:!1}}]}),l=()=>{e==null||e.resize()},m=()=>{e=_(n.value),e.setOption(s.value),window.addEventListener("resize",l)},d=async()=>{try{const o=await y({...t});if(o.errcode===0){const{horizontal_axis:a,longitudinal_axis:r}=o.item,f=a.map(c=>{let i="月";return t.date_type===2&&(i="日"),t.date_type===3&&(i="时"),c+i});s.value.xAxis.data=f,s.value.series[0].data=r,e.setOption(s.value)}}catch(o){O.error(o.message)}};return h(()=>{w(()=>{m()}),window.onresize=()=>{e==null||e.resize()},d()}),T(()=>{e==null||e.dispose(),window.removeEventListener("resize",l)}),(o,a)=>(z(),D(k,null,[C(u,{dateType:t.date_type,"onUpdate:dateType":a[0]||(a[0]=r=>t.date_type=r),dateValue:t.start_end_time,"onUpdate:dateValue":a[1]||(a[1]=r=>t.start_end_time=r),onOnOK:d},null,8,["dateType","dateValue"]),V("div",{class:"chart",ref_key:"chartRef",ref:n},null,512)],64))}});const X=A(M,[["__scopeId","data-v-2a08668a"]]);export{X as default};
