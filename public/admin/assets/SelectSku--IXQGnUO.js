import{d as C,i as c,q as N,r as _,c as o,o as s,f as R,b as v,n as D,w as m,F as h,a as b,j as M,e as O,D as V,_ as j}from"./index-DrbzVNl6.js";/* empty css                                                                  */const A={class:"lyecs-popedit"},E={key:0,class:"table-product-box"},F=C({__name:"SelectSku",props:{productInfo:{type:Object,default:{}},isMultiple:{type:Boolean,default:!0}},setup(d,{expose:S}){var i,p;const r=d,a=c(r.productInfo.productSku||[]),I=c((i=a.value[0])==null?void 0:i.skuData),e=c(JSON.parse(JSON.stringify(((p=r.productInfo)==null?void 0:p.skuIds)||[]))),u=c(),y=(l,t)=>{if(r.isMultiple)e.value.includes(t.skuId)?e.value.splice(e.value.indexOf(t.skuId),1):e.value.push(t.skuId);else{if(u.value.clearSelection(),l.length==0){e.value=[];return}u.value.toggleRowSelection(t,!0),e.value=[],e.value.push(t.skuId)}},g=l=>{if(l.length==0){e.value=[];return}else e.value=[],l.map(t=>{e.value.push(t.skuId)})};return N(()=>{e.value.forEach(l=>{const t=a.value.find(n=>n.skuId===l);t&&u.value.toggleRowSelection(t,!0)})}),S({skuIds:e}),(l,t)=>{const n=_("el-table-column"),w=_("el-table");return s(),o("div",A,[a.value&&a.value.length>0?(s(),o("div",E,[v(w,{ref_key:"tableRef",ref:u,"row-key":"skuId",class:D(d.isMultiple?"":"hide-checkbox"),onSelect:y,onSelectAll:g,data:a.value,style:{width:"100%"},border:""},{default:m(()=>[v(n,{type:"selection","reserve-selection":"",width:"40"}),(s(!0),o(h,null,b(I.value,f=>(s(),M(n,{label:f.name},{default:m(({row:x})=>[O("ul",null,[(s(!0),o(h,null,b(x.skuData,(k,B)=>(s(),o("li",{key:B},V(f.name==k.name?k.value:""),1))),128))])]),_:2},1032,["label"]))),256))]),_:1},8,["class","data"])])):R("",!0)])}}}),q=j(F,[["__scopeId","data-v-55705299"]]);export{q as default};
