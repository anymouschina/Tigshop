import{T as x,E as B}from"./index.esm-bNAKkq0_.js";import"./index-CeQDmMxd.js";import{i as E}from"./format-CRgx78oe.js";import{_}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";import{d as k,i as n,s as m,q as w,al as U,c as V,o as F,e as N,b as r,g as s,l as u,F as O}from"./index-DrbzVNl6.js";const f="default",z=k({__name:"TextEditor",props:{html:String,height:{type:String,default:"500px"},border:{type:Boolean,default:!0}},emits:["update:html"],setup(t,{emit:c}){const l=n(t.html),i=m(),p=c,a=m();w(()=>{p("update:html",l)});const d=n(),g=n({toolbarKeys:["emotion"]}),h={placeholder:"请输入内容...",MENU_CONF:{uploadImage:{customBrowseAndUpload(e){i.value.show(),d.value=e}}}},y=e=>{},C=e=>{for(let o in e)d.value(E(e[o].picUrl),"","")};U(()=>{const e=a.value;e!=null&&e.destroy()});const b=e=>{a.value=e};return(e,o)=>(F(),V(O,null,[N("div",{style:u([{width:"100%"},t.border?"border: 1px solid #eee":""])},[r(s(x),{style:{"border-bottom":"1px solid #eee"},editor:a.value,defaultConfig:g.value,mode:f},null,8,["editor","defaultConfig"]),r(s(B),{style:u("height: "+t.height+"; overflow-y: hidden;"),onOnChange:y,modelValue:l.value,"onUpdate:modelValue":o[0]||(o[0]=v=>l.value=v),defaultConfig:h,mode:f,onOnCreated:b},null,8,["style","modelValue"])],4),r(s(_),{type:"gallery",ref_key:"galleryDialog",ref:i,class:"item-bg",onOkCallback:C,params:{isMultiple:!0}},null,512)],64))}});export{z as _};
