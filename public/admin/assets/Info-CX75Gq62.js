import{d as q,i as m,C as L,s as T,q as j,r as n,c as E,o as S,e as f,j as F,f as I,b as t,w as a,a0 as M,g as O,E as c,a1 as z,I as g}from"./index-CGYuOau0.js";import{c as A,e as G}from"./shippingType-fDWXUBuR.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-t3_hMxDC.js";import"./index-B-GURfkM.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{S as H}from"./SelectLogisticsCompany-CjvtX9cs.js";/* empty css             */import"./time-ClyPenjC.js";import"./logisticsCompany-BhiSneCE.js";const J={class:"container"},K={class:"content_wrapper"},P={class:"lyecs-form-table"},ie=q({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(h,{expose:x,emit:C}){const p=C,r=h,u=m(!0),v=L().currentRoute.value.query,_=m(r.isDialog?r.act:String(v.act)),y=m(r.isDialog?r.id:Number(v.id)),k=_.value==="add"?"create":"update",b=T(),o=m({sort_order:50,is_support_cod:0}),B=async()=>{try{const s=await A(_.value,{id:y.value});Object.assign(o.value,s.item)}catch(s){g.error(s.message),p("close")}finally{u.value=!1}};j(()=>{_.value==="detail"?B():u.value=!1});const V=async()=>{await b.value.validate();try{p("update:confirmLoading",!0);const s=await G(k,{id:y.value,...o.value});p("submitCallback",s),g.success(s.message)}catch(s){g.error(s.message)}finally{p("update:confirmLoading",!1)}};return x({onFormSubmit:()=>{V()}}),(s,e)=>{const d=n("el-input"),i=n("el-form-item"),w=n("el-radio"),N=n("el-radio-group"),U=n("el-button"),D=n("el-form"),R=n("a-spin");return S(),E("div",J,[f("div",K,[f("div",P,[u.value?I("",!0):(S(),F(D,{key:0,ref_key:"formRef",ref:b,model:o.value,"label-width":"auto"},{default:a(()=>[t(i,{rules:[{required:!0,message:"分类名称不能为空!"}],label:"分类名称",prop:"shipping_type_name"},{default:a(()=>[t(d,{modelValue:o.value.shipping_type_name,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.shipping_type_name=l)},null,8,["modelValue"])]),_:1}),t(i,{label:"分类描述",prop:"shipping_type_desc"},{default:a(()=>[t(d,{modelValue:o.value.shipping_type_desc,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.shipping_type_desc=l),row:"3",type:"textarea"},null,8,["modelValue"])]),_:1}),t(i,{label:"默认物流",prop:"shipping_default_id"},{default:a(()=>[t(O(H),{id:o.value.shipping_default_id,"onUpdate:id":e[2]||(e[2]=l=>o.value.shipping_default_id=l)},null,8,["id"])]),_:1}),t(i,{label:"配送时间描述",prop:"shipping_time_desc"},{default:a(()=>[t(d,{modelValue:o.value.shipping_time_desc,"onUpdate:modelValue":e[3]||(e[3]=l=>o.value.shipping_time_desc=l),row:"3",type:"textarea"},null,8,["modelValue"])]),_:1}),t(i,{label:"排序",prop:"sort_order"},{default:a(()=>[t(d,{modelValue:o.value.sort_order,"onUpdate:modelValue":e[4]||(e[4]=l=>o.value.sort_order=l)},null,8,["modelValue"])]),_:1}),t(i,{label:"货到付款",prop:"is_support_cod"},{default:a(()=>[t(N,{modelValue:o.value.is_support_cod,"onUpdate:modelValue":e[5]||(e[5]=l=>o.value.is_support_cod=l),style:{width:"100%"}},{default:a(()=>[t(w,{value:1},{default:a(()=>e[6]||(e[6]=[c("是")])),_:1}),t(w,{value:0},{default:a(()=>e[7]||(e[7]=[c("否")])),_:1})]),_:1},8,["modelValue"]),e[8]||(e[8]=f("div",{class:"extra"},"该设置会影响所有所属的配送方式",-1))]),_:1}),M(t(i,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[t(U,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:V},{default:a(()=>e[9]||(e[9]=[c("提交")])),_:1},512)]),_:1},512),[[z,!r.isDialog]])]),_:1},8,["model"])),t(R,{spinning:u.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{ie as default};
