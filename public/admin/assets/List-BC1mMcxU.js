/* empty css             */import{d as T,G as S,i as m,q as $,c as _,e,E as c,b as l,w as o,D as i,g as s,a0 as j,f as v,aY as A,j as B,I as F,r as p,o as r,bd as z,F as G,a as M,_ as Y}from"./index-CGYuOau0.js";/* empty css                                                                    */import{P as H}from"./Pagination-yOfjsBuR.js";import{p as d}from"./format-DFT-VJzO.js";import{u as J}from"./config-DNllFJyR.js";import"./index-B-GURfkM.js";import{g as K}from"./dashboard-D5iJKVpk.js";import{g as Q}from"./order-CoX6hLeE.js";import{_ as R}from"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";import"./config-DU8_t5BN.js";const W={class:"container"},X={class:"content_wrapper"},Z={class:"balance-box flex-wrap"},tt={class:"label"},et={class:"title"},at={class:"num"},lt={class:"label"},ot={class:"title"},st={class:"num"},nt={class:"label"},it={class:"title"},rt={class:"num"},dt={class:"lyecs-table-list-warp"},ut={class:"table-container"},_t={key:0},pt={key:1},ct={key:2},mt={key:0},vt={class:"empty-warp"},ft={key:0,class:"empty-bg"},bt={key:0,class:"pagination-con"},gt=T({__name:"List",setup(yt){const N=S([{value:-1,label:"全部"},{value:0,label:"待支付"},{value:1,label:"待发货"},{value:2,label:"已发货"},{value:3,label:"已取消"},{value:4,label:"无效"},{value:5,label:"已完成"},{value:-2,label:"已删除"},{value:99,label:"待结算"}]),O=J(),L=m([]),b=m(!0),k=m(!0),g=m(0);m(!0);const u=S({page:1,size:O.get("page_size"),order_status:-1}),y=m({shop_money:0}),h=async()=>{b.value=!0;try{const n=await K();y.value=n.item}catch(n){F.error(n.message)}finally{b.value=!1}},V=async()=>{k.value=!0;try{const n=await Q({...u});L.value=n.filter_result,g.value=n.total}catch(n){F.error(n.message)}finally{k.value=!1}};$(()=>{h(),V()});const D=n=>{u.order_status=n,n==99&&(u.is_settlement=0),V()};return(n,t)=>{const w=p("el-icon"),x=p("el-tooltip"),C=p("el-button"),q=p("router-link"),I=p("el-tab-pane"),P=p("el-tabs"),f=p("el-table-column"),U=p("el-table"),E=A("loading");return r(),_("div",W,[e("div",X,[t[13]||(t[13]=e("div",{class:"tit-box"},[e("div",{class:"tit"},[e("span",null,"店铺余额")])],-1)),e("div",Z,[e("div",tt,[e("div",et,[t[6]||(t[6]=c(" 可用店铺余额(元) ")),l(x,{placement:"bottom",effect:"light"},{content:o(()=>t[4]||(t[4]=[e("div",{class:"tooltip-width"},"可用店铺余额",-1)])),default:o(()=>[l(w,null,{default:o(()=>[l(s(z))]),_:1})]),_:1}),l(q,{to:{path:"/capitalfund/withdraw/index",query:{type:2}}},{default:o(()=>[l(C,{type:"primary",link:""},{default:o(()=>t[5]||(t[5]=[c("提现记录")])),_:1})]),_:1})]),e("div",at,i(s(d)(y.value.shop_money)||0),1)]),e("div",lt,[e("div",ot,[t[9]||(t[9]=c(" 待结算(元) ")),l(x,{placement:"bottom",effect:"light"},{content:o(()=>t[7]||(t[7]=[e("div",{class:"tooltip-width"},"交易未完成的订单总额，消费者确认收货后将自动转入店铺余额",-1)])),default:o(()=>[l(w,null,{default:o(()=>[l(s(z))]),_:1})]),_:1}),l(C,{type:"primary",link:"",onClick:t[0]||(t[0]=a=>D(99))},{default:o(()=>t[8]||(t[8]=[c("明细")])),_:1})]),e("div",st,i(s(d)(y.value.un_settlement_money)||0),1)]),e("div",nt,[e("div",it,[t[11]||(t[11]=c(" 不可用余额(元) ")),l(x,{placement:"bottom",effect:"light"},{content:o(()=>t[10]||(t[10]=[e("div",{class:"tooltip-width"},"提现中或者退款中的冻结店铺余额",-1)])),default:o(()=>[l(w,null,{default:o(()=>[l(s(z))]),_:1})]),_:1})]),e("div",rt,i(s(d)(y.value.frozen_money)||0),1)])]),t[14]||(t[14]=e("div",{class:"tit-box"},[e("div",{class:"tit"},[e("span",null,"最近交易记录")])],-1)),e("div",dt,[l(P,{type:"card",onTabChange:D,modelValue:u.order_status,"onUpdate:modelValue":t[1]||(t[1]=a=>u.order_status=a)},{default:o(()=>[(r(!0),_(G,null,M(N,a=>(r(),B(I,{label:a.label,name:a.value},null,8,["label","name"]))),256))]),_:1},8,["modelValue"]),e("div",ut,[j((r(),B(U,{data:L.value,loading:b.value,total:g.value,"row-key":"log_id"},{empty:o(()=>[e("div",vt,[b.value?v("",!0):(r(),_("div",ft,"暂无数据"))])]),default:o(()=>[l(f,{label:"时间",prop:"add_time",width:"160"}),l(f,{label:"订单编号",prop:"order_sn",width:"160"}),l(f,{label:"金额(元)|明细"},{default:o(({row:a})=>[e("p",null,"订单运费： "+i(s(d)(a.shipping_fee)),1),e("p",null,"附加费用： "+i(s(d)(a.service_fee)),1),a.coupon_amount>0?(r(),_("p",_t,"优惠券抵扣： "+i(s(d)(a.coupon_amount)),1)):v("",!0),a.discount_amount>0?(r(),_("p",pt,"优惠券折扣： "+i(s(d)(a.discount_amount)),1)):v("",!0),a.points_amount>0?(r(),_("p",ct,"积分抵扣： "+i(s(d)(a.points_amount)),1)):v("",!0),e("p",null,[c(" 实收金额： "+i(s(d)(a.paid_amount))+" ",1),a.balance>0?(r(),_("span",mt,"(使用余额: "+i(s(d)(a.balance))+")",1)):v("",!0)])]),_:1}),l(f,{label:"状态",prop:"order_status_name",width:"120"}),l(f,{label:"操作",width:"80"},{default:o(({row:a})=>[l(s(R),{params:{act:"detail",id:a.order_id},showClose:!1,showOnOk:!1,title:"订单详情 "+a.order_sn,isDrawer:"",path:"order/order/Info",width:"880px",onCallback:h},{default:o(()=>[l(C,{size:"small",link:"",type:"primary"},{default:o(()=>t[12]||(t[12]=[c(" 查看详情 ")])),_:1})]),_:2},1032,["params","title"])]),_:1})]),_:1},8,["data","loading","total"])),[[E,k.value]]),g.value>0?(r(),_("div",bt,[l(s(H),{page:u.page,"onUpdate:page":t[2]||(t[2]=a=>u.page=a),size:u.size,"onUpdate:size":t[3]||(t[3]=a=>u.size=a),total:g.value,onCallback:h},null,8,["page","size","total"])])):v("",!0)])])])])}}}),Ft=Y(gt,[["__scopeId","data-v-63a94521"]]);export{Ft as default};
