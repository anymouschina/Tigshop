import{y as P,d as B,i as p,G as F,q as M,c as _,e,b as o,w as i,M as N,f as b,g as U,I as q,r,o as u,F as D,a as E,n as G,D as T,_ as $}from"./index-CGYuOau0.js";/* empty css             */import{u as j}from"./config-DNllFJyR.js";/* empty css                                                                    */import{P as A}from"./Pagination-yOfjsBuR.js";import"./config-DU8_t5BN.js";const H=f=>P({url:"product/product_inventory_log/list",method:"get",params:f}),J={class:"container"},K={class:"content_wrapper"},O={class:"lyecs-table-list-warp"},Q={class:"list-table-tool lyecs-search-warp"},R={class:"advanced-search-warp list-table-tool-row"},W={class:"simple-form-warp"},X={class:"simple-form-field"},Y={class:"form-group"},Z={class:"control-container"},ee={class:"simple-form-field"},te={class:"form-group"},oe={class:"tabs flex"},se=["onClick"],ae={class:"table-container"},le={class:"empty-warp"},ne={key:0,class:"empty-bg"},ie={key:0,class:"pagination-con"},re=B({__name:"List",setup(f){const h=p([{value:0,label:"全部"},{value:1,label:"入库"},{value:2,label:"出库"}]),y=j(),g=p(),c=p(!0),m=p(0),w=p([]),s=F({page:1,size:y.get("page_size"),sort_field:"",sort_order:"",keyword:"",type:0}),C=a=>{s.type=a,d()},d=async()=>{c.value=!0;try{const a=await H({...s});g.value=a.filter_result,m.value=a.total}catch(a){q.error(a.message)}finally{c.value=!1}};M(()=>{d()});const v=()=>{d()},k=({prop:a,order:t})=>{s.sort_field=a,s.sort_order=t=="ascending"?"asc":t=="descending"?"desc":"",d()},S=a=>{w.value=a.map(t=>t.log_id)};return(a,t)=>{const z=r("el-button"),V=r("el-input"),x=r("el-form"),n=r("el-table-column"),L=r("el-table"),I=r("a-spin");return u(),_("div",J,[e("div",K,[e("div",O,[e("div",Q,[o(x,{model:s,onSubmit:N(v,["prevent"])},{default:i(()=>[e("div",R,[e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[o(V,{modelValue:s.keyword,"onUpdate:modelValue":t[0]||(t[0]=l=>s.keyword=l),name:"keyword",placeholder:"输入关键词",clearable:"",onClear:v},{append:i(()=>[o(z,{onClick:v},{default:i(()=>t[3]||(t[3]=[e("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1})]),_:1},8,["modelValue"])])])]),e("div",ee,[e("div",te,[e("div",oe,[(u(!0),_(D,null,E(h.value,l=>(u(),_("div",{class:G(["item",s.type==l.value?"active":""]),onClick:ce=>C(l.value)},T(l.label),11,se))),256))])])])])])]),_:1},8,["model"])]),e("div",ae,[o(I,{spinning:c.value},{default:i(()=>[o(L,{data:g.value,loading:c.value,total:m.value,"row-key":"log_id",onSelectionChange:S,onSortChange:k},{empty:i(()=>[e("div",le,[c.value?b("",!0):(u(),_("div",ne,"暂无数据"))])]),default:i(()=>[o(n,{type:"selection",width:"32"}),o(n,{width:360,label:"商品名称",prop:"product_name"}),o(n,{label:"变化前库存",prop:"old_number"}),o(n,{label:"变化后库存",prop:"number"}),o(n,{label:"变化量",prop:"change_number"}),o(n,{label:"操作",prop:"desc"}),o(n,{width:200,label:"操作时间",prop:"add_time"})]),_:1},8,["data","loading","total"])]),_:1},8,["spinning"]),m.value>0?(u(),_("div",ie,[o(U(A),{page:s.page,"onUpdate:page":t[1]||(t[1]=l=>s.page=l),size:s.size,"onUpdate:size":t[2]||(t[2]=l=>s.size=l),total:m.value,onCallback:d},null,8,["page","size","total"])])):b("",!0)])])])])}}}),fe=$(re,[["__scopeId","data-v-f1b4883f"]]);export{fe as default};
