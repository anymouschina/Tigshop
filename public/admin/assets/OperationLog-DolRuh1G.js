import"./index-CeQDmMxd.js";import{d as I,G as y,i as r,q as C,c as L,e as _,a3 as N,E as g,b as t,w as d,g as f,b2 as z,j as O,r as p,I as B,o as v,_ as h}from"./index-DrbzVNl6.js";/* empty css                                                                    */import{P as D}from"./Pagination-wR9huHyl.js";import{b as E}from"./order-DqMQuu0g.js";import{_ as P}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";const V={class:"container-card"},T={class:"title"},U={class:"pagination-con"},j=I({__name:"OperationLog",props:{orderId:{type:Number,default:0}},setup(b){const o=y({page:1,orderId:b.orderId,parentOrderId:0}),s=r(!0),c=r(10),m=r(0),u=r([]),l=async()=>{try{s.value=!0;const a=await E(o);u.value=a.records,m.value=a.total}catch(a){B.error(a.message)}finally{s.value=!1}};return C(()=>{l()}),(a,e)=>{const x=p("el-button"),n=p("el-table-column"),w=p("el-table"),k=z("loading");return v(),L("div",V,[_("div",T,[e[3]||(e[3]=g(" 操作日志 ")),t(f(P),{params:{act:"detail",id:o.orderId,valueName:"addNote"},isDrawer:"",path:"order/order/src/EditRemark",title:"添加日志",width:"600px",onOkCallback:l},{default:d(()=>[t(x,{bg:"",class:"buttonColor",size:"small",text:"",type:"primary"},{default:d(()=>e[2]||(e[2]=[g(" 添加日志 ")])),_:1})]),_:1},8,["params"])]),N((v(),O(w,{data:u.value},{default:d(()=>[t(n,{label:"操作者",prop:"operator",width:"120px"}),t(n,{label:"操作时间",prop:"logTime",width:"160px"}),t(n,{label:"备注",prop:"description"})]),_:1},8,["data"])),[[k,s.value]]),_("div",U,[t(f(D),{page:o.page,"onUpdate:page":e[0]||(e[0]=i=>o.page=i),size:c.value,"onUpdate:size":e[1]||(e[1]=i=>c.value=i),total:m.value,onCallback:l},null,8,["page","size","total"])])])}}}),A=h(j,[["__scopeId","data-v-f8e6f428"]]);export{A as default};
