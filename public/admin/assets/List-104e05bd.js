import{A as P,d as B,j as p,I as F,x as K,r as i,o as u,c as m,e,b as t,w as r,f as N,h,K as U,L as j,F as q,a as A,n as D,G as E,p as G,i as M,_ as T}from"./index-7c2d2aef.js";/* empty css             */import{u as $}from"./config-9548fa9b.js";/* empty css                                                                    */import{P as H}from"./Pagination-8eb7b6b1.js";import"./config-e2aa16d1.js";const J=c=>P({url:"product/product_inventory_log/list",method:"get",params:c}),O=c=>(G("data-v-0c12a1cf"),c=c(),M(),c),Q={class:"container"},R={class:"content_wrapper"},W={class:"lyecs-table-list-warp"},X={class:"list-table-tool lyecs-search-warp"},Y={class:"advanced-search-warp list-table-tool-row"},Z={class:"simple-form-warp"},ee={class:"simple-form-field"},te={class:"form-group"},oe={class:"control-container"},se=O(()=>e("span",{class:"iconfont icon-chakan1"},null,-1)),ae={class:"simple-form-field"},le={class:"form-group"},ne={class:"tabs flex"},ce=["onClick"],ie={class:"table-container"},re={class:"empty-warp"},de={key:0,class:"empty-bg"},_e={key:0,class:"pagination-con"},pe=B({__name:"List",setup(c){const b=p([{value:0,label:"全部"},{value:1,label:"入库"},{value:2,label:"出库"}]),y=$(),g=p(),d=p(!0),v=p(0),w=p([]),o=F({page:1,size:y.get("page_size"),sort_field:"",sort_order:"",keyword:"",type:0}),k=s=>{o.type=s,_()},_=async()=>{d.value=!0;try{const s=await J({...o});g.value=s.filter_result,v.value=s.total}catch(s){U.error(s.message)}finally{d.value=!1}};K(()=>{_()});const f=()=>{_()},C=({prop:s,order:a})=>{o.sort_field=s,o.sort_order=a=="ascending"?"asc":a=="descending"?"desc":"",_()},S=s=>{w.value=s.map(a=>a.log_id)};return(s,a)=>{const z=i("el-button"),x=i("el-input"),I=i("el-form"),n=i("el-table-column"),L=i("el-table"),V=i("a-spin");return u(),m("div",Q,[e("div",R,[e("div",W,[e("div",X,[t(I,{model:o},{default:r(()=>[e("div",Y,[e("div",Z,[e("div",ee,[e("div",te,[e("div",oe,[t(x,{modelValue:o.keyword,"onUpdate:modelValue":a[0]||(a[0]=l=>o.keyword=l),name:"keyword",placeholder:"输入关键词",onKeyup:j(f,["enter"])},{append:r(()=>[t(z,{onClick:f},{default:r(()=>[se]),_:1})]),_:1},8,["modelValue"])])])]),e("div",ae,[e("div",le,[e("div",ne,[(u(!0),m(q,null,A(b.value,l=>(u(),m("div",{class:D(["item",o.type==l.value?"active":""]),onClick:ue=>k(l.value)},E(l.label),11,ce))),256))])])])])])]),_:1},8,["model"])]),e("div",ie,[t(V,{spinning:d.value},{default:r(()=>[t(L,{data:g.value,loading:d.value,total:v.value,"row-key":"log_id",onSelectionChange:S,onSortChange:C},{empty:r(()=>[e("div",re,[d.value?h("",!0):(u(),m("div",de,"暂无数据"))])]),default:r(()=>[t(n,{type:"selection",width:"32"}),t(n,{width:360,label:"商品名称",prop:"product_name"}),t(n,{label:"变化前库存",prop:"old_number"}),t(n,{label:"变化后库存",prop:"number"}),t(n,{label:"变化量",prop:"change_number"}),t(n,{label:"操作",prop:"desc"}),t(n,{width:200,label:"操作时间",prop:"add_time"})]),_:1},8,["data","loading","total"])]),_:1},8,["spinning"]),v.value>0?(u(),m("div",_e,[t(N(H),{page:o.page,"onUpdate:page":a[1]||(a[1]=l=>o.page=l),size:o.size,"onUpdate:size":a[2]||(a[2]=l=>o.size=l),total:v.value,onCallback:_},null,8,["page","size","total"])])):h("",!0)])])])])}}});const ye=T(pe,[["__scopeId","data-v-0c12a1cf"]]);export{ye as default};
