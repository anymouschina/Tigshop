/* empty css             */import{d as j,j as v,I as E,x as G,r as d,o as D,c as y,e,b as a,w as o,f as r,h as x,K as H,H as i,G as c,p as K,i as W,_ as q}from"./index-7c2d2aef.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-b4d9216b.js";import"./category-a8bd4d11.js";import"./index-6c62cf9b.js";import{p as A}from"./format-4e0206d3.js";import{u as J}from"./config-9548fa9b.js";/* empty css                                                                    */import{P as Q}from"./Pagination-8eb7b6b1.js";/* empty css                                                                  *//* empty css                                                                              */import"./region-e0d291a6.js";import{S as R}from"./SelectTimeInterval-7da287f8.js";import"./shopProductCategory-792e0c23.js";import{_ as X,a as Z}from"./SelectPromoteMode.vue_vue_type_script_setup_true_lang-d1ea7210.js";import{g as ee}from"./promoter-617c4eec.js";import{f as p}from"./time-290942a2.js";import{g}from"./util-1ee03ed8.js";import{_ as M}from"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import"./config-e2aa16d1.js";import"./region-05802f67.js";import"./subgroup-c0dd43e1.js";import"./promoteMode-9ef4057f.js";const u=h=>(K("data-v-4a40f77f"),h=h(),W(),h),te={class:"container"},ae={class:"content_wrapper"},oe={class:"lyecs-table-list-warp"},se={class:"list-table-tool lyecs-search-warp"},le={class:"advanced-search-warp list-table-tool-row"},ie={class:"simple-form-warp"},ne={class:"simple-form-field",style:{"margin-right":"10px"}},de={class:"form-group"},_e=u(()=>e("span",{class:"iconfont icon-chakan1"},null,-1)),re={class:"simple-form-field"},ce={class:"form-group"},me=u(()=>e("label",{class:"control-label"},[e("span",null,"加入时间：")],-1)),pe={class:"control-container flex flex-align-center"},ue={style:{"margin-left":"10px"}},fe={class:"simple-form-field"},ve={class:"form-group"},be=u(()=>e("label",{class:"control-label"},[e("span",null,"邀请方：")],-1)),ge={class:"control-container"},he={class:"simple-form-field"},we={class:"form-group"},Ye=u(()=>e("label",{class:"control-label"},[e("span",null,"分组：")],-1)),De={class:"control-container"},ye={class:"simple-form-field"},ke={class:"form-group"},Ce=u(()=>e("label",{class:"control-label"},[e("span",null,"等级：")],-1)),xe={class:"control-container"},Me={class:"simple-form-field"},Se={class:"advanced-search-warp list-table-tool-row"},Ve={class:"simple-form-warp"},Ie={class:"simple-form-field"},Ue={class:"table-container"},ze=u(()=>e("a",{class:"btn-link"},"详情",-1)),Oe=u(()=>e("a",{class:"btn-link"},"编辑",-1)),Le={class:"empty-warp"},Ne={key:0,class:"empty-bg"},Pe={key:0,class:"pagination-con"},$e={key:0,class:"selected-action-warp"},Be={class:"selected-action"},Te=j({__name:"List",setup(h){const O=J(),S=v([]),w=v(!0),Y=v(0);v(0);const k=v([]),s=E({page:1,size:O.pageSize,sort_field:"",sort_order:"",mobile:"",pid_mobile:"",level:"",group_id:"",add_time_start:"",add_time_end:""}),C=v(-1),V=n=>{if(n===-1){C.value=n;return}s.add_time_start=p(new Date,"YYYY-MM-DD"),n===0&&(s.add_time_end=p(new Date,"YYYY-MM-DD")),n===1&&(s.add_time_start=p(g(1,"sub"),"YYYY-MM-DD"),s.add_time_end=p(g(1,"sub"),"YYYY-MM-DD")),n===2&&(s.add_time_end=p(g(7,"add"),"YYYY-MM-DD")),n===3&&(s.add_time_end=p(g(30,"add"),"YYYY-MM-DD")),n===4&&(s.add_time_end=p(g(180,"add"),"YYYY-MM-DD"))},m=async()=>{w.value=!0;try{const n=await ee({...s});S.value=n.filter_result,Y.value=n.total}catch(n){H.error(n.message)}finally{w.value=!1}};G(()=>{m()});const I=()=>{m()},L=({prop:n,order:l})=>{s.sort_field=n,s.sort_order=l=="ascending"?"asc":l=="descending"?"desc":"",m()},N=n=>{k.value=n.map(l=>l.salesman_id)};return(n,l)=>{const f=d("el-button"),U=d("el-input"),b=d("el-radio-button"),P=d("el-radio-group"),$=d("el-form"),_=d("el-table-column"),B=d("el-divider"),z=d("el-space"),T=d("el-table"),F=d("a-spin");return D(),y("div",te,[e("div",ae,[e("div",oe,[e("div",se,[a($,{model:s,name:"form"},{default:o(()=>[e("div",le,[e("div",ie,[e("div",ne,[e("div",de,[a(U,{modelValue:s.mobile,"onUpdate:modelValue":l[0]||(l[0]=t=>s.mobile=t),name:"mobile",placeholder:"输入分销员手机号或昵称"},{append:o(()=>[a(f,{onClick:I},{default:o(()=>[_e]),_:1})]),_:1},8,["modelValue"])])]),e("div",re,[e("div",ce,[me,e("div",pe,[a(r(R),{type:"date","start-date":s.add_time_start,"onUpdate:startDate":l[1]||(l[1]=t=>s.add_time_start=t),"end-date":s.add_time_end,"onUpdate:endDate":l[2]||(l[2]=t=>s.add_time_end=t),onCallback:l[3]||(l[3]=t=>V(-1))},null,8,["start-date","end-date"]),e("div",ue,[a(P,{class:"itemWidth",modelValue:C.value,"onUpdate:modelValue":l[4]||(l[4]=t=>C.value=t),onChange:V},{default:o(()=>[a(b,{value:0},{default:o(()=>[i("今天")]),_:1}),a(b,{value:1},{default:o(()=>[i("昨天")]),_:1}),a(b,{value:2},{default:o(()=>[i("近7天")]),_:1}),a(b,{value:3},{default:o(()=>[i("近30天")]),_:1}),a(b,{value:4},{default:o(()=>[i("近半年")]),_:1})]),_:1},8,["modelValue"])])])])]),e("div",fe,[e("div",ve,[be,e("div",ge,[a(U,{modelValue:s.pid_mobile,"onUpdate:modelValue":l[5]||(l[5]=t=>s.pid_mobile=t),name:"pid_mobile",placeholder:"请输入手机号"},null,8,["modelValue"])])])]),e("div",he,[e("div",we,[Ye,e("div",De,[a(r(X),{group_id:s.group_id,"onUpdate:group_id":l[6]||(l[6]=t=>s.group_id=t)},null,8,["group_id"])])])]),e("div",ye,[e("div",ke,[Ce,e("div",xe,[a(r(Z),{level:s.level,"onUpdate:level":l[7]||(l[7]=t=>s.level=t)},null,8,["level"])])])]),e("div",Me,[a(f,{type:"primary",onClick:I},{default:o(()=>[i("搜索")]),_:1})])])]),e("div",Se,[e("div",Ve,[e("div",Ie,[a(r(M),{params:{act:"add"},isDrawer:"",path:"salesman/promoter/Info",title:"添加分销员",width:"600px",onOkCallback:m},{default:o(()=>[a(f,{type:"primary"},{default:o(()=>[i("添加分销员")]),_:1})]),_:1})])])])]),_:1},8,["model"])]),e("div",Ue,[a(F,{spinning:w.value},{default:o(()=>[a(T,{data:S.value,total:Y.value,"row-key":"salesman_id",onSelectionChange:N,onSortChange:L},{empty:o(()=>[e("div",Le,[w.value?x("",!0):(D(),y("div",Ne,"暂无数据"))])]),default:o(()=>[a(_,{label:"昵称",prop:"salesman_id",width:140,fixed:"left"},{default:o(({row:t})=>[i(c(t.base_user_info.nickname||t.base_user_info.username),1)]),_:1}),a(_,{label:"手机号",width:140,fixed:"left"},{default:o(({row:t})=>[i(c(t.base_user_info.mobile),1)]),_:1}),a(_,{label:"等级"},{default:o(({row:t})=>[i(c(t.level_text),1)]),_:1}),a(_,{label:"分组"},{default:o(({row:t})=>[i(c(t.group_info.group_name||"--"),1)]),_:1}),a(_,{label:"邀请方"},{default:o(({row:t})=>[i(c(t.pid_mobile),1)]),_:1}),a(_,{label:"累计销售额(元)",sortable:"custom",width:160},{default:o(({row:t})=>[i(c(r(A)(t.sale_amount)),1)]),_:1}),a(_,{label:"加入时间",sortable:"custom"},{default:o(({row:t})=>[i(c(t.add_time),1)]),_:1}),a(_,{width:120,fixed:"right",label:"操作"},{default:o(({row:t})=>[a(z,{size:0},{default:o(()=>[a(r(M),{maskClose:!1,showClose:!1,showOnOk:!1,params:{act:"detail",id:t.salesman_id},dialogClass:"noPadding",isDrawer:"",path:"salesman/promoter/Detail",title:"分销员详情",width:"900px",onOkCallback:m},{default:o(()=>[ze]),_:2},1032,["params"]),a(B,{direction:"vertical"}),a(r(M),{maskClose:!1,params:{act:"detail",id:t.salesman_id},isDrawer:"",path:"salesman/promoter/Info",title:"编辑分销员",width:"600px",onOkCallback:m},{default:o(()=>[Oe]),_:2},1032,["params"])]),_:2},1024)]),_:1})]),_:1},8,["data","total"])]),_:1},8,["spinning"]),Y.value>0?(D(),y("div",Pe,[a(r(Q),{page:s.page,"onUpdate:page":l[8]||(l[8]=t=>s.page=t),size:s.size,"onUpdate:size":l[9]||(l[9]=t=>s.size=t),total:Y.value,onCallback:m},null,8,["page","size","total"])])):x("",!0)]),k.value.length>0?(D(),y("div",$e,[e("div",Be,[a(z,null,{default:o(()=>[e("span",null,[i("已选择："),e("b",null,c(k.value.length),1),i(" 项")]),a(f,null,{default:o(()=>[i("设置等级")]),_:1}),a(f,null,{default:o(()=>[i("分组")]),_:1}),a(f,null,{default:o(()=>[i("清退")]),_:1})]),_:1})])])):x("",!0)])])])}}});const _t=q(Te,[["__scopeId","data-v-4a40f77f"]]);export{_t as default};
