import{d as A,i as d,G as E,q as L,c as f,e as a,b as e,w as s,g as i,L as S,f as C,I as U,r as p,o as v,E as g,D as G}from"./index-CGYuOau0.js";/* empty css             */import"./index-B-GURfkM.js";import{_ as I}from"./Switch.vue_vue_type_script_setup_true_lang-CKSPWIQL.js";import{_ as N}from"./DeleteRecord.vue_vue_type_script_setup_true_lang-BTFcBk5t.js";/* empty css                                                                    */import{P as $}from"./Pagination-yOfjsBuR.js";import{u as x}from"./config-DNllFJyR.js";import{g as B,u as O,d as P}from"./eCard-Clje6uHG.js";import{_ as b}from"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";import"./config-DU8_t5BN.js";const F={class:"container"},K={class:"content_wrapper"},M={class:"lyecs-table-list-warp"},T={class:"list-table-tool lyecs-search-warp"},j={class:"advanced-search-warp list-table-tool-row"},H={class:"simple-form-warp"},J={class:"simple-form-field"},Q={class:"form-group"},R={class:"control-container"},W={class:"simple-form-field"},X={class:"form-group"},Y={class:"control-container"},Z={class:"table-container"},ee={class:"empty-warp"},te={key:0,class:"empty-bg"},ae={key:0,class:"pagination-con"},fe=A({__name:"List",setup(oe){const z=x();d(x().domain);const h=d(),c=d(!0),m=d(0);d([]),d(!1);const l=E({page:1,size:z.get("page_size"),sort_field:"",sort_order:"",keyword:""}),r=async()=>{c.value=!0;try{const _=await B({...l});h.value=_.filter_result,m.value=_.total}catch(_){U.error(_.message)}finally{c.value=!1}};L(()=>{r()});const u=()=>{r()};return(_,t)=>{const k=p("el-button"),D=p("el-input"),n=p("el-table-column"),w=p("el-divider"),V=p("el-table"),q=p("a-spin");return v(),f("div",F,[a("div",K,[a("div",M,[a("div",T,[a("div",j,[a("div",H,[a("div",J,[a("div",Q,[a("div",R,[e(i(b),{params:{act:"add"},isDrawer:"",delayed:2e4,path:"promotion/eCard/Info",title:"添加电子卡券组",width:"600px",onOkCallback:r},{default:s(()=>[e(k,{type:"primary"},{default:s(()=>t[4]||(t[4]=[g("添加电子卡券组")])),_:1})]),_:1})])])]),a("div",W,[a("div",X,[a("div",Y,[e(D,{modelValue:l.keyword,"onUpdate:modelValue":t[0]||(t[0]=o=>l.keyword=o),name:"wechat_live_title",placeholder:"输入电子卡券组名称",onKeyup:S(u,["enter"]),clearable:"",onClear:u},{append:s(()=>[e(k,{onClick:u},{default:s(()=>t[5]||(t[5]=[a("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1})]),_:1},8,["modelValue"])])])])])])]),a("div",Z,[e(q,{spinning:c.value},{default:s(()=>[e(V,{data:h.value,"row-key":"group_id",total:m.value},{empty:s(()=>[a("div",ee,[c.value?C("",!0):(v(),f("div",te,"暂无数据"))])]),default:s(()=>[e(n,{label:"分组ID",prop:"group_id",width:80}),e(n,{label:"分组名称",prop:"group_name",width:200}),e(n,{label:"是否使用",prop:"is_use",width:80},{default:s(({row:o})=>[e(i(I),{checked:o.is_use,"onUpdate:checked":y=>o.is_use=y,params:{id:o.group_id,field:"is_use"},requestApi:i(O)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),e(n,{label:"备注",prop:"remark"},{default:s(({row:o})=>[g(G(o.remark||"--"),1)]),_:1}),e(n,{label:"创建时间",prop:"add_time",width:180}),e(n,{label:"修改时间",prop:"up_time",width:180}),e(n,{label:"操作",fixed:"right",width:200},{default:s(({row:o})=>[e(i(b),{isDrawer:"",onOkCallback:r,title:"查看卡列表",width:"800px",path:"promotion/eCard/eCardList/List",params:{group_id:o.group_id}},{default:s(()=>t[6]||(t[6]=[a("a",{class:"btn-link"},"查看卡列表",-1)])),_:2},1032,["params"]),e(w,{direction:"vertical"}),e(i(b),{isDrawer:"",onOkCallback:r,title:"编辑电子卡券组",width:"600px",path:"promotion/eCard/Info",params:{act:"detail",id:o.group_id}},{default:s(()=>t[7]||(t[7]=[a("a",{class:"btn-link"},"编辑",-1)])),_:2},1032,["params"]),e(w,{direction:"vertical"}),e(i(N),{params:{id:o.group_id},requestApi:i(P),onAfterDelete:t[1]||(t[1]=y=>r())},{default:s(()=>t[8]||(t[8]=[g("删除 ")])),_:2},1032,["params","requestApi"])]),_:1})]),_:1},8,["data","total"])]),_:1},8,["spinning"]),m.value>0?(v(),f("div",ae,[e(i($),{page:l.page,"onUpdate:page":t[2]||(t[2]=o=>l.page=o),size:l.size,"onUpdate:size":t[3]||(t[3]=o=>l.size=o),total:m.value,onCallback:r},null,8,["page","size","total"])])):C("",!0)])])])])}}});export{fe as default};
