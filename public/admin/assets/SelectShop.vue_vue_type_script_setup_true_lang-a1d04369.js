import{g as b}from"./shop-b8a8699a.js";import{d as k,j as n,I as V,x as y,K as C,r as _,o as t,k as r,w,c as x,a as N,F as S}from"./index-7c2d2aef.js";const I=k({__name:"SelectShop",props:{modelValue:{type:[Number,String]},multiple:{type:Boolean,default:!1}},emits:["update:modelValue","onChange"],setup(f,{emit:h}){const u=f,a=n(!0),s=V({page:1,size:20}),i=h,p=n(u.modelValue),g=e=>{i("update:modelValue",e),i("onChange",e)};y(()=>{c()});const m=n([]),c=async e=>{a.value=!0,isNaN(Number(e))?s.shop_title=String(e):s.shop_id=Number(e);try{const l=await b({...s});m.value=l.filter_result}catch(l){C.error(l.message)}finally{a.value=!1}};return(e,l)=>{const d=_("el-option"),v=_("el-select");return t(),r(v,{modelValue:p.value,"onUpdate:modelValue":l[0]||(l[0]=o=>p.value=o),loading:a.value,"remote-method":c,filterable:"",multiple:u.multiple,placeholder:"请输入店铺名称",remote:"",clearable:"","remote-show-suffix":"","reserve-keyword":"",onChange:g},{default:w(()=>[(t(),r(d,{key:-1,label:"全部",value:-1})),(t(!0),x(S,null,N(m.value,o=>(t(),r(d,{key:o.shop_id,label:o.shop_title,value:o.shop_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","multiple"])}}});export{I as _};
