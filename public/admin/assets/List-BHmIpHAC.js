import{d as P,K as B,i as b,G as K,q as T,c as y,e as o,b as s,w as a,M as $,g as i,f as S,E as g,D as _,I as V,r as p,o as h}from"./index-DrbzVNl6.js";/* empty css             */import"./index-CeQDmMxd.js";import{P as C}from"./PopFormElm-BZp1_Wme.js";import{_ as E}from"./Switch.vue_vue_type_script_setup_true_lang-C5nzofSO.js";import{D as M}from"./DeleteRecord-MR4vGqLl.js";/* empty css                                                                    */import{P as G}from"./Pagination-wR9huHyl.js";import{a as R,b as j,u as f,d as H}from"./logisticsCompany-BiUbX96X.js";import{_ as A}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";const J={class:"container"},Q={class:"content_wrapper"},W={class:"lyecs-table-list-warp"},X={class:"list-table-tool lyecs-search-warp"},Y={class:"advanced-search-warp list-table-tool-row"},Z={class:"simple-form-warp"},ee={class:"simple-form-field"},te={class:"form-group"},se={class:"control-container"},oe={class:"simple-form-field"},ae={class:"form-group"},ie={class:"control-container"},le={class:"simple-form-field"},ne={class:"form-group"},re={class:"control-container"},de={key:0},ce={class:"table-container"},pe={class:"empty-warp"},ue={key:0,class:"empty-bg"},me={key:0,class:"pagination-con"},Ve=P({__name:"List",setup(ge){const U=B(),q=b([]),u=b(!0),v=b(0),m=b([]),n=K({page:1,size:U.get("pageSize"),sortField:"",sortOrder:"",keyword:""}),d=async()=>{u.value=!0;try{const l=await R({...n});q.value=l.records,v.value=l.total}catch(l){V.error(l.message)}finally{u.value=!1}};T(()=>{d()});const k=()=>{d()},w=({prop:l,order:t})=>{n.sortField=l,n.sortOrder=t=="ascending"?"asc":t=="descending"?"desc":"",d()},x=async l=>{try{const t=await j(l,{ids:m.value});V.success("操作成功"),d()}catch(t){V.error(t.message)}},D=l=>{m.value=l.map(t=>t.logisticsId)};return(l,t)=>{const I=p("el-button"),O=p("TigInput"),N=p("el-popconfirm"),c=p("el-table-column"),z=p("el-divider"),F=p("el-table"),L=p("a-spin");return h(),y("div",J,[o("div",Q,[o("div",W,[o("div",X,[o("div",Y,[o("div",Z,[o("div",ee,[o("div",te,[o("div",se,[s(O,{modelValue:n.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>n.keyword=e),name:"keyword",placeholder:"输入配送方式名称",onKeyup:$(k,["enter"]),clearable:"",onClear:k},{append:a(()=>[s(I,{onClick:k},{default:a(()=>t[4]||(t[4]=[o("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1})]),_:1},8,["modelValue"])])])]),o("div",oe,[o("div",ae,[o("div",ie,[s(i(A),{params:{act:"add"},isDrawer:"",path:"setting/logisticsCompany/Info",title:"添加配送方式",width:"600px",onOkCallback:d},{default:a(()=>[s(I,{type:"primary"},{default:a(()=>t[5]||(t[5]=[g("添加配送方式")])),_:1})]),_:1})])])]),o("div",le,[o("div",ne,[o("div",re,[s(N,{title:"您确认要批量删除所选数据吗？",onConfirm:t[1]||(t[1]=e=>x("del"))},{reference:a(()=>[s(I,{disabled:m.value.length===0},{default:a(()=>t[6]||(t[6]=[g("批量删除")])),_:1},8,["disabled"])]),_:1}),m.value.length>0?(h(),y("span",de,[t[7]||(t[7]=g(" 已选择：")),o("b",null,_(m.value.length),1),t[8]||(t[8]=g(" 项 "))])):S("",!0)])])])])])]),o("div",ce,[s(L,{spinning:u.value},{default:a(()=>[s(F,{data:q.value,loading:u.value,total:v.value,"row-key":"logisticsId",onSelectionChange:D,onSortChange:w},{empty:a(()=>[o("div",pe,[u.value?S("",!0):(h(),y("div",ue,"暂无数据"))])]),default:a(()=>[s(c,{type:"selection",width:"32"}),s(c,{label:"配送方式名称"},{default:a(({row:e})=>[s(i(C),{"org-value":e.logisticsName,"onUpdate:orgValue":r=>e.logisticsName=r,max:10,params:{id:e.logisticsId,field:"logisticsName"},requestApi:i(f),label:"配送方式名称",type:"input"},{default:a(()=>[o("div",null,_(e.logisticsName),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),s(c,{label:"配送公司代号",prop:"logisticsCode"},{default:a(({row:e})=>[s(i(C),{"org-value":e.logisticsCode,"onUpdate:orgValue":r=>e.logisticsCode=r,max:10,params:{id:e.logisticsId,field:"logisticsCode"},requestApi:i(f),label:"配送公司代号",type:"input"},{default:a(()=>[o("div",null,_(e.logisticsCode),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),s(c,{label:"配送方式描述",prop:"logisticsDesc"},{default:a(({row:e})=>[s(i(C),{"org-value":e.logisticsDesc,"onUpdate:orgValue":r=>e.logisticsDesc=r,max:100,params:{id:e.logisticsId,field:"logisticsDesc"},requestApi:i(f),label:"配送方式描述",type:"textarea"},{default:a(()=>[o("div",null,_(e.logisticsDesc),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),s(c,{label:"是否显示",prop:"isShow",sortable:"custom"},{default:a(({row:e})=>[s(i(E),{checked:e.isShow,"onUpdate:checked":r=>e.isShow=r,params:{id:e.logisticsId,field:"isShow"},requestApi:i(f)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),s(c,{label:"排序",prop:"sortOrder",sortable:"custom"},{default:a(({row:e})=>[s(i(C),{"org-value":e.sortOrder,"onUpdate:orgValue":r=>e.sortOrder=r,params:{id:e.logisticsId,field:"sortOrder"},requestApi:i(f),extra:"默认值为50，数值越小，排序越靠前",label:"排序",type:"integer"},{default:a(()=>[o("div",null,_(e.sortOrder),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),s(c,{width:150,fixed:"right",label:"操作"},{default:a(({row:e})=>[s(i(A),{params:{act:"detail",id:e.logisticsId},isDrawer:"",path:"setting/logisticsCompany/Info",title:"编辑配送方式",width:"600px",onOkCallback:d},{default:a(()=>t[9]||(t[9]=[o("a",{class:"btn-link"},"编辑",-1)])),_:2},1032,["params"]),s(z,{direction:"vertical"}),s(i(M),{params:{id:e.logisticsId},requestApi:i(H),onAfterDelete:d},{default:a(()=>t[10]||(t[10]=[g("删除 ")])),_:2},1032,["params","requestApi"])]),_:1})]),_:1},8,["data","loading","total"])]),_:1},8,["spinning"]),v.value>0?(h(),y("div",me,[s(i(G),{page:n.page,"onUpdate:page":t[2]||(t[2]=e=>n.page=e),size:n.size,"onUpdate:size":t[3]||(t[3]=e=>n.size=e),total:v.value,onCallback:d},null,8,["page","size","total"])])):S("",!0)])])])])}}});export{Ve as default};
