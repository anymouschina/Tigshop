/* empty css             */import"./index-CeQDmMxd.js";import{P as B}from"./PopFormElm-BZp1_Wme.js";import{_ as S}from"./Switch.vue_vue_type_script_setup_true_lang-C5nzofSO.js";import{D as I}from"./DeleteRecord-MR4vGqLl.js";/* empty css                                                                    */import{P as O}from"./Pagination-wR9huHyl.js";import{d as T,K as G,i as v,G as K,q as M,c as y,e as s,b as t,w as l,f as w,g as i,I as D,r as u,o as k,E as f,D as b}from"./index-DrbzVNl6.js";import{g as R,u as q,d as j,b as H}from"./languagesList-Kf2h7MTN.js";import{_ as U}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";const J={class:"container"},Q={class:"content_wrapper"},W={class:"lyecs-table-list-warp"},X={class:"list-table-tool lyecs-search-warp"},Y={class:"list-table-tool-row"},Z={class:"list-table-tool-col"},ee={key:0},te={class:"table-container"},ae={style:{position:"relative"}},le={class:"empty-warp"},se={key:0,class:"empty-bg"},oe={key:0,class:"pagination-con"},ge=T({__name:"List",props:{promotionType:{type:Number,default:1}},setup(ne,{expose:x}){const z=G(),A=v(),_=v(!0),g=v(0),c=v([]),p=K({page:1,size:z.get("pageSize"),sortField:"",sortOrder:"",keyword:""}),d=async()=>{_.value=!0;try{const o=await R({...p});A.value=o.records,g.value=o.total}catch(o){D.error(o.message)}finally{_.value=!1}};M(()=>{d()});const L=({prop:o,order:e})=>{p.sortField=o,p.sortOrder=e=="ascending"?"asc":e=="descending"?"desc":"",d()},h=async(o,e)=>{try{const m=await H(o,{ids:c.value,value:e});D.success("操作成功"),d()}catch(m){D.error(m.message)}},E=o=>{c.value=o.map(e=>e.id)};return x({loadFilter:d}),(o,e)=>{const m=u("el-button"),C=u("el-popconfirm"),V=u("el-space"),F=u("el-form"),r=u("el-table-column"),N=u("el-divider"),P=u("el-table"),$=u("a-spin");return k(),y("div",J,[s("div",Q,[s("div",W,[s("div",X,[t(F,{model:p},{default:l(()=>[s("div",Y,[s("div",Z,[t(V,null,{default:l(()=>[t(i(U),{params:{act:"add"},isDrawer:"",path:"setting/multilingual/languagesList/Info",title:"添加语言",width:"580px",onOkCallback:d},{default:l(()=>[t(m,{type:"primary"},{default:l(()=>e[5]||(e[5]=[f("添加语言")])),_:1})]),_:1}),t(C,{title:"您确认要批量删除所选数据吗？",onConfirm:e[0]||(e[0]=a=>h("del"))},{reference:l(()=>[t(m,{disabled:c.value.length===0},{default:l(()=>e[6]||(e[6]=[f("批量删除")])),_:1},8,["disabled"])]),_:1}),t(C,{title:"您确认要批量启用所选数据吗？",onConfirm:e[1]||(e[1]=a=>h("enabled",1))},{reference:l(()=>[t(m,{disabled:c.value.length===0},{default:l(()=>e[7]||(e[7]=[f("批量启用")])),_:1},8,["disabled"])]),_:1}),t(C,{title:"您确认要批量取消启用所选数据吗？",onConfirm:e[2]||(e[2]=a=>h("enabled",0))},{reference:l(()=>[t(m,{disabled:c.value.length===0},{default:l(()=>e[8]||(e[8]=[f("批量取消启用")])),_:1},8,["disabled"])]),_:1}),c.value.length>0?(k(),y("span",ee,[e[9]||(e[9]=f(" 已选择：")),s("b",null,b(c.value.length),1),e[10]||(e[10]=f(" 项 "))])):w("",!0)]),_:1})])])]),_:1},8,["model"])]),s("div",te,[t($,{spinning:_.value},{default:l(()=>[t(P,{data:A.value,"row-key":"id",onSelectionChange:E,total:g.value,onSortChange:L,loading:_.value},{empty:l(()=>[s("div",le,[_.value?w("",!0):(k(),y("div",se,"暂无数据"))])]),default:l(()=>[t(r,{type:"selection",width:"32"}),t(r,{label:"语言名称",prop:"language",width:150},{default:l(({row:a})=>[s("div",ae,[s("div",null,b(a.language||"--"),1)])]),_:1}),t(r,{label:"语言识别码",prop:"localeCode",width:"200"}),t(r,{label:"货币",prop:"name",width:"200"},{default:l(({row:a})=>{var n;return[s("div",null,b(((n=a.currency)==null?void 0:n.name)||"--"),1)]}),_:1}),t(r,{label:"货币符号",prop:"symbol",width:"200"},{default:l(({row:a})=>{var n;return[s("div",null,b(((n=a.currency)==null?void 0:n.symbol)||"--"),1)]}),_:1}),t(r,{label:"最后更新时间",prop:"lastUpdated",width:"200",sortable:"custom"}),t(r,{label:"是否启用",prop:"isEnabled",sortable:"custom"},{default:l(({row:a})=>[t(i(S),{checked:a.isEnabled,"onUpdate:checked":n=>a.isEnabled=n,requestApi:i(q),params:{id:a.id,field:"isEnabled"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),t(r,{label:"是否默认",prop:"isDefault",sortable:"custom"},{default:l(({row:a})=>[t(i(S),{checked:a.isDefault,"onUpdate:checked":n=>a.isDefault=n,requestApi:i(q),onCallback:d,params:{id:a.id,field:"isDefault"}},null,8,["checked","onUpdate:checked","requestApi","params"])]),_:1}),t(r,{label:"排序",prop:"sort",sortable:"custom"},{default:l(({row:a})=>[t(i(B),{"org-value":a.sort,"onUpdate:orgValue":n=>a.sort=n,params:{id:a.id,field:"sort"},requestApi:i(q),label:"排序",type:"integer",onCallback:d},{default:l(()=>[s("div",null,b(a.sort||"--"),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),t(r,{label:"操作",fixed:"right",width:"150"},{default:l(({row:a})=>[t(i(U),{isDrawer:"",onOkCallback:d,title:"编辑语言",width:"580px",path:"setting/multilingual/languagesList/Info",params:{act:"detail",id:a.id}},{default:l(()=>e[11]||(e[11]=[s("a",{class:"btn-link"},"编辑",-1)])),_:2},1032,["params"]),t(N,{direction:"vertical"}),t(i(I),{onAfterDelete:d,requestApi:i(j),params:{id:a.id}},{default:l(()=>e[12]||(e[12]=[f("删除")])),_:2},1032,["requestApi","params"])]),_:1})]),_:1},8,["data","total","loading"])]),_:1},8,["spinning"]),g.value>0?(k(),y("div",oe,[t(i(O),{page:p.page,"onUpdate:page":e[3]||(e[3]=a=>p.page=a),size:p.size,"onUpdate:size":e[4]||(e[4]=a=>p.size=a),total:g.value,onCallback:d},null,8,["page","size","total"])])):w("",!0)])])])])}}});export{ge as default};
