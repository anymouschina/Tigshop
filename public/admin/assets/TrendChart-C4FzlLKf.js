/* empty css             */import{i as u}from"./index-u3wYLQ4o.js";import _ from"./SelectTime-CsyI170h.js";import{c as y}from"./overview-CN991QJN.js";import{d as g,G as x,K as v,i as f,q as b,A as h,B as w,c as z,o as T,b as D,e as V,F as k,I as O,_ as A}from"./index-CGYuOau0.js";import{f as C}from"./time-ClyPenjC.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-t3_hMxDC.js";import"./index-B-GURfkM.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import"./SelectTimeInterval-BYQIPzkk.js";const B=g({__name:"TrendChart",setup(M){const t=x({date_type:3,start_end_time:C(v(1,"sub"),"YYYY-MM-DD")}),n=f();let e;const s=f({grid:{left:"5%",right:"4%",bottom:"25%"},tooltip:{trigger:"axis"},legend:{data:["分销员销售额(元)"],icon:"rect",itemWidth:20,itemHeight:4},xAxis:{type:"category",data:[]},yAxis:{type:"value",name:"分销员销售额(元)"},dataZoom:[{backgroundColor:"#fff",fillerColor:"rgb(234, 236, 253, 0.6)",borderColor:"#bbc2f9",showDetail:!1,startValue:0,endValue:100,filterMode:"empty",left:"center",zoomLoxk:!0,bottom:3}],series:[{name:"分销员销售额(元)",data:[],type:"line",smooth:!1,lineStyle:{color:"#3aa1ff"},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(58,161,255, 0.5)"},{offset:1,color:"#ffffff"}],global:!1}},color:"#3aa1ff",emphasis:{scale:!1}}]}),l=()=>{e==null||e.resize()},p=()=>{e=u(n.value),e.setOption(s.value),window.addEventListener("resize",l)},d=async()=>{try{const o=await y({...t});if(o.errcode===0){const{horizontal_axis:a,longitudinal_axis:r}=o.item,c=a.map(m=>{let i="月";return t.date_type===2&&(i="日"),t.date_type===3&&(i="时"),m+i});s.value.xAxis.data=c,s.value.series[0].data=r,e.setOption(s.value)}}catch(o){O.error(o.message)}};return b(()=>{h(()=>{p()}),window.onresize=()=>{e==null||e.resize()},d()}),w(()=>{e==null||e.dispose(),window.removeEventListener("resize",l)}),(o,a)=>(T(),z(k,null,[D(_,{dateType:t.date_type,"onUpdate:dateType":a[0]||(a[0]=r=>t.date_type=r),dateValue:t.start_end_time,"onUpdate:dateValue":a[1]||(a[1]=r=>t.start_end_time=r),onOnOK:d},null,8,["dateType","dateValue"]),V("div",{class:"chart",ref_key:"chartRef",ref:n},null,512)],64))}}),H=A(B,[["__scopeId","data-v-2a08668a"]]);export{H as default};
