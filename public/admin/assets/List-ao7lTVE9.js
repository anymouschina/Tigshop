import{d as M,K as j,i as v,G,q as R,c as w,e as a,b as o,w as l,f as I,g as n,I as g,r as d,o as y,M as x,E as u,j as J,D as C}from"./index-DrbzVNl6.js";/* empty css             */import"./index-CeQDmMxd.js";import{P as S}from"./PopFormElm-BZp1_Wme.js";import{_ as O}from"./Switch.vue_vue_type_script_setup_true_lang-C5nzofSO.js";import{D as Q}from"./DeleteRecord-MR4vGqLl.js";/* empty css                                                                    */import{P as X}from"./Pagination-wR9huHyl.js";import{g as Y,u as k,d as Z,b as ee,c as te}from"./brand-C64i7ZtK.js";import{b as oe}from"./version-CL9k3sYf.js";import{_ as W}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";const ae={class:"container"},le={class:"content_wrapper"},se={class:"lyecs-table-list-warp"},ne={class:"list-table-tool lyecs-search-warp"},re={class:"advanced-search-warp list-table-tool-row"},de={class:"simple-form-warp"},ie={class:"simple-form-field"},pe={class:"form-group"},ue={class:"control-container"},ce={class:"simple-form-field"},me={class:"form-group"},fe={class:"control-container"},_e={class:"simple-form-field"},be={class:"form-group"},ve={class:"control-container"},ge={class:"simple-form-field"},ye={class:"form-group"},ke={class:"control-container"},he={class:"simple-form-field"},Ve={class:"list-table-tool-row"},we={class:"list-table-tool-col"},Ie={key:1},Ce={class:"table-container"},Se={class:"empty-warp"},Ue={key:0,class:"empty-bg"},qe={key:0,class:"pagination-con"},Te=M({__name:"List",setup(Ae){const B=j(),U=v([]),b=v(!0),h=v(0),f=v([]);v(!1);const s=G({page:1,size:B.get("pageSize"),sortField:"",sortOrder:"",keyword:"",firstWord:""}),i=async()=>{b.value=!0;try{const r=await Y({...s});U.value=r.records,h.value=r.total}catch(r){g.error(r.message)}finally{b.value=!1}};R(()=>{i()});const c=()=>{i()},N=({prop:r,order:e})=>{s.sortField=r,s.sortOrder=e=="ascending"?"asc":e=="descending"?"desc":"",i()},z=async r=>{try{const e=await ee(r,{ids:f.value});g.success("操作成功"),i()}catch(e){g.error(e.message)}},D=r=>{f.value=r.map(e=>e.brandId)},F=async()=>{try{const r=await te();g.success("操作成功"),i()}catch(r){g.error(r.message)}};return(r,e)=>{const _=d("el-button"),q=d("TigInput"),V=d("el-option"),A=d("el-select"),H=d("router-link"),P=d("el-popconfirm"),K=d("el-space"),T=d("el-form"),m=d("el-table-column"),$=d("el-divider"),E=d("el-table"),L=d("a-spin");return y(),w("div",ae,[a("div",le,[a("div",se,[a("div",ne,[o(T,{model:s},{default:l(()=>[a("div",re,[a("div",de,[a("div",ie,[a("div",pe,[a("div",ue,[o(q,{modelValue:s.keyword,"onUpdate:modelValue":e[0]||(e[0]=t=>s.keyword=t),name:"keyword",placeholder:"输入品牌名称",onKeyup:x(c,["enter"]),clearable:"",onClear:c},{append:l(()=>[o(_,{onClick:c},{default:l(()=>e[7]||(e[7]=[a("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1})]),_:1},8,["modelValue"])])])]),a("div",ce,[a("div",me,[e[8]||(e[8]=a("label",{class:"control-label"},[a("span",null,"是否显示：")],-1)),a("div",fe,[o(A,{modelValue:s.isShow,"onUpdate:modelValue":e[1]||(e[1]=t=>s.isShow=t),clearable:"",onChange:c},{default:l(()=>[o(V,{value:0,label:"不显示"}),o(V,{value:1,label:"显示"})]),_:1},8,["modelValue"])])])]),a("div",_e,[a("div",be,[e[9]||(e[9]=a("label",{class:"control-label"},[a("span",null,"是否热门：")],-1)),a("div",ve,[o(A,{modelValue:s.brandIsHot,"onUpdate:modelValue":e[2]||(e[2]=t=>s.brandIsHot=t),clearable:"",onChange:c},{default:l(()=>[o(V,{value:0,label:"否"}),o(V,{value:1,label:"是"})]),_:1},8,["modelValue"])])])]),a("div",ge,[a("div",ye,[e[10]||(e[10]=a("label",{class:"control-label"},[a("span",null,"首字母：")],-1)),a("div",ke,[o(q,{modelValue:s.firstWord,"onUpdate:modelValue":e[3]||(e[3]=t=>s.firstWord=t),onKeyup:x(c,["enter"]),clearable:"",onClear:c},null,8,["modelValue"])])])]),a("div",he,[o(_,{type:"primary",onClick:c},{default:l(()=>e[11]||(e[11]=[u("搜索")])),_:1})])])]),a("div",Ve,[a("div",we,[o(K,null,{default:l(()=>[o(n(W),{params:{act:"add"},isDrawer:"",path:"product/brand/Info",title:"添加品牌",width:"600px",onOkCallback:i},{default:l(()=>[o(_,{type:"primary"},{default:l(()=>e[12]||(e[12]=[u("添加品牌")])),_:1})]),_:1}),n(oe)()?(y(),J(H,{key:0,to:{path:"/setting/multilingual/translationContent/list",query:{type:"brand"}}},{default:l(()=>[o(_,null,{default:l(()=>e[13]||(e[13]=[u("批量翻译品牌名称")])),_:1})]),_:1})):I("",!0),o(P,{title:"您确认要批量删除所选数据吗？",onConfirm:e[4]||(e[4]=t=>z("del"))},{reference:l(()=>[o(_,{disabled:f.value.length===0},{default:l(()=>e[14]||(e[14]=[u("批量删除")])),_:1},8,["disabled"])]),_:1}),o(_,{loading:!1,disabled:f.value.length===0,onClick:F},{default:l(()=>e[15]||(e[15]=[u("批量更新品牌首字母 ")])),_:1},8,["disabled"]),f.value.length>0?(y(),w("span",Ie,[e[16]||(e[16]=u(" 已选择：")),a("b",null,C(f.value.length),1),e[17]||(e[17]=u(" 项 "))])):I("",!0)]),_:1})]),e[18]||(e[18]=a("div",{class:"list-table-tool-col"},null,-1))])]),_:1},8,["model"])]),a("div",Ce,[o(L,{spinning:b.value},{default:l(()=>[o(E,{data:U.value,loading:b.value,total:h.value,"row-key":"brandId","show-overflow-tooltip":"",onSelectionChange:D,onSortChange:N},{empty:l(()=>[a("div",Se,[b.value?I("",!0):(y(),w("div",Ue,"暂无数据"))])]),default:l(()=>[o(m,{type:"selection",width:"32"}),o(m,{width:200,label:"品牌名称",prop:"brandId",sortable:"custom"},{default:l(({row:t})=>[o(n(S),{"org-value":t.brandName,"onUpdate:orgValue":p=>t.brandName=p,max:30,params:{id:t.brandId,field:"brandName"},requestApi:n(k),label:"品牌名称",type:"textarea"},{default:l(()=>[u(C(t.brandName),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),o(m,{label:"品牌缩略图"},{default:l(({row:t})=>e[19]||(e[19]=[])),_:1}),o(m,{label:"首字母"},{default:l(({row:t})=>[o(n(S),{"org-value":t.firstWord,"onUpdate:orgValue":p=>t.firstWord=p,len:1,params:{id:t.brandId,field:"firstWord"},requestApi:n(k),label:"首字母",type:"input"},{default:l(()=>[a("div",null,C(t.firstWord||"-"),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),o(m,{label:"是否热销"},{default:l(({row:t})=>[o(n(O),{checked:t.brandIsHot,"onUpdate:checked":p=>t.brandIsHot=p,params:{id:t.brandId,field:"brandIsHot"},requestApi:n(k)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),o(m,{label:"是否显示",prop:"isShow",sortable:"custom"},{default:l(({row:t})=>[o(n(O),{checked:t.isShow,"onUpdate:checked":p=>t.isShow=p,params:{id:t.brandId,field:"isShow"},requestApi:n(k)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),o(m,{label:"排序",prop:"sortOrder",sortable:"custom"},{default:l(({row:t})=>[o(n(S),{"org-value":t.sortOrder,"onUpdate:orgValue":p=>t.sortOrder=p,params:{id:t.brandId,field:"sortOrder"},requestApi:n(k),extra:"默认值为50，数值越小，排序越靠前",label:"排序",type:"integer"},{default:l(()=>[a("div",null,C(t.sortOrder),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),o(m,{width:150,fixed:"right",label:"操作"},{default:l(({row:t})=>[o(n(W),{params:{act:"detail",id:t.brandId},isDrawer:"",path:"product/brand/Info",title:"编辑品牌",width:"600px",onOkCallback:i},{default:l(()=>e[20]||(e[20]=[a("a",{class:"btn-link"},"编辑",-1)])),_:2},1032,["params"]),o($,{direction:"vertical"}),o(n(Q),{params:{id:t.brandId},requestApi:n(Z),onAfterDelete:i},{default:l(()=>e[21]||(e[21]=[u("删除 ")])),_:2},1032,["params","requestApi"])]),_:1})]),_:1},8,["data","loading","total"])]),_:1},8,["spinning"]),h.value>0?(y(),w("div",qe,[o(n(X),{page:s.page,"onUpdate:page":e[5]||(e[5]=t=>s.page=t),size:s.size,"onUpdate:size":e[6]||(e[6]=t=>s.size=t),total:h.value,onCallback:i},null,8,["page","size","total"])])):I("",!0)])])])])}}});export{Te as default};
