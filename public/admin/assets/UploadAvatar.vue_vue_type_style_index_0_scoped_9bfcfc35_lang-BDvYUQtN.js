import{d as F,i as _,aU as I,r as N,c as r,o as l,f as o,e as s,g as e,n as O,j as f,w as a,b as d,aR as S,bm as $,a3 as A,a4 as E,_ as G}from"./index-DrbzVNl6.js";import"./index-CeQDmMxd.js";import{d as U}from"./vuedraggable.umd-DAKh-e3Q.js";import{_ as b}from"./Image.vue_vue_type_script_setup_true_lang-BWzCs9jv.js";import{i as C}from"./format-CRgx78oe.js";import{_ as y}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";const V={class:"gallery-pic"},z={class:"item-img add-photo-btn"},R={key:0,class:"item-action"},D={key:1,class:"gallery-list-warp"},P={class:"item","data-id":"img.imgId"},T={class:"img flex flex-justify-center"},q={class:"lyecs-dialogImage"},H=["onClick"],J={key:0,class:"item gallery-add-item add-gallery-photo-btn",draggable:"false"},K={class:"item gallery-add-item add-gallery-photo-btn",draggable:"false"},L=F({__name:"FormAddGallery",props:{photo:{type:String,default:""},photos:{type:Array,default:[]},isMultiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:Number,default:1}},emits:["update:photo","update:photos"],setup(p,{emit:x}){_(null);const n=p,{photo:c,photos:g,isMultiple:h,disabled:v}=I(n),m=x,u=i=>{if(h.value==!0){let t=g.value||[];m("update:photos",t.concat(i))}else m("update:photo",i[0].picUrl)},M=i=>{let t=g.value;t.splice(i,1),m("update:photos",t)},j=()=>{m("update:photo","")};return _(!1),_(""),(i,t)=>{const w=N("el-icon");return l(),r("div",V,[!e(h)&&p.type==1?(l(),r("div",{key:0,class:O("gallery-pic-select "+(e(c)?"have_image":""))},[s("div",z,[e(c)?(l(),f(e(b),{key:0,class:"gallery-img",src:e(C)(e(c))},null,8,["src"])):o("",!0),e(c)?o("",!0):(l(),f(e(y),{key:1,type:"gallery",class:"item-bg",onOkCallback:u,params:{isMultiple:n.isMultiple}},{default:a(()=>t[2]||(t[2]=[s("div",{class:"flex",style:{"flex-direction":"column",height:"80px",width:"80px","align-items":"center","justify-content":"center","line-height":"22px"}},[s("i",{class:"iconfont icon-tianjiatupian"}),s("span",null,"添加图片")],-1)])),_:1},8,["params"]))]),e(c)&&p.type==1?(l(),r("div",R,[d(e(y),{type:"gallery",class:"item item-edit",onOkCallback:u,params:{isMultiple:n.isMultiple}},{default:a(()=>t[3]||(t[3]=[s("span",{class:"iconfont icon-bianji1"},null,-1)])),_:1},8,["params"]),s("span",{onClick:j,class:"item item-remove iconfont icon-shanchu"})])):o("",!0)],2)):o("",!0),s("div",null,[p.type==2?(l(),f(e(y),{key:0,type:"gallery",onOkCallback:u,params:{isMultiple:n.isMultiple}},{default:a(()=>[s("div",null,[S(i.$slots,"default",{},void 0,!0)])]),_:3},8,["params"])):o("",!0)]),e(h)?(l(),r("div",D,[s("div",null,[d(e(U),{class:"gallery-list-ul","item-key":"picId",list:e(g),"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:t[0]||(t[0]=()=>{}),onEnd:t[1]||(t[1]=()=>{})},{item:a(({element:k,index:B})=>[s("div",P,[s("div",T,[s("a",q,[d(e(b),{class:"gallery-img",big:k.picUrl,src:e(C)(k.picThumb)},null,8,["big","src"])]),A(s("i",{onClick:Q=>M(B),class:"btn-del iconfont icon-cha"},null,8,H),[[E,!e(v)]])])])]),footer:a(()=>[e(v)?(l(),r("div",J,t[4]||(t[4]=[s("i",{class:"iconfont icon-tianjiatupian"},null,-1)]))):(l(),f(e(y),{key:1,type:"gallery",class:"",onOkCallback:u,params:{isMultiple:n.isMultiple}},{default:a(()=>[s("div",K,[d(w,{size:"25"},{default:a(()=>[d(e($))]),_:1})])]),_:1},8,["params"]))]),_:1},8,["list"])])])):o("",!0)])}}}),se=G(L,[["__scopeId","data-v-f0b737cf"]]);export{se as F};
