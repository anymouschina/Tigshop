import{g as B,a as k}from"./time-ClyPenjC.js";import{m as j,f as O,o as E,d as F,a as M}from"./index-Bm8xE4_u.js";import{_ as b}from"./Swiper.vue_vue_type_script_setup_true_lang-CDJrLTCc.js";import{i as g}from"./format-DFT-VJzO.js";import{g as T}from"./product-CxWf3yyB.js";import{_ as A}from"./View.vue_vue_type_script_setup_true_lang-BDtTiNW5.js";import{d as K,i as v,u as P,aa as w,Q as x,G as I,c as d,o as u,e as o,l,E as h,f as n,D as a,j as X,g as p,F as Y,b as $,w as S,_ as q}from"./index-CGYuOau0.js";/* empty css                                                             */import"./lodash-blK8fE0I.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";const G={class:"comp"},H={class:"cont"},L={class:"item-box"},N={class:"item"},U={key:0,class:"price-box"},W={key:1,class:"origin"},J={class:"line-box"},Q={class:"cont"},Z={class:"item-box"},R={class:"item"},ee={key:0,class:"price-box"},oe={key:1,class:"origin"},te=K({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup(C){const y=v({autoplay:!1,pagination:!1}),e=P(C,"module"),V=v({product_groups:[{group_title:"限时福利",group_sub_title:"直触底价 先到先得",group_type:"product",pruduct_list:[{product_id:0,product_sn:"",product_name:"德宝纸巾",product_desc:"",product_price:39,market_price:1999,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731650293KF9TjvpDKHOATMR3H7.jpg"},{product_id:0,product_sn:"",product_name:"薯片",product_desc:"",product_price:39,market_price:1999,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731650294a4EsPq1zkYme6p5OhC.jpg"},{product_id:0,product_sn:"",product_name:"饼干",product_desc:"",product_price:39,market_price:1999,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731650294hYUnaJSx7UhsjhhGEi.jpg"},{product_id:0,product_sn:"",product_name:"奶粉",product_desc:"",product_price:39,market_price:1999,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731650293zLV7bKUMAFWH6hrM7m.jpg"}],more_link:{link:{link:"",title:""},link_title:""}},{group_title:"发现好货",group_sub_title:"精选推荐 多买多省",group_type:"product",pruduct_list:[{product_id:0,product_sn:"",product_name:"高露洁牙膏",product_desc:"",product_price:39,market_price:1999,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/17316502936Ow5WaZszFnuYuGzB8.jpg"},{product_id:0,product_sn:"",product_name:"黑人牙膏",product_desc:"",product_price:39,market_price:1999,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731650293Tx6p8XKkDJPhDOOAT3.jpg"},{product_id:0,product_sn:"",product_name:"高露洁牙膏",product_desc:"",product_price:39,market_price:1999,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731650293yDagFw4VE9FG1oJSnW.jpg"},{product_id:0,product_sn:"",product_name:"黑人牙膏",product_desc:"",product_price:39,market_price:1999,pic_thumb:"https://oss.tigshop.com/img/gallery/202411/1731650294KeYpvFBkgkloWdbqX7.jpg"}],more_link:{link:{link:"",title:""},link_title:""}}],right_pic:{pic_id:1454,pic_thumb:"img/gallery/202411/1731650293Kfvp2BXElAzXCOY7pq.png?x-oss-process=image/resize,m_pad,h_200,h_200",pic_url:"https://oss.tigshop.com/img/gallery/202411/1731650293Kfvp2BXElAzXCOY7pq.png",pic_name:"Fi_ZwwrzwDQddtmqTBCAyht4dPI"},show_countdown:1,countdown_type:"daily_cycle",daily_time:[k(new Date,8),k(new Date,20)],specify_time:B(3),time_content:["时","分","秒"],pic_scale:"1:1",pic_fill_type:"cover",product_radius:6,more_position:"top",show_product_price:1,price_weight:400,crossed_out_price:1,product_sales:0,module_color:{title_color:"#171B1E",selling_point_color:"#999999",countdown_background_color:"#72B76C",countdown_color:"#ffffff",price_background_color:"#72B76C",price_color:"#ffffff",crossed_out_price_color:"#999999",line_color:"#eeeeee"},module_style:M,content_style:F});j(e.value,V.value);const i=w(()=>O(e.value.module_style??{},e.value.content_style??{},e.value.sub_title??{})),m={"3:2":"calc(100% / 3 * 2)","1:1":"calc(100% / 1 * 1)","3:4":"calc(100% / 3 * 4)","16:9":"calc(100% / 16 * 9)"},D={天:"DD",时:"HH",分:"mm",秒:"ss",毫秒:"SSS"},z=w(()=>{let r="";if(e.value.time_content&&e.value.time_content.length>0)for(let t=0;t<e.value.time_content.length;t++){const s=e.value.time_content[t];s&&(r+=D[s],t<e.value.time_content.length-1&&(r+=":"))}return r}),_=v({});x(()=>{e.value.product_groups&&e.value.product_groups.forEach(async(r,t)=>{if(r.pruduct_list.length>0)try{const s=await T({ids:r.pruduct_list.map(c=>c.product_id).join(",")});_.value[t]=[...E(r.pruduct_list),...s.filter_result]}catch(s){console.error(s)}})});const f=I({width:0,height:20});return x(()=>{if(e.value.right_pic){const r=new Image;r.src=g(e.value.right_pic.pic_url),r.onload=()=>{const t=r.width/r.height;f.width=t*20}}}),(r,t)=>{var s;return u(),d("div",{class:"module-ad-con",style:l(i.value.moduleStyle.box_padding_bottom+i.value.moduleStyle.box_padding_top+i.value.moduleStyle.box_padding_bottom+i.value.moduleStyle.box_padding+i.value.moduleStyle.background_size+i.value.moduleStyle.background_image)},[o("div",{class:"module-ad-content",style:l(i.value.moduleContentStyle.background_image+i.value.moduleContentStyle.background_size+i.value.moduleContentStyle.box_radius+i.value.moduleContentStyle.box_shadow+i.value.moduleContentStyle.inner_padding)},[o("div",G,[o("div",H,[o("div",null,[o("div",{class:"mk-title",style:l(`color:${e.value.module_color.title_color}`)},[h(a(e.value.product_groups[0].group_title)+" ",1),e.value.show_countdown?(u(),d("div",{key:0,class:"time",style:l(`background:${e.value.module_color.countdown_background_color}; color:${e.value.module_color.countdown_color}`)},[new Date().getTime()>Number(e.value.daily_time[0])?(u(),X(p(A),{key:0,countdown_type:e.value.countdown_type,"value-style":{color:e.value.module_color.countdown_color,"font-size":"12px",display:"block",height:"20px","line-height":"20px"},format:z.value,daily_time:e.value.daily_time,specify_time:e.value.specify_time},null,8,["countdown_type","value-style","format","daily_time","specify_time"])):(u(),d(Y,{key:1},[h("活动未开始")],64))],4)):n("",!0)],4),o("div",{class:"mk-stitle",style:l(`color:${e.value.module_color.selling_point_color}`)},a(e.value.product_groups[0].group_sub_title),5)]),o("div",L,[$(p(b),{swiperOption:{...y.value,slidesPerView:2,spaceBetween:6},modelValue:_.value[0],"onUpdate:modelValue":t[0]||(t[0]=c=>_.value[0]=c),onActiveIndexChange:t[1]||(t[1]=()=>{})},{default:S(({item:c})=>[o("div",N,[o("div",{class:"goods-img",style:l(`padding-top: ${m[e.value.pic_scale]}; border-radius: ${e.value.product_radius}px`)},[o("div",{class:"img",style:l(`padding-top: ${m[e.value.pic_scale]};
                                                border-radius: ${e.value.product_radius}px;
                                                background-size: ${e.value.pic_fill_type};
                                                background-image: url(${p(g)(c.pic_thumb)});`)},null,4)],4),e.value.show_product_price?(u(),d("div",U,[o("div",{class:"price",style:l(`background: ${e.value.module_color.price_background_color}; color: ${e.value.module_color.price_color}; font-weight: 700; font-family: font1`)}," ￥"+a(c.product_price),5)])):n("",!0),c.market_price&&e.value.crossed_out_price?(u(),d("div",W,[o("div",{style:l(`color: ${e.value.module_color.crossed_out_price_color};text-decoration: line-through;`)},a(c.market_price),5)])):n("",!0)])]),_:1},8,["swiperOption","modelValue"])])]),o("div",J,[o("div",{class:"line",style:l(`background:${e.value.module_color.line_color}`)},null,4)]),o("div",Q,[o("div",null,[o("div",{class:"mk-title",style:l(`color:${e.value.module_color.title_color}`)},[h(a(e.value.product_groups[1].group_title)+" ",1),o("div",{style:l(`margin-left: 2px; width: ${f.width}px; height: 20px; background: url(${p(g)((s=e.value.right_pic)==null?void 0:s.pic_url)}) center top / cover no-repeat;`)},null,4)],4),o("div",{class:"mk-stitle",style:l(`color:${e.value.module_color.selling_point_color}`)},a(e.value.product_groups[1].group_sub_title),5)]),o("div",Z,[$(p(b),{swiperOption:{...y.value,slidesPerView:2,spaceBetween:6},modelValue:_.value[1],"onUpdate:modelValue":t[2]||(t[2]=c=>_.value[1]=c),onActiveIndexChange:t[3]||(t[3]=()=>{})},{default:S(({item:c})=>[o("div",R,[o("div",{class:"goods-img",style:l(`padding-top: ${m[e.value.pic_scale]}; border-radius: ${e.value.product_radius}px`)},[o("div",{class:"img",style:l(`padding-top: ${m[e.value.pic_scale]};
                                                border-radius: ${e.value.product_radius}px;
                                                background-size: ${e.value.pic_fill_type};
                                                background-image: url(${p(g)(c.pic_thumb)});`)},null,4)],4),e.value.show_product_price?(u(),d("div",ee,[o("div",{class:"price",style:l(`background: ${e.value.module_color.price_background_color}; color: ${e.value.module_color.price_color}; font-weight: 700; font-family: font1`)}," ￥"+a(c.product_price),5)])):n("",!0),c.market_price&&e.value.crossed_out_price?(u(),d("div",oe,[o("div",{style:l(`color: ${e.value.module_color.crossed_out_price_color};text-decoration: line-through;`)},a(c.market_price),5)])):n("",!0)])]),_:1},8,["swiperOption","modelValue"])])])])],4)],4)}}}),ve=q(te,[["__scopeId","data-v-2342794d"]]);export{ve as default};
