import{d as z,K as V,i as _,G as O,q as S,c as f,e as a,b as e,w as s,g as l,M as q,f as C,I as A,r as d,o as v,E as g,D as E}from"./index-DrbzVNl6.js";/* empty css             */import"./index-CeQDmMxd.js";import{_ as N}from"./Switch.vue_vue_type_script_setup_true_lang-C5nzofSO.js";import{D as T}from"./DeleteRecord-MR4vGqLl.js";/* empty css                                                                    */import{P as G}from"./Pagination-wR9huHyl.js";import{g as L,u as B,d as F}from"./eCard-CW3GHwSC.js";import{_ as b}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";const K={class:"container"},P={class:"content_wrapper"},$={class:"lyecs-table-list-warp"},M={class:"list-table-tool lyecs-search-warp"},R={class:"advanced-search-warp list-table-tool-row"},j={class:"simple-form-warp"},H={class:"simple-form-field"},J={class:"form-group"},Q={class:"control-container"},W={class:"simple-form-field"},X={class:"form-group"},Y={class:"control-container"},Z={class:"table-container"},ee={class:"empty-warp"},te={key:0,class:"empty-bg"},ae={key:0,class:"pagination-con"},ue=z({__name:"List",setup(oe){const I=V(),k=_(),c=_(!0),m=_(0),i=O({page:1,size:I.get("pageSize"),sortField:"",sortOrder:"",keyword:""}),r=async()=>{c.value=!0;try{const p=await L({...i});k.value=p.records,m.value=p.total}catch(p){A.error(p.message)}finally{c.value=!1}};S(()=>{r()});const u=()=>{r()};return(p,t)=>{const h=d("el-button"),D=d("TigInput"),n=d("el-table-column"),w=d("el-divider"),U=d("el-table"),x=d("a-spin");return v(),f("div",K,[a("div",P,[a("div",$,[a("div",M,[a("div",R,[a("div",j,[a("div",H,[a("div",J,[a("div",Q,[e(l(b),{params:{act:"add"},isDrawer:"",delayed:2e4,path:"promotion/eCard/Info",title:"添加电子卡券组",width:"600px",onOkCallback:r},{default:s(()=>[e(h,{type:"primary"},{default:s(()=>t[4]||(t[4]=[g("添加电子卡券组")])),_:1})]),_:1})])])]),a("div",W,[a("div",X,[a("div",Y,[e(D,{modelValue:i.keyword,"onUpdate:modelValue":t[0]||(t[0]=o=>i.keyword=o),name:"wechat_live_title",placeholder:"输入电子卡券组名称",onKeyup:q(u,["enter"]),clearable:"",onClear:u},{append:s(()=>[e(h,{onClick:u},{default:s(()=>t[5]||(t[5]=[a("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1})]),_:1},8,["modelValue"])])])])])])]),a("div",Z,[e(x,{spinning:c.value},{default:s(()=>[e(U,{data:k.value,"row-key":"groupId",total:m.value},{empty:s(()=>[a("div",ee,[c.value?C("",!0):(v(),f("div",te,"暂无数据"))])]),default:s(()=>[e(n,{label:"分组ID",prop:"groupId",width:80}),e(n,{label:"分组名称",prop:"groupName"}),e(n,{label:"是否使用",prop:"isUse"},{default:s(({row:o})=>[e(l(N),{checked:o.isUse,"onUpdate:checked":y=>o.isUse=y,params:{id:o.groupId,field:"isUse"},requestApi:l(B)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),e(n,{label:"备注",prop:"remark",width:300},{default:s(({row:o})=>[g(E(o.remark||"--"),1)]),_:1}),e(n,{label:"创建时间",prop:"addTime"}),e(n,{label:"修改时间",prop:"upTime"}),e(n,{label:"操作",fixed:"right",width:200},{default:s(({row:o})=>[e(l(b),{isDrawer:"",onOkCallback:r,showOnOk:!1,showClose:!1,title:"查看卡列表",width:"800px",path:"promotion/eCard/eCardList/List",params:{groupId:o.groupId}},{default:s(()=>t[6]||(t[6]=[a("a",{class:"btn-link"},"查看卡列表",-1)])),_:2},1032,["params"]),e(w,{direction:"vertical"}),e(l(b),{isDrawer:"",onOkCallback:r,title:"编辑电子卡券组",width:"600px",path:"promotion/eCard/Info",params:{act:"detail",id:o.groupId}},{default:s(()=>t[7]||(t[7]=[a("a",{class:"btn-link"},"编辑",-1)])),_:2},1032,["params"]),e(w,{direction:"vertical"}),e(l(T),{params:{id:o.groupId},requestApi:l(F),onAfterDelete:t[1]||(t[1]=y=>r())},{default:s(()=>t[8]||(t[8]=[g("删除 ")])),_:2},1032,["params","requestApi"])]),_:1})]),_:1},8,["data","total"])]),_:1},8,["spinning"]),m.value>0?(v(),f("div",ae,[e(l(G),{page:i.page,"onUpdate:page":t[2]||(t[2]=o=>i.page=o),size:i.size,"onUpdate:size":t[3]||(t[3]=o=>i.size=o),total:m.value,onCallback:r},null,8,["page","size","total"])])):C("",!0)])])])])}}});export{ue as default};
