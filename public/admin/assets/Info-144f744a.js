import{d as R,j as i,E as U,s as F,x as L,K as p,r as n,o as w,c as q,e as _,k as O,w as a,b as e,f as j,H as c,$ as G,a0 as A,h as H}from"./index-7c2d2aef.js";import{F as I}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-9b6073fb.js";import{a as K,c as M}from"./example-df148fa6.js";import"./index-6c62cf9b.js";import"./vuedraggable.umd-75ad0f8f.js";import"./Image.vue_vue_type_script_setup_true_lang-36bd437b.js";import"./format-4e0206d3.js";import"./config-9548fa9b.js";import"./config-e2aa16d1.js";import"./util-1ee03ed8.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";const T={class:"container"},$={class:"content_wrapper"},z={class:"lyecs-form-table"},J=_("div",{class:"extra"},"请统一上传比例为2:1的图片，宽200px，高100px（高清）",-1),re=R({__name:"Info",props:{id:Number,act:String,isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(y,{expose:h,emit:k}){const u=k,m=y,f=i(!0),v=U().currentRoute.value.query,C=i(m.isDialog?m.act:String(v.act)),b=i(m.isDialog?m.id:Number(v.id)),S=C.value==="add"?"insert":"update",g=F(),o=i({});L(()=>{B()});const B=async()=>{try{const l=await K({id:b.value});Object.assign(o.value,l.item)}catch(l){p.error(l.message),u("close")}finally{f.value=!1}},x=async()=>{await g.value.validate();try{u("update:confirmLoading",!0);const l=await M(S,{id:b.value,...o.value});u("submitCallback",l),p.success(l.message)}catch(l){p.error(l.message)}finally{u("update:confirmLoading",!1)}};return h({onFormSubmit:()=>{x()}}),(l,t)=>{const d=n("el-input"),r=n("el-form-item"),V=n("el-radio"),N=n("el-radio-group"),D=n("el-button"),E=n("el-form");return w(),q("div",T,[_("div",$,[_("div",z,[f.value?H("",!0):(w(),O(E,{key:0,ref_key:"formRef",ref:g,model:o.value,"label-width":"auto"},{default:a(()=>[e(r,{prop:"example_name",label:"示例模板名称",rules:[{required:!0,message:"示例模板名称不能为空!"}]},{default:a(()=>[e(d,{modelValue:o.value.example_name,"onUpdate:modelValue":t[0]||(t[0]=s=>o.value.example_name=s)},null,8,["modelValue"])]),_:1}),e(r,{prop:"example_logo",label:"示例模板LOGO"},{default:a(()=>[e(j(I),{photo:o.value.example_logo,"onUpdate:photo":t[1]||(t[1]=s=>o.value.example_logo=s)},null,8,["photo"]),J]),_:1}),e(r,{prop:"example_desc",label:"示例模板描述"},{default:a(()=>[e(d,{type:"textarea",row:"2",modelValue:o.value.example_desc,"onUpdate:modelValue":t[2]||(t[2]=s=>o.value.example_desc=s)},null,8,["modelValue"])]),_:1}),e(r,{prop:"sort_order",label:"排序"},{default:a(()=>[e(d,{modelValue:o.value.sort_order,"onUpdate:modelValue":t[3]||(t[3]=s=>o.value.sort_order=s)},null,8,["modelValue"])]),_:1}),e(r,{prop:"is_show",label:"是否显示"},{default:a(()=>[e(N,{modelValue:o.value.is_show,"onUpdate:modelValue":t[4]||(t[4]=s=>o.value.is_show=s)},{default:a(()=>[e(V,{value:1},{default:a(()=>[c("是")]),_:1}),e(V,{value:0},{default:a(()=>[c("否")]),_:1})]),_:1},8,["modelValue"])]),_:1}),G(e(r,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[e(D,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:x},{default:a(()=>[c("提交")]),_:1},512)]),_:1},512),[[A,!m.isDialog]])]),_:1},8,["model"]))])])])}}});export{re as default};
