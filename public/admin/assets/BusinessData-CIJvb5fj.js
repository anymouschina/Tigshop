import{d as j,m as x,u as T,i as u,p as E,q as F,r as f,c as _,o as i,F as K,f as w,b as d,aP as U,w as r,g as v,j as m,L as q,I as L,_ as P}from"./index-CGYuOau0.js";import"./index-B-GURfkM.js";import{g as $}from"./currencyManagement-Ctv3q6kF.js";import{c as C}from"./version-CpBOsX2d.js";import{_ as S}from"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";const z={key:0,style:{width:"100%"}},A={key:1,class:"flex flex-justify-between flex-align-center",style:{width:"100%"}},G=j({__name:"BusinessData",props:x({disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},data_type:{type:Number,default:2},data_id:{type:Number,default:0},type:{type:String,default:"input"},splitString:{type:String,value:","}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:x(["update:modelValue"],["update:modelValue"]),setup(a,{emit:B}){const s=a,b=B,e=T(a,"modelValue"),k=u(""),l=u(!1),g=async()=>{try{const t=await $({data_type:s.data_type,data_id:s.data_id});t.item.length<=0?l.value=!0:(k.value=t.translation_name,l.value=!1)}catch(t){L.error(t.message)}};E(e,t=>{t!=k.value?l.value=!0:l.value=!1});const n=u(),y=u();y.value=s.splitString||",",s.type=="select"&&console.log(e.value),typeof e.value=="string"?n.value=e.value?e.value.split(y.value):[]:n.value=e.value;const D=t=>{typeof e.value=="string"?b("update:modelValue",n.value.join(y.value)):b("update:modelValue",n.value)},o=u(),I=t=>{t&&(o.value=t)},M=()=>{n.value.indexOf(o.value)===-1&&o.value&&(n.value.push(o.value),o.value="")};return F(()=>{s.data_id>0&&g()}),(t,p)=>{const c=f("SvgIcon"),V=f("el-button"),N=f("el-input"),O=f("el-select");return i(),_(K,null,[a.type=="input"?(i(),_("div",z,[d(N,{modelValue:e.value,"onUpdate:modelValue":p[0]||(p[0]=h=>e.value=h),disabled:a.disabled,placeholder:a.placeholder},U({_:2},[v(C)()?{name:"append",fn:r(()=>[d(v(S),{isDrawer:"",onOkCallback:g,title:"编辑",width:"800px",path:"setting/multilingual/translationContent/BusinessDialog",params:{act:l.value?"add":"detail",id:a.data_id,data_type:a.data_type,translation_name:e.value}},{default:r(()=>[d(V,null,{default:r(()=>[l.value?(i(),m(c,{key:1,name:"multilingual-multilingual-a",width:"18",height:"18",style:{"margin-bottom":"5px"}})):(i(),m(c,{key:0,name:"multilingual-multilingual",width:"18",height:"18",style:{"margin-bottom":"5px"}}))]),_:1})]),_:1},8,["params"])]),key:"0"}:void 0]),1032,["modelValue","disabled","placeholder"])])):w("",!0),a.type=="select"?(i(),_("div",A,[d(O,{class:"input-tag-warp",style:{width:"100%"},teleported:!1,modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=h=>n.value=h),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"","popper-class":"input-tag-popper-warp",onChange:D,"filter-method":I,onKeyup:q(M,["enter"])},null,8,["modelValue"]),v(C)()?(i(),m(v(S),{key:0,isDrawer:"",onOkCallback:g,title:"编辑",width:"800px",path:"setting/multilingual/translationContent/BusinessDialog",params:{act:l.value?"add":"detail",id:a.data_id,data_type:a.data_type,translation_name:e.value}},{default:r(()=>[d(V,{style:{"margin-left":"10px"}},{default:r(()=>[l.value?(i(),m(c,{key:1,name:"multilingual-multilingual-a",width:"18",height:"18"})):(i(),m(c,{key:0,name:"multilingual-multilingual",width:"18",height:"18"}))]),_:1})]),_:1},8,["params"])):w("",!0)])):w("",!0)],64)}}}),X=P(G,[["__scopeId","data-v-752b8faf"]]);export{X as B};
