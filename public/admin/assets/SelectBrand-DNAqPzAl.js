import{a as O}from"./brand-C64i7ZtK.js";import{d as j,m as C,u as I,q,i as o,I as T,r as p,j as y,o as s,w as v,b as B,e as l,c as m,f as U,n as x,F as N,a as F,D as V,E as G,_ as H}from"./index-DrbzVNl6.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-MgR9Z6jO.js";const J={class:"option"},K={key:0,class:"all_brand"},P=["onClick"],Q={class:"right"},R={class:"scroll-container"},X=j({__name:"SelectBrand",props:C({multiple:{type:Boolean,default:!1},firstWordList:{type:Array,default:()=>[]},brandList:{type:Array,default:()=>[]},allBrandList:{type:Array,default:()=>[]}},{brandId:{},brandIdModifiers:{},brandForm:{},brandFormModifiers:{}}),emits:C(["update:brandId","update:brandIds","update:brandForm","onChange"],["update:brandId","update:brandForm"]),setup(d,{emit:W}){const n=d,b=W,_=I(d,"brandId"),k=I(d,"brandForm"),w={label:"brandName",value:"brandId"},M=(e,a)=>a.brandName.toLowerCase().indexOf(e.toLowerCase())>=0,S=e=>{r.value.map(a=>{a.brandId==e&&(k.value=a)}),n.multiple?b("update:brandIds",e):b("update:brandId",e),i.value="全部",b("onChange",e)};q(()=>{n.brandList.length>1&&n.firstWordList.length>1&&n.allBrandList.length>1?(r.value=n.brandList,u.value=n.firstWordList,c.value=n.allBrandList):h()});const g=o(!1),i=o("全部"),u=o([]),r=o([]),c=o([]),h=async()=>{try{const e=await O();u.value=e.firstWordList,r.value=e.brandList,c.value=e.brandList}catch(e){T.error(e.message)}finally{g.value=!0}},L=(e,a)=>{if(i.value=a,a=="全部"){r.value=c.value;return}r.value=c.value.filter(f=>f.firstWord==a)};return(e,a)=>{const f=p("el-divider"),z=p("el-option"),A=p("a-spin"),D=p("el-select");return s(),y(D,{multiple:d.multiple,modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=t=>_.value=t),allowClear:!0,fieldNames:w,"filter-option":M,clearable:"",filterable:"",placeholder:"选择品牌","popper-class":"brand-select","show-search":"",onChange:S,onVisibleChange:h},{default:v(()=>[l("div",J,[u.value?(s(),m("div",K,[l("ul",null,[l("li",{class:x(i.value=="全部"?"current":"")},[l("a",{onClick:a[0]||(a[0]=t=>L(t,"全部"))},"全部")],2),(s(!0),m(N,null,F(u.value,(t,Y)=>(s(),m("li",{class:x(i.value==t?"current":"")},[l("a",{onClick:E=>L(E,t)},V(t),9,P)],2))),256))]),B(f,{style:{margin:"4px 0 12px"}})])):U("",!0),l("div",Q,[l("div",R,[(s(!0),m(N,null,F(r.value,t=>(s(),y(z,{key:t.brandId,label:t.brandName,value:t.brandId},{default:v(()=>[G(V(t.brandName),1)]),_:2},1032,["label","value"]))),128))])])])]),empty:v(()=>[B(A,{spinning:!g.value,size:"small",style:{width:"100%","padding-top":"150px"}},null,8,["spinning"])]),_:1},8,["multiple","modelValue"])}}}),ae=H(X,[["__scopeId","data-v-9bba8f85"]]);export{ae as S};
