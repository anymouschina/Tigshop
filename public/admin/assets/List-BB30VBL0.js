/* empty css             */import{y as w,d as $,K as z,i as p,G as R,L as G,q as K,c as x,e,b as t,w as r,I as V,r as c,o as v,f as P,g as I,E as b,F as C,a as S,j as h,D,_ as X}from"./index-DrbzVNl6.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-MgR9Z6jO.js";import"./index-CeQDmMxd.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{_ as A}from"./SelectShop.vue_vue_type_script_setup_true_lang-FZKjv82Z.js";import{S as H}from"./SelectLogisticsCompany-D6TqCoRE.js";import{S as J}from"./SelectTimeInterval-C-WvSG46.js";import{r as Q}from"./export-D_WXJj3y.js";import{a as W}from"./version-CL9k3sYf.js";import{f as U}from"./time-Bh5UhrfW.js";import"./shop-DM8_bN_f.js";import"./logisticsCompany-BiUbX96X.js";const Z=()=>w({url:"order/order/getExportItemList",method:"get"}),ee=()=>w({url:"order/order/exportItemInfo",method:"get"}),le=g=>w({url:"order/order/saveExportItem",method:"post",data:g}),te=g=>w({url:"order/order/orderExport",method:"get",responseType:"arraybuffer",params:g}),oe={class:"container"},se={class:"content_wrapper"},ae={class:"lyecs-table-list-warp"},ne={class:"list-table-tool lyecs-search-warp"},re={class:"advanced-search-warp list-table-tool-row"},ie={class:"simple-form-warp"},de={class:"simple-form-field"},ue={class:"form-group"},me={class:"control-container"},pe={key:0,class:"simple-form-field"},ce={class:"form-group"},ve={class:"control-container"},fe={class:"simple-form-field"},_e={class:"form-group"},be={class:"control-container"},ge={class:"simple-form-field"},ye={class:"form-group"},xe={class:"control-container"},Ve={class:"simple-form-field"},Ie={class:"form-group"},we={class:"control-container"},Ee={class:"simple-form-field"},Te={class:"form-group"},ke={class:"control-container"},Ce={class:"simple-form-field"},Se={class:"form-group"},he={class:"control-container"},De={class:"simple-form-field"},Ue={class:"form-group"},Le={class:"control-container"},Ye={class:"simple-form-field"},Me={class:"form-group"},Ne={class:"control-container"},je={class:"simple-form-field"},qe={class:"form-group"},Be={class:"control-container"},Fe={style:{"margin-top":"20px"}},Oe={style:{width:"100%"}},$e={style:{"margin-top":"20px","margin-left":"5px"}},ze={style:{"margin-top":"20px"}},Re=$({__name:"List",setup(g){z();const L=p(localStorage.getItem("adminType"));p();const E=p(!0);p(0);const s=R({exportItem:"",addStartTime:U(G(15,"sub"),"YYYY-MM-DD"),addEndTime:U(new Date,"YYYY-MM-DD")}),f=p([]),i=p([]),Y=async()=>{E.value=!0;try{const n=await Z(),l=await ee();let d=Object.entries(n).map(([u,m])=>({key:u,value:m})),a=Object.entries(l).map(([u,m])=>({key:u,value:m}));f.value=d.filter(u=>!a.some(m=>u.key===m.key)),i.value=a}catch(n){V.error(n.message)}finally{E.value=!1}};K(async()=>{await Y()});const M=(n,l)=>{i.value.some(a=>a.key===n.key&&a.value===n.value)||(i.value.push(n),f.value.splice(l,1))},N=(n,l)=>{i.value.splice(l,1),f.value.push(n)},j=()=>{f.value.push(...i.value),i.value.length=0},q=async()=>{try{if(i.value.length>0){const n=i.value.map(d=>d.key).join(","),l=await le({exportItem:n});V.success("操作成功")}}catch(n){V.error(n.message)}},y=p(!1),B=async()=>{y.value=!0;try{s.exportItem=i.value.map(l=>l.key).join(",");const n=await te(s);y.value=!1,Q(n,"导出订单")}catch(n){V.error(n.message)}finally{y.value=!1}};return(n,l)=>{const d=c("TigInput"),a=c("el-option"),u=c("el-select"),m=c("el-button"),T=c("el-tag"),k=c("el-form-item"),F=c("el-form");return v(),x("div",oe,[e("div",se,[e("div",ae,[e("div",ne,[l[25]||(l[25]=e("div",{class:"notice-warp"},[e("p",null,"提示："),e("p",null,"1、如果数据量过大导至查询时间过久或者直接显示超时报错，请尝试缩小查询的时间间隔！"),e("p",null,"2、可通过单击可增加项和导出项目来选择需要导出的参数，也可通过拖拽项目来调整参数排序（商品信息栏目默认在单行最后）")],-1)),t(F,{model:s,inline:""},{default:r(()=>[e("div",re,[e("div",ie,[e("div",de,[e("div",ue,[e("div",me,[t(d,{modelValue:s.keyword,"onUpdate:modelValue":l[0]||(l[0]=o=>s.keyword=o),name:"keyword",placeholder:"订单号/收货人姓名/订单"},null,8,["modelValue"])])])]),L.value!="shop"&&I(W)()?(v(),x("div",pe,[e("div",ce,[l[11]||(l[11]=e("label",{class:"control-label"},[e("span",null,"选择店铺：")],-1)),e("div",ve,[t(I(A),{modelValue:s.shopId,"onUpdate:modelValue":l[1]||(l[1]=o=>s.shopId=o)},null,8,["modelValue"])])])])):P("",!0),e("div",fe,[e("div",_e,[l[12]||(l[12]=e("label",{class:"control-label"},[e("span",null,"订单状态：")],-1)),e("div",be,[t(u,{placeholder:"请选择支付状态",modelValue:s.orderStatus,"onUpdate:modelValue":l[2]||(l[2]=o=>s.orderStatus=o)},{default:r(()=>[t(a,{value:0,label:"待付款"}),t(a,{value:1,label:"待发货"}),t(a,{value:2,label:"已发货"}),t(a,{value:3,label:"已取消"}),t(a,{value:4,label:"无效"}),t(a,{value:5,label:"已完成"})]),_:1},8,["modelValue"])])])]),e("div",ge,[e("div",ye,[l[13]||(l[13]=e("label",{class:"control-label"},[e("span",null,"支付状态：")],-1)),e("div",xe,[t(u,{modelValue:s.payStatus,"onUpdate:modelValue":l[3]||(l[3]=o=>s.payStatus=o),clearable:""},{default:r(()=>[t(a,{value:0,label:"未付款"}),t(a,{value:1,label:"支付中"}),t(a,{value:2,label:"已付款"}),t(a,{value:3,label:"退货中"}),t(a,{value:4,label:"已退款"})]),_:1},8,["modelValue"])])])]),e("div",Ve,[e("div",Ie,[l[14]||(l[14]=e("label",{class:"control-label"},[e("span",null,"发货状态：")],-1)),e("div",we,[t(u,{modelValue:s.shippingStatus,"onUpdate:modelValue":l[4]||(l[4]=o=>s.shippingStatus=o),clearable:""},{default:r(()=>[t(a,{value:0,label:"待发货"}),t(a,{value:1,label:"已发货"}),t(a,{value:2,label:"已收货"}),t(a,{value:3,label:"配送中"}),t(a,{value:4,label:"配送失败"})]),_:1},8,["modelValue"])])])]),e("div",Ee,[e("div",Te,[l[15]||(l[15]=e("label",{class:"control-label"},[e("span",null,"详细地址：")],-1)),e("div",ke,[t(d,{type:"text",modelValue:s.address,"onUpdate:modelValue":l[5]||(l[5]=o=>s.address=o)},null,8,["modelValue"])])])]),e("div",Ce,[e("div",Se,[l[16]||(l[16]=e("label",{class:"control-label"},[e("span",null,"Email：")],-1)),e("div",he,[t(d,{type:"text",modelValue:s.email,"onUpdate:modelValue":l[6]||(l[6]=o=>s.email=o)},null,8,["modelValue"])])])]),e("div",De,[e("div",Ue,[l[17]||(l[17]=e("label",{class:"control-label"},[e("span",null,"手机号：")],-1)),e("div",Le,[t(d,{type:"text",modelValue:s.mobile,"onUpdate:modelValue":l[7]||(l[7]=o=>s.mobile=o)},null,8,["modelValue"])])])]),e("div",Ye,[e("div",Me,[l[18]||(l[18]=e("label",{class:"control-label"},[e("span",null,"配送物流：")],-1)),e("div",Ne,[t(I(H),{id:s.logisticsId,"onUpdate:id":l[8]||(l[8]=o=>s.logisticsId=o)},null,8,["id"])])])]),e("div",je,[e("div",qe,[l[19]||(l[19]=e("label",{class:"control-label"},[e("span",null,"下单时间：")],-1)),e("div",Be,[t(I(J),{type:"date","start-date":s.addStartTime,"onUpdate:startDate":l[9]||(l[9]=o=>s.addStartTime=o),"end-date":s.addEndTime,"onUpdate:endDate":l[10]||(l[10]=o=>s.addEndTime=o)},null,8,["start-date","end-date"])])])])])]),t(m,{type:"primary",onClick:B,loading:y.value,disabled:i.value.length===0},{default:r(()=>l[20]||(l[20]=[b("导出EXCEL")])),_:1},8,["loading","disabled"]),e("div",Fe,[t(k,null,{label:r(()=>l[21]||(l[21]=[e("span",{class:"item-title-style"},"导出项目",-1)])),default:r(()=>[e("div",Oe,[(v(!0),x(C,null,S(i.value,(o,_)=>(v(),h(T,{size:"large",key:_,class:"mx-1",closable:"",onClose:O=>N(o,_),"disable-transitions":!0,type:"info"},{default:r(()=>[b(D(o.value),1)]),_:2},1032,["onClose"]))),128))]),e("div",$e,[t(m,{onClick:q},{default:r(()=>l[22]||(l[22]=[b("保存")])),_:1}),t(m,{onClick:j},{default:r(()=>l[23]||(l[23]=[b("清空")])),_:1})])]),_:1})]),e("div",ze,[t(k,null,{label:r(()=>l[24]||(l[24]=[e("span",{class:"item-title-style"},"可增加项",-1)])),default:r(()=>[(v(!0),x(C,null,S(f.value,(o,_)=>(v(),h(T,{size:"large","disable-transitions":!0,key:_,class:"mx-1",type:"info",onClick:O=>M(o,_)},{default:r(()=>[b(D(o.value),1)]),_:2},1032,["onClick"]))),128))]),_:1})])]),_:1},8,["model"])])])])])}}}),al=X(Re,[["__scopeId","data-v-ea4bf178"]]);export{al as default};
