import{d as O,m as I,u as j,i as o,p as E,q as F,r as f,c as w,o as i,F as K,f as k,b as d,aS as U,w as r,g,j as m,M as q,I as $,_ as z}from"./index-DrbzVNl6.js";import"./index-CeQDmMxd.js";import{g as A}from"./currencyManagement-ChS-Zs2m.js";import{b as T}from"./version-CL9k3sYf.js";import{_ as C}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";const G={key:0,style:{width:"100%"}},H={key:1,class:"flex flex-align-center",style:{width:"100%"}},J=O({__name:"BusinessData",props:I({disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},dataType:{type:Number,default:2},dataId:{type:Number,default:0},maxlength:{type:Number,default:999999},type:{type:String,default:"input"},splitString:{type:String,value:","}},{modelValue:{type:String,default:""},modelModifiers:{}}),emits:I(["update:modelValue"],["update:modelValue"]),setup(e,{emit:S}){const s=e,V=S,a=j(e,"modelValue"),x=o(""),l=o(!1),v=async()=>{try{const t=await A({dataType:s.dataType,dataId:s.dataId});t.length<=0?l.value=!0:(x.value=t.translationName,l.value=!1)}catch(t){$.error(t.message)}};E(a,t=>{t!=x.value?l.value=!0:l.value=!1});const n=o(),y=o();y.value=s.splitString||",",s.type=="select"&&(console.log(a.value),typeof a.value=="string"?n.value=a.value?a.value.split(y.value):[]:n.value=a.value);const _=t=>{typeof a.value=="string"?V("update:modelValue",n.value.join(y.value)):V("update:modelValue",n.value)},u=o(),B=t=>{t&&(u.value=t)},N=()=>{n.value.indexOf(u.value)===-1&&u.value&&(n.value.push(u.value),u.value="")};return F(()=>{s.dataId>0&&v()}),(t,p)=>{const c=f("SvgIcon"),b=f("el-button"),D=f("TigInput"),M=f("el-select");return i(),w(K,null,[e.type=="input"?(i(),w("div",G,[d(D,{classType:"tig-form-input",modelValue:a.value,"onUpdate:modelValue":p[0]||(p[0]=h=>a.value=h),disabled:e.disabled,placeholder:e.placeholder,maxlength:e.maxlength},U({_:2},[g(T)()?{name:"append",fn:r(()=>[d(g(C),{isDrawer:"",onOkCallback:v,title:"编辑",width:"800px",path:"setting/multilingual/translationContent/BusinessDialog",params:{act:l.value?"add":"detail",id:e.dataId,dataType:e.dataType,translationName:a.value}},{default:r(()=>[d(b,null,{default:r(()=>[l.value?(i(),m(c,{key:1,name:"multilingual-multilingual-a",width:"18",height:"18"})):(i(),m(c,{key:0,name:"multilingual-multilingual",width:"18",height:"18"}))]),_:1})]),_:1},8,["params"])]),key:"0"}:void 0]),1032,["modelValue","disabled","placeholder","maxlength"])])):k("",!0),e.type=="select"?(i(),w("div",H,[d(M,{class:"input-tag-warp",style:{width:"310px !important"},teleported:!1,modelValue:n.value,"onUpdate:modelValue":p[1]||(p[1]=h=>n.value=h),multiple:"",filterable:"","allow-create":"","default-first-option":"","reserve-keyword":!1,placeholder:"","popper-class":"input-tag-popper-warp",onChange:_,"filter-method":B,onKeyup:q(N,["enter"])},null,8,["modelValue"]),g(T)()?(i(),m(g(C),{key:0,isDrawer:"",onOkCallback:v,title:"编辑",width:"800px",path:"setting/multilingual/translationContent/BusinessDialog",params:{act:l.value?"add":"detail",id:e.dataId,dataType:e.dataType,translationName:a.value}},{default:r(()=>[d(b,{style:{"margin-left":"10px"}},{default:r(()=>[l.value?(i(),m(c,{key:1,name:"multilingual-multilingual-a",width:"18",height:"18"})):(i(),m(c,{key:0,name:"multilingual-multilingual",width:"18",height:"18"}))]),_:1})]),_:1},8,["params"])):k("",!0)])):k("",!0)],64)}}}),X=z(J,[["__scopeId","data-v-75522f29"]]);export{X as B};
