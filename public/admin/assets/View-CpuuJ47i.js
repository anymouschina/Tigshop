import{_ as W,a as G}from"./pageHeader.vue_vue_type_style_index_0_lang-UMB4eQ9W.js";import{p as H,M as J,c as O,l as X}from"./pageTabs-CGZOJyNL.js";import{d as z,bp as Y,i as I,dT as T,r as f,c as n,o,F as m,e,n as C,g as s,j as c,f as l,_ as q,C as R,bo as j,dQ as B,ad as A,q as K,b as h,w as i,dE as Z,aQ as U,D as S,K as ee,d$ as te,I as oe,T as se,a as P,A as ne}from"./index-DrbzVNl6.js";import{u as D}from"./theme-qm3k10fq.js";import{u as ae,r as E,i as M}from"./format-CRgx78oe.js";import{S as ie}from"./SelectShop-FCkYZIux.js";import{u as le}from"./menus-Cfe5Mqim.js";import{l as re}from"./logo_blue2-CgAHBmsI.js";import"./index-CeQDmMxd.js";import"./version-CL9k3sYf.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";import"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-BDvYUQtN.js";import"./vuedraggable.umd-DAKh-e3Q.js";import"./Image.vue_vue_type_script_setup_true_lang-BWzCs9jv.js";import"./authority-C-nKXejU.js";const ue={class:"main-warp"},ce=z({__name:"pageContainer",setup(N){const u=Y();I(localStorage.getItem("adminType")),T();const{themeInfo:v}=D();return(r,d)=>{const g=f("router-view");return o(),n(m,null,[d[0]||(d[0]=e("div",{class:"body-menu-mask"},null,-1)),e("div",ue,[e("div",{class:C(["page-grid-content",`admin-${s(v).navTheme}`])},[!r.$route.meta.is404&&s(v).isMultiLabel?(o(),c(H,{key:0})):l("",!0),r.$route.meta.is404?l("",!0):(o(),c(W,{key:1})),(o(),c(g,{key:s(u).routerKey})),r.$route.meta.is404?l("",!0):(o(),c(G,{key:2}))],2)])],64)}}}),pe=q(ce,[["__scopeId","data-v-b44e3067"]]),de={class:"page-top"},_e={class:"page-top-warp"},me={class:"top-bar-right"},he={class:"top-bar-item mr10"},ge={class:"auth-img"},fe=["src"],ve={class:"top-bar-item openShop-btn"},ye=["href"],ke={key:0},Se={class:"top-bar-item top-bar-user",id:"dropdown-memu"},we={class:"admin-user-warp"},xe={class:"top-bar-btn",href:"javascript:;"},be={key:0,class:"admin-user-photo"},Le=["src"],Ce=["src"],$e={key:1,class:"admin-user-photo"},Ie=["src"],Te=["src"],Me={key:2,class:"admin-user-name"},ze={class:"dropdown-memu top-bar-memu"},Ne={class:"entrance-list"},Ve={class:"admin_exit"},Be=z({__name:"pageTopBar",setup(N){const u=I(localStorage.getItem("adminType")),{themeInfo:v}=D();R();const r=j(),d=T(),{logout:g,updateUserInfo:V}=B(),p=A(()=>B().userInfo),w=A(()=>B().shopInfo),x=async()=>{try{const L=await O(),t=ee();V(),t.updateConfig(),d.mainMenu=await le(),te.success({message:"缓存已清除",description:"缓存清除后可刷新页面更新效果"})}catch(L){oe.error(L.message)}},_=async()=>{g()},k=I(!1),b=()=>{k.value=!0},$=()=>{k.value=!1};return K(()=>{r._getLicensed()}),(L,t)=>{const a=f("router-link"),y=f("a-dropdown"),F=f("el-dialog");return o(),n(m,null,[e("div",de,[e("div",_e,[e("div",me,[e("div",he,[e("div",ge,[u.value!=="shop"?(o(),c(a,{key:0,to:{path:"/setting/licensed/index"}},{default:i(()=>[e("img",{src:s(Z)(),style:{height:"25px","margin-top":"2px"}},null,8,fe)]),_:1})):l("",!0)])]),h(J),e("div",ve,[e("a",{class:"top-bar-btn",href:s(ae)("/"),target:"_blank"},[t[1]||(t[1]=e("i",{class:"iconfont icon-guanli"},null,-1)),s(v).layout!=="top"?(o(),n("span",ke,"查看店铺")):l("",!0)],8,ye)]),e("div",Se,[h(y,null,{overlay:i(()=>[e("div",ze,[e("div",Ne,[h(a,{to:{path:"/authority/account_editing/index"}},{default:i(()=>t[3]||(t[3]=[e("p",{class:"entrance lyecs-openPage"},[e("i",{class:"iconfont icon-gerenshezhi",style:{"font-size":"22px"}}),e("span",null,"管理账号")],-1)])),_:1}),e("p",{class:"entrance",onClick:x},t[4]||(t[4]=[e("i",{class:"iconfont icon-qingchuhuancun",style:{"font-size":"22px"}},null,-1),e("span",null,"清除缓存",-1)])),u.value==="shop"?(o(),c(a,{key:0,to:{path:"/merchant_setting/shop_team"}},{default:i(()=>t[5]||(t[5]=[e("p",{class:"entrance lyecs-openPage"},[e("i",{class:"iconfont icon-quanxian",style:{"font-size":"22px"}}),e("span",null,"店铺设置")],-1)])),_:1})):(o(),c(a,{key:1,to:{path:"/setting/config/base"}},{default:i(()=>t[6]||(t[6]=[e("p",{class:"entrance lyecs-openPage"},[e("i",{class:"iconfont icon-quanxian",style:{"font-size":"22px"}}),e("span",null,"后台设置")],-1)])),_:1}))]),e("div",null,[e("div",Ve,[u.value==="shop"?(o(),n(m,{key:0},[e("a",{onClick:b},t[7]||(t[7]=[e("span",null,"切换店铺",-1)])),t[8]||(t[8]=e("span",{style:{color:"#f0f2f5"}},"｜",-1))],64)):l("",!0),e("a",{onClick:_},t[9]||(t[9]=[e("span",null,"退出登录",-1)]))])])])]),default:i(()=>[e("div",we,[e("a",xe,[u.value!=="shop"?(o(),n("span",be,[s(U)(String(p.value.avatar))=="def"?(o(),n("img",{key:0,src:s(E)(p.value.avatar)},null,8,Le)):(o(),n("img",{key:1,src:s(M)(p.value.avatar)},null,8,Ce))])):l("",!0),u.value=="shop"?(o(),n("span",$e,[s(U)(String(w.value.shopLogo))=="def"?(o(),n("img",{key:0,src:s(E)(w.value.shopLogo)},null,8,Ie)):(o(),n("img",{key:1,src:s(M)(w.value.shopLogo)},null,8,Te))])):l("",!0),s(v).layout!=="top"?(o(),n("div",Me,S(/^1[3-9]\d{9}$/.test(p.value.username)?p.value.username.replace(/(\d{3})\d{4}/,"$1****"):p.value.username),1)):l("",!0),t[2]||(t[2]=e("i",{class:"iconfont icon-xiala"},null,-1))])])]),_:1})])])])]),h(F,{class:"page-top","show-close":!1,"z-index":12,modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=Q=>k.value=Q),width:"500px"},{default:i(()=>[k.value?(o(),c(ie,{key:0,onClosePopup:$,isIndex:!0,username:p.value.username},null,8,["username"])):l("",!0)]),_:1},8,["modelValue"])],64)}}}),Pe=q(Be,[["__scopeId","data-v-b0ce0eef"]]),Ae={class:"page_left_menu_content"},qe={key:0,class:"head_logo"},De=["src"],Fe=["src"],Ue={style:{width:"100%",position:"absolute"}},Ee={class:"fold_btn"},Re=z({__name:"pageTopMenu",setup(N){const{themeInfo:u}=D(),r=j().licensedData,d=T(),g=R(),V=T(),p=I(""),w=A(()=>V.mainMenu);K(()=>{p.value=g.currentRoute.value.name});const x=_=>{window.innerWidth<=756?(_.blank?window.open("/"+_.routeLink,"_blank"):g.push("/"+_.routeLink),d.menuActive=!1):(_.blank?window.open("/"+_.routeLink,"_blank"):g.push("/"+_.routeLink),ne(),d.childMenuShow=!0)};return se(()=>{p.value=g.currentRoute.value.name}),(_,k)=>{const b=f("el-menu-item"),$=f("el-sub-menu"),L=f("el-menu");return o(),n("div",{class:C(["page_left_menu",[s(d).childMenuShow?"child-menu-show":"child-menu-hide"]])},[e("div",Ae,[s(d).childMenuShow?(o(),n("div",qe,[s(u).navTheme==="light"?(o(),n("img",{key:0,class:"logo_img",src:s(r).adminLightLogo&&s(r).adminLightLogo!==null?s(M)(s(r).adminLightLogo):s(re)},null,8,De)):l("",!0),s(u).navTheme==="dark"?(o(),n("img",{key:1,class:"logo_img",src:s(r).adminLightLogo&&s(r).adminLightLogo!==null?s(M)(s(r).adminLightLogo):s(X)},null,8,Fe)):l("",!0)])):l("",!0),e("div",{class:C(["menu_list",s(u).navTheme])},[e("div",Ue,[h(L,{"default-active":p.value,mode:"horizontal","popper-class":"el-top-menu-popper "+(s(u).navTheme==="light"?"popper-light":"popper-dark"),ellipsis:"","text-color":"var(--tig-menu-text-color)"},{default:i(()=>[(o(!0),n(m,null,P(w.value,t=>(o(),n(m,{key:t.authorityId},[t.children.length&&t.isShow?(o(),c($,{key:0,class:"",index:t.authoritySn},{title:i(()=>[e("i",{class:C(t.authorityIco+" child-ico")},null,2),e("span",null,S(t.authorityName),1)]),default:i(()=>[(o(!0),n(m,null,P(t.children,a=>(o(),n(m,null,[a.children&&a.children.length&&a.isShow?(o(),c($,{key:0,index:a.authoritySn},{title:i(()=>[e("span",null,S(a.authorityName),1)]),default:i(()=>[(o(!0),n(m,null,P(a.children,y=>(o(),c(b,{key:y.authorityId,index:y.authoritySn,onClick:F=>x(y)},{title:i(()=>[e("span",null,S(y.authorityName),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1032,["index"])):a.isShow?(o(),c(b,{key:1,index:a.authoritySn,onClick:y=>x(a)},{title:i(()=>[e("span",null,S(a.authorityName),1)]),_:2},1032,["index","onClick"])):l("",!0)],64))),256))]),_:2},1032,["index"])):t.isShow?(o(),c(b,{key:1,index:t.authoritySn,onClick:a=>x(t)},{title:i(()=>[e("i",{class:C(t.authorityIco+"child-ico")},null,2),e("span",null,S(t.authorityName),1)]),_:2},1032,["index","onClick"])):l("",!0)],64))),128))]),_:1},8,["default-active","popper-class"])])],2),e("div",Ee,[h(Pe)])])],2)}}}),je=q(Re,[["__scopeId","data-v-28513282"]]),at=z({__name:"View",setup(N){return(u,v)=>{const r=f("router-view");return o(),n(m,null,[h(je),h(pe,null,{default:i(()=>[h(r)]),_:1})],64)}}});export{at as default};
