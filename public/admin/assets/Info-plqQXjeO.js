import{d as T,i as f,C as U,s as R,q,r as n,c as F,o as B,e as v,j as H,f as W,b as o,w as t,a3 as j,g as E,E as d,a4 as G,I as _}from"./index-DrbzVNl6.js";import{F as A}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-BDvYUQtN.js";import"./index-CeQDmMxd.js";import"./vuedraggable.umd-DAKh-e3Q.js";import{e as M,f as Z}from"./brand-C64i7ZtK.js";import{B as z}from"./BusinessData-CHGCSdy5.js";import"./Image.vue_vue_type_script_setup_true_lang-BWzCs9jv.js";import"./format-CRgx78oe.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";import"./currencyManagement-ChS-Zs2m.js";import"./version-CL9k3sYf.js";const J={class:"container"},K={class:"content_wrapper"},P={class:"lyecs-form-table"},ne=T({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(S,{expose:I,emit:C}){const i=C,u=S,p=f(!0),y=U().currentRoute.value.query,b=f(u.isDialog?u.act:String(y.act)),c=f(u.isDialog?u.id:Number(y.id)),D=b.value==="add"?"create":"update",V=R(),a=f({sortOrder:50,isShow:1,brandIsHot:0}),N=async()=>{try{const r=await M(b.value,{id:c.value});Object.assign(a.value,r)}catch(r){_.error(r.message),i("close")}finally{p.value=!1}};q(()=>{b.value==="detail"?N():p.value=!1});const w=async()=>{await V.value.validate();try{i("update:confirmLoading",!0);const r=await Z(D,{id:c.value,...a.value});i("submitCallback",r),_.success("操作成功")}catch(r){_.error(r.message)}finally{i("update:confirmLoading",!1)}};return I({onFormSubmit:()=>{w()}}),(r,e)=>{const s=n("el-form-item"),g=n("TigInput"),m=n("el-radio"),x=n("el-radio-group"),k=n("el-button"),L=n("el-form"),O=n("a-spin");return B(),F("div",J,[v("div",K,[v("div",P,[p.value?W("",!0):(B(),H(L,{key:0,ref_key:"formRef",ref:V,model:a.value,"label-width":"auto"},{default:t(()=>[o(s,{rules:[{required:!0,message:"品牌名称不能为空!"}],label:"品牌名称",prop:"brandName"},{default:t(()=>[o(z,{modelValue:a.value.brandName,"onUpdate:modelValue":e[0]||(e[0]=l=>a.value.brandName=l),placeholder:"请输入品牌名称",dataType:4,dataId:c.value},null,8,["modelValue","dataId"])]),_:1}),o(s,{label:"品牌LOGO",prop:"brandLogo"},{default:t(()=>[o(E(A),{photo:a.value.brandLogo,"onUpdate:photo":e[1]||(e[1]=l=>a.value.brandLogo=l)},null,8,["photo"]),e[7]||(e[7]=v("div",{class:"extra"},"请统一上传比例为2:1的图片，宽200px，高100px（高清）",-1))]),_:1}),o(s,{label:"品牌描述",prop:"brandDesc"},{default:t(()=>[o(g,{classType:"tig-form-input",modelValue:a.value.brandDesc,"onUpdate:modelValue":e[2]||(e[2]=l=>a.value.brandDesc=l),row:2,type:"textarea"},null,8,["modelValue"])]),_:1}),o(s,{label:"排序",prop:"sortOrder"},{default:t(()=>[o(g,{classType:"tig-form-input",type:"integer",modelValue:a.value.sortOrder,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value.sortOrder=l)},null,8,["modelValue"])]),_:1}),o(s,{label:"首字母",prop:"firstWord"},{default:t(()=>[o(g,{classType:"tig-form-input",modelValue:a.value.firstWord,"onUpdate:modelValue":e[4]||(e[4]=l=>a.value.firstWord=l)},null,8,["modelValue"]),e[8]||(e[8]=v("div",{class:"extra"},"如果不填则自动生成，不过有些多音字无法准确判断，如“重”字系统则无法确认是Z还是C",-1))]),_:1}),o(s,{label:"是否显示",prop:"isShow"},{default:t(()=>[o(x,{modelValue:a.value.isShow,"onUpdate:modelValue":e[5]||(e[5]=l=>a.value.isShow=l)},{default:t(()=>[o(m,{value:1},{default:t(()=>e[9]||(e[9]=[d("是")])),_:1}),o(m,{value:0},{default:t(()=>e[10]||(e[10]=[d("否")])),_:1})]),_:1},8,["modelValue"])]),_:1}),o(s,{label:"是否热门品牌",prop:"brandIsHot"},{default:t(()=>[o(x,{modelValue:a.value.brandIsHot,"onUpdate:modelValue":e[6]||(e[6]=l=>a.value.brandIsHot=l)},{default:t(()=>[o(m,{value:1},{default:t(()=>e[11]||(e[11]=[d("是")])),_:1}),o(m,{value:0},{default:t(()=>e[12]||(e[12]=[d("否")])),_:1})]),_:1},8,["modelValue"])]),_:1}),j(o(s,{"wrapper-col":{offset:4,span:16}},{default:t(()=>[o(k,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:w},{default:t(()=>e[13]||(e[13]=[d("提交")])),_:1},512)]),_:1},512),[[G,!u.isDialog]])]),_:1},8,["model"])),o(O,{spinning:p.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{ne as default};
