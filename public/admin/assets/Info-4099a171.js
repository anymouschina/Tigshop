import{d as F,j as _,E as L,s as q,x as O,r as n,o as x,c as j,e as f,k as E,w as o,b as e,f as G,H as u,$ as A,a0 as H,h as I,K as g}from"./index-7c2d2aef.js";import{F as K}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-9b6073fb.js";import{e as M,f as T}from"./brand-995f2ca4.js";import{B as Z}from"./BusinessData-197b7ba6.js";import"./index-6c62cf9b.js";import"./vuedraggable.umd-75ad0f8f.js";import"./Image.vue_vue_type_script_setup_true_lang-36bd437b.js";import"./format-4e0206d3.js";import"./config-9548fa9b.js";import"./config-e2aa16d1.js";import"./util-1ee03ed8.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import"./currencyManagement-2d40fd5e.js";import"./version-f7bce787.js";const $={class:"container"},z={class:"content_wrapper"},J={class:"lyecs-form-table"},P=f("div",{class:"extra"},"请统一上传比例为2:1的图片，宽200px，高100px（高清）",-1),Q=f("div",{class:"extra"},"如果不填则自动生成，不过有些多音字无法准确判断，如“重”字系统则无法确认是Z还是C",-1),pe=F({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(B,{expose:k,emit:C}){const i=C,d=B,m=_(!0),V=L().currentRoute.value.query,c=_(d.isDialog?d.act:String(V.act)),v=_(d.isDialog?d.id:Number(V.id)),S=c.value==="add"?"create":"update",w=q(),a=_({sort_order:50,is_show:1,brand_is_hot:0}),U=async()=>{try{const r=await M(c.value,{id:v.value});Object.assign(a.value,r.item)}catch(r){g.error(r.message),i("close")}finally{m.value=!1}};O(()=>{c.value==="detail"?U():m.value=!1});const y=async()=>{await w.value.validate();try{i("update:confirmLoading",!0);const r=await T(S,{id:v.value,...a.value});i("submitCallback",r),g.success(r.message)}catch(r){g.error(r.message)}finally{i("update:confirmLoading",!1)}};return k({onFormSubmit:()=>{y()}}),(r,t)=>{const s=n("el-form-item"),b=n("el-input"),p=n("el-radio"),h=n("el-radio-group"),D=n("el-button"),N=n("el-form"),R=n("a-spin");return x(),j("div",$,[f("div",z,[f("div",J,[m.value?I("",!0):(x(),E(N,{key:0,ref_key:"formRef",ref:w,model:a.value,"label-width":"auto"},{default:o(()=>[e(s,{rules:[{required:!0,message:"品牌名称不能为空!"}],label:"品牌名称",prop:"brand_name"},{default:o(()=>[e(Z,{modelValue:a.value.brand_name,"onUpdate:modelValue":t[0]||(t[0]=l=>a.value.brand_name=l),placeholder:"请输入品牌名称",data_type:4,data_id:v.value},null,8,["modelValue","data_id"])]),_:1}),e(s,{label:"品牌LOGO",prop:"brand_logo"},{default:o(()=>[e(G(K),{photo:a.value.brand_logo,"onUpdate:photo":t[1]||(t[1]=l=>a.value.brand_logo=l)},null,8,["photo"]),P]),_:1}),e(s,{label:"品牌描述",prop:"brand_desc"},{default:o(()=>[e(b,{modelValue:a.value.brand_desc,"onUpdate:modelValue":t[2]||(t[2]=l=>a.value.brand_desc=l),row:"2",type:"textarea"},null,8,["modelValue"])]),_:1}),e(s,{label:"排序",prop:"sort_order"},{default:o(()=>[e(b,{modelValue:a.value.sort_order,"onUpdate:modelValue":t[3]||(t[3]=l=>a.value.sort_order=l)},null,8,["modelValue"])]),_:1}),e(s,{label:"首字母",prop:"first_word"},{default:o(()=>[e(b,{modelValue:a.value.first_word,"onUpdate:modelValue":t[4]||(t[4]=l=>a.value.first_word=l)},null,8,["modelValue"]),Q]),_:1}),e(s,{label:"是否显示",prop:"is_show"},{default:o(()=>[e(h,{modelValue:a.value.is_show,"onUpdate:modelValue":t[5]||(t[5]=l=>a.value.is_show=l)},{default:o(()=>[e(p,{value:1},{default:o(()=>[u("是")]),_:1}),e(p,{value:0},{default:o(()=>[u("否")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(s,{label:"是否热门品牌",prop:"brand_is_hot"},{default:o(()=>[e(h,{modelValue:a.value.brand_is_hot,"onUpdate:modelValue":t[6]||(t[6]=l=>a.value.brand_is_hot=l)},{default:o(()=>[e(p,{value:1},{default:o(()=>[u("是")]),_:1}),e(p,{value:0},{default:o(()=>[u("否")]),_:1})]),_:1},8,["modelValue"])]),_:1}),A(e(s,{"wrapper-col":{offset:4,span:16}},{default:o(()=>[e(D,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:y},{default:o(()=>[u("提交")]),_:1},512)]),_:1},512),[[H,!d.isDialog]])]),_:1},8,["model"])),e(R,{spinning:m.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{pe as default};
