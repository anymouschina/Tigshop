import{g as k}from"./user-CEb--1cT.js";import{d as b,i as p,G as x,aa as B,r as c,c as r,o as a,F as n,b as V,f as C,w as N,a as h,j as F,e as f,I as S}from"./index-CGYuOau0.js";const L=b({__name:"SelectUser",props:{user_id:{type:Number},user_name:{type:String,default:""},showTips:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0}},emits:["update:user_id"],setup(u,{emit:v}){const i=u,s=p(!0),o=x({page:1,size:20}),_=v,d=B({get:()=>i.user_id,set:l=>_("update:user_id",l)}),m=p([]),y=async l=>{s.value=!0,o.keyword="",o.keyword=String(l);try{const e=await k({...o});m.value=e.filter_result}catch(e){S.error(e.message)}finally{s.value=!1}};return(l,e)=>{const g=c("el-option"),w=c("el-select");return a(),r(n,null,[V(w,{style:{width:"100%"},modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=t=>d.value=t),loading:s.value,"remote-method":y,filterable:"",multiple:i.multiple,placeholder:"请输入会员名称/手机号",remote:"","remote-show-suffix":"","reserve-keyword":""},{default:N(()=>[(a(!0),r(n,null,h(m.value,t=>(a(),F(g,{key:t.user_id,label:"会员名称："+t.username+(t.mobile?"（"+t.mobile+"）":""),value:t.user_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","multiple"]),u.showTips?(a(),r(n,{key:0},[e[1]||(e[1]=f("div",{class:"extra"},"注意：搜索结果只显示前20条记录，如果没有找到相应会员，请更精确地查找；",-1)),e[2]||(e[2]=f("div",{class:"extra"},"另外，如果该会员是从论坛注册的且没有在商城登录过，也无法找到，需要先在商城登录。",-1))],64)):C("",!0)],64)}}});export{L as _};
