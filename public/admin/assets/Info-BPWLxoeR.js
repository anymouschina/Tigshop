/* empty css             */import{d as me,i as O,s as Q,C as ge,G as fe,q as ve,r as g,c as m,o as p,e as n,b as t,f as v,j as P,g as y,w as o,bh as X,E as _,D as b,l as he,n as ye,e8 as ce,F as A,a as be,dJ as ke,eO as we,bd as Ve,eP as xe,I as z,_ as Ue}from"./index-CGYuOau0.js";import{R as Ce}from"./RadioType-C9amgtG8.js";import{a as Ne,u as Ee}from"./levelManage-DUMhrtzb.js";import"./index-B-GURfkM.js";import{F as Be}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-CjXfTDg5.js";import{_ as j}from"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";/* empty css                                                                  */import"./vuedraggable.umd-_1km55l4.js";import"./Image.vue_vue_type_script_setup_true_lang-D9PqZe9n.js";import"./format-DFT-VJzO.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";const Oe={class:"container"},Se={class:"content_wrapper"},De={class:"lyecs-form-table"},Re={class:"mb20"},qe={class:"flex mb10"},$e={class:"flex"},Pe={class:"level_txt"},ze={class:"flex flex-align-center"},je={key:0,class:"flex flex-align-center flex-justify-between"},Me={class:"info"},Ie={key:0},Te={key:0,class:"flex flex-align-center"},Je={key:1,class:"flex flex-align-center"},Fe={class:"el-dropdown-link"},Le={key:1,class:"flex flex-align-center flex-justify-between"},We={class:"info"},Ge={key:0,class:"flex flex-align-center"},Qe={key:1,class:"flex flex-align-center"},Xe={class:"discount_cell"},Ae={class:"icon-info"},Ke={class:"table-col"},Ye={key:0,class:"show"},Ze={class:"hide"},He={class:"table-col"},et={key:0,class:"show"},tt={class:"hide"},lt={class:"flex flex-justify-between"},ot=["onClick"],at={key:0},nt={class:"flex align-center mt10"},it={class:"flex align-center mt10"},st={class:"flex align-center mt10"},rt={class:"flex flex-align-center"},dt={key:0},ut={key:1},_t={class:"extra"},pt={class:"level_txt"},mt={class:"flex"},gt={class:"icon-info"},ft={class:"flex flex-align-center flex-justify-between"},vt={class:"info"},ht={key:0},yt={key:1},ct={key:0,class:"flex flex-align-center"},bt={key:1,class:"flex flex-align-center"},kt=me({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(K,{expose:Y,emit:Z}){const M=O(1),S=Z,D=K,R=Q(),I=Q(),U=O(!0),T=ge().currentRoute.value.query,q=O(D.isDialog?D.act:String(T.act)),H=O(D.isDialog?D.id:Number(T.id)),ee=q.value==="add"?"create":"update",te={1:"黄金会员",2:"铂金会员",3:"黑金会员",4:"钻石会员",5:"至尊会员"},l=O({rank_type:1,rank_config:{type:1,rank_after_month:12,use_month:12},grow_up_setting:{buy_order:1,buy_order_number:1,buy_order_growth:1,evpi:1,evpi_growth:1,bind_phone:1,bind_phone_growth:1},data:[{rank_level:1,rank_name:"黄金会员",rank_logo:"https://oss.tigshop.com/img/gallery/202501/1735803176Yh9mCaE2r9ebXK3bGm.png",rank_card_type:1,rank_ico:"card1",rank_bg:"",min_growth_points:0,discount:"",rank_point:"",free_shipping:0,rights:[]}]}),le=(i,e,r,s)=>{if(e==null||e===""){r(new Error("请输入"));return}const u=Number(e);if(isNaN(u)||u<=0){r(new Error("请输入有效的数字"));return}if(s>0){const C=Number(l.value.data[s-1].min_growth_points);if(u<=C){r(new Error(`需大于上一级的${l.value.rank_type==1?"成长值":"消费金额"}(${C})`));return}}r()},x=fe({rank_name:[{required:!0,message:"请输入",trigger:"blur"}],discount:[{required:!0,validator:(i,e,r)=>{if(e!==""&&(Number(e)<0||Number(e)>9.9)){r(new Error("需大于0小于10"));return}r()},trigger:"blur"}],rank_point:[{required:!0,validator:(i,e,r)=>{if(e!==""&&(Number(e)<=1||Number(e)>50)){r(new Error("需大于1小于50"));return}r()},trigger:"blur"}],min_growth_points:[{required:!0,validator:(i,e,r)=>{const s=/\.(\d+)\./,u=i==null?void 0:i.field.match(s),C=u?u[1]:void 0;le(i,e,r,C)},trigger:"blur"}],buy_order:[{required:!0,validator:(i,e,r)=>{let s=l.value.grow_up_setting;if(s.buy_order==1){if(s.buy_order_number<1||s.buy_order_number==""){r(new Error("请输入"));return}if(s.buy_order_growth<1||s.buy_order_number==""){r(new Error("请输入"));return}}r()},trigger:"blur"}],evpi:[{required:!0,validator:(i,e,r)=>{let s=l.value.grow_up_setting;if(s.evpi==1&&(s.evpi_growth<1||s.evpi_growth=="")){r(new Error("请输入"));return}r()},trigger:"blur"}],bind_phone:[{required:!0,validator:(i,e,r)=>{let s=l.value.grow_up_setting;if(s.bind_phone==1&&(s.bind_phone_growth<1||s.bind_phone_growth=="")){r(new Error("请输入"));return}r()},trigger:"blur"}]}),oe=i=>{console.log(i)},ae=i=>{l.value.data.forEach(e=>{e.rights.splice(i,1)})},ne=async()=>{try{U.value=!0;const i=await Ne(q.value);l.value.data=i.item.user_rank_list,l.value.rank_type=i.item.rank_config.rank_type||1,l.value.rank_config=i.item.rank_config.data,xe(i.item.grow_up_setting)&&(l.value.grow_up_setting=i.item.grow_up_setting)}catch(i){z.error(i.message),S("close")}finally{U.value=!1}},ie=["https://oss.tigshop.com/img/gallery/202501/1737524324ro1DJxNm3aQowZKnPU.png","https://oss.tigshop.com/img/gallery/202501/1737524324ZUrDWMFqTPMBTCOlhg.png","https://oss.tigshop.com/img/gallery/202501/1737524324ptLNB2WynLJBBwSHHj.png","https://oss.tigshop.com/img/gallery/202501/1737524324hhmoz188M0ejyXEBhT.png","https://oss.tigshop.com/img/gallery/202501/1737524324O1BXVeurAyDMj9QG8f.png","https://oss.tigshop.com/img/gallery/202501/1737524324T7eKXTpMiCeVQOyFb6.png","https://oss.tigshop.com/img/gallery/202501/1737524324bUufpiVaGcaUad1CWd.png","https://oss.tigshop.com/img/gallery/202501/1737524324NhZbUn45wj1eSaIbjY.png","https://oss.tigshop.com/img/gallery/202501/1737524324bv68MBsoQXa2rLUO9i.png","https://oss.tigshop.com/img/gallery/202501/1737524324urqONY3QDjaTqW7d56.png"],se=async()=>{if(await R.value.validate(),l.value.data.length<=10){let i=[];l.value.data.length>0&&(i=JSON.parse(JSON.stringify(l.value.data[0].rights))),i.map(r=>{r.is_checked=0});let e={rank_level:l.value.data.length+1,rank_name:te[l.value.data.length+1],rank_logo:ie[l.value.data.length],rank_card_type:1,rank_ico:"card"+(l.value.data.length+1),rank_bg:"",min_growth_points:"",discount:"",rank_point:"",free_shipping:0,rights:i};l.value.data.push(e),await R.value.validate()}},J=i=>{const{row:e,act:r,index:s}=i;r=="add"&&l.value.data.forEach(u=>{u.rights.push(JSON.parse(JSON.stringify(e)))}),r=="edit"&&l.value.data.forEach(u=>{u.rights[s]=JSON.parse(JSON.stringify(e)),u.rights[s].is_checked=0})},re=i=>{l.value.data.splice(i,1)};ve(()=>{q.value==="detail"?ne():U.value=!1});const de=async()=>{await R.value.validate(),l.value.rank_type==1&&await I.value.validate();try{S("update:confirmLoading",!0);const i=await Ee(ee,{id:H.value,...l.value});S("submitCallback",i),z.success(i.message)}catch(i){z.error(i.message)}finally{S("update:confirmLoading",!1)}};return Y({onFormSubmit:()=>{de()}}),(i,e)=>{const r=g("el-button"),s=g("el-form-item"),u=g("el-table-column"),C=g("el-image"),E=g("el-tooltip"),h=g("el-input"),B=g("el-icon"),F=g("el-dropdown-item"),ue=g("el-dropdown-menu"),_e=g("el-dropdown"),L=g("el-checkbox"),W=g("el-table"),$=g("el-form"),k=g("el-radio"),N=g("el-radio-group"),V=g("el-option"),G=g("el-select");return p(),m("div",Oe,[n("div",Se,[n("div",De,[e[50]||(e[50]=n("div",{class:"title"},"模式切换",-1)),n("div",Re,[U.value?v("",!0):(p(),P(y(Ce),{key:0,width:"250px",modelValue:l.value.rank_type,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.rank_type=a),radioList:[{key:1,title:"成长值会员",tips:"根据用户的下单积累的成长值，自动升级到不同等级"},{key:2,title:"消费会员",tips:"根据用户的消费金额，自动升级到不同等级"}]},null,8,["modelValue"]))]),e[51]||(e[51]=n("div",{class:"title"},"等级方案",-1)),t($,{ref_key:"formRef",ref:R,rules:x,model:l.value,"label-width":"auto"},{default:o(()=>[t(s,{prop:"data",style:{"margin-bottom":"0"}},{default:o(()=>[n("div",qe,[n("div",$e,[t(r,{type:"primary",icon:y(X),link:"",onClick:se,disabled:l.value.data.length>=10},{default:o(()=>[_(b(l.value.data.length>=10?"多添加10级":`添加等级(${l.value.data.length}/10)`),1)]),_:1},8,["icon","disabled"])])])]),_:1}),t(s,{prop:"data"},{default:o(()=>[t(W,{data:l.value.data,loading:U.value,"row-key":"user_id"},{default:o(()=>[t(u,{width:80,label:"等级",prop:"level"},{default:o(({row:a,$index:f})=>[n("div",Pe,"vip"+b(a.rank_level),1)]),_:1}),t(u,{width:88,label:"会员图标",prop:"rank_logo",align:"center"},{default:o(({row:a,$index:f})=>[t(E,{effect:"light",placement:"bottom","show-after":150},{content:o(()=>e[14]||(e[14]=[_(" 点击修改 ")])),default:o(()=>[n("div",null,[t(y(Be),{photo:a.rank_logo,"onUpdate:photo":d=>a.rank_logo=d,type:2},{default:o(()=>[t(C,{style:{height:"20px"},src:a.rank_logo},null,8,["src"])]),_:2},1032,["photo","onUpdate:photo"])])]),_:2},1024)]),_:1}),t(u,{width:100,label:"会员卡面",prop:"card"},{default:o(({row:a})=>[t(y(j),{params:{act:"edit",data:a},maskClosable:!1,isDrawer:!1,path:"user/levelManagePro/src/SetCardType",title:"会员卡面",width:"850px",onOkCallback:oe},{default:o(()=>[a.rank_bg!==""&&a.rank_card_type==2?(p(),m("div",{key:0,class:"card_item",style:he({backgroundImage:"url("+a.rank_bg+")"})},null,4)):(p(),m("div",{key:1,class:ye(["card_item",a.rank_ico])},null,2))]),_:2},1032,["params"])]),_:1}),t(u,{width:200,label:"会员名称*",prop:"rank_name"},{default:o(({row:a,$index:f})=>[t(s,{prop:"data."+f+".rank_name",rules:x.rank_name},{default:o(()=>[n("div",ze,[t(h,{modelValue:a.rank_name,"onUpdate:modelValue":d=>a.rank_name=d,style:{width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1032,["prop","rules"])]),_:1}),t(u,{width:210,label:`升级条件${l.value.rank_type==1?"(成长值)":""}*`,prop:"min_growth_points"},{default:o(({row:a,$index:f})=>[f===0?(p(),m("div",je,[n("div",Me,[a.min_growth_points===0?(p(),m("div",Ie,"无门槛")):(p(),P(s,{key:1,prop:"data."+f+".min_growth_points",rules:x.min_growth_points},{default:o(()=>[l.value.rank_type==1?(p(),m("div",Te,[t(h,{modelValue:a.min_growth_points,"onUpdate:modelValue":d=>a.min_growth_points=d,style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"]),e[15]||(e[15]=_(" 成长值 "))])):v("",!0),l.value.rank_type==2?(p(),m("div",Je,[e[16]||(e[16]=_(" 消费满 ")),t(h,{modelValue:a.min_growth_points,"onUpdate:modelValue":d=>a.min_growth_points=d,style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"]),e[17]||(e[17]=_(" 元 "))])):v("",!0)]),_:2},1032,["prop","rules"]))]),t(_e,null,{dropdown:o(()=>[t(ue,null,{default:o(()=>[t(F,{onClick:()=>{a.min_growth_points=0}},{default:o(()=>e[18]||(e[18]=[_("无门槛")])),_:2},1032,["onClick"]),t(F,{onClick:()=>{a.min_growth_points=""}},{default:o(()=>[_(b(l.value.rank_type==1?"达到x成长值":"消费x元"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:o(()=>[n("span",Fe,[t(B,{class:"icon-info",color:"#333",size:"14"},{default:o(()=>[t(y(ce))]),_:1})])]),_:2},1024)])):(p(),m("div",Le,[n("div",We,[t(s,{prop:"data."+f+".min_growth_points",rules:x.min_growth_points},{default:o(()=>[l.value.rank_type==1?(p(),m("div",Ge,[t(h,{modelValue:a.min_growth_points,"onUpdate:modelValue":d=>a.min_growth_points=d,style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"]),e[19]||(e[19]=_(" 成长值 "))])):v("",!0),l.value.rank_type==2?(p(),m("div",Qe,[e[20]||(e[20]=_(" 消费满 ")),t(h,{modelValue:a.min_growth_points,"onUpdate:modelValue":d=>a.min_growth_points=d,style:{width:"120px"}},null,8,["modelValue","onUpdate:modelValue"]),e[21]||(e[21]=_(" 元 "))])):v("",!0)]),_:2},1032,["prop","rules"])])]))]),_:1},8,["label"]),t(u,{prop:"rights",align:"center"},{header:o(()=>[n("div",Xe,[e[23]||(e[23]=n("div",null,"会员权益",-1)),t(E,{effect:"light",placement:"bottom","show-after":150},{content:o(()=>e[22]||(e[22]=[_(" 添加权益 ")])),default:o(()=>[n("div",Ae,[t(y(j),{params:{act:"add"},maskClosable:!1,isDrawer:!1,path:"user/levelManagePro/src/AddRights",title:"自定义权益",width:"450px",onOkCallback:J},{default:o(()=>[t(B,{color:"#333",size:"14"},{default:o(()=>[t(y(X))]),_:1})]),_:1})])]),_:1})])]),default:o(({row:a,$index:f})=>[t(u,{prop:"discount",label:"折扣",width:120},{default:o(({row:d,$index:c})=>[t(s,{prop:"data."+c+".discount",rules:x.discount},{default:o(()=>[n("div",Ke,[d.discount>0?(p(),m("div",Ye,b(d.discount)+"折",1)):v("",!0),n("div",Ze,[t(h,{type:"number",modelValue:d.discount,"onUpdate:modelValue":w=>d.discount=w,style:{width:"70px"}},null,8,["modelValue","onUpdate:modelValue"]),e[24]||(e[24]=_(" 折"))])])]),_:2},1032,["prop","rules"])]),_:2},1024),t(u,{prop:"rank_point",label:"多倍积分",width:120},{default:o(({row:d,$index:c})=>[t(s,{prop:"data."+c+".rank_point",rules:x.rank_point},{default:o(()=>[n("div",He,[d.rank_point>0?(p(),m("div",et,b(d.rank_point)+"倍",1)):v("",!0),n("div",tt,[t(h,{type:"number",modelValue:d.rank_point,"onUpdate:modelValue":w=>d.rank_point=w,style:{width:"70px"},placeholder:"1-50"},null,8,["modelValue","onUpdate:modelValue"]),e[25]||(e[25]=_(" 倍 "))])])]),_:2},1032,["prop","rules"])]),_:2},1024),t(u,{prop:"free_shipping",label:"包邮"},{default:o(({row:d,$index:c})=>[t(L,{modelValue:d.free_shipping,"onUpdate:modelValue":w=>d.free_shipping=w,"true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),(p(!0),m(A,null,be(l.value.data[0].rights,(d,c)=>(p(),P(u,{label:d.name,key:c,width:120},{header:o(()=>[n("div",lt,[n("div",null,b(d.name),1),t(E,{effect:"light",placement:"bottom","show-after":"150"},{content:o(()=>e[26]||(e[26]=[_(" 编辑权益 ")])),default:o(()=>[t(y(j),{params:{act:"edit",data:d,rowIndex:c},maskClosable:!1,isDrawer:!1,path:"user/levelManagePro/src/AddRights",title:"自定义权益",width:"450px",onOkCallback:J},{default:o(()=>[t(B,{color:"#666",size:"14",style:{"margin-top":"5px"}},{default:o(()=>[t(y(ke))]),_:1})]),_:2},1032,["params"])]),_:2},1024),t(E,{effect:"light",placement:"bottom","show-after":"150"},{content:o(()=>e[27]||(e[27]=[_(" 移除后需点击底部保存按钮生效 ")])),default:o(()=>[n("div",{class:"icon-info",onClick:w=>ae(c)},[t(B,{color:"#666",size:"13",style:{"margin-top":"5px"}},{default:o(()=>[t(y(we))]),_:1})],8,ot)]),_:2},1024)])]),default:o(({$index:w})=>[t(s,null,{default:o(()=>[t(L,{modelValue:l.value.data[w].rights[c].is_checked,"onUpdate:modelValue":pe=>l.value.data[w].rights[c].is_checked=pe,"true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:1}),t(u,{fixed:"right",width:80,label:"操作",class:"setBtn"},{default:o(({row:a,$index:f})=>[f===l.value.data.length-1&&l.value.data.length>1?(p(),m("div",at,[t(r,{type:"text",size:"mini",onClick:d=>re(f)},{default:o(()=>e[28]||(e[28]=[_("删除")])),_:2},1032,["onClick"])])):v("",!0)]),_:1})]),_:1},8,["data","loading"])]),_:1})]),_:1},8,["rules","model"]),l.value.rank_type==1?(p(),m(A,{key:0},[e[42]||(e[42]=n("div",{class:"title"},"成长值设置",-1)),t($,{ref_key:"formRef2",ref:I,rules:x,model:l.value,"label-width":"auto"},{default:o(()=>[t(s,{label:"完成下单",prop:"buy_order"},{default:o(()=>[n("div",null,[t(N,{modelValue:l.value.grow_up_setting.buy_order,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.grow_up_setting.buy_order=a),class:"itemWidth"},{default:o(()=>[t(k,{value:1},{default:o(()=>e[29]||(e[29]=[_("是")])),_:1}),t(k,{value:0},{default:o(()=>e[30]||(e[30]=[_("否")])),_:1})]),_:1},8,["modelValue"]),n("div",nt,[e[31]||(e[31]=n("div",{class:"mr10"},"每完成",-1)),t(h,{style:{width:"100px"},disabled:l.value.grow_up_setting.buy_order===0,modelValue:l.value.grow_up_setting.buy_order_number,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.grow_up_setting.buy_order_number=a)},null,8,["disabled","modelValue"]),e[32]||(e[32]=n("div",{class:"ml10 mr10"},"笔订单，获得",-1)),t(h,{style:{width:"100px"},disabled:l.value.grow_up_setting.buy_order===0,modelValue:l.value.grow_up_setting.buy_order_growth,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.grow_up_setting.buy_order_growth=a)},null,8,["disabled","modelValue"]),e[33]||(e[33]=n("div",{class:"ml10"},"成长值",-1))])])]),_:1}),t(s,{label:"完善信息",prop:"evpi"},{default:o(()=>[n("div",null,[t(N,{modelValue:l.value.grow_up_setting.evpi,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.grow_up_setting.evpi=a),class:"itemWidth"},{default:o(()=>[t(k,{value:1},{default:o(()=>e[34]||(e[34]=[_("是")])),_:1}),t(k,{value:0},{default:o(()=>e[35]||(e[35]=[_("否")])),_:1})]),_:1},8,["modelValue"]),n("div",it,[e[36]||(e[36]=n("div",{class:"mr10"},"完成后赠送：",-1)),t(h,{style:{width:"100px"},disabled:l.value.grow_up_setting.evpi===0,modelValue:l.value.grow_up_setting.evpi_growth,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.grow_up_setting.evpi_growth=a)},null,8,["disabled","modelValue"]),e[37]||(e[37]=n("div",{class:"ml10"},"成长值",-1))])])]),_:1}),t(s,{label:"绑定手机号",prop:"bind_phone"},{default:o(()=>[n("div",null,[t(N,{modelValue:l.value.grow_up_setting.bind_phone,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.grow_up_setting.bind_phone=a),class:"itemWidth"},{default:o(()=>[t(k,{value:1},{default:o(()=>e[38]||(e[38]=[_("是")])),_:1}),t(k,{value:0},{default:o(()=>e[39]||(e[39]=[_("否")])),_:1})]),_:1},8,["modelValue"]),n("div",st,[e[40]||(e[40]=n("div",{class:"mr10"},"完成后赠送：",-1)),t(h,{style:{width:"100px"},disabled:l.value.grow_up_setting.bind_phone===0,modelValue:l.value.grow_up_setting.bind_phone_growth,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.grow_up_setting.bind_phone_growth=a)},null,8,["disabled","modelValue"]),e[41]||(e[41]=n("div",{class:"ml10"},"成长值",-1))])])]),_:1})]),_:1},8,["rules","model"])],64)):v("",!0),e[52]||(e[52]=n("div",{class:"title"},"等级规则（保级规则）",-1)),t($,{model:l.value.rank_config,"label-width":"auto"},{default:o(()=>[t(s,{prop:"rank_config.type",label:"等级有效期："},{default:o(()=>[n("div",null,[t(N,{modelValue:l.value.rank_config.type,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.rank_config.type=a)},{default:o(()=>[t(k,{value:1,size:"large"},{default:o(()=>e[43]||(e[43]=[_("永久有效")])),_:1})]),_:1},8,["modelValue"]),e[44]||(e[44]=n("div",{class:"extra"},"用户获得该等级后一直有效，退款成长值变动会降级",-1))])]),_:1}),t(s,{prop:"rank_config.type",label:" "},{default:o(()=>[n("div",null,[t(N,{modelValue:l.value.rank_config.type,"onUpdate:modelValue":e[12]||(e[12]=a=>l.value.rank_config.type=a)},{default:o(()=>[t(k,{value:2,size:"large"},{default:o(()=>[n("div",rt,[e[45]||(e[45]=n("div",null,"获得等级",-1)),t(G,{modelValue:l.value.rank_config.rank_after_month,"onUpdate:modelValue":e[9]||(e[9]=a=>l.value.rank_config.rank_after_month=a),style:{"min-width":"90px",margin:"0 10px"},onChange:e[10]||(e[10]=a=>l.value.rank_config.use_month=l.value.rank_config.rank_after_month)},{default:o(()=>[t(V,{label:"1个月",value:1}),t(V,{label:"3个月",value:3}),t(V,{label:"6个月",value:6}),t(V,{label:"12个月",value:12})]),_:1},8,["modelValue"]),e[46]||(e[46]=n("div",null,"后，按照近",-1)),t(G,{modelValue:l.value.rank_config.rank_after_month,"onUpdate:modelValue":e[11]||(e[11]=a=>l.value.rank_config.rank_after_month=a),style:{"min-width":"90px",margin:"0 10px"},disabled:!0},{default:o(()=>[t(V,{label:"1个月",value:1}),t(V,{label:"3个月",value:3}),t(V,{label:"6个月",value:6}),t(V,{label:"12个月",value:12})]),_:1},8,["modelValue"]),l.value.rank_type==1?(p(),m("div",dt,"的成长值重新计算等级")):v("",!0),l.value.rank_type==2?(p(),m("div",ut,"的累计消费重新计算等级")):v("",!0)])]),_:1})]),_:1},8,["modelValue"]),n("div",_t," 举例: 设置12个月，用户在2023.1.1成为/设置VIP2，那么在2024.1.1将重新根据用户在2023.1.1-2024.1.1之间的累计"+b(l.value.rank_type==1?"成长值":"消费金额")+"计算等级。 ",1)])]),_:1}),t(s,{label:"累计时机："},{default:o(()=>[n("div",null,[t(N,{modelValue:M.value,"onUpdate:modelValue":e[13]||(e[13]=a=>M.value=a),disabled:!0},{default:o(()=>[t(k,{value:1,size:"large"},{default:o(()=>e[47]||(e[47]=[_("确认收货")])),_:1})]),_:1},8,["modelValue"]),t(W,{data:l.value.data,loading:U.value,"row-key":"user_id"},{default:o(()=>[t(u,{width:80,label:"会员等级",prop:"level"},{default:o(({row:a,$index:f})=>[n("div",pt,"vip"+b(a.rank_level),1)]),_:1}),t(u,{width:210,prop:"min_growth_points"},{header:o(()=>[n("div",mt,[e[49]||(e[49]=n("div",null,"保级条件",-1)),t(E,{effect:"light",placement:"bottom","show-after":"150"},{content:o(()=>e[48]||(e[48]=[_(" 保级条件同升级条件一致，暂不支持自定义 ")])),default:o(()=>[n("div",gt,[t(B,{color:"#666",size:"14",style:{"margin-top":"5px","margin-left":"5px"}},{default:o(()=>[t(y(Ve))]),_:1})])]),_:1})])]),default:o(({row:a,$index:f})=>[n("div",ft,[n("div",vt,[a.min_growth_points===0||a.min_growth_points===""?(p(),m("div",ht,"无门槛")):(p(),m("div",yt,[l.value.rank_type==1?(p(),m("div",ct,b(a.min_growth_points)+"成长值",1)):v("",!0),l.value.rank_type==2?(p(),m("div",bt," 消费满"+b(a.min_growth_points)+"元 ",1)):v("",!0)]))])])]),_:1})]),_:1},8,["data","loading"])])]),_:1})]),_:1},8,["model"])])])])}}}),Tt=Ue(kt,[["__scopeId","data-v-c52b53f9"]]);export{Tt as default};
