/* empty css             */import{d as J,G as S,i as _,q as K,c as d,e,D as u,g as i,E as v,b as a,w as l,a0 as j,f as m,aY as Q,j as g,I as F,r as c,o as n,R as W,bd as Y,F as X,a as Z,_ as tt}from"./index-CGYuOau0.js";/* empty css                                                                    */import{P as q}from"./Pagination-yOfjsBuR.js";import{p as y}from"./format-DFT-VJzO.js";import{u as et}from"./config-DNllFJyR.js";import{_ as at}from"./Image.vue_vue_type_script_setup_true_lang-D9PqZe9n.js";import"./index-B-GURfkM.js";import{g as st}from"./dashboard-D5iJKVpk.js";import{g as lt}from"./order-CoX6hLeE.js";import{a as ot}from"./shop-Daw3OFCx.js";import{_ as A}from"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";import"./config-DU8_t5BN.js";const nt={class:"container"},it={class:"content_wrapper"},rt={class:"tit-box"},dt={class:"tit"},ut={class:"balance-box flex-wrap"},_t={class:"label"},ct={class:"title"},pt={class:"num"},mt={class:"label"},vt={class:"title"},ft={class:"num"},bt={class:"label"},ht={class:"title"},gt={class:"num"},yt={class:"lyecs-table-list-warp"},kt={class:"table-container"},wt={key:0},xt={key:0,class:"btn-link green"},zt={key:1,class:"btn-link grey"},Ct={key:2,style:{color:"red"}},Dt={key:3,style:{color:"green"}},Lt={class:"empty-warp"},Ot={key:0,class:"empty-bg"},St={key:0,class:"pagination-con"},Ft={class:"lyecs-table-list-warp"},Yt={class:"table-container"},Bt={class:"empty-warp"},It={key:0,class:"empty-bg"},Mt={key:0,class:"pagination-con"},Nt=J({__name:"List",setup(Pt){const z=S([{value:-1,label:"全部"},{value:0,label:"待支付"},{value:1,label:"待发货"},{value:2,label:"已发货"},{value:3,label:"已取消"},{value:4,label:"无效"},{value:5,label:"已完成"},{value:-2,label:"已删除"},{value:99,label:"待结算"}]),E=et(),B=_([]),f=_(!0),k=_(!0),C=_(!0),b=_(0);_(!0);const p=S({page:1,size:E.get("page_size"),sort_field:"",sort_order:"",order_status:-1,is_settlement:0}),w=_({shop_money:0}),x=async()=>{f.value=!0;try{const o=await st();w.value=o.item}catch(o){F.error(o.message)}finally{f.value=!1}},h=S({page:1,size:10,sort_field:"shop_money",sort_order:"desc"}),I=_([]),D=_(0),M=async()=>{k.value=!0;try{const o=await ot({...h});I.value=o.filter_result,D.value=o.total}catch(o){F.error(o.message)}finally{k.value=!1}},N=async()=>{C.value=!0;try{const o=await lt({...p});B.value=o.filter_result,b.value=o.total}catch(o){F.error(o.message)}finally{C.value=!1}};K(()=>{x(),N(),M()});const G=o=>{z[o].value!=99?p.order_status=z[o].value:(p.order_status=-1,p.is_settlement=0),N()};return(o,s)=>{const L=c("el-icon"),O=c("el-tooltip"),P=c("el-button"),H=c("router-link"),r=c("el-table-column"),U=c("StatusDot"),V=c("el-table"),R=c("el-tab-pane"),$=c("el-tabs"),T=Q("loading");return n(),d("div",nt,[e("div",it,[e("div",rt,[e("div",dt,[e("span",null,"所有店铺总余额: 截止时间: ["+u(i(W)(new Date).format("YYYY-MM-DD HH:mm:ss"))+"]",1)])]),e("div",ut,[e("div",_t,[e("div",ct,[s[6]||(s[6]=v(" 余额总结余(元) ")),a(O,{placement:"bottom",effect:"light"},{content:l(()=>s[4]||(s[4]=[e("div",{class:"tooltip-width"},"可用店铺余额=店铺余额-不可用店铺余额",-1)])),default:l(()=>[a(L,null,{default:l(()=>[a(i(Y))]),_:1})]),_:1}),a(H,{to:{path:"/shop/shopAccountRaply/list"}},{default:l(()=>[a(P,{type:"primary",link:""},{default:l(()=>s[5]||(s[5]=[v("提现申请")])),_:1})]),_:1})]),e("div",pt,u(i(y)(w.value.shop_money)||0),1)]),e("div",mt,[e("div",vt,[s[8]||(s[8]=v(" 待结算总额(元) ")),a(O,{placement:"bottom",effect:"light"},{content:l(()=>s[7]||(s[7]=[e("div",{class:"tooltip-width"},"交易未完成的订单总额，消费者确认收货后将自动转入店铺余额",-1)])),default:l(()=>[a(L,null,{default:l(()=>[a(i(Y))]),_:1})]),_:1})]),e("div",ft,u(i(y)(w.value.un_settlement_money)||0),1)]),e("div",bt,[e("div",ht,[s[10]||(s[10]=v(" 不可用余额(元) ")),a(O,{placement:"bottom",effect:"light"},{content:l(()=>s[9]||(s[9]=[e("div",{class:"tooltip-width"},"提现中或者退款中的冻结店铺余额",-1)])),default:l(()=>[a(L,null,{default:l(()=>[a(i(Y))]),_:1})]),_:1})]),e("div",gt,u(i(y)(w.value.frozen_money)||0),1)])]),s[12]||(s[12]=e("div",{class:"tit-box"},[e("div",{class:"tit"},[e("span",null,"店铺余额排行")])],-1)),e("div",yt,[e("div",kt,[j((n(),g(V,{data:I.value,loading:k.value,total:D.value,"row-key":"log_id"},{empty:l(()=>[e("div",Lt,[f.value?m("",!0):(n(),d("div",Ot,"暂无数据"))])]),default:l(()=>[a(r,{label:"店铺名称"},{default:l(({row:t})=>[v(u(t.shop_title||"--"),1)]),_:1}),a(r,{label:"店铺LOGO"},{default:l(({row:t})=>[a(i(at),{src:t.shop_logo,fit:"contain",style:{height:"25px",width:"60px"}},null,8,["src"])]),_:1}),a(r,{label:"商户名称",width:200},{default:l(({row:t})=>[t.merchant?(n(),d("div",wt,[e("span",null,u(t.merchant.corporate_name||"--"),1),a(i(A),{params:{act:"detail",id:t.merchant.merchant_id},isDrawer:"",path:"adminMerchant/merchant/Info",title:"商户详情",width:"600px",showClose:!1,showOnOk:!1,onOkCallback:x},{default:l(()=>[t.merchant.status==1?(n(),d("a",xt,"(已认证)")):(n(),d("a",zt,"(未认证)"))]),_:2},1032,["params"])])):m("",!0)]),_:1}),a(r,{label:"店铺余额(元)"},{default:l(({row:t})=>[v(u(i(y)(t.shop_money)||0),1)]),_:1}),a(r,{label:"店铺状态",sortable:"custom"},{default:l(({row:t})=>[t.status==10?(n(),g(U,{key:0,color:"red",flicker:!0})):m("",!0),t.status==1?(n(),g(U,{key:1,color:"green",flicker:!0})):m("",!0),t.status===10?(n(),d("span",Ct,u(t.status_text),1)):t.status===1?(n(),d("span",Dt,u(t.status_text),1)):m("",!0)]),_:1})]),_:1},8,["data","loading","total"])),[[T,k.value]]),b.value>0?(n(),d("div",St,[a(i(q),{page:h.page,"onUpdate:page":s[0]||(s[0]=t=>h.page=t),size:h.size,"onUpdate:size":s[1]||(s[1]=t=>h.size=t),total:D.value,onCallback:M},null,8,["page","size","total"])])):m("",!0)])]),s[13]||(s[13]=e("div",{class:"tit-box"},[e("div",{class:"tit"},[e("span",null,"最近交易记录")])],-1)),e("div",Ft,[a($,{type:"card",onTabChange:G},{default:l(()=>[(n(!0),d(X,null,Z(z,t=>(n(),g(R,{label:t.label},null,8,["label"]))),256))]),_:1}),e("div",Yt,[j((n(),g(V,{data:B.value,loading:f.value,total:b.value,"row-key":"log_id"},{empty:l(()=>[e("div",Bt,[f.value?m("",!0):(n(),d("div",It,"暂无数据"))])]),default:l(()=>[a(r,{label:"时间",prop:"add_time",width:"160"}),a(r,{label:"购买用户",width:"160"},{default:l(({row:t})=>[e("span",null,u(t.user.username),1)]),_:1}),a(r,{label:"订单编号",prop:"order_sn",width:"160"}),a(r,{label:"金额(元)|明细"},{default:l(({row:t})=>[e("span",null,"总金额: "+u(i(y)(t.total_amount)||0),1)]),_:1}),a(r,{label:"状态",prop:"order_status_name",width:"120"}),a(r,{label:"操作",width:"80"},{default:l(({row:t})=>[a(i(A),{params:{act:"detail",id:t.order_id},showClose:!1,showOnOk:!1,title:"订单详情 "+t.order_sn,isDrawer:"",path:"order/order/Info",width:"880px",onCallback:x},{default:l(()=>[a(P,{size:"small",link:"",type:"primary"},{default:l(()=>s[11]||(s[11]=[v(" 查看详情 ")])),_:1})]),_:2},1032,["params","title"])]),_:1})]),_:1},8,["data","loading","total"])),[[T,C.value]]),b.value>0?(n(),d("div",Mt,[a(i(q),{page:p.page,"onUpdate:page":s[2]||(s[2]=t=>p.page=t),size:p.size,"onUpdate:size":s[3]||(s[3]=t=>p.size=t),total:b.value,onCallback:x},null,8,["page","size","total"])])):m("",!0)])])])])}}}),Qt=tt(Nt,[["__scopeId","data-v-db113376"]]);export{Qt as default};
