import{d as R,i as p,C as D,s as O,q as j,I as c,r as m,c as E,o as f,e as v,j as w,f as C,b as l,w as a,a0 as L,g as h,E as F,a1 as I}from"./index-CGYuOau0.js";import{a as M,m as T}from"./order-CoX6hLeE.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-t3_hMxDC.js";import"./index-B-GURfkM.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{S as z}from"./SelectRegion-DoCx4QPp.js";/* empty css             */import"./time-ClyPenjC.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";import"./region-DycKrsYv.js";import"./region-dYomvalu.js";const A={class:"container"},G={class:"content_wrapper"},H={class:"lyecs-form-table"},J={style:{width:"100%"}},re=R({__name:"EditConsignee",props:{id:{type:Number,default:0},act:{type:String,default:0},form:{type:Object,default:()=>({})},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(k,{expose:S,emit:U}){const d=U,r=k,i=p(!0),g=D().currentRoute.value.query,b=p(r.isDialog?r.act:String(g.act)),_=p(r.isDialog?r.id:Number(g.id)),V=O(),e=p(r.form);j(()=>{q()});const q=async()=>{try{i.value=!0,console.log(b.value);const s=await M(b.value,{id:_.value});Object.assign(e.value,s.item)}catch(s){c.error(s.message),d("close")}finally{i.value=!1}},y=async()=>{await V.value.validate();try{d("update:confirmLoading",!0),console.log(e.value);const s=await T({id:_.value,...e.value});d("submitCallback",s),c.success(s.message)}catch(s){c.error(s.message)}finally{d("update:confirmLoading",!1)}};return S({onFormSubmit:()=>{y()}}),(s,o)=>{const u=m("el-input"),n=m("el-form-item"),x=m("el-button"),B=m("el-form"),N=m("a-spin");return f(),E("div",A,[v("div",G,[v("div",H,[i.value?C("",!0):(f(),w(B,{key:0,ref_key:"formRef",ref:V,model:e.value,"label-width":"auto"},{default:a(()=>[l(n,{rules:[{required:!0,message:"收货人不能为空!"}],label:"收货人",prop:"consignee"},{default:a(()=>[l(u,{modelValue:e.value.consignee,"onUpdate:modelValue":o[0]||(o[0]=t=>e.value.consignee=t)},null,8,["modelValue"])]),_:1}),l(n,{label:"所在地区",prop:"region_ids"},{default:a(()=>[v("div",J,[i.value?C("",!0):(f(),w(h(z),{key:0,modelValue:e.value.region_ids,"onUpdate:modelValue":o[1]||(o[1]=t=>e.value.region_ids=t)},null,8,["modelValue"]))])]),_:1}),l(n,{rules:[{required:!0,message:"手机不能为空!"}],label:"手机",prop:"mobile"},{default:a(()=>[l(u,{modelValue:e.value.mobile,"onUpdate:modelValue":o[2]||(o[2]=t=>e.value.mobile=t)},null,8,["modelValue"])]),_:1}),l(n,{rules:[{required:!0,message:"地址不能为空!"}],label:"地址",prop:"address"},{default:a(()=>[l(u,{modelValue:e.value.address,"onUpdate:modelValue":o[3]||(o[3]=t=>e.value.address=t)},null,8,["modelValue"])]),_:1}),l(n,{label:"邮编",prop:"postcode"},{default:a(()=>[l(u,{modelValue:e.value.postcode,"onUpdate:modelValue":o[4]||(o[4]=t=>e.value.postcode=t)},null,8,["modelValue"])]),_:1}),l(n,{label:"电子邮件",prop:"email"},{default:a(()=>[l(u,{modelValue:e.value.email,"onUpdate:modelValue":o[5]||(o[5]=t=>e.value.email=t)},null,8,["modelValue"])]),_:1}),l(n,{label:"电话",prop:"telephone"},{default:a(()=>[l(u,{modelValue:e.value.telephone,"onUpdate:modelValue":o[6]||(o[6]=t=>e.value.telephone=t)},null,8,["modelValue"])]),_:1}),L(l(n,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[l(x,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:y},{default:a(()=>o[7]||(o[7]=[F("提交 ")])),_:1},512)]),_:1},512),[[I,!r.isDialog]])]),_:1},8,["model"])),l(N,{spinning:i.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{re as default};
