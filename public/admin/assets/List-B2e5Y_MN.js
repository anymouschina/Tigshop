import{y as ve,d as Se,G as ce,i as pe,q as Re,H as Te,c as o,e as t,b as i,w as m,D as u,E as _,j as g,f as D,I as _e,r as p,o as n,F as Ge,a as Ve,J as Ye,_ as Ce}from"./index-DrbzVNl6.js";import Ee from"./OrderamountStatistics-DvyE5efJ.js";import Ne from"./OrderNumberStatistics-CCe4MASM.js";import{r as Ae}from"./export-D_WXJj3y.js";import"./index-u3wYLQ4o.js";const Pe=v=>ve({url:"panel/salesStatistics/list",method:"get",params:v}),Me=v=>ve({url:"panel/salesStatistics/list",method:"get",responseType:"arraybuffer",params:v}),Le={class:"container"},Oe={class:"content_wrapper"},Ue={class:"filtrate-menu"},Be={class:"main-panel"},Fe={class:"main-panel-item"},qe={class:"main-panel-item-value"},Ie={class:"main-panel-item-increase"},ze={key:0,class:"admin-iconfont red f12 up"},je={key:1,class:"admin-iconfont green f12"},He={class:"main-panel-item"},Je={class:"main-panel-item-value"},Xe={class:"main-panel-item-increase"},Ke={key:0,class:"admin-iconfont red f12 up"},Qe={key:1,class:"admin-iconfont green f12"},We={class:"main-panel-item"},Ze={class:"main-panel-item-value"},$e={class:"main-panel-item-increase"},et={key:0,class:"admin-iconfont red f12 up"},tt={key:1,class:"admin-iconfont green f12"},at={class:"main-panel-item"},st={class:"main-panel-item-value"},nt={class:"main-panel-item-increase"},lt={key:0,class:"admin-iconfont red f12 up"},ot={key:1,class:"admin-iconfont green f12"},it={class:"main-panel-item"},rt={class:"main-panel-item-value"},dt={class:"main-panel-item-increase"},ut={key:0,class:"admin-iconfont red f12 up"},mt={key:1,class:"admin-iconfont green f12"},ct={class:"chart"},pt=Se({__name:"List",setup(v){const fe=(s,e)=>{w()},l=ce({statisticType:"1",startEndTime:"",dateType:"1"}),c=ce({1:"",2:""}),ye=[{label:"按年筛选",value:"1"},{label:"按月筛选",value:"2"}],he=[{text:"本月",value:new Date},{text:"上月",value:()=>{const s=new Date;return s.setTime(s.getTime()-3600*1e3*24*30),s}},{text:"本年一月",value:()=>{const s=new Date;return new Date(s.getFullYear(),0,1)}}],ge=[{text:"本年",value:()=>f(0)},{text:"去年",value:()=>f(1)},{text:"三年前",value:()=>f(3)},{text:"五年前",value:()=>f(5)}],f=s=>{const e=new Date;return new Date(e.getFullYear()-s,e.getMonth(),e.getDate())},a=pe();Ye("filterState",a);const w=async()=>{try{l.startEndTime=c[l.dateType];const s=await Pe(l);a.value=s;const{salesStatisticsData:e}=s,r=l.dateType==="1"?"月":"日";a.value.salesStatisticsData.horizontalAxis=e.horizontalAxis.map(b=>b+r)}catch(s){_e.error(s.message),console.error(s)}},k=()=>{w()},y=pe(!1),De=async()=>{y.value=!0;try{const s=await Me({...l,isExport:"1"});y.value=!1,Ae(s,"销售统计导出")}catch(s){_e.error(s.message)}finally{y.value=!1}};return Re(()=>{const s=Te(new Date);if(s){const e=s.split("-");for(const r in c)r==="1"&&(c[r]=e[0]),r==="2"&&(c[r]=e[0]+"-"+e[1])}w()}),(s,e)=>{var R,T,G,V,Y,C,E,N,A,P,M,L,O,U,B,F,q,I,z,j,H,J,X,K,Q,W,Z,$,ee,te,ae,se,ne,le,oe,ie,re,de,ue,me;const r=p("el-tab-pane"),b=p("el-tabs"),we=p("el-option"),be=p("el-select"),h=p("el-form-item"),x=p("el-date-picker"),S=p("el-button"),ke=p("el-form");return n(),o("div",Le,[t("div",Oe,[t("div",null,[i(b,{modelValue:l.statisticType,"onUpdate:modelValue":e[0]||(e[0]=d=>l.statisticType=d),onTabChange:fe},{default:m(()=>[i(r,{label:"订单金额统计",name:"1"}),i(r,{label:"订单数统计",name:"0"})]),_:1},8,["modelValue"]),i(ke,{model:l},{default:m(()=>[t("div",Ue,[i(h,{class:"mr-10"},{default:m(()=>[i(be,{modelValue:l.dateType,"onUpdate:modelValue":e[1]||(e[1]=d=>l.dateType=d),placeholder:"Select",style:{width:"94.5px"},onChange:k},{default:m(()=>[(n(),o(Ge,null,Ve(ye,(d,xe)=>i(we,{key:xe,label:d.label,value:d.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),i(h,{class:"mr-10"},{default:m(()=>[l.dateType==="2"?(n(),g(x,{key:0,style:{width:"200px"},shortcuts:he,modelValue:c[2],"onUpdate:modelValue":e[2]||(e[2]=d=>c[2]=d),"value-format":"YYYY-MM",type:"month",editable:!1},null,8,["modelValue"])):D("",!0),l.dateType==="1"?(n(),g(x,{key:1,modelValue:c[1],"onUpdate:modelValue":e[3]||(e[3]=d=>c[1]=d),type:"year","value-format":"YYYY",style:{width:"200px"},editable:!1,shortcuts:ge},null,8,["modelValue"])):D("",!0)]),_:1}),i(h,{class:"mr-10"},{default:m(()=>[i(S,{plain:"",onClick:k},{default:m(()=>e[4]||(e[4]=[_("搜索")])),_:1})]),_:1}),i(h,null,{default:m(()=>[i(S,{plain:"",onClick:De,loading:y.value},{default:m(()=>e[5]||(e[5]=[_("导出EXCEL")])),_:1},8,["loading"])]),_:1})])]),_:1},8,["model"]),t("div",Be,[t("ul",null,[t("li",Fe,[e[7]||(e[7]=t("div",{class:"main-panel-item-title"},"商品支付金额",-1)),t("div",qe,u(((T=(R=a.value)==null?void 0:R.salesData)==null?void 0:T.productPayment)??0),1),t("div",Ie,[e[6]||(e[6]=_(" 环比： ")),t("span",null,u((V=(G=a.value)==null?void 0:G.salesData)==null?void 0:V.productPaymentGrowthRate)+"%",1),((C=(Y=a.value)==null?void 0:Y.salesData)==null?void 0:C.productPaymentGrowthRate.toString())!=="--"&&Number((N=(E=a.value)==null?void 0:E.salesData)==null?void 0:N.productPaymentGrowthRate)>0?(n(),o("i",ze,"")):(n(),o("i",je,""))])]),t("li",He,[e[9]||(e[9]=t("div",{class:"main-panel-item-title"},"商品退款金额",-1)),t("div",Je,u(((P=(A=a.value)==null?void 0:A.salesData)==null?void 0:P.productRefund)??0),1),t("div",Xe,[e[8]||(e[8]=_(" 环比： ")),t("span",null,u((L=(M=a.value)==null?void 0:M.salesData)==null?void 0:L.productRefundGrowthRate)+"%",1),((U=(O=a.value)==null?void 0:O.salesData)==null?void 0:U.productRefundGrowthRate.toString())!=="--"&&Number((F=(B=a.value)==null?void 0:B.salesData)==null?void 0:F.productRefundGrowthRate)>0?(n(),o("i",Ke,"")):(n(),o("i",Qe,""))])]),t("li",We,[e[11]||(e[11]=t("div",{class:"main-panel-item-title"},"营业额",-1)),t("div",Ze,u(((I=(q=a.value)==null?void 0:q.salesData)==null?void 0:I.turnover)??0),1),t("div",$e,[e[10]||(e[10]=_(" 环比： ")),t("span",null,u((j=(z=a.value)==null?void 0:z.salesData)==null?void 0:j.turnoverGrowthRate)+"%",1),((J=(H=a.value)==null?void 0:H.salesData)==null?void 0:J.turnoverGrowthRate.toString())!=="--"&&Number((K=(X=a.value)==null?void 0:X.salesData)==null?void 0:K.turnoverGrowthRate)>0?(n(),o("i",et,"")):(n(),o("i",tt,""))])]),t("li",at,[e[13]||(e[13]=t("div",{class:"main-panel-item-title"},"充值金额",-1)),t("div",st,u(((W=(Q=a.value)==null?void 0:Q.salesData)==null?void 0:W.rechargeAmount)??0),1),t("div",nt,[e[12]||(e[12]=_(" 环比： ")),t("span",null,u(($=(Z=a.value)==null?void 0:Z.salesData)==null?void 0:$.rechargeAmountGrowthRate)+"%",1),((te=(ee=a.value)==null?void 0:ee.salesData)==null?void 0:te.rechargeAmountGrowthRate.toString())!=="--"&&Number((se=(ae=a.value)==null?void 0:ae.salesData)==null?void 0:se.rechargeAmountGrowthRate)>0?(n(),o("i",lt,"")):(n(),o("i",ot,""))])]),t("li",it,[e[15]||(e[15]=t("div",{class:"main-panel-item-title"},"余额支付金额",-1)),t("div",rt,u(((le=(ne=a.value)==null?void 0:ne.salesData)==null?void 0:le.balancePayment)??0),1),t("div",dt,[e[14]||(e[14]=_(" 环比： ")),t("span",null,u((ie=(oe=a.value)==null?void 0:oe.salesData)==null?void 0:ie.balancePaymentGrowthRate)+"%",1),((de=(re=a.value)==null?void 0:re.salesData)==null?void 0:de.balancePaymentGrowthRate.toString())!=="--"&&Number((me=(ue=a.value)==null?void 0:ue.salesData)==null?void 0:me.balancePaymentGrowthRate)>0?(n(),o("i",ut,"")):(n(),o("i",mt,""))])])])])]),t("div",ct,[l.statisticType==="1"?(n(),g(Ee,{key:0})):D("",!0),l.statisticType==="0"?(n(),g(Ne,{key:1})):D("",!0)])])])}}}),gt=Ce(pt,[["__scopeId","data-v-06e6874e"]]);export{gt as default};
