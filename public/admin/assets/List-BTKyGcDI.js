import k from"./stepTable-NsP2iK23.js";import{R as w}from"./RadioType-BS0S7lC6.js";import{g as T,s as h}from"./promoteMode-DGHbX5Kd.js";import{d as x,i as d,s as C,q as V,c as r,e as o,f as n,b as c,w as p,I as u,r as m,o as l,j as v,E as R,_ as L}from"./index-DrbzVNl6.js";import"./popover-C6pQEbG1.js";/* empty css                                                                  */const B={class:"container"},N={class:"content_wrapper"},S={key:1,class:"tit"},D={class:"promote-table"},j={key:0,class:"selected-action-warp"},E={class:"selected-action",style:{"padding-left":"80px"}},I=x({__name:"List",setup(q){const e=d(!0),i=C(),t=d({saleType:1,level:[]}),f=async()=>{await i.value.formRef.validate(),t.value.level=i.value.form.typeData,console.log(t.value);try{const s=await h({...t.value});u.success("操作成功")}catch(s){u.error(s.message)}},_=async()=>{e.value=!0;try{const s=await T();Object.assign(t.value,s)}catch(s){u.error(s.message)}finally{e.value=!1}};return V(()=>{_()}),(s,a)=>{const y=m("a-spin"),g=m("el-button");return l(),r("div",B,[o("div",N,[c(y,{spinning:e.value},{default:p(()=>[e.value?n("",!0):(l(),v(w,{key:0,width:"250px",modelValue:t.value.saleType,"onUpdate:modelValue":a[0]||(a[0]=b=>t.value.saleType=b),radioList:[{key:1,title:"一级分销",desc:"分销员在客户下单后获得佣金"},{key:2,title:"二级分销",desc:"分销员在客户下单、下级卖货后可均可获得邀请奖励"}]},null,8,["modelValue"])),e.value?n("",!0):(l(),r("div",S,a[1]||(a[1]=[o("h2",null,"分销员等级方案",-1)]))),o("div",D,[e.value?n("",!0):(l(),v(k,{key:0,ref_key:"stepTableRef",ref:i,distributionLevel:t.value.saleType,typeData:t.value.level},null,8,["distributionLevel","typeData"]))])]),_:1},8,["spinning"])]),a[3]||(a[3]=o("div",{style:{height:"20px"}},null,-1)),e.value?n("",!0):(l(),r("div",j,[o("div",E,[c(g,{loading:e.value,class:"form-submit-btn",size:"large",type:"primary",onClick:f},{default:p(()=>a[2]||(a[2]=[R("保 存")])),_:1},8,["loading"])])]))])}}}),G=L(I,[["__scopeId","data-v-f5436a37"]]);export{G as default};
