import"./index-6c62cf9b.js";import{d as y,I as h,j as r,x as L,r as p,aW as C,o as u,c as z,e as g,H as f,b as e,w as d,f as v,$ as N,k as O,K as B,_ as D}from"./index-7c2d2aef.js";/* empty css                                                                    */import{P}from"./Pagination-8eb7b6b1.js";import"./config-9548fa9b.js";import{b as V}from"./order-5e1a3c9e.js";import{_ as E}from"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import"./config-e2aa16d1.js";const I={class:"container-card"},U={class:"title"},$={class:"pagination-con"},j=y({__name:"OperationLog",props:{order_id:{type:Number,default:0}},setup(b){const a=h({page:1,order_id:b.order_id,parent_order_id:0}),s=r(!0),c=r(10),_=r(0),m=r([]),l=async()=>{try{s.value=!0;const t=await V(a);m.value=t.filter_result,_.value=t.total}catch(t){B.error(t.message)}finally{s.value=!1}};return L(()=>{l()}),(t,o)=>{const x=p("el-button"),n=p("el-table-column"),k=p("el-table"),w=C("loading");return u(),z("div",I,[g("div",U,[f(" 操作日志 "),e(v(E),{params:{act:"detail",id:a.order_id,valueName:"add_note"},isDrawer:"",path:"order/order/src/EditRemark",title:"添加日志",width:"600px",onOkCallback:l},{default:d(()=>[e(x,{bg:"",class:"buttonColor",size:"small",text:"",type:"primary"},{default:d(()=>[f(" 添加日志 ")]),_:1})]),_:1},8,["params"])]),N((u(),O(k,{data:m.value},{default:d(()=>[e(n,{label:"操作者",prop:"operator",width:"120px"}),e(n,{label:"操作时间",prop:"log_time",width:"160px"}),e(n,{label:"备注",prop:"description"})]),_:1},8,["data"])),[[w,s.value]]),g("div",$,[e(v(P),{page:a.page,"onUpdate:page":o[0]||(o[0]=i=>a.page=i),size:c.value,"onUpdate:size":o[1]||(o[1]=i=>c.value=i),total:_.value,onCallback:l},null,8,["page","size","total"])])])}}});const A=D(j,[["__scopeId","data-v-3e0986f8"]]);export{A as default};
