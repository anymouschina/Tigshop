import{d as F,j as h,I as K,x as O,r as c,o as b,c as y,e as s,b as t,w as o,f as i,h as V,K as x,L as j,H as m,G as g}from"./index-7c2d2aef.js";/* empty css             */import"./index-6c62cf9b.js";import{P as k}from"./PopFormElm-61cd9b7d.js";import{_ as E}from"./Switch.vue_vue_type_script_setup_true_lang-95245cd7.js";import{_ as G}from"./DeleteRecord.vue_vue_type_script_setup_true_lang-ae1bade7.js";/* empty css                                                                    */import{P as H}from"./Pagination-8eb7b6b1.js";import{u as M}from"./config-9548fa9b.js";import{a as T,u as f,d as J,b as Q}from"./logisticsCompany-fd0ba0a2.js";import{_ as q}from"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import"./config-e2aa16d1.js";const R={class:"container"},W={class:"content_wrapper"},X={class:"lyecs-table-list-warp"},Y={class:"list-table-tool lyecs-search-warp"},Z={class:"advanced-search-warp list-table-tool-row"},ee={class:"simple-form-warp"},te={class:"simple-form-field"},se={class:"form-group"},oe={class:"control-container"},ae=s("span",{class:"iconfont icon-chakan1"},null,-1),ie={class:"simple-form-field"},le={class:"form-group"},ne={class:"control-container"},de={class:"simple-form-field"},re={class:"form-group"},ce={class:"control-container"},pe={key:0},_e={class:"table-container"},ue=s("a",{class:"btn-link"},"编辑",-1),me={class:"empty-warp"},ge={key:0,class:"empty-bg"},fe={key:0,class:"pagination-con"},ze=F({__name:"List",setup(ve){const w=M(),A=h([]),_=h(!0),v=h(0),u=h([]),n=K({page:1,size:w.get("page_size"),sort_field:"",sort_order:"",keyword:""}),r=async()=>{_.value=!0;try{const l=await T({...n});A.value=l.filter_result,v.value=l.total}catch(l){x.error(l.message)}finally{_.value=!1}};O(()=>{r()});const U=()=>{r()},S=({prop:l,order:a})=>{n.sort_field=l,n.sort_order=a=="ascending"?"asc":a=="descending"?"desc":"",r()},z=async l=>{try{const a=await Q(l,{ids:u.value});x.success(a.message),r()}catch(a){x.error(a.message)}},L=l=>{u.value=l.map(a=>a.logistics_id)};return(l,a)=>{const C=c("el-button"),P=c("el-input"),B=c("el-popconfirm"),D=c("el-form"),p=c("el-table-column"),I=c("el-divider"),N=c("el-table"),$=c("a-spin");return b(),y("div",R,[s("div",W,[s("div",X,[s("div",Y,[t(D,{model:n},{default:o(()=>[s("div",Z,[s("div",ee,[s("div",te,[s("div",se,[s("div",oe,[t(P,{modelValue:n.keyword,"onUpdate:modelValue":a[0]||(a[0]=e=>n.keyword=e),name:"keyword",placeholder:"输入配送方式名称",onKeyup:j(U,["enter"])},{append:o(()=>[t(C,{onClick:U},{default:o(()=>[ae]),_:1})]),_:1},8,["modelValue"])])])]),s("div",ie,[s("div",le,[s("div",ne,[t(i(q),{params:{act:"add"},isDrawer:"",path:"setting/logisticsCompany/Info",title:"添加配送方式",width:"600px",onOkCallback:r},{default:o(()=>[t(C,{type:"primary"},{default:o(()=>[m("添加配送方式")]),_:1})]),_:1})])])]),s("div",de,[s("div",re,[s("div",ce,[t(B,{title:"您确认要批量删除所选数据吗？",onConfirm:a[1]||(a[1]=e=>z("del"))},{reference:o(()=>[t(C,{disabled:u.value.length===0},{default:o(()=>[m("批量删除")]),_:1},8,["disabled"])]),_:1}),u.value.length>0?(b(),y("span",pe,[m(" 已选择："),s("b",null,g(u.value.length),1),m(" 项 ")])):V("",!0)])])])])])]),_:1},8,["model"])]),s("div",_e,[t($,{spinning:_.value},{default:o(()=>[t(N,{data:A.value,loading:_.value,total:v.value,"row-key":"logistics_id",onSelectionChange:L,onSortChange:S},{empty:o(()=>[s("div",me,[_.value?V("",!0):(b(),y("div",ge,"暂无数据"))])]),default:o(()=>[t(p,{type:"selection",width:"32"}),t(p,{label:"配送方式名称"},{default:o(({row:e})=>[t(i(k),{"org-value":e.logistics_name,"onUpdate:orgValue":d=>e.logistics_name=d,max:10,params:{id:e.logistics_id,field:"logistics_name"},requestApi:i(f),label:"配送方式名称",type:"input"},{default:o(()=>[s("div",null,g(e.logistics_name),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),t(p,{label:"配送公司代号",prop:"logistics_code"},{default:o(({row:e})=>[t(i(k),{"org-value":e.logistics_code,"onUpdate:orgValue":d=>e.logistics_code=d,max:10,params:{id:e.logistics_id,field:"logistics_code"},requestApi:i(f),label:"配送公司代号",type:"input"},{default:o(()=>[s("div",null,g(e.logistics_code),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),t(p,{label:"配送方式描述",prop:"logistics_desc"},{default:o(({row:e})=>[t(i(k),{"org-value":e.logistics_desc,"onUpdate:orgValue":d=>e.logistics_desc=d,max:100,params:{id:e.logistics_id,field:"logistics_desc"},requestApi:i(f),label:"配送方式描述",type:"textarea"},{default:o(()=>[s("div",null,g(e.logistics_desc),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),t(p,{label:"是否显示",prop:"is_show",sortable:"custom"},{default:o(({row:e})=>[t(i(E),{checked:e.is_show,"onUpdate:checked":d=>e.is_show=d,params:{id:e.logistics_id,field:"is_show"},requestApi:i(f)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),t(p,{label:"排序",prop:"sort_order",sortable:"custom"},{default:o(({row:e})=>[t(i(k),{"org-value":e.sort_order,"onUpdate:orgValue":d=>e.sort_order=d,params:{id:e.logistics_id,field:"sort_order"},requestApi:i(f),extra:"默认值为50，数值越小，排序越靠前",label:"排序",type:"input"},{default:o(()=>[s("div",null,g(e.sort_order),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),t(p,{width:150,fixed:"right",label:"操作"},{default:o(({row:e})=>[t(i(q),{params:{act:"detail",id:e.logistics_id},isDrawer:"",path:"setting/logisticsCompany/Info",title:"编辑配送方式",width:"600px",onOkCallback:r},{default:o(()=>[ue]),_:2},1032,["params"]),t(I,{direction:"vertical"}),t(i(G),{params:{id:e.logistics_id},requestApi:i(J),onAfterDelete:r},{default:o(()=>[m("删除 ")]),_:2},1032,["params","requestApi"])]),_:1})]),_:1},8,["data","loading","total"])]),_:1},8,["spinning"]),v.value>0?(b(),y("div",fe,[t(i(H),{page:n.page,"onUpdate:page":a[2]||(a[2]=e=>n.page=e),size:n.size,"onUpdate:size":a[3]||(a[3]=e=>n.size=e),total:v.value,onCallback:r},null,8,["page","size","total"])])):V("",!0)])])])])}}});export{ze as default};
