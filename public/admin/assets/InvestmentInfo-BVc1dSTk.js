import{d as D,i as x,s as I,q as N,r as u,c as U,o as r,e as f,j as p,f as d,b as a,w as l,a3 as F,g as c,E as H,a4 as P,I as S}from"./index-DrbzVNl6.js";import{_}from"./Editor.vue_vue_type_script_setup_true_lang-DYKF5akI.js";import{u as T}from"./decorateDiscrete-D06GPsNO.js";import{F as j}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-BDvYUQtN.js";import"./index-CeQDmMxd.js";import"./vuedraggable.umd-DAKh-e3Q.js";import{_ as L}from"./PicList.vue_vue_type_script_setup_true_lang-DaO1TW_I.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-MgR9Z6jO.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              *//* empty css             */import"./ProductGroupSelect.vue_vue_type_style_index_0_scoped_7559934f_lang-BEuf7bhy.js";import"./lodash-Cilobaqo.js";import"./index.esm-bNAKkq0_.js";import"./format-CRgx78oe.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";import"./Image.vue_vue_type_script_setup_true_lang-BWzCs9jv.js";import"./SelectLink-y94Q6MqZ.js";import"./SelectColor.vue_vue_type_script_setup_true_lang-CHTH-RVH.js";import"./time-Bh5UhrfW.js";const R={class:"container"},q={class:"content_wrapper"},E={class:"lyecs-form-table"},se=D({__name:"InvestmentInfo",props:{module:{type:Object,default:{}},decorateSn:{type:String,default:""},index:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(n,{expose:k,emit:w}){const v=w,i=n,g=x(!0),b=I(),t=x({title:"",content:"",image:"",images:[],index:0});N(()=>{Object.assign(t.value,i.module[i.index]),t.value.index=i.index,g.value=!1});const y=async()=>{await b.value.validate();try{v("update:confirmLoading",!0);let s=i.module;s[i.index]=t.value;const e=await T({decorateSn:i.decorateSn,data:s});v("submitCallback",e),S.success("操作成功")}catch(s){S.error(s.message)}finally{v("update:confirmLoading",!1)}};return k({onFormSubmit:()=>{y()}}),(s,e)=>{const h=u("TigInput"),m=u("el-form-item"),C=u("el-button"),V=u("el-form"),B=u("a-spin");return r(),U("div",R,[f("div",q,[f("div",E,[g.value?d("",!0):(r(),p(V,{key:0,ref_key:"formRef",ref:b,model:t.value,"label-width":"auto"},{default:l(()=>[a(m,{rules:[{required:!0,message:"流程标题不能为空!"}],label:"流程标题",prop:"title"},{default:l(()=>[a(h,{classType:"tig-form-input",modelValue:t.value.title,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.title=o)},null,8,["modelValue"])]),_:1}),n.decorateSn=="investmentPromotionHomepage"&&n.index!=0?(r(),p(m,{key:0,label:"流程图",prop:"image"},{default:l(()=>[a(c(j),{photo:t.value.image,"onUpdate:photo":e[1]||(e[1]=o=>t.value.image=o)},null,8,["photo"]),e[5]||(e[5]=f("div",{class:"extra"},"提示：请根据具体需求设置对应大小的图片，高清需要上传双倍大小",-1))]),_:1})):d("",!0),n.decorateSn=="investmentPromotionHomepage"&&n.index==0?(r(),p(m,{key:1,label:"轮播图",prop:"images"},{default:l(()=>[a(c(L),{isMultiple:!0,photos:t.value.images,"onUpdate:photos":e[2]||(e[2]=o=>t.value.images=o)},null,8,["photos"]),e[6]||(e[6]=f("div",{class:"extra"},"提示：请根据具体需求设置对应大小的图片，高清需要上传双倍大小",-1))]),_:1})):d("",!0),n.decorateSn!="investmentPromotionHomepage"?(r(),p(m,{key:2,label:"流程描述",prop:"content"},{default:l(()=>[a(c(_),{html:t.value.content,"onUpdate:html":e[3]||(e[3]=o=>t.value.content=o)},null,8,["html"])]),_:1})):d("",!0),n.decorateSn=="investmentPromotionHomepage"&&n.index!=0?(r(),p(m,{key:3,label:"流程描述",prop:"content"},{default:l(()=>[a(c(_),{html:t.value.content,"onUpdate:html":e[4]||(e[4]=o=>t.value.content=o)},null,8,["html"])]),_:1})):d("",!0),F(a(m,{"wrapper-col":{offset:4,span:16}},{default:l(()=>[a(C,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:y},{default:l(()=>e[7]||(e[7]=[H("提交")])),_:1},512)]),_:1},512),[[P,!i.isDialog]])]),_:1},8,["model"])),a(B,{spinning:g.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{se as default};
