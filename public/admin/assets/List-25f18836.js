/* empty css             */import"./index-6c62cf9b.js";import{d as G,j as p,I,x as L,r as _,o as w,c as k,e as t,b as o,w as e,f as a,h as z,K as E,H as s,G as n,ba as g}from"./index-7c2d2aef.js";/* empty css                                                                    */import{P as j}from"./Pagination-8eb7b6b1.js";import{p as h}from"./format-4e0206d3.js";import{u as H}from"./config-9548fa9b.js";import{a as K,e as M}from"./promoter-617c4eec.js";import{r as O}from"./export-59d12e73.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-b4d9216b.js";import"./category-a8bd4d11.js";/* empty css                                                                  *//* empty css                                                                              */import"./region-e0d291a6.js";import"./shopProductCategory-792e0c23.js";import{_ as T,a as X}from"./SelectPromoteMode.vue_vue_type_script_setup_true_lang-d1ea7210.js";import{_ as A}from"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import"./util-1ee03ed8.js";import"./config-e2aa16d1.js";import"./time-290942a2.js";import"./region-05802f67.js";import"./subgroup-c0dd43e1.js";import"./promoteMode-9ef4057f.js";const J={class:"container"},Q={class:"content_wrapper"},R={class:"lyecs-table-list-warp"},W={class:"list-table-tool lyecs-search-warp"},Y={class:"advanced-search-warp list-table-tool-row"},Z={class:"simple-form-warp"},ee={class:"simple-form-field"},te={class:"form-group"},oe=t("label",{class:"control-label"},[t("span",null,"分销员：")],-1),le={class:"control-container"},se={class:"simple-form-field"},ae={class:"form-group"},ne=t("label",{class:"control-label"},[t("span",null,"分组：")],-1),ie={class:"control-container"},ce={class:"simple-form-field"},re={class:"form-group"},de=t("label",{class:"control-label"},[t("span",null,"等级：")],-1),_e={class:"control-container"},pe={class:"simple-form-field"},ue={class:"advanced-search-warp list-table-tool-row"},me={class:"simple-form-warp"},fe={class:"simple-form-field"},ge={class:"table-container"},he={class:"flex flex-align-center"},ve={class:"flex flex-align-center"},be={class:"flex flex-align-center"},xe={class:"flex flex-align-center"},ye=t("p",null,"支付订单数",-1),we={class:"flex flex-align-center"},ke=t("p",null,"退款订单数",-1),ze={class:"btn-link"},Ce={class:"empty-warp"},Se={key:0,class:"empty-bg"},Ve={key:0,class:"pagination-con"},Ee={key:0,class:"selected-action-warp"},De={class:"selected-action"},et=G({__name:"List",setup(Ue){const v=H(),C=p([]),b=p(!0),x=p(0);p(0);const S=p([]),i=I({page:1,sort_field:"",sort_order:"",mobile:"",group_id:"",level:""});p(-1);const u=async()=>{b.value=!0;try{const d=await K({...i,size:v.pageSize});C.value=d.filter_result,x.value=d.total}catch(d){E.error(d.message)}finally{b.value=!1}},y=p(!1),D=async()=>{y.value=!0;try{const d=await M({...i,is_export:"1",size:-1});y.value=!1,O(d,"分销员明细导出")}catch(d){E.error(d.message)}finally{y.value=!1}};L(()=>{u()});const U=()=>{u()},N=({prop:d,order:c})=>{i.sort_field=d,i.sort_order=c=="ascending"?"asc":c=="descending"?"desc":"",u()};return(d,c)=>{const B=_("el-input"),V=_("el-button"),F=_("el-form"),r=_("el-table-column"),m=_("el-icon"),f=_("el-tooltip"),P=_("el-table"),$=_("a-spin"),q=_("el-space");return w(),k("div",J,[t("div",Q,[t("div",R,[t("div",W,[o(F,{model:i,name:"form"},{default:e(()=>[t("div",Y,[t("div",Z,[t("div",ee,[t("div",te,[oe,t("div",le,[o(B,{modelValue:i.mobile,"onUpdate:modelValue":c[0]||(c[0]=l=>i.mobile=l),name:"mobile",placeholder:"请输入手机号"},null,8,["modelValue"])])])]),t("div",se,[t("div",ae,[ne,t("div",ie,[o(a(T),{group_id:i.group_id,"onUpdate:group_id":c[1]||(c[1]=l=>i.group_id=l)},null,8,["group_id"])])])]),t("div",ce,[t("div",re,[de,t("div",_e,[o(a(X),{level:i.level,"onUpdate:level":c[2]||(c[2]=l=>i.level=l)},null,8,["level"])])])]),t("div",pe,[o(V,{type:"primary",onClick:U},{default:e(()=>[s("搜索")]),_:1})])])]),t("div",ue,[t("div",me,[t("div",fe,[o(V,{type:"primary",onClick:D,loading:y.value},{default:e(()=>[s("导出EXCEL")]),_:1},8,["loading"])])])])]),_:1},8,["model"])]),t("div",ge,[o($,{spinning:b.value},{default:e(()=>[o(P,{data:C.value,total:x.value,"row-key":"product_id",onSortChange:N},{empty:e(()=>[t("div",Ce,[b.value?z("",!0):(w(),k("div",Se,"暂无数据"))])]),default:e(()=>[o(r,{label:"手机号",prop:"product_id",width:130,fixed:"left"},{default:e(({row:l})=>[s(n(l.base_user_info.mobile),1)]),_:1}),o(r,{label:"昵称",prop:"product_id",width:100},{default:e(({row:l})=>[s(n(l.base_user_info.nickname||l.base_user_info.username),1)]),_:1}),o(r,{label:"等级",prop:"product_id",width:100},{default:e(({row:l})=>[s(n(l.level_text),1)]),_:1}),o(r,{label:"分组",prop:"product_id",width:100},{default:e(({row:l})=>[s(n(l.group_info.group_name),1)]),_:1}),o(r,{prop:"product_id",align:"left"},{header:e(()=>[t("div",he,[t("p",null,"累计销售金额("+n(a(v).config.amount_unit)+")",1),o(f,{placement:"top",effect:"light"},{content:e(()=>[s(" 累计业绩为实际有效业绩，剔除了退款金额。 ")]),default:e(()=>[o(m,{size:"16",color:"#c8c9cc",style:{"margin-left":"5px"}},{default:e(()=>[o(a(g))]),_:1})]),_:1})])]),default:e(({row:l})=>[s(n(a(h)(l.sale_amount)),1)]),_:1}),o(r,{prop:"product_id",align:"left"},{header:e(()=>[t("div",ve,[t("p",null,"支付金额("+n(a(v).config.amount_unit)+")",1),o(f,{placement:"top",effect:"light"},{content:e(()=>[s(" 所选时间内，分销员客户的支付成功金额（含退款）。目前仅支持展示2023.11后的数据。 ")]),default:e(()=>[o(m,{size:"16",color:"#c8c9cc",style:{"margin-left":"5px"}},{default:e(()=>[o(a(g))]),_:1})]),_:1})])]),default:e(({row:l})=>[s(n(a(h)(l.pay_money)),1)]),_:1}),o(r,{prop:"product_id",align:"left"},{header:e(()=>[t("div",be,[t("p",null,"退款金额("+n(a(v).config.amount_unit)+")",1),o(f,{placement:"top",effect:"light"},{content:e(()=>[s(" 所选时间内，分销员客户的全额退款和部分退款的退款成功金额。目前仅支持展示2023.11后的数据。 ")]),default:e(()=>[o(m,{size:"16",color:"#c8c9cc",style:{"margin-left":"5px"}},{default:e(()=>[o(a(g))]),_:1})]),_:1})])]),default:e(({row:l})=>[s(n(a(h)(l.refund_amount)),1)]),_:1}),o(r,{prop:"product_id",width:140,align:"left"},{header:e(()=>[t("div",xe,[ye,o(f,{placement:"top",effect:"light"},{content:e(()=>[s(" 所选时间内，分销员客户的所有已支付的订单。目前仅支持展示2023.11后的数据。 ")]),default:e(()=>[o(m,{size:"16",color:"#c8c9cc",style:{"margin-left":"5px"}},{default:e(()=>[o(a(g))]),_:1})]),_:1})])]),default:e(({row:l})=>[s(n(l.order_count),1)]),_:1}),o(r,{prop:"product_id",width:140,align:"left"},{header:e(()=>[t("div",we,[ke,o(f,{placement:"top",effect:"light"},{content:e(()=>[s(" 所选时间内，分销员客户的全额退款和部分退款的订单总数。目前仅支持展示2023.11后的数据。 ")]),default:e(()=>[o(m,{size:"16",color:"#c8c9cc",style:{"margin-left":"5px"}},{default:e(()=>[o(a(g))]),_:1})]),_:1})])]),default:e(({row:l})=>[s(n(l.refund_count),1)]),_:1}),o(r,{label:"已结算收益",prop:"product_id",width:100},{default:e(({row:l})=>[s(n(a(h)(l.total_commission)),1)]),_:1}),o(r,{label:"累计收益",prop:"product_id",width:100},{default:e(({row:l})=>[o(a(A),{params:{act:"detail",id:l.salesman_id},isDrawer:!1,showFooter:!1,path:"salesman/salesmanDetailed/src/cumulativeGain",title:"佣金详情",width:"600px",onOkCallback:u},{default:e(()=>[t("a",ze,n(a(h)(l.total_amount_commission)),1)]),_:2},1032,["params"])]),_:1}),o(r,{label:"累计客户数",prop:"product_id",width:100},{default:e(({row:l})=>[s(n(l.total_customer),1)]),_:1})]),_:1},8,["data","total"])]),_:1},8,["spinning"]),x.value>0?(w(),k("div",Ve,[o(a(j),{page:i.page,"onUpdate:page":c[3]||(c[3]=l=>i.page=l),size:i.size,"onUpdate:size":c[4]||(c[4]=l=>i.size=l),total:x.value,onCallback:u},null,8,["page","size","total"])])):z("",!0)]),S.value.length>0?(w(),k("div",Ee,[t("div",De,[o(q,null,{default:e(()=>[t("span",null,[s("已选择："),t("b",null,n(S.value.length),1),s(" 项")])]),_:1})])])):z("",!0)])])])}}});export{et as default};
