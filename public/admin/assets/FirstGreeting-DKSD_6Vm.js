import{F as V}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-CjXfTDg5.js";import{_ as z}from"./TextEditor.vue_vue_type_script_setup_true_lang-CXBcvJD5.js";import{g as F,s as I}from"./config-COnszit6.js";import{d as S,i as v,p as E,q as U,r as p,c as i,o as d,e as t,b as s,w as a,E as _,f as N,g as W,F as $,I as c,_ as B}from"./index-CGYuOau0.js";import"./index-B-GURfkM.js";import"./vuedraggable.umd-_1km55l4.js";import"./Image.vue_vue_type_script_setup_true_lang-D9PqZe9n.js";import"./format-DFT-VJzO.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";import"./index.esm-WCz80Rui.js";const G={class:"index-m_preferenceSwitch_1TP3q"},M={class:"index-m_header_2mdaa"},q={class:"info-box"},H={class:"right-box"},L={style:{width:"100%","padding-left":"25px","font-size":"14px"}},j={style:{display:"flex","flex-direction":"column"}},A={style:{display:"flex"}},D=["innerHTML"],O={key:1,style:{width:"100%"}},P={style:{display:"flex"}},R={key:0},J={key:1,style:{"margin-top":"14px"}},K={key:0,style:{width:"100%","padding-left":"25px"}},Q=S({__name:"FirstGreeting",setup(X){const r=v(!1),o=v({activate:!1,sendText:!1,sendWechat:!1,wechatImage:"",replyContent:"你好，欢迎光临！"}),m=v({replyContentTemp:""}),g=()=>{m.value.replyContentTemp=o.value.replyContent,r.value=!0},w=()=>{o.value.replyContent=m.value.replyContentTemp,r.value=!1},u=v(!1),b=async()=>{try{const n=await I({code:"welcome",data:o.value})}catch(n){c.error(n.message)}},h=()=>{u.value&&b(),u.value||(u.value=!0)};E(()=>o.value,()=>{h()},{deep:!0});const C=async()=>{try{const n=await F({code:"welcome"});n.item?Object.assign(o.value,n.item):u.value=!0}catch(n){c.error(n.message)}};return U(()=>{C()}),(n,e)=>{const k=p("el-switch"),y=p("el-checkbox"),f=p("el-button"),x=p("el-form-item"),T=p("el-form");return d(),i($,null,[t("div",G,[t("div",M,[e[8]||(e[8]=t("span",{class:"index-m_title_180SF"},"首句欢迎语",-1)),s(k,{class:"switch-pl",modelValue:o.value.activate,"onUpdate:modelValue":e[0]||(e[0]=l=>o.value.activate=l)},null,8,["modelValue"])]),e[9]||(e[9]=t("div",{class:"index-m_desc_Erwpt"},"当买家发送的第一条消息分配到人工接待时，会发送这个回复。相同内容一天内只会对一个买家发送一次",-1))]),e[18]||(e[18]=t("div",{class:"zent-block-header"},[t("div",{class:"zent-block-header__title zent-block-header__title-ribbon"},[t("h3",null,"回复内容")]),t("div",{class:"zent-block-header__content"},"(若都勾选则自动回复文字消息+微信二维码名片)")],-1)),t("div",q,[t("div",H,[s(T,{ref:"formRef",model:o.value,"label-width":"auto"},{default:a(()=>[s(x,{label:"",prop:"brand_logo"},{default:a(()=>[s(y,{style:{width:"100%"},modelValue:o.value.sendText,"onUpdate:modelValue":e[1]||(e[1]=l=>o.value.sendText=l)},{default:a(()=>e[10]||(e[10]=[t("span",{style:{"font-size":"14px"}},"发送文字消息",-1)])),_:1},8,["modelValue"]),t("div",L,[t("div",j,[t("div",A,[e[11]||(e[11]=t("div",{style:{"min-width":"70px"}},"回复内容：",-1)),r.value?(d(),i("div",O,[s(z,{html:m.value.replyContentTemp,"onUpdate:html":e[2]||(e[2]=l=>m.value.replyContentTemp=l),height:"300px"},null,8,["html"])])):(d(),i("div",{key:0,innerHTML:o.value.replyContent},null,8,D))]),t("div",P,[e[15]||(e[15]=t("div",{style:{width:"70px"}},null,-1)),r.value?(d(),i("div",J,[s(f,{onClick:e[4]||(e[4]=l=>w()),style:{"font-size":"14px"},type:"primary"},{default:a(()=>e[13]||(e[13]=[_("保存")])),_:1}),s(f,{onClick:e[5]||(e[5]=l=>r.value=!1),style:{"font-size":"14px"}},{default:a(()=>e[14]||(e[14]=[_("取消")])),_:1})])):(d(),i("div",R,[s(f,{onClick:e[3]||(e[3]=l=>g()),style:{"font-size":"14px"},type:"primary",link:""},{default:a(()=>e[12]||(e[12]=[_("编辑")])),_:1})]))])])])]),_:1}),s(x,{label:"",prop:"brand_logo"},{default:a(()=>[s(y,{style:{width:"100%"},modelValue:o.value.sendWechat,"onUpdate:modelValue":e[6]||(e[6]=l=>o.value.sendWechat=l)},{default:a(()=>e[16]||(e[16]=[t("span",{style:{"font-size":"14px"}},"发送微信二维码名片",-1)])),_:1},8,["modelValue"]),o.value.sendWechat?(d(),i("div",K,[s(W(V),{photo:o.value.wechatImage,"onUpdate:photo":e[7]||(e[7]=l=>o.value.wechatImage=l)},null,8,["photo"])])):N("",!0),e[17]||(e[17]=t("div",{class:"extra"},"系统自动发送微信二维码名片，引导买家添加客服微信，提升加粉效率",-1))]),_:1})]),_:1},8,["model"])])])],64)}}}),pe=B(Q,[["__scopeId","data-v-a77dc62d"]]);export{pe as default};
