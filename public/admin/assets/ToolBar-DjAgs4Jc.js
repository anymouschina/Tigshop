import{d as L}from"./vuedraggable.umd-DAKh-e3Q.js";import{l as M}from"./lodash-Cilobaqo.js";import{i as H}from"./version-CL9k3sYf.js";import{d as O,i as s,q as j,c as d,e as t,b as r,w as l,r as h,o as n,j as f,f as i,g as v,D as k,_ as q}from"./index-DrbzVNl6.js";const J={class:"theme-toolbar"},$={class:"theme-menu-con show"},U={class:"theme-con-box"},G={class:"inside"},R=["onClick"],z=["innerHTML"],F={key:1,class:"content"},K=["onClick"],Q=["innerHTML"],W={key:1,class:"content"},X=["onClick"],Y=["innerHTML"],Z={key:1,class:"content"},oo=O({__name:"ToolBar",props:{modules:{type:Object,default:()=>({})}},emits:["item-added"],setup(N,{emit:A}){localStorage.getItem("adminType");const P=s(["tool","other","advanced"]),V=N,m=s("toolList"),C=s(V.modules),u=s([{type:"imageAd",url:"mobile",label:"图片广告",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},isShow:!0},{type:"imageSquareAd",url:"mobile",label:"图片魔方",content:'<i class="iconfont-admin icon-image_square_ad"></i>',module:{},isShow:!0},{type:"imageHotarea",url:"mobile",label:"热图绘制",content:'<i class="iconfont-admin icon-image_hotarea"></i>',module:{},isShow:!0},{type:"product",url:"mobile",label:"商品",content:'<i class="iconfont-admin icon-product"></i>',module:{},isShow:!0},{type:"whiteLine",url:"mobile",label:"分割线",content:'<i class="iconfont-admin icon-white_line"></i>',module:{},isShow:!0},{type:"whiteBlank",url:"mobile",label:"空白辅助",content:'<i class="iconfont-admin icon-white_blank"></i>',module:{},isShow:!0},{type:"imageNav",url:"mobile",label:"图文导航",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},isShow:!0},{type:"titleAd",url:"mobile",label:"文本标题",content:'<i class="iconfont-admin icon-title_ad"></i>',module:{},isShow:!0},{type:"notice",url:"mobile",label:"公告",content:'<i class="iconfont-admin icon-notice"></i>',module:{},isShow:!0}]),x=s([{type:"imageTextComponent",url:"mobilePro",label:"图文介绍",content:'<i class="iconfont-admin icon-image_text_component"></i>',module:{},isShow:!0},{type:"productGrouping",url:"mobilePro",label:"商品分组",content:'<i class="iconfont-admin icon-product_grouping"></i>',module:{},isShow:!0},{type:"groupSliding",url:"mobilePro",label:"分组滑动",content:'<i class="iconfont-admin icon-group_sliding"></i>',module:{},isShow:!0},{type:"countdown",url:"mobilePro",label:"倒计时",content:'<i class="iconfont-admin icon-countdown"></i>',module:{},isShow:!0},{type:"categoryRec",url:"mobilePro",label:"分类推荐",content:'<i class="iconfont-admin icon-category_rec"></i>',module:{},isShow:!0},{type:"mixedProductDisplay",url:"mobilePro",label:"商品混排",content:'<i class="iconfont-admin icon-mixed_product_display"></i>',module:{},isShow:!0},{type:"specialOffer",url:"mobilePro",label:"天天特价",content:'<i class="iconfont-admin icon-special_offer"></i>',module:{},isShow:!0},{type:"noticeA2",url:"mobilePro",label:"公告",content:'<i class="iconfont-admin icon-notice"></i>',module:{},isShow:!0},{type:"comboSuggestions",url:"mobilePro",label:"组合推荐",content:'<i class="iconfont-admin icon-combo_suggestions"></i>',module:{},isShow:!0},{type:"slideLargeImage",url:"mobilePro",label:"大图滑动",content:'<i class="iconfont-admin icon-slide_large_image"></i>',module:{},isShow:!0},{type:"slidingImage",url:"mobilePro",label:"小图滑动",content:'<i class="iconfont-admin icon-sliding_image"></i>',module:{},isShow:!0},{type:"banner",url:"mobilePro",label:"首焦轮播",content:'<i class="iconfont-admin icon-banner"></i>',module:{},isShow:!0},{type:"categoryNav",url:"mobilePro",label:"类目导航",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},isShow:!0},{type:"categoryNavA1",url:"mobilePro",label:"类目导航A1",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},isShow:!0},{type:"categoryNavA2",url:"mobilePro",label:"类目导航A2",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},isShow:!0}]),_=s([{type:"coupon",url:"mobilePromotion",label:"优惠券",content:'<i class="iconfont-admin icon-coupon"></i>',module:{},isShow:!0}]),B=s([{type:"searchBar",url:"mobile",label:"商品搜索",content:'<i class="iconfont-admin icon-search_bar"></i>',module:{},isShow:!0},{type:"catNav",url:"mobile",label:"分类导航",content:'<i class="iconfont-admin icon-cat_nav"></i>',module:{},isShow:!0}]),I=s([{type:"seckill",url:"mobilePromotion",label:"秒杀",content:'<i class="iconfont-admin icon-seckill"></i>',module:{},isShow:!0}]),D=s([{type:"shopInfo",url:"mobilePromotion",label:"店铺信息",content:'<i class="iconfont-admin icon-product"></i>',module:{},isShow:!0}]),y=a=>{let o=M.cloneDeep(a);return o.moduleIndex=Date.now(),delete o.content,o},E=A,g=(a,o="toolList",w)=>{const S={toolList:u.value,advancedList:x.value,otherList:_.value};let c;const p=S[o];if(p&&p[a])c=M.cloneDeep(p[a]),c.moduleIndex=Date.now(),C.value.moduleList.push(c),E("item-added",{newIndex:C.value.moduleList.length-1});else throw new Error("无效的类型或索引")};return j(()=>{const a=localStorage.getItem("shopId");a&&a!="0"?u.value=[...u.value,...D.value,...I.value]:(u.value=[...u.value,...B.value],_.value=[..._.value,...I.value])}),(a,o)=>{const w=h("el-tab-pane"),S=h("el-tabs"),c=h("el-collapse-item"),p=h("el-collapse");return n(),d("div",J,[t("div",$,[t("div",U,[r(S,{modelValue:m.value,"onUpdate:modelValue":o[0]||(o[0]=e=>m.value=e),class:"demo-tabs"},{default:l(()=>[r(w,{label:"基础模块",name:"toolList"}),v(H)()?(n(),f(w,{key:0,label:"高级模块",name:"advancedList"})):i("",!0)]),_:1},8,["modelValue"]),t("div",G,[r(p,{modelValue:P.value,"onUpdate:modelValue":o[7]||(o[7]=e=>P.value=e)},{default:l(()=>[m.value==="toolList"?(n(),f(c,{key:0,title:"基础模块",name:"tool"},{title:l(()=>o[8]||(o[8]=[t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"基础模块")],-1)])),default:l(()=>[r(v(L),{class:"module-list","item-key":"type",list:u.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[1]||(o[1]=()=>{}),onEnd:o[2]||(o[2]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:y},{item:l(({element:e,index:b})=>[t("div",{class:"list-item tool-list-item",onClick:T=>g(b,"toolList",e)},[e.content?(n(),d("span",{key:0,class:"pic",innerHTML:e.content},null,8,z)):i("",!0),e.label?(n(),d("span",F,k(e.label),1)):i("",!0)],8,R)]),_:1},8,["list"])]),_:1})):i("",!0),m.value==="toolList"?(n(),f(c,{key:1,title:"其它模块",name:"other"},{title:l(()=>o[9]||(o[9]=[t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"其它模块")],-1)])),default:l(()=>[r(v(L),{class:"module-list","item-key":"type",list:_.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[3]||(o[3]=()=>{}),onEnd:o[4]||(o[4]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:y},{item:l(({element:e,index:b})=>[t("div",{class:"list-item tool-list-item",onClick:T=>g(b,"otherList")},[e.content?(n(),d("span",{key:0,class:"pic",innerHTML:e.content},null,8,Q)):i("",!0),e.label?(n(),d("span",W,k(e.label),1)):i("",!0)],8,K)]),_:1},8,["list"])]),_:1})):i("",!0),m.value==="advancedList"&&v(H)()?(n(),f(c,{key:2,title:"高级模块",name:"advanced"},{title:l(()=>o[10]||(o[10]=[t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"高级模块")],-1)])),default:l(()=>[r(v(L),{class:"module-list","item-key":"type",list:x.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[5]||(o[5]=()=>{}),onEnd:o[6]||(o[6]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:y},{item:l(({element:e,index:b})=>[t("div",{class:"list-item tool-list-item",onClick:T=>g(b,"advancedList")},[e.content?(n(),d("span",{key:0,class:"pic",innerHTML:e.content},null,8,Y)):i("",!0),e.label?(n(),d("span",Z,k(e.label),1)):i("",!0)],8,X)]),_:1},8,["list"])]),_:1})):i("",!0)]),_:1},8,["modelValue"]),o[11]||(o[11]=t("div",{style:{height:"50px"}},null,-1))])])])])}}}),io=q(oo,[["__scopeId","data-v-ce21fbfd"]]);export{io as default};
