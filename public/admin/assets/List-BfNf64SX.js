import{d as $,i as b,G as F,q as E,c as y,e as o,b as s,w as a,L as K,g as i,f as q,E as m,D as g,I as A,r as p,o as h}from"./index-CGYuOau0.js";/* empty css             */import"./index-B-GURfkM.js";import{P as k}from"./PopFormElm-DSof3F4x.js";import{_ as O}from"./Switch.vue_vue_type_script_setup_true_lang-CKSPWIQL.js";import{_ as G}from"./DeleteRecord.vue_vue_type_script_setup_true_lang-BTFcBk5t.js";/* empty css                                                                    */import{P as M}from"./Pagination-yOfjsBuR.js";import{u as T}from"./config-DNllFJyR.js";import{a as j,b as H,u as f,d as J}from"./logisticsCompany-BhiSneCE.js";import{_ as w}from"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";import"./config-DU8_t5BN.js";const Q={class:"container"},R={class:"content_wrapper"},W={class:"lyecs-table-list-warp"},X={class:"list-table-tool lyecs-search-warp"},Y={class:"advanced-search-warp list-table-tool-row"},Z={class:"simple-form-warp"},ee={class:"simple-form-field"},te={class:"form-group"},se={class:"control-container"},oe={class:"simple-form-field"},ae={class:"form-group"},ie={class:"control-container"},le={class:"simple-form-field"},ne={class:"form-group"},re={class:"control-container"},de={key:0},ce={class:"table-container"},pe={class:"empty-warp"},_e={key:0,class:"empty-bg"},ue={key:0,class:"pagination-con"},we=$({__name:"List",setup(me){const x=T(),U=b([]),_=b(!0),v=b(0),u=b([]),n=F({page:1,size:x.get("page_size"),sort_field:"",sort_order:"",keyword:""}),d=async()=>{_.value=!0;try{const l=await j({...n});U.value=l.filter_result,v.value=l.total}catch(l){A.error(l.message)}finally{_.value=!1}};E(()=>{d()});const C=()=>{d()},S=({prop:l,order:t})=>{n.sort_field=l,n.sort_order=t=="ascending"?"asc":t=="descending"?"desc":"",d()},z=async l=>{try{const t=await H(l,{ids:u.value});A.success(t.message),d()}catch(t){A.error(t.message)}},L=l=>{u.value=l.map(t=>t.logistics_id)};return(l,t)=>{const V=p("el-button"),D=p("el-input"),P=p("el-popconfirm"),c=p("el-table-column"),B=p("el-divider"),I=p("el-table"),N=p("a-spin");return h(),y("div",Q,[o("div",R,[o("div",W,[o("div",X,[o("div",Y,[o("div",Z,[o("div",ee,[o("div",te,[o("div",se,[s(D,{modelValue:n.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>n.keyword=e),name:"keyword",placeholder:"输入配送方式名称",onKeyup:K(C,["enter"]),clearable:"",onClear:C},{append:a(()=>[s(V,{onClick:C},{default:a(()=>t[4]||(t[4]=[o("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1})]),_:1},8,["modelValue"])])])]),o("div",oe,[o("div",ae,[o("div",ie,[s(i(w),{params:{act:"add"},isDrawer:"",path:"setting/logisticsCompany/Info",title:"添加配送方式",width:"600px",onOkCallback:d},{default:a(()=>[s(V,{type:"primary"},{default:a(()=>t[5]||(t[5]=[m("添加配送方式")])),_:1})]),_:1})])])]),o("div",le,[o("div",ne,[o("div",re,[s(P,{title:"您确认要批量删除所选数据吗？",onConfirm:t[1]||(t[1]=e=>z("del"))},{reference:a(()=>[s(V,{disabled:u.value.length===0},{default:a(()=>t[6]||(t[6]=[m("批量删除")])),_:1},8,["disabled"])]),_:1}),u.value.length>0?(h(),y("span",de,[t[7]||(t[7]=m(" 已选择：")),o("b",null,g(u.value.length),1),t[8]||(t[8]=m(" 项 "))])):q("",!0)])])])])])]),o("div",ce,[s(N,{spinning:_.value},{default:a(()=>[s(I,{data:U.value,loading:_.value,total:v.value,"row-key":"logistics_id",onSelectionChange:L,onSortChange:S},{empty:a(()=>[o("div",pe,[_.value?q("",!0):(h(),y("div",_e,"暂无数据"))])]),default:a(()=>[s(c,{type:"selection",width:"32"}),s(c,{label:"配送方式名称"},{default:a(({row:e})=>[s(i(k),{"org-value":e.logistics_name,"onUpdate:orgValue":r=>e.logistics_name=r,max:10,params:{id:e.logistics_id,field:"logistics_name"},requestApi:i(f),label:"配送方式名称",type:"input"},{default:a(()=>[o("div",null,g(e.logistics_name),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),s(c,{label:"配送公司代号",prop:"logistics_code"},{default:a(({row:e})=>[s(i(k),{"org-value":e.logistics_code,"onUpdate:orgValue":r=>e.logistics_code=r,max:10,params:{id:e.logistics_id,field:"logistics_code"},requestApi:i(f),label:"配送公司代号",type:"input"},{default:a(()=>[o("div",null,g(e.logistics_code),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),s(c,{label:"配送方式描述",prop:"logistics_desc"},{default:a(({row:e})=>[s(i(k),{"org-value":e.logistics_desc,"onUpdate:orgValue":r=>e.logistics_desc=r,max:100,params:{id:e.logistics_id,field:"logistics_desc"},requestApi:i(f),label:"配送方式描述",type:"textarea"},{default:a(()=>[o("div",null,g(e.logistics_desc),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),s(c,{label:"是否显示",prop:"is_show",sortable:"custom"},{default:a(({row:e})=>[s(i(O),{checked:e.is_show,"onUpdate:checked":r=>e.is_show=r,params:{id:e.logistics_id,field:"is_show"},requestApi:i(f)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),s(c,{label:"排序",prop:"sort_order",sortable:"custom"},{default:a(({row:e})=>[s(i(k),{"org-value":e.sort_order,"onUpdate:orgValue":r=>e.sort_order=r,params:{id:e.logistics_id,field:"sort_order"},requestApi:i(f),extra:"默认值为50，数值越小，排序越靠前",label:"排序",type:"input"},{default:a(()=>[o("div",null,g(e.sort_order),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),s(c,{width:150,fixed:"right",label:"操作"},{default:a(({row:e})=>[s(i(w),{params:{act:"detail",id:e.logistics_id},isDrawer:"",path:"setting/logisticsCompany/Info",title:"编辑配送方式",width:"600px",onOkCallback:d},{default:a(()=>t[9]||(t[9]=[o("a",{class:"btn-link"},"编辑",-1)])),_:2},1032,["params"]),s(B,{direction:"vertical"}),s(i(G),{params:{id:e.logistics_id},requestApi:i(J),onAfterDelete:d},{default:a(()=>t[10]||(t[10]=[m("删除 ")])),_:2},1032,["params","requestApi"])]),_:1})]),_:1},8,["data","loading","total"])]),_:1},8,["spinning"]),v.value>0?(h(),y("div",ue,[s(i(M),{page:n.page,"onUpdate:page":t[2]||(t[2]=e=>n.page=e),size:n.size,"onUpdate:size":t[3]||(t[3]=e=>n.size=e),total:v.value,onCallback:d},null,8,["page","size","total"])])):q("",!0)])])])])}}});export{we as default};
