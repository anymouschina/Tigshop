import{l as C,m as G}from"./gallery-DHkpVoP3.js";import{d as S,aU as x,i as B,G as N,q as R,I as r,r as n,c as T,o as U,e as f,b as a,w as m,g as o}from"./index-DrbzVNl6.js";const q={class:"container"},D={class:"content_wrapper"},E={class:"lyecs-form-table"},O=S({__name:"GalleryVideoEdit",props:{id:{type:Number,default:0},parentId:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","okType"],setup(_,{expose:b,emit:y}){const v=_,{parentId:g,id:i,act:d}=x(v),V=d.value=="add"?"create":"update",c=B();let t=N({name:"",sort:50});R(()=>{d.value==="detail"&&I()});const I=async()=>{try{const e=await C({id:i.value});Object.assign(t,e)}catch(e){r.error(e.message)}},w=y,k=async()=>{await c.value.validate();try{const e=await G(V,{id:i.value,parentId:g.value,...t});w("submitCallback",e),r.success("操作成功")}catch(e){r.error(e.message)}};return b({onFormSubmit:()=>{k()}}),(e,s)=>{const u=n("TigInput"),p=n("el-form-item"),h=n("el-form");return U(),T("div",q,[f("div",D,[f("div",E,[a(h,{ref_key:"formRef",ref:c,model:o(t),"label-width":"auto"},{default:m(()=>[a(p,{name:"name",label:"相册名称",rules:[{required:!0,message:"相册名称不能为空!"}]},{default:m(()=>[a(u,{modelValue:o(t).name,"onUpdate:modelValue":s[0]||(s[0]=l=>o(t).name=l)},null,8,["modelValue"])]),_:1}),a(p,{name:"sort",label:"排序"},{default:m(()=>[a(u,{type:"integer",modelValue:o(t).sort,"onUpdate:modelValue":s[1]||(s[1]=l=>o(t).sort=l),min:0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])])])}}});export{O as default};
