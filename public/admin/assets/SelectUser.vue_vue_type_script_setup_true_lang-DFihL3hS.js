import{g as I}from"./user-Zgy4YOmN.js";import{d as b,i as p,G as x,ad as B,r as c,c as r,o as a,F as n,b as V,f as _,w as C,a as N,j as h,e as f,I as F}from"./index-DrbzVNl6.js";const L=b({__name:"SelectUser",props:{userId:{type:Number},username:{type:String,default:""},showTips:{type:Boolean,default:!1},multiple:{type:Boolean,default:!0}},emits:["update:userId"],setup(u,{emit:v}){const d=u,l=p(!0),o=x({page:1,size:20}),y=v,i=B({get:()=>d.userId,set:s=>y("update:userId",s)}),m=p([]),g=async s=>{l.value=!0,o.keyword="",o.keyword=String(s);try{const e=await I({...o});m.value=e.records}catch(e){F.error(e.message)}finally{l.value=!1}};return(s,e)=>{const w=c("el-option"),k=c("el-select");return a(),r(n,null,[V(k,{style:{width:"100%"},modelValue:i.value,"onUpdate:modelValue":e[0]||(e[0]=t=>i.value=t),loading:l.value,"remote-method":g,filterable:"",multiple:d.multiple,placeholder:"请输入会员名称/手机号",remote:"","remote-show-suffix":"","reserve-keyword":""},{default:C(()=>[(a(!0),r(n,null,N(m.value,t=>(a(),h(w,{key:t.userId,label:"会员名称："+t.username+(t.mobile?"（"+t.mobile+"）":""),value:t.userId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","multiple"]),u.showTips?(a(),r(n,{key:0},[e[1]||(e[1]=f("div",{class:"extra"},"注意：搜索结果只显示前20条记录，如果没有找到相应会员，请更精确地查找；",-1)),e[2]||(e[2]=f("div",{class:"extra"},"另外，如果该会员是从论坛注册的且没有在商城登录过，也无法找到，需要先在商城登录。",-1))],64)):_("",!0)],64)}}});export{L as _};
