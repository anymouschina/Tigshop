import{_ as V}from"./TextEditor.vue_vue_type_script_setup_true_lang-33651ecd.js";import{g as I,s as F}from"./config-47ce92c4.js";import{d as E,j as v,v as $,x as B,r,o as _,c,e,b as l,w as a,H as h,F as G,K as y,p as H,i as M,_ as N}from"./index-7c2d2aef.js";import"./index.esm-0534e563.js";import"./index-6c62cf9b.js";import"./format-4e0206d3.js";import"./config-9548fa9b.js";import"./config-e2aa16d1.js";import"./util-1ee03ed8.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";const i=p=>(H("data-v-b86c2dd8"),p=p(),M(),p),Q={class:"index-m_preferenceSwitch_1TP3q"},U={class:"index-m_header_2mdaa"},j=i(()=>e("span",{class:"index-m_title_180SF"},"客服排队中提醒",-1)),L=i(()=>e("div",{class:"index-m_desc_Erwpt"},"所有客服都不在线或没有接待余量（最大接待客户数-正在接待客户数）时，会发送这个回复",-1)),q=i(()=>e("div",{class:"zent-block-header"},[e("div",{class:"zent-block-header__title zent-block-header__title-ribbon"},[e("h3",null,"回复内容")]),e("div",{class:"zent-block-header__content"},"(若都勾选则自动回复文字消息)")],-1)),D={class:"info-box"},K={class:"right-box"},O=i(()=>e("span",{style:{"font-size":"14px"}},"发送文字消息",-1)),P={style:{width:"100%","padding-left":"25px","font-size":"14px"}},R={style:{display:"flex","flex-direction":"column"}},A={style:{display:"flex"}},J=i(()=>e("div",{style:{"min-width":"70px"}},"回复内容：",-1)),W=["innerHTML"],X={key:1,style:{width:"100%"}},Y={style:{display:"flex"}},Z=i(()=>e("div",{style:{width:"70px"}},null,-1)),ee={key:0},te={key:1,style:{"margin-top":"14px"}},oe=E({__name:"QueueGreeting",setup(p){const d=v(!1),o=v({activate:!1,sendText:!1,replyContent:"抱歉，目前客服都在忙呢，请再稍等一会儿"}),m=v({replyContentTemp:""}),x=()=>{m.value.replyContentTemp=o.value.replyContent,d.value=!0},g=()=>{o.value.replyContent=m.value.replyContentTemp,d.value=!1},b=async()=>{try{const s=await F({code:"waiting",data:o.value})}catch(s){y.error(s.message)}},u=v(!1),w=()=>{u.value&&b(),u.value||(u.value=!0)};$(()=>o.value,()=>{w()},{deep:!0});const C=async()=>{try{const s=await I({code:"waiting"});s.item?Object.assign(o.value,s.item):u.value=!0}catch(s){y.error(s.message)}finally{}};return B(()=>{C()}),(s,t)=>{const k=r("el-switch"),T=r("el-checkbox"),f=r("el-button"),z=r("el-form-item"),S=r("el-form");return _(),c(G,null,[e("div",Q,[e("div",U,[j,l(k,{class:"switch-pl",modelValue:o.value.activate,"onUpdate:modelValue":t[0]||(t[0]=n=>o.value.activate=n)},null,8,["modelValue"])]),L]),q,e("div",D,[e("div",K,[l(S,{ref:"formRef",model:o.value,"label-width":"auto"},{default:a(()=>[l(z,{label:"",prop:"brand_logo"},{default:a(()=>[l(T,{style:{width:"100%"},modelValue:o.value.sendText,"onUpdate:modelValue":t[1]||(t[1]=n=>o.value.sendText=n)},{default:a(()=>[O]),_:1},8,["modelValue"]),e("div",P,[e("div",R,[e("div",A,[J,d.value?(_(),c("div",X,[l(V,{html:m.value.replyContentTemp,"onUpdate:html":t[2]||(t[2]=n=>m.value.replyContentTemp=n),height:"300px"},null,8,["html"])])):(_(),c("div",{key:0,innerHTML:o.value.replyContent},null,8,W))]),e("div",Y,[Z,d.value?(_(),c("div",te,[l(f,{onClick:t[4]||(t[4]=n=>g()),style:{"font-size":"14px"},type:"primary"},{default:a(()=>[h("保存")]),_:1}),l(f,{onClick:t[5]||(t[5]=n=>d.value=!1),style:{"font-size":"14px"}},{default:a(()=>[h("取消")]),_:1})])):(_(),c("div",ee,[l(f,{onClick:t[3]||(t[3]=n=>x()),style:{"font-size":"14px"},type:"primary",link:""},{default:a(()=>[h("编辑")]),_:1})]))])])])]),_:1})]),_:1},8,["model"])])])],64)}}});const me=N(oe,[["__scopeId","data-v-b86c2dd8"]]);export{me as default};
