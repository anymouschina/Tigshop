import{d as C,i as l,G as S,q as B,r as c,c as V,o as b,j as x,f as h,w as i,b as o,a0 as j,g as D,E as L,a1 as N,y as q,I as g}from"./index-CGYuOau0.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-t3_hMxDC.js";import"./index-B-GURfkM.js";/* empty css                                                                    *//* empty css                                                                  */import{S as A}from"./SelectArticleCategory-DfRIn8M4.js";/* empty css             */import"./time-ClyPenjC.js";import"./articleCategory-BYgmIQPq.js";/* empty css                                                                              */const H=C({__name:"Move",props:{ids:{type:Array,default:()=>[]},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(v,{expose:y,emit:k}){const u=l(!0),n=v,d=l(),a=S({ids:n.ids,target_cat:[]}),r=k;B(async()=>{u.value=!1});const w=async m=>{m&&await m.validate((e,s)=>{e&&(r("update:confirmLoading",!0),new Promise((p,_)=>{q({url:"content/article/batch",method:"post",data:{ids:n.ids.join(","),type:"move_cat",...a}}).then(t=>{setTimeout(()=>{r("update:confirmLoading",!1)},600),t.errcode>0?(r("submitCallback",t),g.error(t.message)):(g.success(t.message),r("submitCallback",t))})}))})},f=l();return y({onFormSubmit:()=>{f.value.$el.click()}}),(m,e)=>{const s=c("el-form-item"),p=c("el-button"),_=c("el-form");return b(),V("div",null,[u.value?h("",!0):(b(),x(_,{key:0,ref_key:"formRef",ref:d,model:a,"label-width":"auto"},{default:i(()=>[o(s),o(s,{label:"转移至",prop:"target_cat"},{default:i(()=>[o(D(A),{"min-width":"100%",modelValue:a.target_cat,"onUpdate:modelValue":e[0]||(e[0]=t=>a.target_cat=t)},null,8,["modelValue"])]),_:1}),j(o(s,{"wrapper-col":{offset:4,span:16}},{default:i(()=>[o(p,{ref_key:"submitBtn",ref:f,class:"form-submit-btn",type:"primary",onClick:e[1]||(e[1]=t=>w(d.value))},{default:i(()=>e[2]||(e[2]=[L("提交 ")])),_:1},512)]),_:1},512),[[N,!n.isDialog]])]),_:1},8,["model"]))])}}});export{H as default};
