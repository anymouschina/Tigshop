import{d as D,i as x,s as N,q as U,r as u,c as F,o as m,e as f,j as p,f as d,b as a,w as l,a0 as j,g as c,E as I,a1 as L,I as y}from"./index-CGYuOau0.js";import{_ as k}from"./Editor.vue_vue_type_script_setup_true_lang-BBcTD5Hp.js";import{u as R}from"./decorateDiscrete-DibaskwM.js";import{F as q}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-CjXfTDg5.js";import{_ as E}from"./PicList.vue_vue_type_script_setup_true_lang-Biy_gGZG.js";import"./index-B-GURfkM.js";import"./vuedraggable.umd-_1km55l4.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-t3_hMxDC.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              *//* empty css             */import"./ProductGroupSelect.vue_vue_type_style_index_0_scoped_a9bbde62_lang-K6p2K1R0.js";import"./lodash-blK8fE0I.js";import"./index.esm-WCz80Rui.js";import"./format-DFT-VJzO.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";import"./Image.vue_vue_type_script_setup_true_lang-D9PqZe9n.js";import"./SelectLink-7bDF6pPk.js";import"./SelectColor.vue_vue_type_script_setup_true_lang-DaNn8bLS.js";import"./time-ClyPenjC.js";const M={class:"container"},O={class:"content_wrapper"},$={class:"lyecs-form-table"},pe=D({__name:"InvestmentInfo",props:{module:{type:Object,default:{}},decorate_sn:{type:String,default:""},index:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(n,{expose:h,emit:w}){const v=w,i=n,_=x(!0),g=N(),t=x({title:"",content:"",image:"",images:[],index:0});U(()=>{Object.assign(t.value,i.module[i.index]),t.value.index=i.index,_.value=!1});const b=async()=>{await g.value.validate();try{v("update:confirmLoading",!0);let r=i.module;r[i.index]=t.value;const e=await R({decorate_sn:i.decorate_sn,data:r});v("submitCallback",e),y.success(e.message)}catch(r){y.error(r.message)}finally{v("update:confirmLoading",!1)}};return h({onFormSubmit:()=>{b()}}),(r,e)=>{const C=u("el-input"),s=u("el-form-item"),V=u("el-button"),B=u("el-form"),S=u("a-spin");return m(),F("div",M,[f("div",O,[f("div",$,[_.value?d("",!0):(m(),p(B,{key:0,ref_key:"formRef",ref:g,model:t.value,"label-width":"auto"},{default:l(()=>[a(s,{rules:[{required:!0,message:"流程标题不能为空!"}],label:"流程标题",prop:"title"},{default:l(()=>[a(C,{modelValue:t.value.title,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.title=o)},null,8,["modelValue"])]),_:1}),n.decorate_sn=="investment_promotion_homepage"&&n.index!=0?(m(),p(s,{key:0,label:"流程图",prop:"image"},{default:l(()=>[a(c(q),{photo:t.value.image,"onUpdate:photo":e[1]||(e[1]=o=>t.value.image=o)},null,8,["photo"]),e[5]||(e[5]=f("div",{class:"extra"},"提示：请根据具体需求设置对应大小的图片，高清需要上传双倍大小",-1))]),_:1})):d("",!0),n.decorate_sn=="investment_promotion_homepage"&&n.index==0?(m(),p(s,{key:1,label:"轮播图",prop:"images"},{default:l(()=>[a(c(E),{isMultiple:!0,photos:t.value.images,"onUpdate:photos":e[2]||(e[2]=o=>t.value.images=o)},null,8,["photos"]),e[6]||(e[6]=f("div",{class:"extra"},"提示：请根据具体需求设置对应大小的图片，高清需要上传双倍大小",-1))]),_:1})):d("",!0),n.decorate_sn!="investment_promotion_homepage"?(m(),p(s,{key:2,label:"流程描述",prop:"content"},{default:l(()=>[a(c(k),{html:t.value.content,"onUpdate:html":e[3]||(e[3]=o=>t.value.content=o)},null,8,["html"])]),_:1})):d("",!0),n.decorate_sn=="investment_promotion_homepage"&&n.index!=0?(m(),p(s,{key:3,label:"流程描述",prop:"content"},{default:l(()=>[a(c(k),{html:t.value.content,"onUpdate:html":e[4]||(e[4]=o=>t.value.content=o)},null,8,["html"])]),_:1})):d("",!0),j(a(s,{"wrapper-col":{offset:4,span:16}},{default:l(()=>[a(V,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:b},{default:l(()=>e[7]||(e[7]=[I("提交")])),_:1},512)]),_:1},512),[[L,!i.isDialog]])]),_:1},8,["model"])),a(S,{spinning:_.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{pe as default};
