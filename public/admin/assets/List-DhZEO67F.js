import k from"./stepTable-BYEidwGs.js";import{R as w}from"./RadioType-C9amgtG8.js";import{g as h,s as x}from"./promoteMode-BC1ek4yp.js";import{d as C,i as u,s as V,q as R,c as r,e as o,f as n,b as p,w as c,I as d,r as m,o as l,j as _,E as T,_ as B}from"./index-CGYuOau0.js";import"./popover-B56dk-MT.js";import"./config-DNllFJyR.js";import"./config-DU8_t5BN.js";/* empty css                                                                  */const N={class:"container"},S={class:"content_wrapper"},L={key:1,class:"tit"},E={class:"promote-table"},I={key:0,class:"selected-action-warp"},j={class:"selected-action",style:{"padding-left":"80px"}},q=C({__name:"List",setup(z){const e=u(!0),i=V(),t=u({sale_type:1,level:[]}),v=async()=>{await i.value.formRef.validate(),t.value.level=i.value.form.type_data,console.log(t.value);try{const a=await x({...t.value});d.success(a.message)}catch(a){d.error(a.message)}},f=async()=>{e.value=!0;try{const a=await h();t.value=a.item}catch(a){d.error(a.message)}finally{e.value=!1}};return R(()=>{f()}),(a,s)=>{const y=m("a-spin"),g=m("el-button");return l(),r("div",N,[o("div",S,[p(y,{spinning:e.value},{default:c(()=>[e.value?n("",!0):(l(),_(w,{key:0,width:"250px",modelValue:t.value.sale_type,"onUpdate:modelValue":s[0]||(s[0]=b=>t.value.sale_type=b),radioList:[{key:1,title:"一级分销",desc:"分销员在客户下单后获得佣金"},{key:2,title:"二级分销",desc:"分销员在客户下单、下级卖货后可均可获得邀请奖励"}]},null,8,["modelValue"])),e.value?n("",!0):(l(),r("div",L,s[1]||(s[1]=[o("h2",null,"分销员等级方案",-1)]))),o("div",E,[e.value?n("",!0):(l(),_(k,{key:0,ref_key:"stepTableRef",ref:i,distribution_level:t.value.sale_type,type_data:t.value.level},null,8,["distribution_level","type_data"]))])]),_:1},8,["spinning"])]),s[3]||(s[3]=o("div",{style:{height:"20px"}},null,-1)),e.value?n("",!0):(l(),r("div",I,[o("div",j,[p(g,{loading:e.value,class:"form-submit-btn",size:"large",type:"primary",onClick:v},{default:c(()=>s[2]||(s[2]=[T("保 存")])),_:1},8,["loading"])])]))])}}}),K=B(q,[["__scopeId","data-v-0fba3044"]]);export{K as default};
