import{d as C}from"./vuedraggable.umd-75ad0f8f.js";import{l as V}from"./lodash-a19d39c0.js";import{i as S}from"./version-f7bce787.js";import{d as J,j as s,x as O,r as y,o as l,c as d,e as t,b as r,w as n,f as h,k as f,h as i,G as x,p as $,i as q,_ as U}from"./index-7c2d2aef.js";const g=m=>($("data-v-16021220"),m=m(),q(),m),G={class:"theme-toolbar"},z={class:"theme-menu-con show"},F={class:"theme-con-box"},K={class:"inside"},Q=g(()=>t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"基础模块")],-1)),R=["onClick"],W=["innerHTML"],X={key:1,class:"content"},Y=g(()=>t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"其它模块")],-1)),Z=["onClick"],oo=["innerHTML"],eo={key:1,class:"content"},to=g(()=>t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"高级模块")],-1)),lo=["onClick"],no=["innerHTML"],io={key:1,class:"content"},so=g(()=>t("div",{style:{height:"50px"}},null,-1)),ao=J({__name:"ToolBar",props:{modules:{type:Object,default:()=>({})}},emits:["item-added"],setup(m,{emit:B}){const M=s(["tool","other","advanced"]),E=m,_=s("toolList"),T=s(E.modules),u=s([{type:"image_ad",url:"mobile",label:"图片广告",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},is_show:!0},{type:"image_square_ad",url:"mobile",label:"图片魔方",content:'<i class="iconfont-admin icon-image_square_ad"></i>',module:{},is_show:!0},{type:"image_hotarea",url:"mobile",label:"热图绘制",content:'<i class="iconfont-admin icon-image_hotarea"></i>',module:{},is_show:!0},{type:"product",url:"mobile",label:"商品",content:'<i class="iconfont-admin icon-product"></i>',module:{},is_show:!0},{type:"white_line",url:"mobile",label:"分割线",content:'<i class="iconfont-admin icon-white_line"></i>',module:{},is_show:!0},{type:"white_blank",url:"mobile",label:"空白辅助",content:'<i class="iconfont-admin icon-white_blank"></i>',module:{},is_show:!0},{type:"image_nav",url:"mobile",label:"图文导航",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},is_show:!0},{type:"title_ad",url:"mobile",label:"文本标题",content:'<i class="iconfont-admin icon-title_ad"></i>',module:{},is_show:!0},{type:"notice",url:"mobile",label:"公告",content:'<i class="iconfont-admin icon-notice"></i>',module:{},is_show:!0}]),H=s([{type:"image_text_component",url:"mobilePro",label:"图文介绍",content:'<i class="iconfont-admin icon-image_text_component"></i>',module:{},is_show:!0},{type:"product_grouping",url:"mobilePro",label:"商品分组",content:'<i class="iconfont-admin icon-product_grouping"></i>',module:{},is_show:!0},{type:"group_sliding",url:"mobilePro",label:"分组滑动",content:'<i class="iconfont-admin icon-group_sliding"></i>',module:{},is_show:!0},{type:"countdown",url:"mobilePro",label:"倒计时",content:'<i class="iconfont-admin icon-countdown"></i>',module:{},is_show:!0},{type:"category_rec",url:"mobilePro",label:"分类推荐",content:'<i class="iconfont-admin icon-category_rec"></i>',module:{},is_show:!0},{type:"mixed_product_display",url:"mobilePro",label:"商品混排",content:'<i class="iconfont-admin icon-mixed_product_display"></i>',module:{},is_show:!0},{type:"special_offer",url:"mobilePro",label:"天天特价",content:'<i class="iconfont-admin icon-special_offer"></i>',module:{},is_show:!0},{type:"notice_a2",url:"mobilePro",label:"公告",content:'<i class="iconfont-admin icon-notice"></i>',module:{},is_show:!0},{type:"combo_suggestions",url:"mobilePro",label:"组合推荐",content:'<i class="iconfont-admin icon-combo_suggestions"></i>',module:{},is_show:!0},{type:"slide_large_image",url:"mobilePro",label:"大图滑动",content:'<i class="iconfont-admin icon-slide_large_image"></i>',module:{},is_show:!0},{type:"sliding_image",url:"mobilePro",label:"小图滑动",content:'<i class="iconfont-admin icon-sliding_image"></i>',module:{},is_show:!0},{type:"banner",url:"mobilePro",label:"首焦轮播",content:'<i class="iconfont-admin icon-banner"></i>',module:{},is_show:!0},{type:"category_nav",url:"mobilePro",label:"类目导航",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},is_show:!0},{type:"category_nav_a1",url:"mobilePro",label:"类目导航A1",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},is_show:!0},{type:"category_nav_a2",url:"mobilePro",label:"类目导航A2",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},is_show:!0}]),v=s([{type:"coupon",url:"mobilePromotion",label:"优惠券",content:'<i class="iconfont-admin icon-coupon"></i>',module:{},is_show:!0}]),D=s([{type:"search_bar",url:"mobile",label:"商品搜索",content:'<i class="iconfont-admin icon-search_bar"></i>',module:{},is_show:!0},{type:"cat_nav",url:"mobile",label:"分类导航",content:'<i class="iconfont-admin icon-cat_nav"></i>',module:{},is_show:!0}]),N=s([{type:"seckill",url:"mobilePromotion",label:"秒杀",content:'<i class="iconfont-admin icon-seckill"></i>',module:{},is_show:!0}]),j=s([{type:"shop_info",url:"mobilePromotion",label:"店铺信息",content:'<i class="iconfont-admin icon-product"></i>',module:{},is_show:!0}]),w=a=>{let o=V.cloneDeep(a);return o.module_index=Date.now(),delete o.content,o},A=B,L=(a,o="toolList",k)=>{const P={toolList:u.value,advancedList:H.value,otherList:v.value};let c;const p=P[o];if(p&&p[a])c=V.cloneDeep(p[a]),c.module_index=Date.now(),T.value.moduleList.push(c),A("item-added",{newIndex:T.value.moduleList.length-1});else throw new Error("无效的类型或索引")};return O(()=>{const a=localStorage.getItem("shopId");a&&a!="0"?u.value=[...u.value,...j.value]:(u.value=[...u.value,...D.value],v.value=[...v.value,...N.value])}),(a,o)=>{const k=y("el-tab-pane"),P=y("el-tabs"),c=y("el-collapse-item"),p=y("el-collapse");return l(),d("div",G,[t("div",z,[t("div",F,[r(P,{modelValue:_.value,"onUpdate:modelValue":o[0]||(o[0]=e=>_.value=e),class:"demo-tabs"},{default:n(()=>[r(k,{label:"基础模块",name:"toolList"}),h(S)()?(l(),f(k,{key:0,label:"高级模块",name:"advancedList"})):i("",!0)]),_:1},8,["modelValue"]),t("div",K,[r(p,{modelValue:M.value,"onUpdate:modelValue":o[7]||(o[7]=e=>M.value=e)},{default:n(()=>[_.value==="toolList"?(l(),f(c,{key:0,title:"基础模块",name:"tool"},{title:n(()=>[Q]),default:n(()=>[r(h(C),{class:"module-list","item-key":"type",list:u.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[1]||(o[1]=()=>{}),onEnd:o[2]||(o[2]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:w},{item:n(({element:e,index:b})=>[t("div",{class:"list-item tool-list-item",onClick:I=>L(b,"toolList",e)},[e.content?(l(),d("span",{key:0,class:"pic",innerHTML:e.content},null,8,W)):i("",!0),e.label?(l(),d("span",X,x(e.label),1)):i("",!0)],8,R)]),_:1},8,["list"])]),_:1})):i("",!0),_.value==="toolList"?(l(),f(c,{key:1,title:"其它模块",name:"other"},{title:n(()=>[Y]),default:n(()=>[r(h(C),{class:"module-list","item-key":"type",list:v.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[3]||(o[3]=()=>{}),onEnd:o[4]||(o[4]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:w},{item:n(({element:e,index:b})=>[t("div",{class:"list-item tool-list-item",onClick:I=>L(b,"otherList")},[e.content?(l(),d("span",{key:0,class:"pic",innerHTML:e.content},null,8,oo)):i("",!0),e.label?(l(),d("span",eo,x(e.label),1)):i("",!0)],8,Z)]),_:1},8,["list"])]),_:1})):i("",!0),_.value==="advancedList"&&h(S)()?(l(),f(c,{key:2,title:"高级模块",name:"advanced"},{title:n(()=>[to]),default:n(()=>[r(h(C),{class:"module-list","item-key":"type",list:H.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[5]||(o[5]=()=>{}),onEnd:o[6]||(o[6]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:w},{item:n(({element:e,index:b})=>[t("div",{class:"list-item tool-list-item",onClick:I=>L(b,"advancedList")},[e.content?(l(),d("span",{key:0,class:"pic",innerHTML:e.content},null,8,no)):i("",!0),e.label?(l(),d("span",io,x(e.label),1)):i("",!0)],8,lo)]),_:1},8,["list"])]),_:1})):i("",!0)]),_:1},8,["modelValue"]),so])])])])}}});const _o=U(ao,[["__scopeId","data-v-16021220"]]);export{_o as default};
