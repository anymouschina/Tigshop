import{d as B,i as h,aR as O,c as d,o as s,f as i,e as a,g as t,n as F,j as u,w as o,b as _,aO as N,a0 as S,a1 as $,_ as A}from"./index-CGYuOau0.js";import"./index-B-GURfkM.js";import{d as E}from"./vuedraggable.umd-_1km55l4.js";import{_ as b}from"./Image.vue_vue_type_script_setup_true_lang-D9PqZe9n.js";import{i as C}from"./format-DFT-VJzO.js";import{_ as y}from"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";const G={class:"gallery-pic"},V={class:"item-img add-photo-btn"},I={key:0,class:"item-action"},R={key:1,class:"gallery-list-warp"},z={class:"item","data-id":"img.img_id"},D={class:"img"},P={class:"lyecs-dialogImage"},q=["onClick"],H={key:0,class:"item gallery-add-item add-gallery-photo-btn",draggable:"false"},J=B({__name:"FormAddGallery",props:{photo:{type:String,default:""},photos:{type:Array,default:[]},isMultiple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},type:{type:Number,default:1}},emits:["update:photo","update:photos"],setup(c,{emit:M}){h(null);const n=c,{photo:r,photos:f,isMultiple:g,disabled:v}=O(n),p=M,m=l=>{if(g.value==!0){let e=f.value||[];p("update:photos",e.concat(l))}else p("update:photo",l[0].pic_url)},x=l=>{let e=f.value;e.splice(l,1),p("update:photos",e)},j=()=>{p("update:photo","")};return h(!1),h(""),(l,e)=>(s(),d("div",G,[!t(g)&&c.type==1?(s(),d("div",{key:0,class:F("gallery-pic-select "+(t(r)?"have_image":""))},[a("div",V,[t(r)?(s(),u(t(b),{key:0,class:"gallery-img",src:t(C)(t(r))},null,8,["src"])):i("",!0),t(r)?i("",!0):(s(),u(t(y),{key:1,type:"gallery",class:"item-bg",onOkCallback:m,params:{isMultiple:n.isMultiple}},{default:o(()=>e[2]||(e[2]=[a("div",{class:"flex",style:{"flex-direction":"column",height:"80px",width:"80px","align-items":"center","justify-content":"center","line-height":"22px"}},[a("i",{class:"iconfont icon-tianjiatupian"}),a("span",null,"添加图片")],-1)])),_:1},8,["params"]))]),t(r)&&c.type==1?(s(),d("div",I,[_(t(y),{type:"gallery",class:"item item-edit",onOkCallback:m,params:{isMultiple:n.isMultiple}},{default:o(()=>e[3]||(e[3]=[a("span",{class:"iconfont icon-bianji1"},null,-1)])),_:1},8,["params"]),a("span",{onClick:j,class:"item item-remove iconfont icon-shanchu"})])):i("",!0)],2)):i("",!0),a("div",null,[c.type==2?(s(),u(t(y),{key:0,type:"gallery",onOkCallback:m,params:{isMultiple:n.isMultiple}},{default:o(()=>[a("div",null,[N(l.$slots,"default",{},void 0,!0)])]),_:3},8,["params"])):i("",!0)]),t(g)?(s(),d("div",R,[a("div",null,[_(t(E),{class:"gallery-list-ul","item-key":"pic_id",list:t(f),"ghost-class":"ghost","chosen-class":"chosenClass",animation:"300",onStart:e[0]||(e[0]=()=>{}),onEnd:e[1]||(e[1]=()=>{})},{item:o(({element:k,index:w})=>[a("div",z,[a("div",D,[a("a",P,[_(t(b),{class:"gallery-img",big:k.pic_url,src:t(C)(k.pic_thumb)},null,8,["big","src"])]),S(a("i",{onClick:K=>x(w),class:"btn-del iconfont icon-cha"},null,8,q),[[$,!t(v)]])])])]),footer:o(()=>[t(v)?(s(),d("div",H,e[4]||(e[4]=[a("i",{class:"iconfont icon-tianjiatupian"},null,-1)]))):(s(),u(t(y),{key:1,type:"gallery",class:"",onOkCallback:m,params:{isMultiple:n.isMultiple}},{default:o(()=>e[5]||(e[5]=[a("div",{class:"item gallery-add-item add-gallery-photo-btn",draggable:"false"},[a("i",{class:"iconfont icon-tianjiatupian"})],-1)])),_:1},8,["params"]))]),_:1},8,["list"])])])):i("",!0)]))}}),Y=A(J,[["__scopeId","data-v-e59d7d11"]]);export{Y as F};
