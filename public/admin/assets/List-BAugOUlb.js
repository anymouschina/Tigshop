/* empty css             */import{d as T,G as V,K as U,i as m,q as E,c as p,e,E as _,b as a,w as o,D as i,g as s,a3 as $,f as v,b2 as j,j as D,I as F,r as c,o as r,bg as C,F as G,a as K,_ as H}from"./index-DrbzVNl6.js";/* empty css                                                                    */import{P as J}from"./Pagination-wR9huHyl.js";import{p as d}from"./format-CRgx78oe.js";import"./index-CeQDmMxd.js";import{g as Q}from"./dashboard-BDt-EWkx.js";import{g as R}from"./order-DqMQuu0g.js";import{_ as W}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";const X={class:"container"},Y={class:"content_wrapper"},Z={class:"balance-box flex-wrap"},tt={class:"label"},et={class:"title"},lt={class:"num"},at={class:"label"},ot={class:"title"},st={class:"num"},nt={class:"label"},it={class:"title"},rt={class:"num"},dt={class:"lyecs-table-list-warp"},ut={class:"table-container"},pt={key:0},ct={key:1},_t={key:2},mt={key:0},vt={class:"empty-warp"},ft={key:0,class:"empty-bg"},bt={key:0,class:"pagination-con"},gt=T({__name:"List",setup(yt){const I=V([{value:-1,label:"全部"},{value:0,label:"待支付"},{value:1,label:"待发货"},{value:2,label:"已发货"},{value:3,label:"已取消"},{value:4,label:"无效"},{value:5,label:"已完成"},{value:-2,label:"已删除"},{value:99,label:"待结算"}]),M=U(),z=m([]),b=m(!0),k=m(!0),g=m(0);m(!0);const u=V({page:1,size:M.get("pageSize"),orderStatus:-1}),y=m({shopMoney:0}),h=async()=>{b.value=!0;try{const n=await Q();y.value=n}catch(n){F.error(n.message)}finally{b.value=!1}},A=async()=>{k.value=!0;try{const n=await R({...u});z.value=n.records,g.value=n.total}catch(n){F.error(n.message)}finally{k.value=!1}};E(()=>{h(),A()});const L=n=>{u.orderStatus=n!=99?n:"1,2,5",n==99&&(u.isSettlement=0),A()};return(n,t)=>{const S=c("el-icon"),w=c("el-tooltip"),x=c("el-button"),N=c("router-link"),B=c("el-tab-pane"),O=c("el-tabs"),f=c("el-table-column"),q=c("el-table"),P=j("loading");return r(),p("div",X,[e("div",Y,[t[13]||(t[13]=e("div",{class:"tit-box"},[e("div",{class:"tit"},[e("span",null,"店铺余额")])],-1)),e("div",Z,[e("div",tt,[e("div",et,[t[6]||(t[6]=_(" 可用店铺余额(元) ")),a(w,{placement:"bottom",effect:"light"},{content:o(()=>t[4]||(t[4]=[e("div",{class:"tooltip-width"},"可用店铺余额",-1)])),default:o(()=>[a(S,null,{default:o(()=>[a(s(C))]),_:1})]),_:1}),a(N,{to:{path:"/capitalfund/withdraw/index",query:{type:2}}},{default:o(()=>[a(x,{type:"primary",link:""},{default:o(()=>t[5]||(t[5]=[_("提现记录")])),_:1})]),_:1})]),e("div",lt,i(s(d)(y.value.shopMoney)||0),1)]),e("div",at,[e("div",ot,[t[9]||(t[9]=_(" 待结算(元) ")),a(w,{placement:"bottom",effect:"light"},{content:o(()=>t[7]||(t[7]=[e("div",{class:"tooltip-width"},"交易未完成的订单总额，消费者确认收货后将自动转入店铺余额",-1)])),default:o(()=>[a(S,null,{default:o(()=>[a(s(C))]),_:1})]),_:1}),a(x,{type:"primary",link:"",onClick:t[0]||(t[0]=l=>L(99))},{default:o(()=>t[8]||(t[8]=[_("明细")])),_:1})]),e("div",st,i(s(d)(y.value.unSettlementMoney)||0),1)]),e("div",nt,[e("div",it,[t[11]||(t[11]=_(" 不可用余额(元) ")),a(w,{placement:"bottom",effect:"light"},{content:o(()=>t[10]||(t[10]=[e("div",{class:"tooltip-width"},"提现中或者退款中的冻结店铺余额",-1)])),default:o(()=>[a(S,null,{default:o(()=>[a(s(C))]),_:1})]),_:1})]),e("div",rt,i(s(d)(y.value.frozenMoney)||0),1)])]),t[14]||(t[14]=e("div",{class:"tit-box"},[e("div",{class:"tit"},[e("span",null,"最近交易记录")])],-1)),e("div",dt,[a(O,{type:"card",onTabChange:L,modelValue:u.orderStatus,"onUpdate:modelValue":t[1]||(t[1]=l=>u.orderStatus=l)},{default:o(()=>[(r(!0),p(G,null,K(I,l=>(r(),D(B,{label:l.label,name:l.value},null,8,["label","name"]))),256))]),_:1},8,["modelValue"]),e("div",ut,[$((r(),D(q,{data:z.value,loading:b.value,total:g.value,"row-key":"logId"},{empty:o(()=>[e("div",vt,[b.value?v("",!0):(r(),p("div",ft,"暂无数据"))])]),default:o(()=>[a(f,{label:"时间",prop:"addTime",width:"160"}),a(f,{label:"订单编号",prop:"orderSn",width:"160"}),a(f,{label:"金额(元)|明细"},{default:o(({row:l})=>[e("p",null,"订单运费： "+i(s(d)(l.shippingFee)),1),e("p",null,"附加费用： "+i(s(d)(l.serviceFee)),1),l.couponAmount>0?(r(),p("p",pt,"优惠券抵扣： "+i(s(d)(l.couponAmount)),1)):v("",!0),l.discountAmount>0?(r(),p("p",ct,"优惠券折扣： "+i(s(d)(l.discountAmount)),1)):v("",!0),l.pointsAmount>0?(r(),p("p",_t,"积分抵扣： "+i(s(d)(l.pointsAmount)),1)):v("",!0),e("p",null,[_(" 实收金额： "+i(s(d)(l.paidAmount))+" ",1),l.balance>0?(r(),p("span",mt,"(使用余额: "+i(s(d)(l.balance))+")",1)):v("",!0)])]),_:1}),a(f,{label:"状态",prop:"orderStatusName",width:"120"}),a(f,{label:"操作",width:"80"},{default:o(({row:l})=>[a(s(W),{params:{act:"detail",id:l.orderId},showClose:!1,showOnOk:!1,title:"订单详情 "+l.orderSn,isDrawer:"",path:"order/order/Info",width:"880px",onCallback:h},{default:o(()=>[a(x,{size:"small",link:"",type:"primary"},{default:o(()=>t[12]||(t[12]=[_(" 查看详情 ")])),_:1})]),_:2},1032,["params","title"])]),_:1})]),_:1},8,["data","loading","total"])),[[P,k.value]]),g.value>0?(r(),p("div",bt,[a(s(J),{page:u.page,"onUpdate:page":t[2]||(t[2]=l=>u.page=l),size:u.size,"onUpdate:size":t[3]||(t[3]=l=>u.size=l),total:g.value,onCallback:h},null,8,["page","size","total"])])):v("",!0)])])])])}}}),Vt=H(gt,[["__scopeId","data-v-a4e13065"]]);export{Vt as default};
