import{d as q,j as d,E as L,s as j,x as E,r,o as w,c as F,e as k,k as H,w as l,b as e,H as _,f as I,$ as K,a0 as M,h as O,K as f}from"./index-7c2d2aef.js";import{a as T,c as $}from"./suppliers-91530952.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-b4d9216b.js";import"./category-a8bd4d11.js";import"./index-6c62cf9b.js";import"./config-9548fa9b.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{S as z}from"./SelectRegion-b4362c1e.js";import"./shopProductCategory-792e0c23.js";/* empty css             */import"./time-290942a2.js";import"./util-1ee03ed8.js";import"./config-e2aa16d1.js";import"./region-e0d291a6.js";import"./region-05802f67.js";const A={class:"container"},G={class:"content_wrapper"},J={class:"lyecs-form-table"},de=q({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(S,{expose:h,emit:x}){const p=x,u=S,m=d(!0),v=L().currentRoute.value.query,c=d(u.isDialog?u.act:String(v.act)),b=d(u.isDialog?u.id:Number(v.id)),C=c.value==="add"?"create":"update",g=j(),o=d({is_check:1}),U=async()=>{try{const s=await T(c.value,{id:b.value});Object.assign(o.value,s.item)}catch(s){f.error(s.message),p("close")}finally{m.value=!1}};E(()=>{c.value==="detail"?U():m.value=!1});const V=async()=>{await g.value.validate();try{p("update:confirmLoading",!0);const s=await $(C,{id:b.value,...o.value});p("submitCallback",s),f.success(s.message)}catch(s){f.error(s.message)}finally{p("update:confirmLoading",!1)}};return h({onFormSubmit:()=>{V()}}),(s,t)=>{const y=r("el-radio-button"),B=r("el-radio-group"),n=r("el-form-item"),i=r("el-input"),N=r("el-button"),R=r("el-form"),D=r("a-spin");return w(),F("div",A,[k("div",G,[k("div",J,[m.value?O("",!0):(w(),H(R,{key:0,ref_key:"formRef",ref:g,model:o.value,"label-width":"auto"},{default:l(()=>[e(n,{label:"供应商状态",prop:"is_check"},{default:l(()=>[e(B,{modelValue:o.value.is_check,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value.is_check=a)},{default:l(()=>[e(y,{value:0},{default:l(()=>[_("停用")]),_:1}),e(y,{value:1},{default:l(()=>[_("启用")]),_:1})]),_:1},8,["modelValue"])]),_:1}),e(n,{rules:[{required:!0,message:"供应商名称不能为空!"}],label:"供应商名称",prop:"suppliers_name"},{default:l(()=>[e(i,{modelValue:o.value.suppliers_name,"onUpdate:modelValue":t[1]||(t[1]=a=>o.value.suppliers_name=a)},null,8,["modelValue"])]),_:1}),e(n,{label:"供应商备注",prop:"suppliers_desc"},{default:l(()=>[e(i,{modelValue:o.value.suppliers_desc,"onUpdate:modelValue":t[2]||(t[2]=a=>o.value.suppliers_desc=a),row:"2",type:"textarea"},null,8,["modelValue"])]),_:1}),e(n,{label:"负责人姓名",prop:"contact_name"},{default:l(()=>[e(i,{modelValue:o.value.contact_name,"onUpdate:modelValue":t[3]||(t[3]=a=>o.value.contact_name=a)},null,8,["modelValue"])]),_:1}),e(n,{label:"负责人联系方式",prop:"contact_phone"},{default:l(()=>[e(i,{modelValue:o.value.contact_phone,"onUpdate:modelValue":t[4]||(t[4]=a=>o.value.contact_phone=a)},null,8,["modelValue"])]),_:1}),e(n,{label:"供应商所在区域",prop:"regions"},{default:l(()=>[e(I(z),{modelValue:o.value.regions,"onUpdate:modelValue":t[5]||(t[5]=a=>o.value.regions=a),style:{width:"100%"}},null,8,["modelValue"])]),_:1}),e(n,{label:"供应商地址",prop:"contact_address"},{default:l(()=>[e(i,{modelValue:o.value.contact_address,"onUpdate:modelValue":t[6]||(t[6]=a=>o.value.contact_address=a)},null,8,["modelValue"])]),_:1}),K(e(n,{"wrapper-col":{offset:4,span:16}},{default:l(()=>[e(N,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:V},{default:l(()=>[_("提交")]),_:1},512)]),_:1},512),[[M,!u.isDialog]])]),_:1},8,["model"])),e(D,{spinning:m.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{de as default};
