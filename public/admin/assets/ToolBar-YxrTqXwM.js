import{d as k}from"./vuedraggable.umd-_1km55l4.js";import{l as H}from"./lodash-blK8fE0I.js";import{i as V}from"./version-CpBOsX2d.js";import{d as q,i as s,q as A,c as d,e as t,b as r,w as l,r as v,o as n,j as f,f as i,g as b,D as P,_ as J}from"./index-CGYuOau0.js";const O={class:"theme-toolbar"},$={class:"theme-menu-con show"},U={class:"theme-con-box"},z={class:"inside"},F=["onClick"],G=["innerHTML"],K={key:1,class:"content"},Q=["onClick"],R=["innerHTML"],W={key:1,class:"content"},X=["onClick"],Y=["innerHTML"],Z={key:1,class:"content"},oo=q({__name:"ToolBar",props:{modules:{type:Object,default:()=>({})}},emits:["item-added"],setup(B,{emit:D}){const C=s(["tool","other","advanced"]),E=B,m=s("toolList"),x=s(E.modules),u=s([{type:"image_ad",url:"mobile",label:"图片广告",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},is_show:!0},{type:"image_square_ad",url:"mobile",label:"图片魔方",content:'<i class="iconfont-admin icon-image_square_ad"></i>',module:{},is_show:!0},{type:"image_hotarea",url:"mobile",label:"热图绘制",content:'<i class="iconfont-admin icon-image_hotarea"></i>',module:{},is_show:!0},{type:"product",url:"mobile",label:"商品",content:'<i class="iconfont-admin icon-product"></i>',module:{},is_show:!0},{type:"white_line",url:"mobile",label:"分割线",content:'<i class="iconfont-admin icon-white_line"></i>',module:{},is_show:!0},{type:"white_blank",url:"mobile",label:"空白辅助",content:'<i class="iconfont-admin icon-white_blank"></i>',module:{},is_show:!0},{type:"image_nav",url:"mobile",label:"图文导航",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},is_show:!0},{type:"title_ad",url:"mobile",label:"文本标题",content:'<i class="iconfont-admin icon-title_ad"></i>',module:{},is_show:!0},{type:"notice",url:"mobile",label:"公告",content:'<i class="iconfont-admin icon-notice"></i>',module:{},is_show:!0}]),M=s([{type:"image_text_component",url:"mobilePro",label:"图文介绍",content:'<i class="iconfont-admin icon-image_text_component"></i>',module:{},is_show:!0},{type:"product_grouping",url:"mobilePro",label:"商品分组",content:'<i class="iconfont-admin icon-product_grouping"></i>',module:{},is_show:!0},{type:"group_sliding",url:"mobilePro",label:"分组滑动",content:'<i class="iconfont-admin icon-group_sliding"></i>',module:{},is_show:!0},{type:"countdown",url:"mobilePro",label:"倒计时",content:'<i class="iconfont-admin icon-countdown"></i>',module:{},is_show:!0},{type:"category_rec",url:"mobilePro",label:"分类推荐",content:'<i class="iconfont-admin icon-category_rec"></i>',module:{},is_show:!0},{type:"mixed_product_display",url:"mobilePro",label:"商品混排",content:'<i class="iconfont-admin icon-mixed_product_display"></i>',module:{},is_show:!0},{type:"special_offer",url:"mobilePro",label:"天天特价",content:'<i class="iconfont-admin icon-special_offer"></i>',module:{},is_show:!0},{type:"notice_a2",url:"mobilePro",label:"公告",content:'<i class="iconfont-admin icon-notice"></i>',module:{},is_show:!0},{type:"combo_suggestions",url:"mobilePro",label:"组合推荐",content:'<i class="iconfont-admin icon-combo_suggestions"></i>',module:{},is_show:!0},{type:"slide_large_image",url:"mobilePro",label:"大图滑动",content:'<i class="iconfont-admin icon-slide_large_image"></i>',module:{},is_show:!0},{type:"sliding_image",url:"mobilePro",label:"小图滑动",content:'<i class="iconfont-admin icon-sliding_image"></i>',module:{},is_show:!0},{type:"banner",url:"mobilePro",label:"首焦轮播",content:'<i class="iconfont-admin icon-banner"></i>',module:{},is_show:!0},{type:"category_nav",url:"mobilePro",label:"类目导航",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},is_show:!0},{type:"category_nav_a1",url:"mobilePro",label:"类目导航A1",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},is_show:!0},{type:"category_nav_a2",url:"mobilePro",label:"类目导航A2",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},is_show:!0}]),h=s([{type:"coupon",url:"mobilePromotion",label:"优惠券",content:'<i class="iconfont-admin icon-coupon"></i>',module:{},is_show:!0}]),I=s([{type:"search_bar",url:"mobile",label:"商品搜索",content:'<i class="iconfont-admin icon-search_bar"></i>',module:{},is_show:!0},{type:"cat_nav",url:"mobile",label:"分类导航",content:'<i class="iconfont-admin icon-cat_nav"></i>',module:{},is_show:!0}]),N=s([{type:"seckill",url:"mobilePromotion",label:"秒杀",content:'<i class="iconfont-admin icon-seckill"></i>',module:{},is_show:!0}]),S=s([{type:"shop_info",url:"mobilePromotion",label:"店铺信息",content:'<i class="iconfont-admin icon-product"></i>',module:{},is_show:!0}]),y=a=>{let o=H.cloneDeep(a);return o.module_index=Date.now(),delete o.content,o},j=D,g=(a,o="toolList",w)=>{const L={toolList:u.value,advancedList:M.value,otherList:h.value};let c;const _=L[o];if(_&&_[a])c=H.cloneDeep(_[a]),c.module_index=Date.now(),x.value.moduleList.push(c),j("item-added",{newIndex:x.value.moduleList.length-1});else throw new Error("无效的类型或索引")};return A(()=>{const a=localStorage.getItem("shopId");a&&a!="0"?u.value=[...u.value,...S.value]:(u.value=[...u.value,...I.value],h.value=[...h.value,...N.value])}),(a,o)=>{const w=v("el-tab-pane"),L=v("el-tabs"),c=v("el-collapse-item"),_=v("el-collapse");return n(),d("div",O,[t("div",$,[t("div",U,[r(L,{modelValue:m.value,"onUpdate:modelValue":o[0]||(o[0]=e=>m.value=e),class:"demo-tabs"},{default:l(()=>[r(w,{label:"基础模块",name:"toolList"}),b(V)()?(n(),f(w,{key:0,label:"高级模块",name:"advancedList"})):i("",!0)]),_:1},8,["modelValue"]),t("div",z,[r(_,{modelValue:C.value,"onUpdate:modelValue":o[7]||(o[7]=e=>C.value=e)},{default:l(()=>[m.value==="toolList"?(n(),f(c,{key:0,title:"基础模块",name:"tool"},{title:l(()=>o[8]||(o[8]=[t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"基础模块")],-1)])),default:l(()=>[r(b(k),{class:"module-list","item-key":"type",list:u.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[1]||(o[1]=()=>{}),onEnd:o[2]||(o[2]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:y},{item:l(({element:e,index:p})=>[t("div",{class:"list-item tool-list-item",onClick:T=>g(p,"toolList",e)},[e.content?(n(),d("span",{key:0,class:"pic",innerHTML:e.content},null,8,G)):i("",!0),e.label?(n(),d("span",K,P(e.label),1)):i("",!0)],8,F)]),_:1},8,["list"])]),_:1})):i("",!0),m.value==="toolList"?(n(),f(c,{key:1,title:"其它模块",name:"other"},{title:l(()=>o[9]||(o[9]=[t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"其它模块")],-1)])),default:l(()=>[r(b(k),{class:"module-list","item-key":"type",list:h.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[3]||(o[3]=()=>{}),onEnd:o[4]||(o[4]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:y},{item:l(({element:e,index:p})=>[t("div",{class:"list-item tool-list-item",onClick:T=>g(p,"otherList")},[e.content?(n(),d("span",{key:0,class:"pic",innerHTML:e.content},null,8,R)):i("",!0),e.label?(n(),d("span",W,P(e.label),1)):i("",!0)],8,Q)]),_:1},8,["list"])]),_:1})):i("",!0),m.value==="advancedList"&&b(V)()?(n(),f(c,{key:2,title:"高级模块",name:"advanced"},{title:l(()=>o[10]||(o[10]=[t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"高级模块")],-1)])),default:l(()=>[r(b(k),{class:"module-list","item-key":"type",list:M.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[5]||(o[5]=()=>{}),onEnd:o[6]||(o[6]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:y},{item:l(({element:e,index:p})=>[t("div",{class:"list-item tool-list-item",onClick:T=>g(p,"advancedList")},[e.content?(n(),d("span",{key:0,class:"pic",innerHTML:e.content},null,8,Y)):i("",!0),e.label?(n(),d("span",Z,P(e.label),1)):i("",!0)],8,X)]),_:1},8,["list"])]),_:1})):i("",!0)]),_:1},8,["modelValue"]),o[11]||(o[11]=t("div",{style:{height:"50px"}},null,-1))])])])])}}}),io=J(oo,[["__scopeId","data-v-16021220"]]);export{io as default};
