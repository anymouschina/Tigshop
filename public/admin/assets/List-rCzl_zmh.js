/* empty css             */import{d as R,G as O,K as J,i as c,q as Q,c as d,e,D as u,g as i,E as v,b as a,w as l,a3 as A,f as m,b2 as W,j as h,I as M,r as p,o as n,U as X,bg as I,F as Z,a as tt,_ as et}from"./index-DrbzVNl6.js";/* empty css                                                                    */import{P as j}from"./Pagination-wR9huHyl.js";import{p as y}from"./format-CRgx78oe.js";import{_ as at}from"./Image.vue_vue_type_script_setup_true_lang-BWzCs9jv.js";import"./index-CeQDmMxd.js";import{g as st}from"./dashboard-BDt-EWkx.js";import{g as lt}from"./order-DqMQuu0g.js";import{a as ot}from"./shop-DM8_bN_f.js";import{_ as q}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";const nt={class:"container"},it={class:"content_wrapper"},rt={class:"tit-box"},dt={class:"tit"},ut={class:"balance-box flex-wrap"},ct={class:"label"},pt={class:"title"},_t={class:"num"},mt={class:"label"},vt={class:"title"},ft={class:"num"},bt={class:"label"},gt={class:"title"},ht={class:"num"},yt={class:"lyecs-table-list-warp"},kt={class:"table-container"},wt={key:0},St={key:0,class:"btn-link green"},xt={key:1,class:"btn-link grey"},zt={key:2,style:{color:"red"}},Lt={key:3,style:{color:"green"}},Ct={class:"empty-warp"},Dt={key:0,class:"empty-bg"},Ot={key:0,class:"pagination-con"},Mt={class:"lyecs-table-list-warp"},It={class:"table-container"},Ft={class:"empty-warp"},Tt={key:0,class:"empty-bg"},Nt={key:0,class:"pagination-con"},Ut=R({__name:"List",setup(Bt){const x=O([{value:-1,label:"全部"},{value:0,label:"待支付"},{value:1,label:"待发货"},{value:2,label:"已发货"},{value:3,label:"已取消"},{value:4,label:"无效"},{value:5,label:"已完成"},{value:-2,label:"已删除"},{value:99,label:"待结算"}]),E=J(),F=c([]),f=c(!0),k=c(!0),z=c(!0),b=c(0);c(!0);const _=O({page:1,size:E.get("pageSize"),sortField:"",sortOrder:"",orderStatus:-1,isSettlement:0}),w=c({shopMoney:0}),S=async()=>{f.value=!0;try{const o=await st();w.value=o}catch(o){M.error(o.message)}finally{f.value=!1}},g=O({page:1,size:10,sortField:"shopMoney",sortOrder:"desc"}),T=c([]),L=c(0),N=async()=>{k.value=!0;try{const o=await ot({...g});T.value=o.records,L.value=o.total}catch(o){M.error(o.message)}finally{k.value=!1}},U=async()=>{z.value=!0;try{const o=await lt({..._});F.value=o.records,b.value=o.total}catch(o){M.error(o.message)}finally{z.value=!1}};Q(()=>{S(),U(),N()});const G=o=>{x[o].value!=99?_.orderStatus=x[o].value:(_.orderStatus=-1,_.isSettlement=0),U()};return(o,s)=>{const C=p("el-icon"),D=p("el-tooltip"),B=p("el-button"),H=p("router-link"),r=p("el-table-column"),P=p("StatusDot"),V=p("el-table"),$=p("el-tab-pane"),K=p("el-tabs"),Y=W("loading");return n(),d("div",nt,[e("div",it,[e("div",rt,[e("div",dt,[e("span",null,"所有店铺总余额: 截止时间: ["+u(i(X)(new Date).format("YYYY-MM-DD HH:mm:ss"))+"]",1)])]),e("div",ut,[e("div",ct,[e("div",pt,[s[6]||(s[6]=v(" 余额总结余(元) ")),a(D,{placement:"bottom",effect:"light"},{content:l(()=>s[4]||(s[4]=[e("div",{class:"tooltip-width"},"可用店铺余额=店铺余额-不可用店铺余额",-1)])),default:l(()=>[a(C,null,{default:l(()=>[a(i(I))]),_:1})]),_:1}),a(H,{to:{path:"/shop/shopAccountRaply/list"}},{default:l(()=>[a(B,{type:"primary",link:""},{default:l(()=>s[5]||(s[5]=[v("提现申请")])),_:1})]),_:1})]),e("div",_t,u(i(y)(w.value.shopMoney)||0),1)]),e("div",mt,[e("div",vt,[s[8]||(s[8]=v(" 待结算总额(元) ")),a(D,{placement:"bottom",effect:"light"},{content:l(()=>s[7]||(s[7]=[e("div",{class:"tooltip-width"},"交易未完成的订单总额，消费者确认收货后将自动转入店铺余额",-1)])),default:l(()=>[a(C,null,{default:l(()=>[a(i(I))]),_:1})]),_:1})]),e("div",ft,u(i(y)(w.value.unSettlementMoney)||0),1)]),e("div",bt,[e("div",gt,[s[10]||(s[10]=v(" 不可用余额(元) ")),a(D,{placement:"bottom",effect:"light"},{content:l(()=>s[9]||(s[9]=[e("div",{class:"tooltip-width"},"提现中或者退款中的冻结店铺余额",-1)])),default:l(()=>[a(C,null,{default:l(()=>[a(i(I))]),_:1})]),_:1})]),e("div",ht,u(i(y)(w.value.frozenMoney)||0),1)])]),s[12]||(s[12]=e("div",{class:"tit-box"},[e("div",{class:"tit"},[e("span",null,"店铺余额排行")])],-1)),e("div",yt,[e("div",kt,[A((n(),h(V,{data:T.value,loading:k.value,total:L.value,"row-key":"logId"},{empty:l(()=>[e("div",Ct,[f.value?m("",!0):(n(),d("div",Dt,"暂无数据"))])]),default:l(()=>[a(r,{label:"店铺名称"},{default:l(({row:t})=>[v(u(t.shopTitle||"--"),1)]),_:1}),a(r,{label:"店铺LOGO"},{default:l(({row:t})=>[a(i(at),{src:t.shopLogo,fit:"contain",style:{height:"25px",width:"60px"}},null,8,["src"])]),_:1}),a(r,{label:"商户名称",width:200},{default:l(({row:t})=>[t.merchant?(n(),d("div",wt,[e("span",null,u(t.merchant.corporateName||"--"),1),a(i(q),{params:{act:"detail",id:t.merchant.merchantId},isDrawer:"",path:"adminMerchant/merchant/Info",title:"商户详情",width:"600px",showClose:!1,showOnOk:!1,onOkCallback:S},{default:l(()=>[t.merchant.status==1?(n(),d("a",St,"(已认证)")):(n(),d("a",xt,"(未认证)"))]),_:2},1032,["params"])])):m("",!0)]),_:1}),a(r,{label:"店铺余额(元)"},{default:l(({row:t})=>[v(u(i(y)(t.shopMoney)||0),1)]),_:1}),a(r,{label:"店铺状态",sortable:"custom"},{default:l(({row:t})=>[t.status==10?(n(),h(P,{key:0,color:"red",flicker:!0})):m("",!0),t.status==1?(n(),h(P,{key:1,color:"green",flicker:!0})):m("",!0),t.status===10?(n(),d("span",zt,u(t.statusText),1)):t.status===1?(n(),d("span",Lt,u(t.statusText),1)):m("",!0)]),_:1})]),_:1},8,["data","loading","total"])),[[Y,k.value]]),b.value>0?(n(),d("div",Ot,[a(i(j),{page:g.page,"onUpdate:page":s[0]||(s[0]=t=>g.page=t),size:g.size,"onUpdate:size":s[1]||(s[1]=t=>g.size=t),total:L.value,onCallback:N},null,8,["page","size","total"])])):m("",!0)])]),s[13]||(s[13]=e("div",{class:"tit-box"},[e("div",{class:"tit"},[e("span",null,"最近交易记录")])],-1)),e("div",Mt,[a(K,{type:"card",onTabChange:G},{default:l(()=>[(n(!0),d(Z,null,tt(x,t=>(n(),h($,{label:t.label},null,8,["label"]))),256))]),_:1}),e("div",It,[A((n(),h(V,{data:F.value,loading:f.value,total:b.value,"row-key":"logId"},{empty:l(()=>[e("div",Ft,[f.value?m("",!0):(n(),d("div",Tt,"暂无数据"))])]),default:l(()=>[a(r,{label:"时间",prop:"addTime",width:"160"}),a(r,{label:"购买用户",width:"160"},{default:l(({row:t})=>[e("span",null,u(t.user.username),1)]),_:1}),a(r,{label:"订单编号",prop:"orderSn",width:"160"}),a(r,{label:"金额(元)|明细"},{default:l(({row:t})=>[e("span",null,"总金额: "+u(i(y)(t.totalAmount)||0),1)]),_:1}),a(r,{label:"状态",prop:"orderStatusName",width:"120"}),a(r,{label:"操作",width:"80"},{default:l(({row:t})=>[a(i(q),{params:{act:"detail",id:t.orderId},showClose:!1,showOnOk:!1,title:"订单详情 "+t.orderSn,isDrawer:"",path:"order/order/Info",width:"880px",onCallback:S},{default:l(()=>[a(B,{size:"small",link:"",type:"primary"},{default:l(()=>s[11]||(s[11]=[v(" 查看详情 ")])),_:1})]),_:2},1032,["params","title"])]),_:1})]),_:1},8,["data","loading","total"])),[[Y,z.value]]),b.value>0?(n(),d("div",Nt,[a(i(j),{page:_.page,"onUpdate:page":s[2]||(s[2]=t=>_.page=t),size:_.size,"onUpdate:size":s[3]||(s[3]=t=>_.size=t),total:b.value,onCallback:S},null,8,["page","size","total"])])):m("",!0)])])])])}}}),Rt=et(Ut,[["__scopeId","data-v-4a640583"]]);export{Rt as default};
