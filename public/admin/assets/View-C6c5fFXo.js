import{p as W,_ as G,a as H,M as J,c as O,l as X}from"./pageTabs-DhFiazHe.js";import{d as V,dt as Y,i as T,dF as M,r as g,c as n,o,F as m,e,n as $,g as s,j as u,f as i,_ as L,C as R,bj as E,dC as P,aa as F,q as K,b as h,w as l,du as Z,aN as D,D as w,dN as ee,I as te,Q as oe,a as A,A as se}from"./index-CGYuOau0.js";import{u as N}from"./theme-pPmOEjl9.js";import{u as ne}from"./config-DNllFJyR.js";import{u as ae,r as j,i as z}from"./format-DFT-VJzO.js";import{S as le}from"./SelectShop-CfOn5Q7n.js";import{u as ie}from"./menus-twiYEIYr.js";import{l as re}from"./logo_blue2-CgAHBmsI.js";import"./index-B-GURfkM.js";import"./version-CpBOsX2d.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-Bmm-M6gU.js";import"./config-DU8_t5BN.js";import"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-CjXfTDg5.js";import"./vuedraggable.umd-_1km55l4.js";import"./Image.vue_vue_type_script_setup_true_lang-D9PqZe9n.js";import"./authority-PNyDJWKD.js";const ue={class:"main-warp"},ce=V({__name:"pageContainer",setup(U){const r=Y();T(localStorage.getItem("adminType")),M();const{themeInfo:f}=N();return(c,_)=>{const v=g("router-view");return o(),n(m,null,[_[0]||(_[0]=e("div",{class:"body-menu-mask"},null,-1)),e("div",ue,[e("div",{class:$(["page-grid-content",`admin-${s(f).navTheme}`])},[!c.$route.meta.is404&&s(f).isMultiLabel?(o(),u(W,{key:0})):i("",!0),c.$route.meta.is404?i("",!0):(o(),u(G,{key:1})),(o(),u(v,{key:s(r).routerKey})),c.$route.meta.is404?i("",!0):(o(),u(H,{key:2}))],2)])],64)}}}),pe=L(ce,[["__scopeId","data-v-d8d1b613"]]),_e={class:"page-top"},de={class:"page-top-warp"},me={class:"top-bar-right"},he={class:"top-bar-item mr10"},ve={class:"auth-img"},ge=["src"],fe={class:"top-bar-item openShop-btn"},ye=["href"],ke={key:0},we={class:"top-bar-item top-bar-user",id:"dropdown-memu"},xe={class:"admin-user-warp"},be={class:"top-bar-btn",href:"javascript:;"},Se={key:0,class:"admin-user-photo"},Ce=["src"],$e=["src"],Ie={key:1,class:"admin-user-photo"},Te=["src"],Me=["src"],ze={key:2,class:"admin-user-name"},Ve={class:"dropdown-memu top-bar-memu"},Ue={class:"entrance-list"},Be={class:"admin_exit"},Pe=V({__name:"pageTopBar",setup(U){const r=T(localStorage.getItem("adminType")),{themeInfo:f}=N();R();const c=E(),_=M(),{logout:v,updateUserInfo:B}=P(),p=F(()=>P().userInfo),x=F(()=>P().shopInfo),b=async()=>{try{const C=await O(),t=ne();B(),t.updateConfig(),_.mainMenu=await ie(),ee.success({message:"缓存已清除",description:"缓存清除后可刷新页面更新效果"})}catch(C){te.error(C.message)}},d=async()=>{v()},k=T(!1),S=()=>{k.value=!0},I=()=>{k.value=!1};return K(()=>{c._getLicensed()}),(C,t)=>{const a=g("router-link"),y=g("a-dropdown"),q=g("el-dialog");return o(),n(m,null,[e("div",_e,[e("div",de,[e("div",me,[e("div",he,[e("div",ve,[r.value!=="shop"?(o(),u(a,{key:0,to:{path:"/setting/licensed/index"}},{default:l(()=>[e("img",{src:s(Z)(),style:{height:"25px","margin-top":"2px"}},null,8,ge)]),_:1})):i("",!0)])]),h(J),e("div",fe,[e("a",{class:"top-bar-btn",href:s(ae)("/"),target:"_blank"},[t[1]||(t[1]=e("i",{class:"iconfont icon-guanli"},null,-1)),s(f).layout!=="top"?(o(),n("span",ke,"查看店铺")):i("",!0)],8,ye)]),e("div",we,[h(y,null,{overlay:l(()=>[e("div",Ve,[e("div",Ue,[h(a,{to:{path:"/authority/account_editing/index"}},{default:l(()=>t[3]||(t[3]=[e("p",{class:"entrance lyecs-openPage"},[e("i",{class:"iconfont icon-gerenshezhi",style:{"font-size":"22px"}}),e("span",null,"管理账号")],-1)])),_:1}),e("p",{class:"entrance",onClick:b},t[4]||(t[4]=[e("i",{class:"iconfont icon-qingchuhuancun",style:{"font-size":"22px"}},null,-1),e("span",null,"清除缓存",-1)])),r.value==="shop"?(o(),u(a,{key:0,to:{path:"/merchant_setting/shop_team"}},{default:l(()=>t[5]||(t[5]=[e("p",{class:"entrance lyecs-openPage"},[e("i",{class:"iconfont icon-quanxian",style:{"font-size":"22px"}}),e("span",null,"店铺设置")],-1)])),_:1})):(o(),u(a,{key:1,to:{path:"/setting/config/base"}},{default:l(()=>t[6]||(t[6]=[e("p",{class:"entrance lyecs-openPage"},[e("i",{class:"iconfont icon-quanxian",style:{"font-size":"22px"}}),e("span",null,"后台设置")],-1)])),_:1}))]),e("div",null,[e("div",Be,[r.value==="shop"?(o(),n(m,{key:0},[e("a",{onClick:S},t[7]||(t[7]=[e("span",null,"切换店铺",-1)])),t[8]||(t[8]=e("span",{style:{color:"#f0f2f5"}},"｜",-1))],64)):i("",!0),e("a",{onClick:d},t[9]||(t[9]=[e("span",null,"退出登录",-1)]))])])])]),default:l(()=>[e("div",xe,[e("a",be,[r.value!=="shop"?(o(),n("span",Se,[s(D)(String(p.value.avatar))=="def"?(o(),n("img",{key:0,src:s(j)(p.value.avatar)},null,8,Ce)):(o(),n("img",{key:1,src:s(z)(p.value.avatar)},null,8,$e))])):i("",!0),r.value=="shop"?(o(),n("span",Ie,[s(D)(String(x.value.adminUserShop.avatar))=="def"?(o(),n("img",{key:0,src:s(j)(x.value.adminUserShop.avatar)},null,8,Te)):(o(),n("img",{key:1,src:s(z)(x.value.adminUserShop.avatar)},null,8,Me))])):i("",!0),s(f).layout!=="top"?(o(),n("div",ze,w(/^1[3-9]\d{9}$/.test(p.value.username)?p.value.username.replace(/(\d{3})\d{4}/,"$1****"):p.value.username),1)):i("",!0),t[2]||(t[2]=e("i",{class:"iconfont icon-xiala"},null,-1))])])]),_:1})])])])]),h(q,{class:"page-top","show-close":!1,"z-index":"12",modelValue:k.value,"onUpdate:modelValue":t[0]||(t[0]=Q=>k.value=Q),width:"500px"},{default:l(()=>[k.value?(o(),u(le,{key:0,onClosePopup:I,isIndex:!0,username:p.value.username},null,8,["username"])):i("",!0)]),_:1},8,["modelValue"])],64)}}}),Ae=L(Pe,[["__scopeId","data-v-05e3bae0"]]),Fe={class:"page_left_menu_content"},Le={key:0,class:"head_logo"},Ne=["src"],qe=["src"],De={style:{width:"100%",position:"absolute"}},je={class:"fold_btn"},Re=V({__name:"pageTopMenu",setup(U){const{themeInfo:r}=N(),c=E().licensedData,_=M(),v=R(),B=M(),p=T(""),x=F(()=>B.mainMenu);K(()=>{p.value=v.currentRoute.value.name});const b=d=>{window.innerWidth<=756?(d.blank?window.open("/"+d.route_link,"_blank"):v.push("/"+d.route_link),_.menuActive=!1):(d.blank?window.open("/"+d.route_link,"_blank"):v.push("/"+d.route_link),se(),_.childMenuShow=!0)};return oe(()=>{p.value=v.currentRoute.value.name}),(d,k)=>{const S=g("el-menu-item"),I=g("el-sub-menu"),C=g("el-menu");return o(),n("div",{class:$(["page_left_menu",[s(_).childMenuShow?"child-menu-show":"child-menu-hide"]])},[e("div",Fe,[s(_).childMenuShow?(o(),n("div",Le,[s(r).navTheme==="light"?(o(),n("img",{key:0,class:"logo_img",src:s(c).admin_light_logo?s(z)(s(c).admin_light_logo):s(re)},null,8,Ne)):i("",!0),s(r).navTheme==="dark"?(o(),n("img",{key:1,class:"logo_img",src:s(c).admin_light_logo?s(z)(s(c).admin_light_logo):s(X)},null,8,qe)):i("",!0)])):i("",!0),e("div",{class:$(["menu_list",s(r).navTheme])},[e("div",De,[h(C,{"default-active":p.value,mode:"horizontal","popper-class":"el-top-menu-popper "+(s(r).navTheme==="light"?"popper-light":"popper-dark"),ellipsis:"","text-color":"var(--tig-menu-text-color)"},{default:l(()=>[(o(!0),n(m,null,A(x.value,t=>(o(),n(m,{key:t.authority_id},[t.children.length&&t.is_show?(o(),u(I,{key:0,class:"",index:t.authority_sn},{title:l(()=>[e("i",{class:$(t.authority_ico+" child-ico")},null,2),e("span",null,w(t.authority_name),1)]),default:l(()=>[(o(!0),n(m,null,A(t.children,a=>(o(),n(m,null,[a.children&&a.children.length&&a.is_show?(o(),u(I,{key:0,index:a.authority_sn},{title:l(()=>[e("span",null,w(a.authority_name),1)]),default:l(()=>[(o(!0),n(m,null,A(a.children,y=>(o(),u(S,{key:y.authority_id,index:y.authority_sn,onClick:q=>b(y)},{title:l(()=>[e("span",null,w(y.authority_name),1)]),_:2},1032,["index","onClick"]))),128))]),_:2},1032,["index"])):a.is_show?(o(),u(S,{key:1,index:a.authority_sn,onClick:y=>b(a)},{title:l(()=>[e("span",null,w(a.authority_name),1)]),_:2},1032,["index","onClick"])):i("",!0)],64))),256))]),_:2},1032,["index"])):t.is_show?(o(),u(S,{key:1,index:t.authority_sn,onClick:a=>b(t)},{title:l(()=>[e("i",{class:$(t.authority_ico+"child-ico")},null,2),e("span",null,w(t.authority_name),1)]),_:2},1032,["index","onClick"])):i("",!0)],64))),128))]),_:1},8,["default-active","popper-class"])])],2),e("div",je,[h(Ae)])])],2)}}}),Ee=L(Re,[["__scopeId","data-v-bed0f1b9"]]),lt=V({__name:"View",setup(U){return(r,f)=>{const c=g("router-view");return o(),n(m,null,[h(Ee),h(pe,null,{default:l(()=>[h(c)]),_:1})],64)}}});export{lt as default};
