import x from"./ReconnectionList-836433e1.js";import{t as V}from"./conversation-43b2bd1f.js";import{d as I,j as l,r as v,o as m,c as N,e as t,b as r,w as a,F as B,H as f,k as U,h as L,K as d,p as S,i as F,_ as W}from"./index-7c2d2aef.js";import"./util-1ee03ed8.js";import"./format-4e0206d3.js";import"./config-9548fa9b.js";import"./config-e2aa16d1.js";import"./StatusDot-19af4eec.js";const h=e=>(S("data-v-3507c986"),e=e(),F(),e),j=h(()=>t("div",{class:"title"}," 转接客服 ",-1)),E=h(()=>t("em",{class:"main_pel_m iconfont-admin icon-cha1"},null,-1)),H=[E],K={class:"dialog-footer"},T=I({__name:"Reconnection",props:{conversation_id:{type:Number,default:0}},emits:["serversUpdated"],setup(e,{expose:y,emit:g}){const k=l(null),o=l(!1),C=e,_=()=>{o.value=!0},p=()=>{o.value=!1},b=g,s=l(0),w=async()=>{if(s.value==0){d.error("请选择转接客服");return}try{const n=await V({conversation_id:C.conversation_id,servant_id:s.value});d.success(n.message),o.value=!1,b("serversUpdated")}catch(n){d.error(n.message)}finally{}};return y({showWin:_}),(n,i)=>{const u=v("el-button"),R=v("el-dialog");return m(),N(B,null,[t("div",{class:"reception-panel-toolbar-waiting",onClick:_}," 转接 "),r(R,{"destroy-on-close":!0,modelValue:o.value,"onUpdate:modelValue":i[1]||(i[1]=c=>o.value=c),"show-close":!1,width:"560"},{header:a(({close:c,titleId:q,titleClass:z})=>[t("div",{class:"header-title"},[j,t("div",{onClick:p,class:"right"},H)])]),footer:a(()=>[t("div",K,[r(u,{onClick:p},{default:a(()=>[f("取消")]),_:1}),r(u,{disabled:s.value==0,type:"primary",onClick:w},{default:a(()=>[f(" 转接 ")]),_:1},8,["disabled"])])]),default:a(()=>[o.value?(m(),U(x,{key:0,servant_id:s.value,"onUpdate:servant_id":i[0]||(i[0]=c=>s.value=c),conversation_id:e.conversation_id,ref_key:"ReconnectionListRef",ref:k},null,8,["servant_id","conversation_id"])):L("",!0)]),_:1},8,["modelValue"])],64)}}});const X=W(T,[["__scopeId","data-v-3507c986"]]);export{X as default};
