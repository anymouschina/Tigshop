/* empty css             */import{i as g}from"./index-u3wYLQ4o.js";import T from"./SelectTime-ByKVCNnn.js";import{c as b}from"./overview-CDuwqpcQ.js";import{d as h,i as f,G as w,L as _,q as z,A as L,B as O,T as S,c as A,o as D,b as E,e as m,F as V,I as k,_ as M}from"./index-DrbzVNl6.js";import{f as B}from"./time-Bh5UhrfW.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-MgR9Z6jO.js";import"./index-CeQDmMxd.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import"./SelectTimeInterval-C-WvSG46.js";const Y={class:"chart-content"},C=h({__name:"TrendChart",setup(F){const e=f(window.innerWidth<768),v=()=>{e.value=window.innerWidth<768},a=w({dateType:3,startEndTime:B(_(1,"sub"),"YYYY-MM-DD")}),n=f();let t;const p=()=>({grid:{left:e.value?"0%":"2%",right:"4%",bottom:"25%",top:(e.value,"15%"),containLabel:!0},tooltip:{trigger:"axis",confine:!0},legend:{data:["分销员销售额(元)"],icon:"rect",itemWidth:e.value?15:20,itemHeight:e.value?3:4,top:e.value?0:void 0},xAxis:{type:"category",data:[],axisLabel:{interval:e.value?"auto":0,rotate:e.value?30:0,fontSize:e.value?10:12}},yAxis:{type:"value",name:"分销员销售额(元)",nameLocation:"end",nameTextStyle:{padding:e.value?[0,0,0,20]:[0,0,0,50]},axisLabel:{formatter:e.value?o=>o>=1e4?`${(o/1e4).toFixed(1)}万`:o:void 0}},dataZoom:[{backgroundColor:"#fff",fillerColor:"rgb(234, 236, 253, 0.6)",borderColor:"#bbc2f9",showDetail:!1,startValue:0,endValue:100,filterMode:"empty",left:"center",zoomLoxk:!0,bottom:3,height:e.value?15:20}],series:[{name:"分销员销售额(元)",data:[],type:"line",smooth:!1,lineStyle:{color:"#3aa1ff",width:e.value?2:3},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(58,161,255, 0.5)"},{offset:1,color:"#ffffff"}],global:!1}},color:"#3aa1ff",emphasis:{scale:!1},symbolSize:e.value?4:6}]}),i=f(p()),c=()=>{v(),t==null||t.resize(),i.value=p(),t==null||t.setOption(i.value,!0)},x=()=>{n.value&&(t=g(n.value),t.setOption(i.value),window.addEventListener("resize",c))},l=async()=>{try{const o=await b({...a}),{horizontalAxis:r,longitudinalAxis:s}=o,y=r.map(u=>{let d="月";return a.dateType===2&&(d="日"),a.dateType===3&&(d="时"),e.value&&a.dateType===3?u:u+d});i.value.xAxis.data=y,i.value.series[0].data=s,t==null||t.setOption(i.value)}catch(o){k.error(o.message)}};return z(()=>{L(()=>{x()}),l()}),O(()=>{t==null||t.dispose(),window.removeEventListener("resize",c)}),S(()=>{a.dateType&&l()}),(o,r)=>(D(),A(V,null,[E(T,{dateType:a.dateType,"onUpdate:dateType":r[0]||(r[0]=s=>a.dateType=s),dateValue:a.startEndTime,"onUpdate:dateValue":r[1]||(r[1]=s=>a.startEndTime=s),onOnOK:l},null,8,["dateType","dateValue"]),m("div",Y,[m("div",{class:"chart",ref_key:"chartRef",ref:n},null,512)])],64))}}),j=M(C,[["__scopeId","data-v-e66ab991"]]);export{j as default};
