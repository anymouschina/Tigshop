import{d as S,i as s,C as q,q as R,r as p,c as V,o as i,j as f,f as c,w as a,b as n,a3 as L,e as g,E as v,g as C,a4 as E,I as k}from"./index-DrbzVNl6.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-MgR9Z6jO.js";import{_ as I}from"./SelectCategory.vue_vue_type_script_setup_true_lang-DKnpU9uO.js";import"./index-CeQDmMxd.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              *//* empty css             */import{m as F}from"./category-B3nMG9Bb.js";import"./time-Bh5UhrfW.js";import"./category-BQLd1cDS.js";const P=S({__name:"Move",props:{id:{type:Number,required:!0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(w,{expose:x,emit:N}){const r=s(!0),o=w,y=s(),b=q().currentRoute.value.query;s(o.isDialog?o.id:Number(b.id));const t=s({id:o.isDialog?o.id:Number(b.id),targetCatId:0}),m=N;R(async()=>{r.value=!1});const _=async()=>{await y.value.validate();try{m("update:confirmLoading",!0),console.log(t.value);const l=await F({...t.value});m("submitCallback",l),k.success("操作成功")}catch(l){k.error(l.message)}finally{m("update:confirmLoading",!1)}};return x({onFormSubmit:()=>{_()}}),(l,e)=>{const u=p("el-form-item"),B=p("el-button"),D=p("el-form");return i(),V("div",null,[r.value?c("",!0):(i(),f(D,{key:0,ref_key:"formRef",ref:y,model:t.value,"label-width":"auto"},{default:a(()=>[n(u,null,{default:a(()=>e[2]||(e[2]=[g("div",{class:"extra"},[v(" 什么是转移商品分类? "),g("br"),v(" 如果需要对商品的分类进行变更,那么你可以通过此功能,正确管理你的商品分类。 ")],-1)])),_:1}),n(u,{label:"",prop:"id"},{default:a(()=>[r.value?c("",!0):(i(),f(C(I),{key:0,categoryId:t.value.id,"onUpdate:categoryId":e[0]||(e[0]=d=>t.value.id=d),multiple:!1,disabled:""},null,8,["categoryId"])),e[3]||(e[3]=g("div",{class:"extra",style:{margin:"0 20px"}},"转移至",-1)),r.value?c("",!0):(i(),f(C(I),{key:1,categoryId:t.value.targetCatId,"onUpdate:categoryId":e[1]||(e[1]=d=>t.value.targetCatId=d),multiple:!1},null,8,["categoryId"]))]),_:1}),L(n(u,{"wrapper-col":{offset:4,span:16}},{default:a(()=>[n(B,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:_},{default:a(()=>e[4]||(e[4]=[v("提交 ")])),_:1},512)]),_:1},512),[[E,!o.isDialog]])]),_:1},8,["model"]))])}}});export{P as default};
