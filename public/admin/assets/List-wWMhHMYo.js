/* empty css             */import"./index-CeQDmMxd.js";import{P}from"./PopFormElm-BZp1_Wme.js";import{_ as B}from"./Switch.vue_vue_type_script_setup_true_lang-C5nzofSO.js";import{D as M}from"./DeleteRecord-MR4vGqLl.js";/* empty css                                                                    */import{P as L}from"./Pagination-wR9huHyl.js";import{d as $,K as E,i as f,G,q as K,c as v,e as s,b as t,w as o,f as C,g as i,I as y,r,o as b,E as u,D as w,l as R,_ as T}from"./index-DrbzVNl6.js";import{g as j,u as N,d as H,b as J}from"./mobileCatNav-DzRAf_-a.js";import{_ as S}from"./DialogForm.vue_vue_type_script_setup_true_lang-DqYSRv0_.js";const Q={class:"container"},W={class:"content_wrapper"},X={class:"container"},Y={class:"lyecs-table-list-warp"},Z={class:"list-table-tool lyecs-search-warp"},ee={class:"list-table-tool-row"},te={class:"list-table-tool-col"},ae={key:0},oe={class:"table-container"},se={class:"empty-warp"},le={key:0,class:"empty-bg"},ie={key:0,class:"pagination-con"},ne=$({__name:"List",setup(re){const I=E(),h=f([]),c=f(!0),_=f(0),m=f([]),n=G({page:1,size:I.get("pageSize"),sortField:"",sortOrder:""}),d=async()=>{c.value=!0;try{const l=await j({...n});h.value=l.records,_.value=l.total}catch(l){y.error(l.message)}finally{c.value=!1}};K(()=>{d()});const x=({prop:l,order:e})=>{n.sortField=l,n.sortOrder=e=="ascending"?"asc":e=="descending"?"desc":"",d()},O=async l=>{try{const e=await J(l,{ids:m.value});y.success("操作成功"),d()}catch(e){y.error(e.message)}},z=l=>{m.value=l.map(e=>e.mobileCatNavId)};return(l,e)=>{const k=r("el-button"),q=r("el-popconfirm"),A=r("el-space"),D=r("el-form"),p=r("el-table-column"),U=r("el-divider"),V=r("el-table"),F=r("a-spin");return b(),v("div",Q,[s("div",W,[s("div",X,[s("div",Y,[s("div",Z,[t(D,{model:n},{default:o(()=>[s("div",ee,[s("div",te,[t(A,null,{default:o(()=>[t(i(S),{params:{act:"add"},title:"添加首页分类栏",isDrawer:"",path:"decorate/mobileCatNav/Info",width:"600px",onOkCallback:d},{default:o(()=>[t(k,{type:"primary"},{default:o(()=>e[3]||(e[3]=[u("添加首页分类栏")])),_:1})]),_:1}),t(q,{title:"您确认要批量删除所选数据吗？",onConfirm:e[0]||(e[0]=a=>O("del"))},{reference:o(()=>[t(k,{disabled:m.value.length===0},{default:o(()=>e[4]||(e[4]=[u("批量删除")])),_:1},8,["disabled"])]),_:1}),m.value.length>0?(b(),v("span",ae,[e[5]||(e[5]=u(" 已选择：")),s("b",null,w(m.value.length),1),e[6]||(e[6]=u(" 项 "))])):C("",!0)]),_:1})]),e[7]||(e[7]=s("div",{class:"list-table-tool-col"},null,-1))])]),_:1},8,["model"])]),s("div",oe,[t(F,{spinning:c.value},{default:o(()=>[t(V,{data:h.value,loading:c.value,total:_.value,"row-key":"id",onSelectionChange:z,onSortChange:x},{empty:o(()=>[s("div",se,[c.value?C("",!0):(b(),v("div",le,"暂无数据"))])]),default:o(()=>[t(p,{type:"selection",width:"32"}),t(p,{width:200,label:"首页分类栏名称",prop:"categoryName"}),t(p,{width:100,label:"分类颜色",prop:"categoryName",a:""},{default:o(({row:a})=>[s("div",{class:"colorCard",style:R({backgroundColor:a.catColor})},null,4)]),_:1}),t(p,{label:"是否显示",prop:"isShow"},{default:o(({row:a})=>[t(i(B),{checked:a.isShow,"onUpdate:checked":g=>a.isShow=g,params:{id:a.mobileCatNavId,field:"isShow"},requestApi:i(N)},null,8,["checked","onUpdate:checked","params","requestApi"])]),_:1}),t(p,{label:"排序",prop:"sortOrder",sortable:"custom"},{default:o(({row:a})=>[t(i(P),{"org-value":a.sortOrder,"onUpdate:orgValue":g=>a.sortOrder=g,params:{id:a.mobileCatNavId,field:"sortOrder"},requestApi:i(N),extra:"默认值为50，数值越小，排序越靠前",label:"排序",type:"integer"},{default:o(()=>[s("div",null,w(a.sortOrder),1)]),_:2},1032,["org-value","onUpdate:orgValue","params","requestApi"])]),_:1}),t(p,{width:150,fixed:"right",label:"操作"},{default:o(({row:a})=>[t(i(S),{params:{act:"detail",id:a.mobileCatNavId},title:"编辑首页分类栏",isDrawer:"",path:"decorate/mobileCatNav/Info",width:"600px",onOkCallback:d},{default:o(()=>e[8]||(e[8]=[s("a",{class:"btn-link"},"编辑",-1)])),_:2},1032,["params"]),t(U,{direction:"vertical"}),t(i(M),{params:{id:a.mobileCatNavId},requestApi:i(H),onAfterDelete:d},{default:o(()=>e[9]||(e[9]=[u("删除 ")])),_:2},1032,["params","requestApi"])]),_:1})]),_:1},8,["data","loading","total"])]),_:1},8,["spinning"]),_.value>0?(b(),v("div",ie,[t(i(L),{page:n.page,"onUpdate:page":e[1]||(e[1]=a=>n.page=a),size:n.size,"onUpdate:size":e[2]||(e[2]=a=>n.size=a),total:_.value,onCallback:d},null,8,["page","size","total"])])):C("",!0)])])])])])}}}),Ce=T(ne,[["__scopeId","data-v-ff711a44"]]);export{Ce as default};
