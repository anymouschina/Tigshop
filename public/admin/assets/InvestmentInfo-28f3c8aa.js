import{d as D,j as h,s as N,x as U,r as p,o as m,c as F,e as f,k as u,w as i,b as a,f as c,h as d,$ as j,a0 as L,H as R,K as x}from"./index-7c2d2aef.js";import{_ as y}from"./Editor.vue_vue_type_script_setup_true_lang-4519c339.js";import{u as $}from"./decorateDiscrete-4e0f9bec.js";import{F as I}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_9bfcfc35_lang-9b6073fb.js";import{_ as M}from"./PicList.vue_vue_type_script_setup_true_lang-01807b1f.js";import"./index-6c62cf9b.js";import"./vuedraggable.umd-75ad0f8f.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-b4d9216b.js";import"./category-a8bd4d11.js";import"./config-9548fa9b.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import"./region-e0d291a6.js";import"./shopProductCategory-792e0c23.js";/* empty css             */import"./ProductGroupSelect.vue_vue_type_style_index_0_scoped_7a7acb69_lang-fed017a0.js";import"./lodash-a19d39c0.js";import"./index.esm-0534e563.js";import"./format-4e0206d3.js";import"./util-1ee03ed8.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-c57b9a11.js";import"./Image.vue_vue_type_script_setup_true_lang-36bd437b.js";import"./SelectLink-f2e6e565.js";import"./SelectColor.vue_vue_type_script_setup_true_lang-4a4dabb3.js";import"./time-290942a2.js";import"./config-e2aa16d1.js";import"./region-05802f67.js";const O={class:"container"},q={class:"content_wrapper"},A={class:"lyecs-form-table"},E=f("div",{class:"extra"},"提示：请根据具体需求设置对应大小的图片，高清需要上传双倍大小",-1),G=f("div",{class:"extra"},"提示：请根据具体需求设置对应大小的图片，高清需要上传双倍大小",-1),be=D({__name:"InvestmentInfo",props:{module:{type:Object,default:{}},decorate_sn:{type:String,default:""},index:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(n,{expose:k,emit:w}){const _=w,l=n,v=h(!0),g=N(),e=h({title:"",content:"",image:"",images:[],index:0});U(()=>{Object.assign(e.value,l.module[l.index]),e.value.index=l.index,v.value=!1});const b=async()=>{await g.value.validate();try{_("update:confirmLoading",!0);let r=l.module;r[l.index]=e.value;const t=await $({decorate_sn:l.decorate_sn,data:r});_("submitCallback",t),x.success(t.message)}catch(r){x.error(r.message)}finally{_("update:confirmLoading",!1)}};return k({onFormSubmit:()=>{b()}}),(r,t)=>{const C=p("el-input"),s=p("el-form-item"),V=p("el-button"),B=p("el-form"),S=p("a-spin");return m(),F("div",O,[f("div",q,[f("div",A,[v.value?d("",!0):(m(),u(B,{key:0,ref_key:"formRef",ref:g,model:e.value,"label-width":"auto"},{default:i(()=>[a(s,{rules:[{required:!0,message:"流程标题不能为空!"}],label:"流程标题",prop:"title"},{default:i(()=>[a(C,{modelValue:e.value.title,"onUpdate:modelValue":t[0]||(t[0]=o=>e.value.title=o)},null,8,["modelValue"])]),_:1}),n.decorate_sn=="investment_promotion_homepage"&&n.index!=0?(m(),u(s,{key:0,label:"流程图",prop:"image"},{default:i(()=>[a(c(I),{photo:e.value.image,"onUpdate:photo":t[1]||(t[1]=o=>e.value.image=o)},null,8,["photo"]),E]),_:1})):d("",!0),n.decorate_sn=="investment_promotion_homepage"&&n.index==0?(m(),u(s,{key:1,label:"轮播图",prop:"images"},{default:i(()=>[a(c(M),{isMultiple:!0,photos:e.value.images,"onUpdate:photos":t[2]||(t[2]=o=>e.value.images=o)},null,8,["photos"]),G]),_:1})):d("",!0),n.decorate_sn!="investment_promotion_homepage"?(m(),u(s,{key:2,label:"流程描述",prop:"content"},{default:i(()=>[a(c(y),{html:e.value.content,"onUpdate:html":t[3]||(t[3]=o=>e.value.content=o)},null,8,["html"])]),_:1})):d("",!0),n.decorate_sn=="investment_promotion_homepage"&&n.index!=0?(m(),u(s,{key:3,label:"流程描述",prop:"content"},{default:i(()=>[a(c(y),{html:e.value.content,"onUpdate:html":t[4]||(t[4]=o=>e.value.content=o)},null,8,["html"])]),_:1})):d("",!0),j(a(s,{"wrapper-col":{offset:4,span:16}},{default:i(()=>[a(V,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:b},{default:i(()=>[R("提交")]),_:1},512)]),_:1},512),[[L,!l.isDialog]])]),_:1},8,["model"])),a(S,{spinning:v.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{be as default};
