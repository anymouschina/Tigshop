import{y as x,d as F,i as p,K as P,G as T,q as B,c as _,e,b as o,w as i,N as U,f,g as q,I as D,r,o as u,F as M,a as O,n as E,D as G,_ as K}from"./index-DrbzVNl6.js";/* empty css             *//* empty css                                                                    */import{P as $}from"./Pagination-wR9huHyl.js";const j=g=>x({url:"product/productInventoryLog/list",method:"get",params:g}),A={class:"container"},H={class:"content_wrapper"},J={class:"lyecs-table-list-warp"},Q={class:"list-table-tool lyecs-search-warp"},R={class:"advanced-search-warp list-table-tool-row"},W={class:"simple-form-warp"},X={class:"simple-form-field"},Y={class:"form-group"},Z={class:"control-container"},ee={class:"simple-form-field"},te={class:"form-group"},oe={class:"tabs flex"},se=["onClick"],ae={class:"table-container"},le={class:"empty-warp"},ne={key:0,class:"empty-bg"},ie={key:0,class:"pagination-con"},re=F({__name:"List",setup(g){const h=p([{value:0,label:"全部"},{value:1,label:"入库"},{value:2,label:"出库"}]),y=P(),b=p(),c=p(!0),m=p(0),w=p([]),s=T({page:1,size:y.get("pageSize"),sortField:"",sortOrder:"",keyword:"",type:0}),C=a=>{s.type=a,d()},d=async()=>{c.value=!0;try{const a=await j({...s});b.value=a.records,m.value=a.total}catch(a){D.error(a.message)}finally{c.value=!1}};B(()=>{d()});const v=()=>{d()},k=({prop:a,order:t})=>{s.sortField=a,s.sortOrder=t=="ascending"?"asc":t=="descending"?"desc":"",d()},S=a=>{w.value=a.map(t=>t.logId)};return(a,t)=>{const I=r("el-button"),z=r("TigInput"),N=r("el-form"),n=r("el-table-column"),L=r("el-table"),V=r("a-spin");return u(),_("div",A,[e("div",H,[e("div",J,[e("div",Q,[o(N,{model:s,onSubmit:U(v,["prevent"])},{default:i(()=>[e("div",R,[e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[o(z,{modelValue:s.keyword,"onUpdate:modelValue":t[0]||(t[0]=l=>s.keyword=l),name:"keyword",placeholder:"输入关键词",clearable:"",onClear:v},{append:i(()=>[o(I,{onClick:v},{default:i(()=>t[3]||(t[3]=[e("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1})]),_:1},8,["modelValue"])])])]),e("div",ee,[e("div",te,[e("div",oe,[(u(!0),_(M,null,O(h.value,l=>(u(),_("div",{class:E(["item",s.type==l.value?"active":""]),onClick:ce=>C(l.value)},G(l.label),11,se))),256))])])])])])]),_:1},8,["model"])]),e("div",ae,[o(V,{spinning:c.value},{default:i(()=>[o(L,{data:b.value,loading:c.value,total:m.value,"row-key":"logId",onSelectionChange:S,onSortChange:k},{empty:i(()=>[e("div",le,[c.value?f("",!0):(u(),_("div",ne,"暂无数据"))])]),default:i(()=>[o(n,{type:"selection",width:"32"}),o(n,{width:360,label:"商品名称",prop:"productName"}),o(n,{label:"变化前库存",prop:"oldNumber"}),o(n,{label:"变化后库存",prop:"number"}),o(n,{label:"变化量",prop:"changeNumber"}),o(n,{label:"操作",prop:"desc"}),o(n,{width:200,label:"操作时间",prop:"addTime"})]),_:1},8,["data","loading","total"])]),_:1},8,["spinning"]),m.value>0?(u(),_("div",ie,[o(q($),{page:s.page,"onUpdate:page":t[1]||(t[1]=l=>s.page=l),size:s.size,"onUpdate:size":t[2]||(t[2]=l=>s.size=l),total:m.value,onCallback:d},null,8,["page","size","total"])])):f("",!0)])])])])}}}),me=K(re,[["__scopeId","data-v-f9d5ab55"]]);export{me as default};
