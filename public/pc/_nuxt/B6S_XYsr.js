import{b as e}from"./kUOzVTvd.js";import{Q as a}from"./CtheyMuC.js";import{e as t,f as l,r as s,z as i,y as u,c,o,F as n,a as d,b as r,t as p,i as v,l as m,v as y,j as _,ai as k,w as f,_ as g,g as b,ca as h,Q as x,aa as w,h as A,ab as V,p as I,G as j,s as C,a4 as $,d as L,q as N,E as U,m as z,k as E,n as M,cb as S,cc as B,C as T,H,ag as P,bg as R,aO as Y,cd as D,A as O,B as X,I as K,ce as W,u as J,ao as Q,U as G,ae as Z}from"./BLNaUqdG.js";import{E as q}from"./Bil1wbyq.js";import{g as F,a as ee,b as ae,c as te,d as le,e as se,_ as ie}from"./NrKHU7_t.js";import{_ as ue}from"./CScYj7Fy.js";import{_ as ce}from"./DGSQZaL6.js";import"./CQcoTD7x.js";import{g as oe,c as ne,e as de,d as re,f as pe,h as ve,i as me,j as ye,k as _e,l as ke,m as fe,n as ge,o as be,p as he}from"./CTzMDe2j.js";import{a as xe}from"./CPIgkIKv.js";import{u as we}from"./D-E-9YUO.js";import{E as Ae}from"./CJAHIeY_.js";import{E as Ve}from"./ClnUiH43.js";import{E as Ie}from"./CK-rvtuG.js";import{a as je,E as Ce}from"./Di7_rRxo.js";import{B as $e}from"./BynQilW0.js";import{s as Le}from"./DSXY0Md2.js";import{P as Ne}from"./DE8qoeTi.js";import{v as Ue}from"./C8qdh5cF.js";import{_ as ze}from"./zM3V5R1F.js";import{u as Ee,d as Me}from"./QYRrvKl2.js";import{E as Se}from"./DIIF5iVx.js";import"./rSOsbbvW.js";import"./CdUPjuAS.js";import"./DlIXSNl1.js";import"./Bp2G0jMz.js";import"./DmeNR82d.js";import"./BwRzfsZt.js";import"./BWAJcOoD.js";import"./losdC6Ud.js";import"./C8QNSlsX.js";import"./D_Dr4eZ1.js";import"./BucM0pco.js";import"./BX08AvzU.js";import"./CxZS6lgh.js";/* empty css        */import"./C8IqyEYy.js";import"./DgmxjSXK.js";import"./D5ZJ33IS.js";import"./BIC8ZYG9.js";import"./DxiXPFL-.js";const Be={class:"share-box flex align-start"},Te={class:"cd_r"},He={class:"text_box"},Pe={id:"share-contents",class:"share-contents"},Re={class:"show_box flex-wrap"},Ye=["onClick"],De=["src"],Oe={class:"share_box"},Xe={class:"s-icons-box"},Ke={class:"s-icons flex"},We={class:"lyecs-share flex",style:{"margin-bottom":"30px"}},Je=["title"],Qe=["title"],Ge=["title"],Ze=["title"],qe=["src"],Fe=t({__name:"ShareModal",props:{picList:{type:Array,default:[]},product:{type:Object,default:[]},productPrice:{type:String,default:""}},setup(e){const t=l(),g=e,b=s(0),h=s(""),x=s(!1),w=e=>{if("wechat"==e&&(x.value=!0),"weibo"==e){let e="http://service.weibo.com/share/share.php?url="+encodeURIComponent(g.product.product_name+"-"+window.location.href);window.open(e,"_blank")}if("qqzone"==e){let e=g.product.product_name,a=window.location.href,t=`http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?to=qzone&title=${encodeURIComponent(e||"-")}&url=${encodeURIComponent(a)}`;window.open(t,"_blank")}if("qq"==e){let e=g.product.product_name,a=window.location.href,t=`http://connect.qq.com/widget/shareqq/index.html?url=${encodeURIComponent(a)}&title=${encodeURIComponent(e||"-")}`;window.open(t,"_blank")}},{t:A}=i();return u((()=>{(async e=>{const t=e;h.value=await a.toDataURL(t,{margin:1})})(window.location.href)})),(a,l)=>(o(),c(n,null,[d("div",Be,[d("div",Te,[d("p",null,p(a.$t("说说这个商品怎么样"))+"？",1),d("div",He,[d("textarea",Pe,p(e.product.product_name)+"，"+p(v(t).dollarSign)+p(e.productPrice),1)]),d("div",Re,[(o(!0),c(n,null,m(e.picList,((e,a)=>(o(),c("div",{class:y(["show_item",b.value==a?"redbd":""]),onClick:e=>(e=>{b.value=e})(a)},[d("img",{src:v(_)(null==e?void 0:e.pic_thumb),style:{width:"78px","margin-top":"0px"}},null,8,De),l[6]||(l[6]=d("i",{class:"icon-gou"},null,-1))],10,Ye)))),256))]),d("div",Oe,[d("div",Xe,[d("div",Ke,[d("div",We,[d("a",{href:"javascript:;",rel:"nofollow",title:a.$t("分享到微信"),class:"weixin",onClick:l[0]||(l[0]=e=>w("wechat"))}," ",8,Je),d("a",{href:"javascript:;",rel:"nofollow",title:a.$t("分享到新浪微博"),class:"sina",onClick:l[1]||(l[1]=e=>w("weibo"))}," ",8,Qe),d("a",{href:"javascript:;",rel:"nofollow",title:a.$t("分享到QQ空间"),class:"zone",onClick:l[2]||(l[2]=e=>w("qqzone"))}," ",8,Ge),d("a",{href:"javascript:;",rel:"nofollow",title:a.$t("分享到QQ"),class:"qq",onClick:l[3]||(l[3]=e=>w("qq"))}," ",8,Ze)]),d("div",{class:"share_copy_link hand-pointer",onClick:l[4]||(l[4]=e=>{window.prompt(A("请手动复制以下链接地址，按Ctrl+C即可复制"),window.location.href)})},p(a.$t("复制链接")),1)])])])])]),r(v(k),{open:x.value,"onUpdate:open":l[5]||(l[5]=e=>x.value=e),title:a.$t("扫描二维码分享"),footer:null,style:{top:"30%",width:"300px"}},{default:f((()=>[d("div",null,[d("img",{class:"cd_ewm",src:h.value,width:"100%"},null,8,qe)])])),_:1},8,["open","title"])],64))}}),ea=g(Fe,[["__scopeId","data-v-216f427e"]]),aa={class:"goods-image"},ta=["src"],la=t({__name:"PicShow",props:{images:{}},setup(e){const a=s(!1),t=b({backgroundPositionX:"0",backgroundPositionY:"0"}),l=s(null),{elementX:i,elementY:u,isOutside:n}=h(l);return x([i,u,n],(()=>{a.value=!n.value;const e={X:0,Y:0};i.value<100?e.X=0:i.value>250?e.X=160:e.X=i.value-100,u.value<100?e.Y=0:u.value>250?e.Y=160:e.Y=u.value-100,t.backgroundPositionX=-2*e.X+"px",t.backgroundPositionY=-2*e.Y+"px"})),(e,s)=>(o(),c("div",aa,[e.images&&e.images.pic_url?w((o(),c("div",{key:0,class:"large",style:I([{backgroundImage:`url(${v(_)(e.images.pic_url)})`},t])},null,4)),[[V,a.value]]):A("",!0),d("div",{class:"middle",ref_key:"target",ref:l},[e.images&&e.images.pic_url?(o(),c("img",{key:0,src:v(_)(e.images.pic_url),alt:""},null,8,ta)):A("",!0)],512)]))}}),sa=g(la,[["__scopeId","data-v-4df4554f"]]),ia={class:"gallery"},ua={class:"slider"},ca={style:{overflow:"hidden",width:"310px"}},oa=["src","onMouseover"],na={__name:"Thumb",props:{picList:{type:Array,default:[]}},setup(e){const a=e,t=s(0),l=b(a.picList),i=s(0),u=e=>{i.value=e};u(i.value);const p=()=>{0!=t.value&&(t.value+=77.5)},k=()=>{t.value!=-(()=>{let e=l.length/4;return e-Math.floor(e)!=0&&(e=Math.ceil(e)),77.5*e})()- -77.5&&(t.value-=77.5)};return(e,a)=>(o(),c(n,null,[d("div",ia,[r(sa,{images:l[i.value]},null,8,["images"])]),d("div",ua,[d("button",{class:"prev",onClick:p}),d("div",ca,[d("div",{class:"slider-wrapper flex",style:I({transform:`translateX(${t.value}px)`})},[(o(!0),c(n,null,m(l,((e,a)=>(o(),c("div",{key:a,class:"slider-item"},[d("img",{src:v(_)(e.pic_thumb||""),class:y(i.value==a?"cur":""),alt:"Slider Image",onMouseover:e=>u(a)},null,42,oa)])))),128))],4)]),d("button",{class:"next",onClick:k})])],64))}},da=g(na,[["__scopeId","data-v-7bb95258"]]),ra={key:0,class:"flex"},pa={class:"lyecsquan flex"},va={class:"promotion-box"},ma={class:"promotion"},ya={key:0,class:"ticket-content"},_a={key:0,class:"promotion"},ka={class:"ticket-type"},fa={class:"ticket-content"},ga={class:"modal_region_box"},ba={key:0,class:"coupon-card-box"},ha={class:"coupon-card-title"},xa={class:"coupon-card-list"},wa={class:"activity-left"},Aa={class:"activity-right"},Va={class:"activity-right-name"},Ia={class:"activity-right-time"},ja={class:"activity-left"},Ca={class:"activity-right"},$a={class:"activity-name"},La={class:"activity-product-item"},Na={class:"activity-product-item-box"},Ua={class:"activity-product-price"},za={key:1,class:"coupon-card-box"},Ea={class:"coupon-card-title"},Ma={class:"coupon-card-list"},Sa=["onClick"],Ba={class:"left-card"},Ta={class:"name"},Ha={key:0,class:"time"},Pa=["title"],Ra=["title"],Ya={class:"text"},Da=t({__name:"CouponList",props:{product_id:{type:Number,default:0},promotionList:{type:Array,default:()=>[]}},setup(e){j();const a=s(!1),t=s(!1),l=s([]),{t:u}=i(),k=e,g={3:"满减",4:"满折",5:"满赠"},b=C((()=>k.promotionList.filter((e=>3===e.type||4===e.type)))),h=C((()=>k.promotionList.filter((e=>5===e.type)))),x=async()=>{try{const e=await oe(k.product_id);l.value=e.list}catch(e){M.error(e.message)}finally{a.value=!1}};x();const w=(e,a,t)=>0===a?1===e?"已领取":"马上领":0===e?"马上领":t>=a?"已领取":"再次领取";we();return(s,i)=>{const k=U,V=ce,I=ue,j=q;return e.promotionList.length>0?(o(),c("div",ra,[$(s.$slots,"default",{},void 0,!0),d("div",pa,[d("div",va,[(o(!0),c(n,null,m(e.promotionList.slice(0,3),(e=>(o(),c("div",{class:"promotion-box-item",key:e.promotion_id},[d("div",ma,[2!=e.type?(o(),c("div",ya,p(s.$t(g[e.type])),1)):A("",!0)]),2==e.type?(o(),c("div",_a,[d("div",ka,[L(p(s.$t("券"))+" ",1),i[2]||(i[2]=d("span",{class:"ticket-line"},null,-1))]),d("div",fa,p(e.data.promotion_desc),1)])):A("",!0)])))),128))]),d("div",{class:"lyecsquan-more hand-pointer",onClick:i[0]||(i[0]=e=>t.value=!0)},p(s.$t("更多优惠"))+" >",1)]),d("div",ga,[r(j,{modelValue:t.value,"onUpdate:modelValue":i[1]||(i[1]=e=>t.value=e),title:s.$t("优惠"),footer:null,top:"15vh",width:"1090px"},{default:f((()=>[b.value.length>0||h.value.length>0?(o(),c("div",ba,[d("div",ha,p(s.$t("促销")),1),d("div",xa,[b.value.length>0?(o(!0),c(n,{key:0},m(b.value,(e=>(o(),c("div",{key:e.promotion_id,class:"card activity"},[d("div",wa,p(s.$t(g[e.type])),1),d("div",Aa,[d("div",Va,p(e.data.promotion_name),1),d("div",Ia,p(e.data.start_time)+"~"+p(e.data.end_time),1)])])))),128)):A("",!0),h.value.length>0?(o(!0),c(n,{key:1},m(h.value,(e=>(o(),c(n,{key:e.promotion_id},[(o(!0),c(n,null,m(e.data.promotion_desc,(e=>(o(),c("div",{class:"card activity",key:e.gift_id},[d("div",ja,p(s.$t("满赠")),1),d("div",Ca,[d("div",$a,p(e.desc),1),d("div",La,[d("div",Na,[r(V,{to:("urlFormat"in s?s.urlFormat:v(N))({path:"product",id:e.gift.product_info.product_id,sn:e.gift.product_info.product_sn}),target:"_blank"},{default:f((()=>[r(k,{class:"activity-product-item-img",lazy:"",src:("imageFormat"in s?s.imageFormat:v(_))(e.gift.product_info.pic_thumb)},null,8,["src"])])),_:2},1032,["to"]),d("div",Ua,[r(I,{showText:!1,fontStyle:{fontSize:"10px",fontWeight:"bold"},class:"",modelValue:e.gift.product_info.product_price,"onUpdate:modelValue":a=>e.gift.product_info.product_price=a},null,8,["modelValue","onUpdate:modelValue"])])])])])])))),128))],64)))),128)):A("",!0)])])):A("",!0),!a.value&&l.value.length>0?(o(),c("div",za,[d("div",Ea,p(s.$t("优惠券")),1),d("div",Ma,[(o(!0),c(n,null,m(l.value,(e=>(o(),c("div",{class:"card",onClick:l=>(async e=>{if(w(e.is_receive,e.limit_num,e.receive_num)!==u("已领取"))try{const a=await xe({coupon_id:e.coupon_id});await x(),M.success(a.message),t.value=!1}catch(l){M.error(l.message)}finally{a.value=!1}else M.info(u("您已领取该优惠券"))})(e)},[d("div",Ba,[d("div",null,[1==e.coupon_type?(o(),z(I,{key:0,showText:!1,modelValue:e.coupon_money,"onUpdate:modelValue":a=>e.coupon_money=a,currencyStyle:{color:"var(--tag-text)",fontSize:"12px",fontFamily:"Verdana, serif",lineHeight:"24px"},fontStyle:{color:"var(--tag-text)",fontSize:"24px",fontWeight:"bold"}},null,8,["modelValue","onUpdate:modelValue"])):(o(),c("div",{key:1,class:y(["coupon_discount",{on:1===e.is_receive}])},[L(p(e.coupon_discount),1),d("span",null,p(s.$t("折")),1)],2))]),d("div",Ta,p(e.coupon_name?"【"+e.coupon_name+"】":""),1),1==e.send_type?(o(),c("div",Ha,p(e.use_start_date)+" "+p(s.$t("至"))+" "+p(e.use_end_date),1)):A("",!0),0==e.send_type&&e.delay_day>0?(o(),c("div",{key:1,class:"time",title:v(E)()?s.$t("领券{0}天后生效，有效期{1}天",[e.delay_day,e.use_day]):`领券${e.delay_day}天后生效，有效期${e.use_day}天`},p(v(E)()?s.$t("领券{0}天后生效，有效期{1}天",[e.delay_day,e.use_day]):`领券${e.delay_day}天后生效，有效期${e.use_day}天`),9,Pa)):A("",!0),0==e.send_type&&0==e.delay_day?(o(),c("div",{key:2,class:"time",title:v(E)()?s.$t("领券当日起{0}天内可用",[e.use_day]):`领券当日起${e.use_day}天内可用`},p(v(E)()?s.$t("领券当日起{0}天内可用",[e.use_day]):`领券当日起${e.use_day}天内可用`),9,Ra)):A("",!0)]),d("div",{class:y(["right-card",{"on-card":1===e.is_receive&&e.limit_num>0&&e.receive_num>=e.limit_num}])},[i[3]||(i[3]=d("span",{class:"division_line"},null,-1)),d("span",Ya,p(s.$t(w(e.is_receive,e.limit_num,e.receive_num))),1)],2)],8,Sa)))),256))])])):A("",!0)])),_:1},8,["modelValue","title"])])])):A("",!0)}}}),Oa=g(Da,[["__scopeId","data-v-d13cc7d5"]]),Xa={class:"tab"},Ka={class:"image",style:{right:"0"},src:"data:image/png;base64,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"},Wa={class:"image",style:{left:"0"},src:"data:image/png;base64,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"},Ja=t({__name:"B2bTab",props:{tabIndex:{type:Number},tabIndexModifiers:{}},emits:["update:tabIndex"],setup(e){const a=S(e,"tabIndex"),t=e=>{a.value=e};return(e,l)=>(o(),c("div",Xa,[d("div",{class:y(["tab-item",{active:0===a.value}]),onClick:l[0]||(l[0]=e=>t(0))},[L(p(e.$t("单品采购"))+" ",1),w(d("img",Ka,null,512),[[V,1===a.value]])],2),d("div",{class:y(["tab-item",{active:1===a.value}]),onClick:l[1]||(l[1]=e=>t(1))},[L(p(e.$t("批量采购"))+" ",1),w(d("img",Wa,null,512),[[V,0===a.value]])],2),d("div",{class:"line",style:I(""+(0===a.value?"left: 0":"right: 0"))},null,4),d("div",{class:"subline",style:I(""+(0===a.value?"right: 0":"left: 0"))},null,4)]))}}),Qa=g(Ja,[["__scopeId","data-v-65ffa189"]]),Ga={key:0,class:"product-sku-info"},Za={class:"sku-item flex align-start"},qa={class:"tit"},Fa={class:"sku-tag flex-wrap"},et=["onClick"],at=["src"],tt={__name:"ProductSku",props:{modelValue:{type:Object,default:{}},skuList:{type:Array},checkedValue:{type:Array},productType:{type:String,default:"product"}},emits:["change"],setup(e,{emit:a}){const t=a,l=e,i=s(l.modelValue.spe),u=s(l.skuList),r=s(l.checkedValue),k=()=>{if(i.value.length>0){0==r.value.length&&i.value.forEach((e=>{r.value.push(e.attr_list[0].attr_name+":"+e.attr_list[0].attr_value)})),i.value.forEach(((e,a)=>{e.attr_list.forEach((e=>{r.value[a]&&r.value[a]==e.attr_name+":"+e.attr_value?e.checked=!0:e.checked=!1;let t=JSON.parse(JSON.stringify(r.value));t[a]=e.attr_name+":"+e.attr_value;let l=u.value.find((e=>e.sku_value==t.join("|")));e.sku_stock=l?l.sku_stock:0}))}));const e=u.value.find((e=>e.sku_value==r.value.join("|")));t("change",{sku_stock:e&&e.sku_stock||0,sku_id:e&&e.sku_id||0})}else t("change",null)};k();return(e,a)=>i.value.length>0?(o(),c("div",Ga,[(o(!0),c(n,null,m(i.value,((e,t)=>(o(),c("div",Za,[d("div",qa,p(e.attr_name)+"：",1),d("div",Fa,[(o(!0),c(n,null,m(e.attr_list,((e,s)=>(o(),c("div",{class:y({tag:!0,checked:e.checked,disabled:!e.checked&&0==e.sku_stock,outstock:0==e.sku_stock}),onClick:e=>((e,a)=>{if("product"!=l.productType)return;const t=i.value[e].attr_list[a];r.value[e]=t.attr_name+":"+t.attr_value,k()})(t,s)},[0===t&&e.attr_pic?(o(),c("img",{key:0,src:v(_)(e.attr_pic),alt:""},null,8,at)):A("",!0),d("p",null,p(e.attr_value),1),a[0]||(a[0]=d("i",{class:"icon-gou"},null,-1))],10,et)))),256))])])))),256))])):A("",!0)}},lt=g(tt,[["__scopeId","data-v-896a7cc2"]]),st={style:{display:"inline-flex"}},it={id:"storage",class:"storage"},ut={key:0,style:{color:"red"}},ct={key:0,style:{color:"red"}},ot={key:1,style:{color:"red"}},nt={key:2},dt={__name:"StockShow",props:{modelValue:{type:Number,default:0},is_seckill:{type:Number,default:0},maxProductNumber:{type:Number,default:0}},setup(e){const a=e,t=C((()=>0==a.modelValue?1:a.modelValue>0&&a.modelValue<=20?2:3)),l=C((()=>a.is_seckill>0&&a.maxProductNumber>0));return(a,s)=>(o(),c("div",st,[L(p(a.$t("库存"))+"： ",1),d("em",it,[l.value?(o(),c(n,{key:0},[2==t.value?(o(),c("span",ut,p(a.$t("限购"))+" "+p(e.maxProductNumber)+" "+p(a.$t("件")),1)):A("",!0)],64)):(o(),c(n,{key:1},[1==t.value?(o(),c("span",ct,p(a.$t("缺货")),1)):A("",!0),2==t.value?(o(),c("span",ot,p(a.$t("仅剩"))+" "+p(e.modelValue)+" "+p(a.$t("件")),1)):A("",!0),3==t.value?(o(),c("span",nt,p(a.$t("充足")),1)):A("",!0)],64))])]))}},rt={class:"input-box"},pt=t({__name:"InputNumber",props:B({modelValue:{type:Number,default:1},max:Number,min:{type:Number,default:1},step:{type:Number,default:1}},{modelValue:{},modelModifiers:{}}),emits:B(["change"],["update:modelValue"]),setup(e,{emit:a}){const t=e,l=S(e,"modelValue"),s=a,i=e=>{s("change"),(!Number.isInteger(e)||e<1)&&(l.value=t.min)};return(a,t)=>{const s=Ae;return o(),c("div",rt,[r(s,{modelValue:l.value,"onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),step:e.step,max:e.max,min:e.min,onChange:i},null,8,["modelValue","step","max","min"])])}}}),vt=g(pt,[["__scopeId","data-v-8eef1a41"]]),mt={key:0,class:"countdown"},yt={key:1},_t=t({__name:"Countdown",props:{endTime:{type:String,default:""}},setup(e){const a=new Date(e.endTime).getTime(),t=s(i()),l=Le((()=>{t.value=i(),t.value.total<=0&&clearInterval(l)}),1e3);function i(){const e=(new Date).getTime(),t=a-e;if(t>0){return{total:t,days:Math.floor(t/864e5),hours:Math.floor(t%864e5/36e5),minutes:Math.floor(t%36e5/6e4),seconds:Math.floor(t%6e4/1e3)}}return null}const n=e=>e<10?`0${e}`:e;return u((()=>{})),T((()=>{clearInterval(l)})),(e,a)=>t.value?(o(),c("div",mt,[L(p(e.$t("距离结束"))+" ",1),d("span",null,p(n(t.value.days)),1),L(" "+p(e.$t("天"))+" ",1),d("span",null,p(n(t.value.hours)),1),a[0]||(a[0]=L(" : ")),d("span",null,p(n(t.value.minutes)),1),a[1]||(a[1]=L(" : ")),d("span",null,p(n(t.value.seconds)),1)])):(o(),c("div",yt,p(e.$t("倒计时结束")),1))}}),kt=g(_t,[["__scopeId","data-v-dd3ca821"]]),ft={class:"competitors-row hand-pointer"},gt={key:0,class:"tit flex justify-between align-center"},bt={class:"name"},ht={class:"more"},xt={key:1,class:"tit flex justify-between align-center"},wt={class:"name"},At={class:"more"},Vt={key:2,class:"col-text flex-wrap justify-between"},It={key:3,class:"col-text flex-wrap justify-between"},jt={key:4,class:"col-ranking"},Ct={class:"ranking-tab flex"},$t=["onMouseover"],Lt={key:0,class:"ranking-list"},Nt={class:"item flex align-start"},Ut={class:"num"},zt={class:"product-info flex align-start"},Et=["src"],Mt={class:"info"},St={class:"ellipsis2"},Bt={class:"money"},Tt={key:1,class:"default"},Ht={key:5,class:"col-product"},Pt={class:"item"},Rt=["src"],Yt={class:"money"},Dt={class:"name ellipsis2"},Ot={key:6,class:"col-article"},Xt={class:"item"},Kt={class:"ellipsis2"},Wt={key:7,class:"col-product"},Jt={class:"item"},Qt=["src"],Gt={class:"money"},Zt={class:"name ellipsis2"},qt={__name:"CompetitorsItem",props:{title:{type:String,default:""},type:{type:String,default:""},isMore:{type:Boolean,default:!1},list:{type:Array,default:()=>[]},cate_ranke:{type:Object,default:{}}},setup(e){const a=b([{label:"同价位",type:"price"},{label:"同品牌",type:"brand"},{label:"同类别",type:"cate"}]),t=e=>{for(const a in e)if(e[a].length>0)return!0;return!1},l=s("price");return(s,i)=>{const u=ce,k=ue;return o(),c("div",ft,["rank"!==e.type?(o(),c("div",gt,[d("div",bt,p(e.title),1),e.isMore?(o(),z(u,{key:0,class:"txt ellipsis",target:"_blank",to:"/search/?intro=best"},{default:f((()=>[d("a",ht,p(s.$t("更多")),1)])),_:1})):A("",!0)])):A("",!0),"rank"==e.type&&t(e.cate_ranke)?(o(),c("div",xt,[d("div",wt,p(e.title),1),e.isMore?(o(),z(u,{key:0,class:"txt ellipsis",target:"_blank",to:"/search/?intro=best"},{default:f((()=>[d("a",At,p(s.$t("更多")),1)])),_:1})):A("",!0)])):A("",!0),"cate"==e.type?(o(),c("div",Vt,[(o(!0),c(n,null,m(e.list,(e=>(o(),z(u,{class:"txt ellipsis",target:"_blank",to:v(N)({path:"list",id:e.category_id})},{default:f((()=>[L(p(e.category_name),1)])),_:2},1032,["to"])))),256))])):A("",!0),"brand"==e.type?(o(),c("div",It,[(o(!0),c(n,null,m(e.list,(e=>(o(),z(u,{class:"txt ellipsis",target:"_blank",to:v(N)({path:"list",id:e.brand_id})},{default:f((()=>[L(p(e.brand_name),1)])),_:2},1032,["to"])))),256))])):A("",!0),"rank"==e.type&&t(e.cate_ranke)?(o(),c("div",jt,[d("div",Ct,[(o(!0),c(n,null,m(a,((e,a)=>(o(),c("div",{class:y(["tab",l.value==e.type?"active":""]),onMouseover:a=>{return t=e.type,void(l.value=t);var t}},p(s.$t(e.label)),43,$t)))),256))]),e.cate_ranke[l.value].length>0?(o(),c("div",Lt,[(o(!0),c(n,null,m(e.cate_ranke[l.value],((e,a)=>(o(),c("div",Nt,[d("div",Ut,p(a+1),1),r(u,{target:"_blank",to:v(N)({path:"product",id:e.product_id,sn:e.product_sn})},{default:f((()=>[d("div",zt,[d("img",{src:v(_)(e.pic_thumb),alt:""},null,8,Et),d("div",Mt,[d("a",St,p(e.product_name),1),d("div",Bt,[null!==e.market_price?(o(),z(k,{key:0,modelValue:e.market_price,"onUpdate:modelValue":a=>e.market_price=a},null,8,["modelValue","onUpdate:modelValue"])):A("",!0)])])])])),_:2},1032,["to"])])))),256))])):(o(),c("div",Tt,p(s.$t("暂无数据")),1))])):A("",!0),"look_also"==e.type?(o(),c("div",Ht,[(o(!0),c(n,null,m(e.list,(e=>(o(),c("div",Pt,[r(u,{target:"_blank",to:v(N)({path:"product",id:e.product_id,sn:e.product_sn})},{default:f((()=>[d("img",{src:v(_)(e.pic_thumb),alt:""},null,8,Rt),d("div",Yt,[null!==e.market_price?(o(),z(k,{key:0,modelValue:e.market_price,"onUpdate:modelValue":a=>e.market_price=a},null,8,["modelValue","onUpdate:modelValue"])):A("",!0)]),d("a",Dt,p(e.product_name),1)])),_:2},1032,["to"])])))),256))])):A("",!0),"article"==e.type?(o(),c("div",Ot,[(o(!0),c(n,null,m(e.list,(e=>(o(),c("div",Xt,[r(u,{target:"_blank",to:`/article/news/list?article_id=${e.article_id}`},{default:f((()=>[d("a",Kt,p(e.article_title),1)])),_:2},1032,["to"])])))),256))])):A("",!0),"related_list"==e.type?(o(),c("div",Wt,[(o(!0),c(n,null,m(e.list,(e=>(o(),c("div",Jt,[r(u,{target:"_blank",to:v(N)({path:"product",id:e.product_id,sn:e.product_sn})},{default:f((()=>[d("img",{src:v(_)(e.pic_thumb),alt:""},null,8,Qt),d("div",Gt,[null!==e.market_price?(o(),z(k,{key:0,modelValue:e.market_price,"onUpdate:modelValue":a=>e.market_price=a},null,8,["modelValue","onUpdate:modelValue"])):A("",!0)]),d("a",Zt,p(e.product_name),1)])),_:2},1032,["to"])])))),256))])):A("",!0)])}}},Ft=g(qt,[["__scopeId","data-v-8ea3d70c"]]),el={__name:"CompetitorsList",props:{productId:{type:Number,default:0}},setup(e){const a=e;j();const t=b({product_id:a.productId,intro:"hot"}),l=s([]),i=s([]),u=s([]),n=s([]),d=s({}),r=s({});(async()=>{try{const e=await F({...t});l.value=e.article_list}catch(e){M.error(e.message)}})();(async()=>{try{const e=await ee({...t});u.value=e.cate_info}catch(e){M.error(e.message)}})();(async()=>{try{const e=await ae({...t});i.value=e.brand_info}catch(e){M.error(e.message)}})();(async()=>{try{const e=await te({...t});d.value=e.cate_rank}catch(e){M.error(e.message)}})();(async()=>{try{const e=await le({...t});n.value=e.look_also}catch(e){M.error(e.message)}})();(async()=>{try{const e=await se({...t});r.value=e.related_list}catch(e){M.error(e.message)}})();const p=e=>{for(const a in e)if(e[a].length>0)return!0;return!1};return(e,a)=>{const t=Ft;return o(),c("div",null,[u.value.length?(o(),z(t,{key:0,class:"mb10",title:e.$t("相关分类"),list:u.value,type:"cate"},null,8,["title","list"])):A("",!0),i.value.length?(o(),z(t,{key:1,class:"mb10",title:e.$t("同类其他品牌"),list:i.value,type:"brand"},null,8,["title","list"])):A("",!0),l.value.length?(o(),z(t,{key:2,class:"mb10",title:e.$t("相关文章"),type:"article",list:l.value},null,8,["title","list"])):A("",!0),d.value&&p(d.value)?(o(),z(t,{key:3,class:"mb10",title:e.$t("同类排行榜"),type:"rank",cate_ranke:d.value},null,8,["title","cate_ranke"])):A("",!0),r.value.length?(o(),z(t,{key:4,class:"mb10",title:e.$t("相关商品"),type:"related_list",list:r.value},null,8,["title","list"])):A("",!0),n.value.length?(o(),z(t,{key:5,class:"mb10",title:e.$t("看了还看"),type:"look_also",isMore:"",list:n.value},null,8,["title","list"])):A("",!0)])}}},al={class:"b2b-sku"},tl={class:"title"},ll={class:"price-box"},sl={class:"stock"},il={class:"num"},ul=g(t({__name:"B2bSku",props:B({skuList:{type:Array,default:[]},id:{type:Number},skuItem:{type:Array,default:[]},selectSkus:{type:Array,default:[]}},{productAmount:{},productAmountModifiers:{}}),emits:B(["update:skuItem","update:selectSkus"],["update:productAmount"]),setup(e,{emit:a}){const t=e,l=S(e,"productAmount"),i=s([]);l.value={count:0,total:"0"},i.value=JSON.parse(JSON.stringify(t.skuList)),i.value.forEach((e=>{e.num=0,e.title=e.sku_value.replace(/\|/g,",")}));const u=s(!1),y=C((()=>{let e=t.skuList.length,a=e<5?63*e:252;return e>4&&u.value&&(a=63*e),a+"px"}));H((()=>{(async()=>{try{const e=await ne({id:t.id,sku_item:t.skuItem});l.value=e.item}catch(e){console.error(e)}})()}));const _=a;C({get:()=>t.skuItem,set:e=>{_("update:skuItem",e)}}),C({get:()=>t.selectSkus,set:e=>{_("update:selectSkus",e)}});let k=null;const f=()=>{k&&clearTimeout(k),k=setTimeout((()=>{const e=i.value.filter((e=>e.num)),a=e.map((e=>({sku_id:e.sku_id,num:e.num})));_("update:skuItem",a);const t=e.map((e=>({sku_data:e.sku_data,num:e.num})));_("update:selectSkus",t)}),300)};return(e,a)=>{const l=ue;return o(),c("div",al,[d("div",{class:"b2b-sku-content",style:I({height:v(y)})},[(o(!0),c(n,null,m(v(i),(e=>(o(),c("div",{key:e,class:"sku-item"},[d("div",tl,p(e.title),1),d("div",ll,[r(l,{fontStyle:{fontSize:"13px",color:"#666","font-weight":700},modelValue:e.sku_price,"onUpdate:modelValue":a=>e.sku_price=a},null,8,["modelValue","onUpdate:modelValue"]),d("div",sl,p(e.sku_stock)+"件可售",1)]),d("div",il,[r(v(vt),{modelValue:e.num,"onUpdate:modelValue":a=>e.num=a,max:e.sku_stock,min:0,onChange:f},null,8,["modelValue","onUpdate:modelValue","max"])])])))),128))],4),t.skuList.length>4&&!v(u)?(o(),c("img",{key:0,onClick:a[0]||(a[0]=e=>u.value=!v(u)),class:"sku-wrapper-expend-button",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAAAmCAYAAAAhpX7HAAACMklEQVR4Ae3bQU7CQBQGYPaewL138AYmnsO1ngfuwIYVIWEBGxaGJVzAuHpvCmmaEAHpmB87pNYSq6U4b3hNyMDYPN78XxugYKulmyagCTScABFZ3HTzMwHnczgM3ISf7WpXzkfBhBwLCiYEyrWpYC4JIaOCCYFybSqYS0LIqGBCoFybCuaSEDKKBttsNna5XJ4samOM3e12J6vXRCHRYN1u13Y6HTubzWpnMx6P97VGo1HtWk0WEA3W7/f3IddFc1ioM51Om8y7dm3RYNvt1vZ6vVpoeSzc930TDYZwi2jz+bxy5tKwsDDxYH9Fk4gVDNhv0aRiBQVWFU0yVnBgP6FJxwoSrAwNn9NCwAoWrAwNn7FwA5zkLYh3iccAim/5pWNhnUGDYYFAw+Um369gHDvoivPBgxUXLP2xggkTVDAFE5aAsHa/nWHMHGEyTVNhSwm/XZjABkb5H5JOMLler8NPQNgKYZKdYZM82BMmT/nVu7BcvG0XJrAxxjwewKy1V8z8ij8kSeJt85fWGCxgAhsYHcBwxxhzS0Rv2CGOY309+8ejA69bMIAFTGDzBcs9iKLojpkX2NEYk65WK4U7IxygkDmyz86sBUycT+kYx/ENMw8zXZyOKbRRCJd8fP9J2Bnzrf1UyBKZIltkjKxzuQ9hUYpUNklE90Q0YOZ3V0THz398bCqHLOsBsi8zqTTHzNdE9MDMbWZ+ZuYXIkqaavqC6ibIMsu0nWV8XQlFd5KTwAcvwX/NkWNkBQAAAABJRU5ErkJggg==",alt:"",srcset:""})):A("",!0)])}}}),[["__scopeId","data-v-86a8ae7b"]]),cl={key:0,class:"product-sku-info"},ol={class:"tit"},nl={class:"sku-tag flex-wrap"},dl=["onClick"],rl=g(t({__name:"ProductAttr",props:{modelValue:{type:Object,default:{}}},emits:["change"],setup(e,{emit:a}){const t=a,l=s([]);return(a,s)=>{const i=ue;return e.modelValue&&e.modelValue.extra.length>0?(o(),c("div",cl,[(o(!0),c(n,null,m(e.modelValue.extra,((e,a)=>(o(),c("div",{class:"sku-item flex align-start",key:e},[d("div",ol,p(e.attr_name)+"：",1),d("div",nl,[(o(!0),c(n,null,m(e.attr_list,((e,u)=>(o(),c("div",{key:e.attributes_id,onClick:P((s=>((e,a)=>{l.value[e]&&l.value[e]===a?l.value[e]=null:l.value[e]=a,t("change",l.value.length>0?l.value.filter((e=>!!e)).join(","):"")})(a,e.attributes_id)),["stop"]),class:y({tag:!0,checked:v(l)[a]===e.attributes_id})},[d("p",null,p(e.attr_value),1),r(i,{class:"price",modelValue:e.attr_price,"onUpdate:modelValue":a=>e.attr_price=a},null,8,["modelValue","onUpdate:modelValue"]),s[0]||(s[0]=d("i",{class:"icon-gou"},null,-1))],10,dl)))),128))])])))),128))])):A("",!0)}}}),[["__scopeId","data-v-315eaacf"]]),pl={class:"product-total"},vl={class:"product-total-content"},ml={class:"product-total-left"},yl={class:"total-count"},_l={class:"total-price"},kl={class:"table-product",width:"100%",cellspacing:"1",cellpadding:"3"},fl={class:"attr-th"},gl=g(t({__name:"ProductAmount",props:{productAmount:{type:Object,default:()=>({count:0,total:0})},selectSkus:{type:Array}},setup(e){const a=s(!1),t=s(!1),l=()=>{t.value=!0},i=()=>{t.value=!1};return(s,u)=>{var _;const k=ue;return o(),c("div",pl,[d("div",vl,[d("div",ml,[d("div",yl,"合计"+p(null==(_=e.productAmount)?void 0:_.count)+"件",1),d("div",_l,[u[2]||(u[2]=d("span",null,"商品金额：",-1)),r(k,{modelValue:e.productAmount.total,"onUpdate:modelValue":u[0]||(u[0]=a=>e.productAmount.total=a),"font-style":{fontSize:"20px",color:"var(--general)"}},null,8,["modelValue"])])]),d("div",{class:y(["product-has-select-button",{active:v(a)}]),onClick:u[1]||(u[1]=e=>a.value=!v(a))},u[3]||(u[3]=[L(" 已选清单 "),d("span",{class:"iconfont-pc icon-xiajiantou"},null,-1)]),2)]),r(R,{name:"fadey",onAfterEnter:l,onLeave:i},{default:f((()=>[w(d("div",{class:y(["select-list",{transform:v(t)}])},[d("table",kl,[d("thead",null,[d("tr",null,[(o(!0),c(n,null,m(e.selectSkus[0].sku_data,(e=>(o(),c("th",fl,p(e.name),1)))),256)),u[4]||(u[4]=d("th",{class:"attr-th"},"数量",-1))])]),d("tbody",null,[(o(!0),c(n,null,m(e.selectSkus,((e,a)=>(o(),c("tr",{class:"attr-tr",key:e},[(o(!0),c(n,null,m(e.sku_data,(e=>(o(),c("td",null,p(e.value),1)))),256)),d("td",null,p(e.num),1)])))),128))])])],2),[[V,v(a)]])])),_:1})])}}}),[["__scopeId","data-v-26b7d8b0"]]),bl={class:"enquiry-content"},hl={class:"title"},xl={class:"desc"},wl={class:"btn-box"},Al=g(t({__name:"ProductEnquiry",props:{modelValue:{type:Boolean,default:!1},product_id:{type:Number,required:!0}},emits:["update:modelValue"],setup(e,{emit:a}){const{t:t}=i(),l=e,u=a,c=C({get:()=>l.modelValue,set:e=>{u("update:modelValue",e)}}),n=s(),m={mobile:[{required:!0,message:t("请输入联系电话"),trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:t("请输入正确的手机号码"),trigger:"blur"}]},y=b({mobile:"",content:""}),_=s(!1),k=async()=>{n.value&&await n.value.validate(((e,a)=>{e?g():console.error("error submit!",a)}))},g=async()=>{_.value=!0;try{await de({...y,product_id:l.product_id});u("update:modelValue",!1),n.value.resetFields(),D.success(t("商家已收到您的联系方式，会尽快联系您!"))}catch(e){console.error(e),D.error(e.message)}finally{_.value=!1}};return(e,a)=>{const t=Ve,l=Ce,s=je,i=Ie,u=q;return o(),z(u,{modelValue:v(c),"onUpdate:modelValue":a[2]||(a[2]=e=>Y(c)?c.value=e:null),width:"500"},{default:f((()=>[d("div",bl,[d("div",hl,p(e.$t("立即询价")),1),d("div",xl,p(e.$t("你提交后，专属业务员将第一时间为你服务")),1),r(s,{ref_key:"formRef",ref:n,model:v(y),"label-width":"auto",rules:m},{default:f((()=>[r(l,{label:e.$t("联系电话"),class:"mobile",prop:"mobile"},{default:f((()=>[r(t,{modelValue:v(y).mobile,"onUpdate:modelValue":a[0]||(a[0]=e=>v(y).mobile=e)},null,8,["modelValue"])])),_:1},8,["label"]),r(l,{label:e.$t("需求信息"),prop:"content"},{default:f((()=>[r(t,{class:"content",modelValue:v(y).content,"onUpdate:modelValue":a[1]||(a[1]=e=>v(y).content=e),type:"textarea",autosize:{minRows:4},placeholder:e.$t("请简单描述你的需求")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model"]),d("div",wl,[r(i,{class:"btn",type:"primary",onClick:k,loading:v(_)},{default:f((()=>[L(p(e.$t("立即发送")),1)])),_:1},8,["loading"])])])])),_:1},8,["modelValue"])}}}),[["__scopeId","data-v-b42811ed"]]),Vl={class:"product_info"},Il={key:0,class:"basic bg"},jl={class:"item exchange"},Cl={class:"tit"},$l={class:"price1"},Ll={class:"exchange-num red"},Nl={class:"red"},Ul={key:0,class:"active-box flex justify-between"},zl={class:"active-ico flex align-center"},El={class:"active-time"},Ml={key:1,class:"active-box flex justify-between"},Sl={class:"active-ico flex align-center"},Bl={class:"active-time"},Tl={key:2,class:"basic bg"},Hl={key:0,class:"item"},Pl={class:"tit"},Rl={class:"market_price"},Yl={class:"item"},Dl={class:"tit"},Ol={key:0,class:"price1"},Xl={key:1,class:"tit2"},Kl={key:2,class:"star"},Wl={key:3,class:"evaluate"},Jl={class:"font-color"},Ql={class:"item"},Gl={class:"tit"},Zl={class:"basic"},ql={key:0,class:"item"},Fl={class:"tit"},es={class:"num"},as={key:1,class:"item align-start"},ts={class:"tit"},ls={class:"tips_i_box"},ss=["src"],is={key:1,class:"number-box"},us={class:"title"},cs={class:"con"},os={class:"flex",style:{"margin-left":"10px"}},ns={style:{color:"#999"}},ds={class:"add_cart"},rs=g(t({__name:"ProductInfo",props:{product:{type:Object,default:{}},attrList:{type:Object,default:{}},exchangeDetail:{type:Object,default:{}},skuList:{type:Array,default:[]},checkedValue:{type:Array,default:[]},serviceList:{type:Array,default:[]},rankDetail:{type:Object,default:{}},productPrice:{type:String,default:""},productNumber:{type:Number,default:1},productStock:{type:Number,default:0},skuId:{type:Number,default:0},id:{type:Number,default:0},productType:{type:String,default:"product"}},setup(e){const a=e,t=s(a.attrList),i=s(a.exchangeDetail),k=s(a.productPrice),g=s(a.productStock),b=s(0),h=s(0),x=s(0),w=s(a.productNumber),V=s(a.skuId);s("");const I=s([]),j=s([]),$=s({seckill_end_time:"",seckill_sales:0,seckill_stock:0}),N=s({discount_end_time:"",discount_price:0}),U=s({count:0,total:"0"}),E=s([]),M=s([]),S=s(!1),B=l();u((()=>{const e=O("productRegionIds");e.value&&(I.value=e.value),0===a.skuList.length&&R(),h.value=0}));const T=e=>{null!==e&&(V.value=e.sku_id,"product"==a.productType&&(g.value=e.sku_stock)),"product"==a.productType&&R()},H=s(""),P=e=>{H.value=e,R()},R=async()=>{try{const e=await re(a.id,{sku_id:V.value,extra_attr_ids:H.value});k.value=e.price,g.value=e.stock,e.promotion.length>0&&Y(e.promotion),b.value&&h.value>0?w.value=w.value>h.value?h.value:w.value:0===g.value?w.value=1:w.value=w.value>g.value?g.value:w.value}catch(e){}},Y=e=>{j.value=e.filter((e=>1!==e.type&&6!==e.type)),console.log("promotionManage",j.value);const a=e.find((e=>1===e.type)),t=e.find((e=>6===e.type));t?(x.value=1,N.value.discount_end_time=t.data.item.end_time,N.value.discount_price=t.data.item.discount_price):(x.value=0,N.value={discount_end_time:"",discount_price:0}),a?(b.value=1,$.value.seckill_end_time=a.data.seckill_end_time,$.value.seckill_sales=a.data.item.seckill_sales,$.value.seckill_stock=a.data.item.seckill_stock,h.value=a.data.seckill_limit_num,g.value=a.data.item.seckill_stock):(b.value=0,$.value={seckill_end_time:"",seckill_sales:0,seckill_stock:0})},D=s(0),K=C((()=>X()));return(a,l)=>{const s=ue,u=Oa,I=Qa,C=lt,R=dt,Y=ul,O=rl,W=gl,J=Ie,Q=$e,G=Al;return o(),c("div",Vl,["exchange"==e.productType?(o(),c("div",Il,[d("div",jl,[d("div",Cl,p(a.$t("积分兑换")),1),d("div",$l,[r(s,{modelValue:i.value.discounts_price,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value.discounts_price=e)},null,8,["modelValue"]),l[14]||(l[14]=d("span",{class:"red"},"+",-1)),l[15]||(l[15]=L("    ")),d("span",Ll,p(i.value.exchange_integral),1),d("span",Nl,p(a.$t("积分")),1)])])])):(o(),c(n,{key:1},[1==b.value?(o(),c("div",Ul,[d("div",zl,[l[16]||(l[16]=d("i",{class:"iconfont-pc icon-miaosha"},null,-1)),d("span",null,p(a.$t("秒杀")),1)]),d("div",El,[r(v(kt),{endTime:$.value.seckill_end_time},null,8,["endTime"])])])):A("",!0),1==x.value?(o(),c("div",Ml,[d("div",Sl,[l[17]||(l[17]=d("i",{class:"iconfont-pc icon-miaosha"},null,-1)),d("span",null,p(a.$t("限时折扣")),1)]),d("div",Bl,[r(v(kt),{endTime:N.value.discount_end_time},null,8,["endTime"])])])):A("",!0)],64)),"exchange"!=e.productType?(o(),c("div",Tl,[1!=b.value&&""!==k.value&&v(B).show_marketprice?(o(),c("div",Hl,[d("div",Pl,p(a.$t("市场价"))+"：",1),d("div",Rl,[r(s,{modelValue:e.product.market_price,"onUpdate:modelValue":l[1]||(l[1]=a=>e.product.market_price=a)},null,8,["modelValue"])])])):A("",!0),d("div",Yl,[d("div",Dl,p(1==b.value?a.$t("秒杀价"):a.$t("本站价"))+"：",1),""!==k.value?(o(),c("div",Ol,[r(s,{modelValue:k.value,"onUpdate:modelValue":l[2]||(l[2]=e=>k.value=e)},null,8,["modelValue"])])):A("",!0),e.rankDetail.total>0?(o(),c("div",Xl,p(a.$t("评价"))+"：",1)):A("",!0),e.rankDetail.total>0?(o(),c("div",Kl,[d("span",{class:y(["icon-star",`icon-star-${e.rankDetail.average_rank}`])},null,2)])):A("",!0),e.rankDetail.total>0?(o(),c("div",Wl,[L(p(a.$t("已有"))+" ",1),d("span",Jl,p(e.rankDetail.total),1),L(" "+p(a.$t("人评价"))+"，"+p(e.rankDetail.good_percent)+"% "+p(a.$t("好评")),1)])):A("",!0)]),d("div",Ql,[r(u,{promotionList:j.value,product_id:e.product.product_id},{default:f((()=>[d("div",Gl,p(a.$t("优惠活动"))+"：",1)])),_:1},8,["promotionList","product_id"])])])):A("",!0),d("div",Zl,[v(B).show_selled_count?(o(),c("div",ql,[d("div",Fl,p(a.$t("销量"))+"：",1),d("div",es,p(e.product.virtual_sales)+" "+p(a.$t("件")),1)])):A("",!0),e.serviceList.length>0?(o(),c("div",as,[d("div",ts,p(a.$t("服务"))+"：",1),d("div",ls,[(o(!0),c(n,null,m(e.serviceList,((e,a)=>(o(),c("span",{key:a},[d("img",{src:v(_)(e.ico_img),width:"15",height:"15"},null,8,ss),L(" "+p(e.product_service_name),1)])))),128))])])):A("",!0)]),("isB2B"in a?a.isB2B:v(X))()&&e.skuList.length>0?(o(),z(I,{key:3,tabIndex:D.value,"onUpdate:tabIndex":l[3]||(l[3]=e=>D.value=e)},null,8,["tabIndex"])):A("",!0),d("div",{class:y(["actions",{"no-border":("isB2B"in a?a.isB2B:v(X))()&&e.skuList.length>0}])},[1!==D.value?(o(),c(n,{key:0},[e.skuList.length>0?(o(),z(C,{key:0,modelValue:t.value,"onUpdate:modelValue":l[4]||(l[4]=e=>t.value=e),skuList:e.skuList,checkedValue:e.checkedValue,productType:e.productType,onChange:T},null,8,["modelValue","skuList","checkedValue","productType"])):A("",!0),4!==e.product.product_type||1!==e.product.is_buy?(o(),c("div",is,[d("div",us,p(a.$t("数量"))+"：",1),d("div",cs,[r(v(vt),{modelValue:w.value,"onUpdate:modelValue":l[5]||(l[5]=e=>w.value=e),max:h.value>0?h.value:g.value>0?g.value:1},null,8,["modelValue","max"]),d("div",os,[L(p(a.$t("件"))+" ",1),d("div",ns,[l[18]||(l[18]=L(" （")),r(R,{modelValue:g.value,"onUpdate:modelValue":l[6]||(l[6]=e=>g.value=e),is_seckill:b.value,maxProductNumber:h.value},null,8,["modelValue","is_seckill","maxProductNumber"]),l[19]||(l[19]=L("） "))])])])])):A("",!0)],64)):A("",!0),v(K)?(o(),c(n,{key:1},[e.skuList.length?(o(),z(Y,{key:0,"sku-item":M.value,"onUpdate:skuItem":l[7]||(l[7]=e=>M.value=e),"select-skus":E.value,"onUpdate:selectSkus":l[8]||(l[8]=e=>E.value=e),"product-amount":U.value,"onUpdate:productAmount":l[9]||(l[9]=e=>U.value=e),id:e.product.product_id,skuList:e.skuList},null,8,["sku-item","select-skus","product-amount","id","skuList"])):A("",!0)],64)):A("",!0),r(O,{modelValue:t.value,"onUpdate:modelValue":l[10]||(l[10]=e=>t.value=e),onChange:P},null,8,["modelValue"]),v(K)&&U.value&&U.value.count>0?(o(),z(W,{key:2,"select-skus":E.value,"product-amount":U.value},null,8,["select-skus","product-amount"])):A("",!0),d("div",ds,[v(K)?(o(),c(n,{key:0},[r(Q,{extraAttrIds:H.value,id:e.product.product_id,skuItem:M.value,disabled:0===M.value.length,isQuick:!0},{default:f((()=>[r(J,{disabled:0===M.value.length,class:"buy-btn buynow",type:"primary"},{default:f((()=>[L(p(a.$t("立即购买")),1)])),_:1},8,["disabled"])])),_:1},8,["extraAttrIds","id","skuItem","disabled"]),r(Q,{extraAttrIds:H.value,id:e.product.product_id,disabled:0===M.value.length,skuItem:M.value},{default:f((()=>[r(J,{disabled:0===M.value.length,class:"buy-btn buynow"},{default:f((()=>[L(p(a.$t("批量加入购物车")),1)])),_:1},8,["disabled"])])),_:1},8,["extraAttrIds","id","disabled","skuItem"]),1===v(B).is_enquiry?(o(),z(J,{key:0,class:"buy-btn buynow",onClick:l[11]||(l[11]=e=>S.value=!S.value)},{default:f((()=>[L(p(a.$t("立即询价")),1)])),_:1})):A("",!0)],64)):(o(),c(n,{key:1},["product"==e.productType?(o(),c(n,{key:0},[r(Q,{extraAttrIds:H.value,id:e.product.product_id,skuId:V.value,disabled:0==g.value,number:w.value},{default:f((()=>[1==b.value&&0==g.value?(o(),z(J,{key:0,disabled:0==g.value,class:"buy-btn"},{default:f((()=>[L(p(a.$t("已抢完")),1)])),_:1},8,["disabled"])):1===e.product.product_type?(o(),z(J,{key:1,disabled:0==g.value,class:"buy-btn"},{default:f((()=>[L(p(a.$t("加入购物车")),1)])),_:1},8,["disabled"])):A("",!0)])),_:1},8,["extraAttrIds","id","skuId","disabled","number"]),0==g.value?(o(),z(J,{key:0,class:"buy-btn buynow",type:"primary",onClick:l[12]||(l[12]=e=>a.$router.push("/search"))},{default:f((()=>[L(p(a.$t("查看其他商品")),1)])),_:1})):(o(),z(Q,{key:1,extraAttrIds:H.value,id:e.product.product_id,skuId:V.value,disabled:0==g.value,number:w.value,isQuick:!0},{default:f((()=>[r(J,{disabled:0==g.value,class:"buy-btn buynow",type:"primary"},{default:f((()=>[L(p(a.$t("立即购买")),1)])),_:1},8,["disabled"])])),_:1},8,["extraAttrIds","id","skuId","disabled","number"]))],64)):A("",!0),"exchange"==e.productType?(o(),z(Q,{key:1,extraAttrIds:H.value,id:i.value.id,skuId:V.value,disabled:0==g.value,number:w.value,productType:e.productType,isQuick:!0},{default:f((()=>[r(J,{class:"buy-btn buynow",type:"primary",disabled:0==g.value},{default:f((()=>[L(p(a.$t("立即兑换")),1)])),_:1},8,["disabled"])])),_:1},8,["extraAttrIds","id","skuId","disabled","number","productType"])):A("",!0)],64))])],2),r(G,{modelValue:S.value,"onUpdate:modelValue":l[13]||(l[13]=e=>S.value=e),product_id:e.product.product_id},null,8,["modelValue","product_id"])])}}}),[["__scopeId","data-v-a2f210f6"]]),ps={class:"tab_body"},vs=["innerHTML"],ms=g(t({__name:"AfterSaleService",setup(e){const a=j(),t=s(Number(a.params.id)),l=s(!1),i=s({});return(async()=>{try{const e=await pe(t.value);Object.assign(i.value,e.item)}catch(e){M.error(e.message)}finally{l.value=!1}})(),(e,a)=>(o(),c("div",null,[d("div",ps,[d("p",{innerHTML:i.value.template_content},null,8,vs)])]))}}),[["__scopeId","data-v-c53b7509"]]),ys={class:"compare-view-box"},_s={class:"compare-view flex align-center justify-between"},ks={class:"centage-praise"},fs={class:"s-centage"},gs={class:"s-praise"},bs={class:"centage-all"},hs={class:"centage-b"},xs={class:"centage-enough"},ws={class:"centage-num"},As={class:"centage-b"},Vs={class:"centage-enough"},Is={class:"centage-num"},js={class:"centage-b"},Cs={class:"centage-enough"},$s={class:"centage-num"},Ls={class:"comment-go"},Ns={class:"go-comm-txt"},Us={class:"comment-option"},zs={class:"comment-option-sel flex"},Es={href:"javascript:;","data-kind":"0",class:"comment-type-btn"},Ms={href:"javascript:;","data-kind":"1",class:"comment-type-btn"},Ss={href:"javascript:;","data-kind":"2",class:"comment-type-btn"},Bs={href:"javascript:;","data-kind":"3",class:"comment-type-btn"},Ts={href:"javascript:;","data-kind":"4",class:"comment-type-btn"},Hs={class:"comm_Wrap"},Ps={class:"eachInfo flex"},Rs={class:"head"},Ys={class:"logo"},Ds=["src"],Os={class:"name"},Xs={class:"info"},Ks={class:"starLi flex align-center justify-between"},Ws={class:"fl flex"},Js={class:"star"},Qs={class:"fr"},Gs={class:"time"},Zs={key:0,class:"starLi g-comm-tag"},qs={class:"starLi"},Fs={class:"fl flex"},ei={class:"msg"},ai={key:1,class:"starLi"},ti={class:"fl flex"},li={class:"pic-list flex flex-wrap"},si={class:"pic"},ii={key:1,class:"empty"},ui={key:2,class:"pagination"},ci=g(t({__name:"Comment",props:{modelValue:{type:Number,default:0}},setup(e){j();const a=s(e.modelValue),t=s(1),l=s(!1),i=s({}),k=s([]),g=s(0),b=s(1),h=s(10),x=async e=>{t.value=e,k.value.length=0,w(a.value),V(a.value)};u((()=>{}));const w=async e=>{l.value=!0;try{const a=await ve(e);i.value=a.item}catch(a){}finally{l.value=!1}},V=async e=>{l.value=!0;try{const a=await me(e,{type:t.value,page:b.value});k.value=a.filter_result,g.value=a.total}catch(a){}finally{l.value=!1}};w(a.value),V(a.value);const C=()=>{V(a.value)};return(e,a)=>{const s=Ie,u=ce,w=U;return o(),c(n,null,[d("div",ys,[d("ul",_s,[d("li",ks,[d("span",fs,p(i.value.good_percent)+"%",1),d("span",gs,p(e.$t("好评度")),1)]),d("li",bs,[d("div",hs,[L(p(e.$t("好评"))+"： ",1),d("span",xs,[d("span",{class:"centage-show",style:I("width:"+i.value.good_percent+"%")},null,4)]),d("span",ws,p(i.value.good_percent)+"%",1)]),d("div",As,[L(p(e.$t("中评"))+"： ",1),d("span",Vs,[d("span",{class:"centage-show",style:I("width:"+i.value.moderate_percent+"%")},null,4)]),d("span",Is,p(i.value.moderate_percent)+"%",1)]),d("div",js,[L(p(e.$t("差评"))+"： ",1),d("span",Cs,[d("span",{class:"centage-show",style:I("width:"+i.value.bad_percent+"%")},null,4)]),d("span",$s,p(i.value.bad_percent)+"%",1)])]),d("li",Ls,[d("div",Ns,[L(p(e.$t("评价立送")),1),a[6]||(a[6]=d("span",{class:"font-color"},"5",-1)),L(p(e.$t("积分"))+"，"+p(e.$t("晒单额外赠送")),1),a[7]||(a[7]=d("span",{class:"font-color"},"5",-1)),L(p(e.$t("积分"))+" "+p(e.$t("我购买过商品"))+" ",1),r(u,{to:v(N)({path:"member/comment/list"}),target:"_blank",class:""},{default:f((()=>[r(s,{type:"primary",size:"small",class:"ml10"},{default:f((()=>[L(p(e.$t("我要评价")),1)])),_:1})])),_:1},8,["to"])])])])]),d("div",Us,[d("ul",zs,[d("li",{onClick:a[0]||(a[0]=e=>x(1)),class:y(1==t.value?"o-over":"")},[d("a",Es,[L(p(e.$t("全部评论"))+"(",1),d("em",null,p(i.value.total),1),a[8]||(a[8]=L(")"))])],2),d("li",{onClick:a[1]||(a[1]=e=>x(2)),class:y(2==t.value?"o-over":"")},[d("a",Ms,[L(p(e.$t("好评"))+"(",1),d("em",null,p(i.value.good_count),1),a[9]||(a[9]=L(")"))])],2),d("li",{onClick:a[2]||(a[2]=e=>x(3)),class:y(3==t.value?"o-over":"")},[d("a",Ss,[L(p(e.$t("中评"))+"(",1),d("em",null,p(i.value.moderate_count),1),a[10]||(a[10]=L(")"))])],2),d("li",{onClick:a[3]||(a[3]=e=>x(4)),class:y(4==t.value?"o-over":"")},[d("a",Bs,[L(p(e.$t("差评"))+"(",1),d("em",null,p(i.value.bad_count),1),a[11]||(a[11]=L(")"))])],2),d("li",{onClick:a[4]||(a[4]=e=>x(5)),class:y(5==t.value?"o-over":"")},[d("a",Ts,[L(p(e.$t("有晒单评论"))+"(",1),d("em",null,p(i.value.show_count),1),a[12]||(a[12]=L(")"))])],2)])]),k.value.length>0?(o(!0),c(n,{key:0},m(k.value,((e,a)=>(o(),c("div",Hs,[d("div",Ps,[d("div",Rs,[d("div",Ys,[d("img",{width:"88",height:"88",style:{"border-radius":"8px"},src:v(_)(e.avatar||"")},null,8,Ds)]),d("div",Os,p(e.nickname),1)]),d("div",Xs,[d("div",Ks,[d("div",Ws,[d("div",Js,[d("span",{class:y(["icon-star",`icon-star-${e.comment_rank}`])},null,2)])]),d("div",Qs,[d("span",Gs,p(e.add_time),1)])]),e.comment_tag?(o(),c("div",Zs,[(o(!0),c(n,null,m(e.comment_tag,(e=>(o(),c("span",null,p(e),1)))),256))])):A("",!0),d("div",qs,[d("div",Fs,[d("div",ei,p(e.content),1)])]),e.show_pics?(o(),c("div",ai,[d("div",ti,[d("div",li,[(o(!0),c(n,null,m(e.show_pics,(e=>(o(),c("div",si,[r(w,{src:v(_)(e.pic_thumb),fit:"cover",class:"image",loading:"lazy","preview-src-list":[v(_)(e.pic_url)],"initial-index":0},null,8,["src","preview-src-list"])])))),256))])])])):A("",!0)])])])))),256)):A("",!0),0!=k.value.length||l.value?A("",!0):(o(),c("div",ii,"「"+p(e.$t("暂无评价"))+"」",1)),k.value.length>0?(o(),c("div",ui,[r(v(Ne),{page:b.value,"onUpdate:page":a[5]||(a[5]=e=>b.value=e),size:h.value,total:g.value,onCallback:C},null,8,["page","size","total"])])):A("",!0)],64)}}}),[["__scopeId","data-v-a4a5c355"]]),oi={class:"promInfo"},ni={class:"span1"},di={class:"font-color"},ri={class:"span2"},pi={class:"message_wrapper"},vi={class:"eachInfo"},mi={class:"fl flex"},yi={class:"tit"},_i={class:"msg"},ki={class:"fl flex"},fi={class:"tit"},gi={class:"msg"},bi={key:0,class:"fl flex"},hi={class:"tit red"},xi={class:"msg red"},wi={key:1,class:"fl flex"},Ai={class:"msg"},Vi={key:0,class:"empty"},Ii={key:1,class:"pagination"},ji={class:"modal_region_box"},Ci={key:0,class:"consultaion-pop"},$i={class:"card pop-tips"},Li={class:"red"},Ni={class:"card pop-product"},Ui=["src"],zi={class:"name"},Ei={class:"pop-form"},Mi=g(t({__name:"Consultation",props:{product:{type:Object,default:{}},skuId:{type:Number,default:0},productStock:{type:Number,default:0},productNumber:{type:Number,default:0}},emits:["callback"],setup(e,{emit:a}){const t=e;j();const l=s(!0),i=s(!1),u=s([]),y=s(0),k=s(1),g=s(10),b=s({}),h=K(),x=async()=>{try{const e=await ye({product_id:t.product.product_id,page:k.value,size:g.value});u.value=e.filter_result,y.value=e.total;document.querySelector(".lyecs_main").scrollIntoView({behavior:"smooth",block:"start"})}catch(e){M.error(e.message)}finally{l.value=!1}};x();const V=()=>{W()&&(i.value=!0)},I=async()=>{await h.value.validate();try{b.value.type=2;const e=await _e({...b.value,product_id:t.product.product_id});x(),b.value.content="",b.value.email="",i.value=!1,M.success(e.message)}catch(e){M.error(e.message)}};return(a,t)=>{const s=Ie,j=Ve,C=Ce,$=je,N=q,U=Ue;return o(),c("div",null,[d("p",oi,[d("span",ni,[d("i",di,p(a.$t("温馨提示"))+"：",1),t[4]||(t[4]=d("br",null,null,-1)),L(" "+p(a.$t("因厂家更改产品、产地等不作提前通知，且每位咨询者购买情况、提问时间等不同。"))+" "+p(a.$t("回复的内容仅在一定的时期内有参考意义，若由此给您带来不便请多多谅解，敬请谅解，谢谢！")),1)]),d("span",ri,[r(s,{type:"primary",size:"small",onClick:V},{default:f((()=>[L(p(a.$t("咨询客服")),1)])),_:1}),t[5]||(t[5]=d("br",null,null,-1))])]),w((o(),c("div",pi,[(o(!0),c(n,null,m(u.value,(e=>{var l,s;return o(),c("div",vi,[d("div",mi,[d("div",yi,p(e.nickname),1),d("div",_i,p(e.add_time),1)]),d("div",ki,[d("div",fi,p(a.$t("咨询内容"))+"：",1),d("div",gi,p(e.content),1)]),e.reply?(o(),c("div",bi,[d("div",hi,p(a.$t("客服回复"))+"：",1),d("div",xi,p(null==(l=e.reply)?void 0:l.content),1)])):A("",!0),e.reply?(o(),c("div",wi,[t[6]||(t[6]=d("div",{class:"tit"},null,-1)),d("div",Ai,p(null==(s=e.reply)?void 0:s.add_time),1)])):A("",!0)])})),256))])),[[U,l.value]]),0!=u.value.length||l.value?A("",!0):(o(),c("div",Vi,"「"+p(a.$t("暂无咨询"))+"」",1)),u.value.length>0?(o(),c("div",Ii,[r(v(Ne),{page:k.value,"onUpdate:page":t[0]||(t[0]=e=>k.value=e),size:g.value,total:y.value,onCallback:t[1]||(t[1]=e=>x(a.id))},null,8,["page","size","total"])])):A("",!0),d("div",ji,[r(N,{modelValue:i.value,"onUpdate:modelValue":t[3]||(t[3]=e=>i.value=e),title:a.$t("咨询提问"),footer:null,top:"15vh",width:"650px"},{default:f((()=>[l.value?A("",!0):(o(),c("div",Ci,[d("div",$i,[d("p",null,p(a.$t("您可以对商品包装、规格、支付、发票、退换货和物流配送类的问题咨询客服。")),1),d("p",null,p(a.$t("客服人员回复的工作时间为：工作日9:30至18：30，请您耐心等待客服人员的回复。"))+" "+p(a.$t("客服人员回复后您的咨询及回复内容会出现在商品的页面中，但您的账号会被隐藏。")),1),d("p",Li,p(a.$t("温馨提示：您可以在会员中心查看留言回复等消息动态。")),1)]),d("div",Ni,[d("img",{src:v(_)(e.product.pic_url),class:"img"},null,8,Ui),d("p",zi,p(e.product.product_name),1)]),d("div",Ei,[r($,{ref_key:"formRef",ref:h,"label-suffix":"：",model:b.value,"label-width":"100px",style:{"max-width":"550px"}},{default:f((()=>[r(C,{label:a.$t("咨询内容"),prop:"content",rules:[{required:!0,message:a.$t("咨询内容不能为空")}]},{default:f((()=>[r(j,{modelValue:b.value.content,"onUpdate:modelValue":t[2]||(t[2]=e=>b.value.content=e),type:"textarea",rows:"5"},null,8,["modelValue"])])),_:1},8,["label","rules"]),r(C,null,{default:f((()=>[r(s,{type:"primary",onClick:I},{default:f((()=>[L(p(a.$t("提交咨询")),1)])),_:1})])),_:1})])),_:1},8,["model"])])]))])),_:1},8,["modelValue","title"])])])}}}),[["__scopeId","data-v-00ad7b0b"]]),Si=""+new URL("paidcontent-bg.9fLXf1o4.png",import.meta.url).href,Bi={class:"ele-menu"},Ti={class:"card"},Hi={class:"feedback-menu"},Pi={class:"ima-div"},Ri={class:"phone-text"},Yi={class:"to-top"},Di={class:"feedback-menu"},Oi={class:"wrap-btn"},Xi=g(t({__name:"ElevatorProduct",setup(e){l().loadNav();const t=s(0),i=s(!1);function n(){t.value=window.scrollY,i.value=t.value>=630}const v=s(!1),m=()=>{v.value=!v.value},_=s("");return u((()=>{(async e=>{const t=e;_.value=await a.toDataURL(t,{margin:0})})(window.location.href),window.addEventListener("scroll",n)})),T((()=>{window.removeEventListener("scroll",n)})),(e,a)=>{const t=U,l=Se;return o(),c("div",Bi,[d("div",Ti,[d("div",Hi,[r(l,{placement:"left",width:174,trigger:"click"},{reference:f((()=>[d("div",{ref:"sweepRef",class:y([{"check-item":v.value},"wrap-btn"]),onClick:m},[a[1]||(a[1]=d("i",{class:"iconfont-pc icon-saoyisao"},null,-1)),L(" "+p(e.$t("扫一扫")),1)],2)])),default:f((()=>[d("div",Pi,[r(t,{src:_.value,class:"link-code-qrimg",fit:"cover"},null,8,["src"]),d("div",Ri,p(e.$t("在手机端查看此商品")),1)])])),_:1})])]),d("div",Yi,[i.value?(o(),c("div",{key:0,class:"card",onClick:a[0]||(a[0]=e=>{window.scrollTo({top:0,behavior:"smooth"})})},[d("div",Di,[d("div",Oi,[a[2]||(a[2]=d("i",{class:"iconfont-pc icon-shangjiantou"},null,-1)),L(" "+p(e.$t("顶部")),1)])])])):A("",!0)])])}}}),[["__scopeId","data-v-ea8fd5f3"]]),Ki={key:0,style:{background:"#fff"}},Wi={class:"container"},Ji={key:0,class:"product_details flex justify-between"},Qi={class:"extra_details"},Gi={class:"thumb"},Zi={key:0,class:"share_wish flex"},qi={class:"product-number"},Fi={class:"details"},eu={class:"product_name"},au={class:"name"},tu={key:0,class:"desc"},lu={class:"detail_main flex"},su={key:0,class:"lyecs_side"},iu={key:0,class:"shop-box"},uu={class:"tit"},cu={class:"btn-box flex justify-between"},ou={class:"btn"},nu={class:"lyecs_main"},du={class:"goods_tab_wrap sticky-element"},ru={class:"tabs"},pu={class:"flex"},vu={key:0,class:"goods_desc paidcontent",id:"paidcontent"},mu=["innerHTML"],yu={key:1,fit:"cover",class:"img",src:Si},_u={key:1,class:"goods_desc",id:"xiangqing"},ku={class:"shuxin flex"},fu={class:"goods_description"},gu={key:0,class:"desc-pic-item"},bu=["innerHTML"],hu={class:"goods_desc shouhou",id:"shouhou"},xu={class:"tab_title"},wu={key:2,class:"goods_desc",id:"pingjia"},Au={class:"tab_title"},Vu={key:3,class:"goods_desc goods_ask",id:"zixun"},Iu={class:"tab_title"},ju=g(t({__name:"Product",props:{productType:{type:String,default:"product"}},setup(a){const t=l(),{t:u}=i(),k=s(u("商品详情")),g=C((()=>{let e=k.value;return t.de_copyright&&0==t.powered_by_status?e+=t.powered_by??"":e+="-powered by tigshop",e})),b=s(""),h=s(""),x=s();J({title:g,meta:[{name:"description",content:b},{name:"keywords",content:h}]});const I=a,$=j(),E=s(0),S=s(0),B=s({product_id:0,product_stock:0,product_name:"",description:"",keywords:""}),T=s(0),H=s(0),P=s(1),R=s({normal:[]}),Y=s([]),D=s([]),O=s([]),X=s({}),K=s(""),W=s(!0),F=s([]),ee=s([]),ae=s({});(async()=>{try{let e={};"exchange"==I.productType?(e=await ke($.params.id),ae.value=e.exchange_info,H.value=e.exchange_info.product_stock):(e=await fe($.params.id,$.query.sku_id),H.value=e.item.product_stock),oe.value=4===e.item.product_type?5:1,k.value=e.item.product_name,h.value=e.item.keywords,b.value=e.item.description,E.value=e.item.product_id,B.value=e.item,R.value=e.attr_list,D.value=e.pic_list,X.value=e.rank_detail??{},Y.value=e.sku_list,ee.value=e.checked_value,F.value=e.desc_arr,O.value=e.service_list,S.value=e.consultation_total,W.value=!1,B.value.shop_id&&await ue(B.value.shop_id),"product"==I.productType&&le(),G((()=>{var e;null==(e=x.value)||e.handleLog()}))}catch(e){M.error(e.message),Z("/404")}})();const te=s(!1),le=async()=>{try{const e=await ge({id:E});te.value=e.item}catch(e){M.error(e.message)}},se=s(),ue=async e=>{try{const a=await be(e);se.value=a.item}catch(a){M.error(a.message)}},oe=s(1),ne=s(!1),de=async e=>{oe.value=e,await G();document.querySelector(".lyecs_main").scrollIntoView({behavior:"smooth",block:"start"})};we();return(t,l)=>{const s=e,i=ea,k=q,g=ie,b=da,h=rs,I=ce,j=el,C=U,$=ms,J=ci,G=Mi,Z=ze;return W.value?A("",!0):(o(),c("div",Ki,[r(s,{ref_key:"pageHeaderRef",ref:x,immediateLog:!1,showService:!0,shop_id:se.value&&se.value.shop_id?se.value.shop_id:0,phone:se.value&&se.value.kefu_phone?se.value.kefu_phone:"",product_id:E.value??0},null,8,["shop_id","phone","product_id"]),r(k,{modelValue:ne.value,"onUpdate:modelValue":l[0]||(l[0]=e=>ne.value=e),title:t.$t("分享给小伙伴"),footer:null,top:"15vh",width:"800px"},{default:f((()=>[d("div",null,[r(i,{picList:D.value,product:B.value,productPrice:K.value},null,8,["picList","product","productPrice"])])])),_:1},8,["modelValue","title"]),d("div",Wi,[d("div",null,[r(g,{id:B.value.category_id,"onUpdate:id":l[1]||(l[1]=e=>B.value.category_id=e),productName:B.value.product_name},null,8,["id","productName"]),W.value?A("",!0):(o(),c("div",Ji,[d("div",Qi,[d("div",Gi,[r(b,{picList:D.value},null,8,["picList"])]),"product"==a.productType||"exchange"==a.productType?(o(),c("div",Zi,[d("span",qi,p(t.$t("商品编号"))+"："+p(B.value.product_sn),1),d("span",{class:y(["iconfont-pc collect ico-color",{"icon-shoucang":!te.value,"icon-yishoucang":te.value}]),onClick:l[2]||(l[2]=e=>(async e=>{try{let a={};a=e?await Me({id:E.value}):await Ee({product_id:E.value}),await le(),M.success(a.message)}catch(a){M.error(a.message)}})(te.value))},[d("i",null,p(t.$t("收藏")),1)],2)])):A("",!0)]),d("div",Fi,[d("div",eu,[d("div",au,p(B.value.product_name),1),B.value.product_brief?(o(),c("p",tu,p(B.value.product_brief),1)):A("",!0)]),r(h,{product:B.value,serviceList:O.value,productType:a.productType,id:E.value,productPrice:K.value,attrList:R.value,skuList:Y.value,productStock:H.value,productNumber:P.value,rankDetail:X.value,descArr:F.value,checkedValue:ee.value,exchangeDetail:ae.value},null,8,["product","serviceList","productType","id","productPrice","attrList","skuList","productStock","productNumber","rankDetail","descArr","checkedValue","exchangeDetail"])])])),d("div",lu,["product"==a.productType||"exchange"==a.productType?(o(),c("div",su,[se.value?(o(),c("div",iu,[d("div",uu,[r(I,{to:("urlFormat"in t?t.urlFormat:v(N))({path:"shop",id:se.value.shop_id})},{default:f((()=>[L(p(se.value.shop_title),1)])),_:1},8,["to"])]),d("div",cu,[d("div",ou,[l[10]||(l[10]=d("span",{class:"iconfont-pc icon-guanli"},null,-1)),r(I,{to:("urlFormat"in t?t.urlFormat:v(N))({path:"shop",id:se.value.shop_id})},{default:f((()=>[L(p(t.$t("进店逛逛")),1)])),_:1},8,["to"])]),d("div",{class:"btn",onClick:l[3]||(l[3]=e=>(async e=>{try{await he(e),await ue(e),M.success(u("操作成功"))}catch(a){M.error(a.message)}})(se.value.shop_id))},[d("span",{class:y(["iconfont-pc collect ico-color",{"icon-shoucang":!se.value.collect_shop,"icon-yishoucang":se.value.collect_shop}])},null,2),d("span",null,p(t.$t("收藏店铺")),1)])])])):A("",!0),W.value?A("",!0):(o(),z(j,{key:1,productId:E.value},null,8,["productId"]))])):A("",!0),d("div",nu,[d("div",du,[d("div",ru,[d("ul",pu,[("isPro"in t?t.isPro:v(Q))()&&4===B.value.product_type?(o(),c("li",{key:0,onClick:l[4]||(l[4]=e=>de(5))},[d("a",{href:"javascript:;","tab-data":"paidcontent",class:y(["tab_a",5==oe.value?"current":""])},[d("span",null,p(t.$t("付费内容")),1)],2)])):(o(),c("li",{key:1,onClick:l[5]||(l[5]=e=>de(1))},[d("a",{href:"javascript:;","tab-data":"info",class:y(["tab_a",1==oe.value?"current":""])},[d("span",null,p(t.$t("产品详情")),1)],2)])),d("li",{onClick:l[6]||(l[6]=e=>de(2))},[d("a",{href:"javascript:;","tab-data":"com",class:y(["tab_a",2==oe.value?"current":""])},[d("span",null,[L(p(t.$t("用户评价")),1),d("em",null,"("+p(X.value.total)+")",1)])],2)]),d("li",{onClick:l[7]||(l[7]=e=>de(3))},[d("a",{href:"javascript:;","tab-data":"ask",class:y(["tab_a",3==oe.value?"current":""])},[d("span",null,[L(p(t.$t("商品咨询")),1),d("em",null,"("+p(S.value)+")",1)])],2)]),d("li",{onClick:l[8]||(l[8]=e=>de(4))},[d("a",{href:"javascript:;","tab-data":"ser",class:y(["tab_a",4==oe.value?"current":""])},[d("span",null,p(t.$t("售后服务")),1)],2)])])])]),5===oe.value?(o(),c("div",vu,[B.value.is_buy?(o(),c("div",{key:0,innerHTML:B.value.paid_content},null,8,mu)):(o(),c("img",yu))])):A("",!0),1==oe.value?(o(),c("div",_u,[d("ul",ku,[(o(!0),c(n,null,m(R.value.normal,((e,a)=>(o(),c("li",null,[L(p(e.attr_name)+"： ",1),(o(!0),c(n,null,m(e.attr_list,(e=>(o(),c(n,null,[L(p(e.attr_value)+"   ",1)],64)))),256))])))),256))]),d("div",fu,[(o(!0),c(n,null,m(F.value,(e=>(o(),c(n,null,["pic"==e.type?(o(),c("div",gu,[r(C,{class:"el-img",fit:"cover",lazy:"",src:("imageFormat"in t?t.imageFormat:v(_))(e.pic)},null,8,["src"])])):A("",!0),"text"==e.type?(o(),c("div",{key:1,class:"desc-text-item",innerHTML:e.html},null,8,bu)):A("",!0)],64)))),256))])])):A("",!0),w(d("div",hu,[d("div",xu,[d("h2",null,[l[11]||(l[11]=d("span",{class:"icon"},null,-1)),L(p(t.$t("售后服务")),1)])]),r($)],512),[[V,4==oe.value]]),2==oe.value?(o(),c("div",wu,[d("div",Au,[d("h2",null,[l[12]||(l[12]=d("span",{class:"icon"},null,-1)),L(p(t.$t("用户评价")),1)])]),r(J,{modelValue:B.value.product_id,"onUpdate:modelValue":l[9]||(l[9]=e=>B.value.product_id=e)},null,8,["modelValue"])])):A("",!0),3==oe.value?(o(),c("div",Vu,[d("div",Iu,[d("h2",null,[l[13]||(l[13]=d("span",{class:"icon"},null,-1)),L(p(t.$t("商品咨询")),1)])]),r(G,{product:B.value,skuId:T.value,productStock:H.value,productNumber:P.value},null,8,["product","skuId","productStock","productNumber"])])):A("",!0)])])])]),r(Z),r(Xi)]))}}}),[["__scopeId","data-v-499d9588"]]);export{ju as default};
