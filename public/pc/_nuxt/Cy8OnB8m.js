import{e as t,aj as e,s as a,r as i,g as l,Q as s,c as r,o,h as c,i as n,F as d,m as u,a as v,l as p,b as m,w as _,E as y,j as g,t as f,d as k,n as j,_ as h}from"./BLNaUqdG.js";import{_ as w}from"./DGSQZaL6.js";import{E as x}from"./B1lzp3m7.js";import{E as b}from"./CMNMUljz.js";import{a as z,g as $}from"./Bw0zToqz.js";import{P as L}from"./DE8qoeTi.js";import"./losdC6Ud.js";import"./BucM0pco.js";import"./rSOsbbvW.js";import"./BWAJcOoD.js";import"./DgmxjSXK.js";import"./D_Dr4eZ1.js";import"./BX08AvzU.js";import"./CxZS6lgh.js";import"./BwRzfsZt.js";import"./ClnUiH43.js";import"./C8QNSlsX.js";const q={key:0,class:"article-list"},F={class:"col"},N={key:0},R={class:"right"},E={class:"col1"},O={key:0,class:"tips"},P={class:"col-title"},H={class:"col2"},I={class:"col3"},M={key:0,class:"time-div"},Q={class:"el-page"},T={key:1,class:"loading-data"},U={class:"loading-bottom"},A={key:0,class:"article-info"},C={class:"text-content"},J={class:"title"},S={class:"time"},Z={key:0,class:"article_content"},B=["innerHTML"],D={key:1,class:"no-content-data"},G={class:"navigation"},K={class:"navigation-btn navigation-btn-left"},V={class:"text"},W={class:"navigation-btn navigation-btn-right"},X={class:"text"},Y={key:1,class:"loading-data"},tt=h(t({__name:"Info",props:{articleName:{type:String,default:""},productList:{type:Array,default:[]}},emits:["update:articleName","update:productList"],setup(t,{emit:h}){const tt=e(),et=a((()=>tt.currentRoute.value.query.hasOwnProperty("article_id")?"article":tt.currentRoute.value.query.hasOwnProperty("category_id")?"list":"none")),at=i({}),it=i(),lt=i(!0),st=i(0),rt=l({page:1,size:10,category_sn:""}),ot=h,ct=async()=>{try{if(lt.value=!0,ot("update:articleName",""),ot("update:productList",[]),"article"===et.value){const t=await z({id:tt.currentRoute.value.query.article_id},"news_info");Object.assign(at.value,t.item),at.value.prev=t.prev,at.value.next=t.next,ot("update:articleName",at.value.article_title),ot("update:productList",t.item.product_list)}else if("list"===et.value){let t=tt.currentRoute.value.query.category_id;"string"==typeof t&&(rt.category_sn=t);const e=await $({...rt});it.value=e.filter_result,st.value=e.total}else if("none"===et.value){rt.category_sn="zxzx";const t=await $({...rt});it.value=t.filter_result,st.value=t.total}}catch(t){j.error(t.message)}finally{lt.value=!1}};return s((()=>tt.currentRoute.value.query),(t=>{ct()}),{deep:!0,immediate:!0}),(t,e)=>{var a;const i=y,l=w,s=x,j=b;return o(),r("div",null,["list"===n(et)||"none"===n(et)?(o(),r(d,{key:0},[lt.value?(o(),r("div",T,[(o(),r(d,null,p(3,(t=>v("div",U,[m(j,{rows:2,animated:""})]))),64))])):(o(),r("div",q,[(null==(a=it.value)?void 0:a.length)>0?(o(),r(d,{key:0},[(o(!0),r(d,null,p(it.value,(e=>(o(),r("div",F,[e.article_thumb?(o(),r("div",N,[m(l,{to:"/article/news/list?article_id="+e.article_id},{default:_((()=>[m(i,{src:("imageFormat"in t?t.imageFormat:n(g))(e.article_thumb),fit:"cover",loading:"lazy",style:{transition:"opacity 0.2s linear",width:"120px",height:"80px"}},null,8,["src"])])),_:2},1032,["to"])])):c("",!0),v("div",R,[v("div",E,[e.article_tag?(o(),r("div",O,f(e.article_tag),1)):c("",!0),v("div",P,[m(l,{to:"/article/news/list?article_id="+e.article_id},{default:_((()=>[k(f(e.article_title),1)])),_:2},1032,["to"])])]),v("div",H,f(e.description),1),v("div",I,[e.add_time?(o(),r("div",M,f(e.add_time),1)):c("",!0),e.link?(o(),u(l,{key:1,to:e.link,class:"link-div"},{default:_((()=>[k(f(t.$t("相关链接")),1)])),_:2},1032,["to"])):c("",!0)])])])))),256)),v("div",Q,[m(n(L),{page:rt.page,"onUpdate:page":e[0]||(e[0]=t=>rt.page=t),size:rt.size,"onUpdate:size":e[1]||(e[1]=t=>rt.size=t),total:st.value,onCallback:ct},null,8,["page","size","total"])])],64)):(o(),u(s,{key:1,description:t.$t("没有内容")},null,8,["description"]))]))],64)):"article"===n(et)?(o(),r(d,{key:1},[lt.value?(o(),r("div",Y,[m(j,{rows:5,animated:""})])):(o(),r("div",A,[v("div",C,[v("div",J,f(at.value.article_title),1),v("div",S,f(t.$t("时间"))+"："+f(at.value.add_time),1),at.value.content?(o(),r("div",Z,[at.value.article_thumb?(o(),u(i,{key:0,src:("imageFormat"in t?t.imageFormat:n(g))(at.value.article_thumb),fit:"cover",loading:"lazy",style:{transition:"opacity 0.2s linear",width:"300px"}},null,8,["src"])):c("",!0),v("div",{class:"v-html",innerHTML:at.value.content},null,8,B)])):(o(),r("div",D,[m(s,{description:t.$t("没有内容")},null,8,["description"])]))]),v("div",G,[v("div",K,[at.value.prev?(o(),u(l,{key:0,to:"/article/news/list?article_id="+at.value.prev.article_id},{default:_((()=>[k("«"+f(t.$t("上一篇"))+"： ",1),v("div",V,f(at.value.prev.article_title),1)])),_:1},8,["to"])):c("",!0)]),v("div",W,[at.value.next?(o(),u(l,{key:0,to:"/article/news/list?article_id="+at.value.next.article_id},{default:_((()=>[k(f(t.$t("下一篇"))+"： ",1),v("div",X,f(at.value.next.article_title),1),e[2]||(e[2]=k(" » "))])),_:1},8,["to"])):c("",!0)])])]))],64)):c("",!0)])}}}),[["__scopeId","data-v-bf277297"]]);export{tt as default};
