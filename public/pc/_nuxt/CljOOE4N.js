import{f as M,r as T,H as N,G as se,c as d,a7 as $,v as U,ad as j,b1 as ae,b2 as ne,o as a,a as t,ab as W,j as o,t as i,n as Q,a5 as q,ai as ee,F as I,l as B,p as F,e as Z,_ as H,J,b as p,w as r,x as le,z as P,d as f,i as k,aP as ie,h as S,aa as V,b3 as ce,b4 as re,Z as de,b5 as ue,b6 as me,m as pe,$ as z,ae as X,a2 as K,aW as ge,a1 as _e}from"./DvlzeZYf.js";import{_ as O}from"./CzQrJ5jx.js";import{_ as te}from"./CPg1UVcC.js";import{u as oe}from"./ctHFjQ9z.js";import{E as fe}from"./XomGKeK5.js";import{b as ve,d as ye,r as he}from"./6IjmK16v.js";import{E as Ae,a as be}from"./DXZCNwre.js";import{a as Ce,E as ke}from"./D5p5RYpQ.js";import{E as Ie}from"./CFi7q_x0.js";import"./DGzzo1G8.js";/* empty css        */const we=Symbol.for("nuxt:client-only"),Se=M({name:"ClientOnly",inheritAttrs:!1,props:["fallback","placeholder","placeholderTag","fallbackTag"],setup(s,{slots:n,attrs:l}){const u=T(!1);return N(()=>{u.value=!0}),se(we,!0),c=>{var C;if(u.value)return(C=n.default)==null?void 0:C.call(n);const m=n.fallback||n.placeholder;if(m)return m();const y=c.fallback||c.placeholder||"",w=c.fallbackTag||c.placeholderTag||"span";return d(w,l,y)}}}),Le=s=>(F("data-v-cff704ad"),s=s(),Z(),s),Te={class:"region-select"},Re=Le(()=>t("span",{class:"iconfont-pc icon-dizhi ico-color"},null,-1)),Be={class:"areamini-content-wrap"},Me={class:"areamini-content-list"},xe=["onClick"],Ge=M({__name:"HeaderRegion",props:{pageType:{type:Number,default:1},colorType:{type:Number,default:1}},setup(s){const n=$(),l=s,u=U(()=>{let e="";return l.pageType==1?e="black":l.colorType==1||l.colorType==2?e="#b0b0b0":l.colorType==3&&(e="black"),e}),c=T(!1),m=j("userProvinceId");N(()=>{n.topRegion.length===0&&(y(),w())});const y=async()=>{try{const e=await ae();n.topRegion=e.region_list??[]}catch{}},w=async()=>{if(!m.value)try{const e=await ne();m.value=(e==null?void 0:e.region.region_id)??0}catch{}},C=U(()=>{var e;return((e=n.topRegion.find(g=>g.region_id===m.value))==null?void 0:e.region_name)??""}),v=e=>{m.value=e};return(e,g)=>(a(),d("div",Te,[t("div",{class:Q(["item",{hover:c.value===!0}]),onMouseenter:g[0]||(g[0]=h=>c.value=!0),onMouseleave:g[1]||(g[1]=h=>c.value=!1)},[Re,t("div",{style:W({color:s.colorType==3?c.value?"var(--general)":o(u):c.value?"var(--general)":o(u)}),class:"cityname"},i(o(C)),5)],34),q(t("div",{class:"dropdown-mini-area",onMouseenter:g[2]||(g[2]=h=>c.value=!0),onMouseleave:g[3]||(g[3]=h=>c.value=!1)},[t("div",Be,[t("div",Me,[(a(!0),d(I,null,B(o(n).topRegion,(h,_)=>(a(),d("div",{class:"cityitem",key:_},[t("a",{class:Q({selected:o(m)===h.region_id}),onClick:x=>v(h.region_id)},i(h.region_name),11,xe)]))),128))])])],544),[[ee,c.value]])]))}}),Ne=H(Ge,[["__scopeId","data-v-cff704ad"]]),D=s=>(F("data-v-cafbc40a"),s=s(),Z(),s),Fe={key:0,class:"list_wrapper"},Ze={class:"list"},He={key:0,class:"goods-list-min"},Ee={class:"goods-list-con"},Ye={class:"item"},Ue=["src"],je={class:"info"},Pe={class:"price"},Ve={class:"priceCon"},De=["title","onClick"],Qe=D(()=>t("div",{class:"cart_border"}," ",-1)),Je={class:"cart_box"},We={class:"cart_num"},Oe={class:"cart_num1"},ze={id:"panel-cartnum",class:"red"},Xe={class:"cart_empty"},Ke=D(()=>t("b",{class:"cartempty"},null,-1)),$e=D(()=>t("br",null,null,-1)),qe={key:1,class:"cart_loading"},et=D(()=>t("div",{class:"gif-loading"},null,-1)),tt=[et],ot=M({__name:"ShoppingCartList",props:{pageType:{type:Number,default:1}},setup(s){const n=ve(),l=oe();l.getUserInfo();const u=T(!1),c=T(!1);T([]),(async()=>{try{const e=await ye();n.cartCount=e.count}catch{}})();const y=async()=>{try{const e=await ie()}catch{}},w=T(!1),C=async()=>{u.value=!0,l.userInfo.user_id>0&&await n.changeCartList(),c.value=!0,w.value=!1},v=async e=>{try{const g=await he([e]);c.value=!1,await C()}catch{}finally{}};return y(),N(()=>{l.userInfo.user_id>0&&n.changeCartList()}),(e,g)=>{const h=O,_=te,x=fe;return a(),d("div",{class:"cart",onMouseenter:C,onMouseleave:g[0]||(g[0]=G=>u.value=!1)},[J(e.$slots,"default",{count:o(n).cartCount,showMinCart:u.value},void 0,!0),u.value?(a(),d("div",Fe,[t("div",Ze,[o(n).cartList.length>0?(a(),d("div",He,[t("div",Ee,[(a(!0),d(I,null,B(o(n).cartList,(G,A)=>(a(),d(I,null,[(a(!0),d(I,null,B(G.carts,b=>(a(),d("div",Ye,[p(h,{target:"_blank",to:o(P)({path:"product",id:b.product_id,sn:b.product_sn}),class:"photo"},{default:r(()=>[t("img",{src:("imageFormat"in e?e.imageFormat:o(le))(b.pic_thumb),alt:""},null,8,Ue)]),_:2},1032,["to"]),t("p",je,[p(h,{target:"_blank",to:o(P)({path:"product",id:b.product_id,sn:b.product_sn}),class:"nuxt"},{default:r(()=>[f(i(b.product_name),1)]),_:2},1032,["to"]),t("span",Pe,[t("span",Ve,[p(_,{showText:!1,"font-style":{color:"var(--general)",fontSize:"14px"},modelValue:b.price,"onUpdate:modelValue":L=>b.price=L},null,8,["modelValue","onUpdate:modelValue"]),f(" × "+i(b.quantity),1)]),t("span",{title:e.$t("删除该商品"),class:"del_btn",onClick:L=>v(b.cart_id)},i(e.$t("删除")),9,De)])])]))),256))],64))),256))]),Qe,t("div",Je,[t("div",We,[t("span",Oe,[f(i(e.$t("购物车共")),1),t("span",ze,i(o(n).cartCount),1),f(" "+i(e.$t("件商品")),1)])]),p(h,{to:"/cart/",style:{"margin-right":"10px"}},{default:r(()=>[p(x,{type:"primary"},{default:r(()=>[f(i(e.$t("去购物车结算")),1)]),_:1})]),_:1})])])):k("",!0),q(t("div",Xe,[Ke,f(i(e.$t("购物车中还没有商品"))+" ",1),$e,f(i(e.$t("赶紧选购吧")),1)],512),[[ee,c.value&&o(n).cartList.length==0]]),!c.value&&o(n).cartList.length==0?(a(),d("div",qe,tt)):k("",!0)])])):k("",!0)],32)}}}),st=H(ot,[["__scopeId","data-v-cafbc40a"]]),at=s=>(F("data-v-f8a9a5ec"),s=s(),Z(),s),nt={class:"cart_info"},lt=at(()=>t("div",{class:"iconfont-pc icon-shiwu-gouwuche"},null,-1)),it={class:"my-cart"},ct=M({__name:"SimShoppingCart",props:{colorType:{type:Number,default:1}},setup(s){return(n,l)=>{const u=O,c=st;return a(),S(c,{class:"simCart"},{default:r(({count:m,showMinCart:y})=>[t("div",nt,[p(u,{style:W({color:s.colorType==3?y?"var(--general)":"#000000":y?"var(--general)":"#b0b0b0"}),to:"/cart/",class:"acea-row row-center-wrapper"},{default:r(()=>[lt,t("div",it,i(n.$t("购物车")),1),t("em",null,"（"+i(m)+"）",1)]),_:2},1032,["style"])])]),_:1})}}}),rt=H(ct,[["__scopeId","data-v-f8a9a5ec"]]),dt=s=>V({url:"user/message/list",method:"get",params:s}),Ao=s=>V({url:"user/message/update_message_read",method:"post",data:{id:s}}),bo=()=>V({url:"user/message/update_all_read",method:"post"}),Co=s=>V({url:"user/message/del",method:"post",data:s}),ut=M({__name:"Popover",props:{modelValue:{type:Boolean,default:!1},trigger:{type:String,default:"click"},width:{type:[Number,String],default:300}},emits:["update:modelValue","close"],setup(s,{emit:n}){const l=n,u=()=>{l("close"),l("update:modelValue",!1)};return(c,m)=>{const y=Ie;return a(),S(y,{width:s.width,"popper-style":"box-shadow: rgb(14 18 22 / 35%) 0px 10px 38px -10px, rgb(14 18 22 / 20%) 0px 10px 20px -15px; padding: 20px;",trigger:s.trigger,onBeforeEnter:m[0]||(m[0]=w=>c.$emit("update:modelValue",!0)),onBeforeLeave:u,teleported:!1},{reference:r(()=>[J(c.$slots,"reference")]),default:r(()=>[J(c.$slots,"default")]),_:3},8,["width","trigger"])}}}),mt=s=>(F("data-v-105423d3"),s=s(),Z(),s),pt={class:"lang-box"},gt={class:"iconfont-pc icon-diqiu"},_t={class:"lang-text"},ft=mt(()=>t("span",{class:"iconfont-pc icon-sanjiaoright"},null,-1)),vt={class:"common-title"},yt={class:"lang-list"},ht={class:"common-title"},At={class:"currency-box"},bt={class:""},Ct=M({__name:"LanguageChange",setup(s){const n=ce(),l=re(),u=T(!1),c=j("currentCurrencyData"),m=j("currentLanguage"),y=async v=>{var e;typeof v=="string"&&(m.value=(e=n.langList.find(g=>g.locale_code===v))==null?void 0:e.language,await n.fetchLangData(v),window.location.reload())},w=v=>{u.value=!1,c.value=l.currencyList.find(e=>e.id===v),window.location.reload()},C=v=>{v.key==="cacheLang"&&window.location.reload()};return N(()=>{window.addEventListener("storage",C)}),de(()=>{window.removeEventListener("storage",C)}),(v,e)=>{const g=Ae,h=be,_=Ce,x=ke,G=ut;return a(),d("div",null,[p(G,{trigger:"click",width:"230",onClose:e[1]||(e[1]=A=>u.value=!1)},ue({reference:r(()=>[t("div",pt,[t("div",gt,[t("div",_t,i(o(m)),1),ft])])]),_:2},[o(n).defaultLocaleCode?{name:"default",fn:r(()=>{var A,b,L;return[t("div",vt,i(v.$t("语言设置")),1),p(h,{"model-value":o(n).defaultLocaleCode,onChange:y},{default:r(()=>[t("div",yt,[(a(!0),d(I,null,B(o(n).langList,R=>(a(),d("div",{key:R.id,class:"lang-item"},[p(g,{value:R.locale_code},{default:r(()=>[f(i(R.language),1)]),_:2},1032,["value"])]))),128))])]),_:1},8,["model-value"]),t("div",ht,i(v.$t("货币设置")),1),t("div",At,[o(u)?(a(),S(x,{key:1,onChange:w,teleported:!1,"model-value":(L=o(c))==null?void 0:L.id},{default:r(()=>{var R;return[(a(!0),d(I,null,B((R=o(l))==null?void 0:R.currencyList,Y=>(a(),S(_,{key:Y.id,label:Y.name+" - "+Y.symbol,value:Y.id},null,8,["label","value"]))),128))]}),_:1},8,["model-value"])):(a(),d(I,{key:0},[t("div",bt,i(((A=o(c))==null?void 0:A.symbol)+" - "+((b=o(c))==null?void 0:b.name)),1),t("div",{class:"currency-btn",onClick:e[0]||(e[0]=R=>u.value=!0)},i(v.$t("更改")),1)],64))])]}),key:"0"}:void 0]),1024)])}}}),kt=H(Ct,[["__scopeId","data-v-105423d3"]]),It="data:image/png;base64,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",wt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAH4AAAAqCAYAAAB1PO9pAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyVpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDcuMS1jMDAwIDc5LmIwZjhiZTkwLCAyMDIxLzEyLzE1LTIxOjI1OjE1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjMuMiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjFCNTAwQUNDOUFDMTFFRjk2NTFCRTdGQTdGREFCQjUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjFCNTAwQURDOUFDMTFFRjk2NTFCRTdGQTdGREFCQjUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo2MUI1MDBBQUM5QUMxMUVGOTY1MUJFN0ZBN0ZEQUJCNSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2MUI1MDBBQkM5QUMxMUVGOTY1MUJFN0ZBN0ZEQUJCNSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pi1aSgQAAAmfSURBVHja7Fxb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",E=s=>(F("data-v-7b8be213"),s=s(),Z(),s),St={class:"container"},Lt={class:"wrapper"},Tt={class:"region-select-warp"},Rt={class:"right"},Bt={class:"auth-item"},Mt=["src"],xt=["src"],Gt={key:0,class:"item"},Nt={class:"l-name"},Ft=E(()=>t("div",{class:"sline"},null,-1)),Zt={class:"r-name"},Ht={key:1,class:"item item-menu"},Et={class:"flex align-center top-bar-common-fontcolor"},Yt={class:"name"},Ut=E(()=>t("div",{class:"iconfont-pc icon-xiajiantou",style:{"font-size":"10px","margin-left":"5px"}},null,-1)),jt={class:"dropdown mini"},Pt={class:"areamini-content-wrap"},Vt={class:"topbar-usernav",style:{width:"150px"}},Dt={class:"item"},Qt=E(()=>t("span",{class:"iconfont-pc icon-xiaoxi"},null,-1)),Jt={class:"name"},Wt={class:"item"},Ot=E(()=>t("span",{class:"iconfont-pc icon-dingdan"},null,-1)),zt={class:"name"},Xt={key:0,class:"item item-menu"},Kt={class:"flex align-center top-bar-common-fontcolor"},$t={class:"name"},qt=E(()=>t("div",{class:"iconfont-pc icon-xiajiantou",style:{"font-size":"10px","margin-left":"5px"}},null,-1)),eo={class:"dropdown mini"},to={class:"areamini-content-wrap"},oo={class:"topbar-usernav"},so={key:1,class:"item"},ao={class:"name"},no={class:"item-a top-bar-common-fontcolor"},lo={class:"name"},io=M({__name:"TopBar",props:{pageType:{type:Number,default:1},colorType:{type:Number,default:1}},setup(s){me(e=>({d87b514c:o(y)}));const n=$(),l=oe();n.loadNav(),l.getUserInfo();const u=T(0);N(()=>{console.log("用户信息",l),l.userInfoLoaded&&l.userInfo.user_id>0&&c()});const c=async()=>{try{const e=await dt({page:1,unread:1});u.value=e.total}catch(e){pe.error(e.message)}finally{}},m=s,y=U(()=>{let e="";return m.pageType==1?e="black":m.colorType==1||m.colorType==2?e="#b0b0b0":m.colorType==3&&(e="black"),e}),w=U(()=>"top-bar-bac-"+m.colorType),C=()=>{const e=j("accessToken");e.value=null,l.userInfo={user_id:0,username:"",avatar:""},_e("/member/login")},v=()=>{n.admin_domain?window.open(`${n.admin_domain}/admin`):window.open(`${location.origin}/admin`)};return(e,g)=>{const h=Ne,_=O,x=te,G=Se;return a(),d("div",{class:Q(["top-bar",[s.pageType!=1?o(w):""]])},[t("div",St,[t("div",Lt,[t("div",Tt,[o(z)()?k("",!0):(a(),S(h,{key:0,pageType:s.pageType,colorType:s.colorType},null,8,["pageType","colorType"]))]),t("div",Rt,[t("div",Bt,[Number(o(l).userInfo.is_company_auth)>0&&o(X)()?(a(),S(_,{key:0,to:"/member/userCertification/info"},{default:r(()=>[t("img",{class:"auth-icon",src:o(It)},null,8,Mt)]),_:1})):k("",!0),Number(o(l).userInfo.is_company_auth)<=0&&o(X)()?(a(),S(_,{key:1,to:"/member/userCertification/info"},{default:r(()=>[t("img",{class:"auth-icon",src:o(wt)},null,8,xt)]),_:1})):k("",!0)]),p(G,null,{default:r(()=>[o(l).userInfoLoaded&&o(l).userInfo.user_id==0?(a(),d("div",Gt,[t("div",Nt,[p(_,{class:"top-bar-common-fontcolor",to:"/member/login"},{default:r(()=>[f(i(e.$t("你好,请登录")),1)]),_:1})]),Ft,t("div",Zt,[p(_,{class:"top-bar-common-fontcolor",to:"/member/register"},{default:r(()=>[f(i(e.$t("注册")),1)]),_:1})])])):k("",!0),o(l).userInfoLoaded&&o(l).userInfo.user_id>0?(a(),d("div",Ht,[t("div",Et,[t("div",Yt,[p(_,{class:"top-bar-common-fontcolor",to:"/member/"},{default:r(()=>[f(i(o(l).userInfo.nickname?o(l).userInfo.nickname:o(l).userInfo.dim_username),1)]),_:1})]),Ut]),t("div",jt,[t("div",Pt,[t("div",Vt,[p(_,{to:"/member/account/detail"},{default:r(()=>[f(i(e.$t("我的余额"))+"： ",1),p(x,{showText:!1,modelValue:o(l).userInfo.balance,"onUpdate:modelValue":g[0]||(g[0]=A=>o(l).userInfo.balance=A)},null,8,["modelValue"])]),_:1}),p(_,{to:"/member/coupon/list"},{default:r(()=>[f(i(e.$t("我的优惠券")),1)]),_:1}),p(_,{to:"/member/profile/info"},{default:r(()=>[f(i(e.$t("修改个人资料")),1)]),_:1}),p(_,{onClick:C,class:"last"},{default:r(()=>[f(i(e.$t("退出登录")),1)]),_:1})])])])])):k("",!0)]),_:1}),t("div",Dt,[p(_,{class:"item-a top-bar-common-fontcolor",to:"/member/userMessage/list/"},{default:r(()=>[Qt,t("span",Jt,i(e.$t("站内消息"))+i(u.value>0?"("+u.value+")":""),1)]),_:1})]),t("div",Wt,[p(_,{class:"item-a top-bar-common-fontcolor",to:"/member/order/list/"},{default:r(()=>[Ot,t("span",zt,i(e.$t("我的订单")),1)]),_:1})]),(a(!0),d(I,null,B(o(n).topBarNav,(A,b)=>(a(),d(I,null,[A.children&&A.children.length>0?(a(),d("div",Xt,[t("a",Kt,[t("div",$t,i(A.title),1),qt]),t("div",eo,[t("div",to,[t("div",oo,[(a(!0),d(I,null,B(A.children,L=>(a(),S(_,{to:L.link?o(P)(L.link):""},{default:r(()=>[f(i(L.title),1)]),_:2},1032,["to"]))),256)),o(K)()&&o(ge)()?(a(),d(I,{key:0},[p(_,{to:"/join"},{default:r(()=>[f(i(e.$t("招商加盟")),1)]),_:1}),p(_,{to:"/join/intro"},{default:r(()=>[f(i(e.$t("商家入驻")),1)]),_:1})],64)):k("",!0)])])])])):(a(),d("div",so,[t("div",ao,[p(_,{class:"top-bar-common-fontcolor",to:A.link?o(P)(A.link):""},{default:r(()=>[f(i(A.title),1)]),_:2},1032,["to"])])]))],64))),256)),o(K)()&&o(l).userInfo.has_shop?(a(),d("div",{key:0,class:"item",onClick:v},[t("div",no,[t("span",lo,i(e.$t("商户后台")),1)])])):k("",!0),s.pageType!=1?(a(),S(rt,{key:1,colorType:s.colorType},null,8,["colorType"])):k("",!0),o(z)()?(a(),S(kt,{key:2,class:"item",style:W({color:o(y)})},null,8,["style"])):k("",!0)])])])],2)}}}),ko=H(io,[["__scopeId","data-v-7b8be213"]]);export{ut as _,st as a,ko as b,It as c,bo as d,Co as e,Ao as f,dt as g,Se as h,wt as n};
