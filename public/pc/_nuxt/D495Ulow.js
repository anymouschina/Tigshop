import{b as e}from"./kUOzVTvd.js";import{_ as t}from"./BPBkUkBG.js";import{_ as a}from"./zM3V5R1F.js";import{a as s}from"./BRCyU_Tu.js";import{_ as o}from"./DGSQZaL6.js";import{E as r,a as l}from"./DeNxzkIy.js";import{e as i,r as u,aj as p,Q as d,c as m,o as n,a as c,t as y,b as _,w as v,F as j,l as g,m as h,v as f,d as I,_ as b,f as w,z as M,s as L,u as k,G as q,g as C,h as O,i as S,aO as N}from"./BLNaUqdG.js";import{C as P}from"./CRpCtz88.js";import"./CdUPjuAS.js";import"./CScYj7Fy.js";import"./D-E-9YUO.js";import"./DlIXSNl1.js";import"./Bp2G0jMz.js";import"./CK-rvtuG.js";import"./C8QNSlsX.js";import"./BWAJcOoD.js";import"./losdC6Ud.js";import"./DmeNR82d.js";import"./BwRzfsZt.js";import"./D_Dr4eZ1.js";import"./BucM0pco.js";import"./rSOsbbvW.js";import"./DgmxjSXK.js";import"./BX08AvzU.js";import"./CxZS6lgh.js";import"./DIIF5iVx.js";/* empty css        */import"./C8IqyEYy.js";import"./ClnUiH43.js";import"./CQcoTD7x.js";import"./D5ZJ33IS.js";import"./CTzMDe2j.js";import"./DxiXPFL-.js";import"./BynQilW0.js";import"./DE8qoeTi.js";import"./DxPtKouI.js";const R={class:"menu-list"},U={class:"ico"},V={class:"title"},A={class:"menu"},F={class:"min-menu"},T=b(i({__name:"LeftMenu",props:{shopId:{type:Number,default:-1},leftMenuList:{type:Array,default:[]}},emits:["update:leftMenuList","update:dataOver"],setup(e,{emit:t}){const a=u(),s=u(),i=e,b=u(!1),w=p();return d([()=>w.currentRoute.value.query,()=>b.value],(()=>{var e;let t=w.currentRoute.value.query.category_id;null==(e=i.leftMenuList)||e.forEach(((e,a)=>{e.category_id===t&&(s.value=e.article_category_id)}))}),{deep:!0}),(t,i)=>{const u=o,p=l,d=r;return n(),m("div",R,[c("div",U,[i[1]||(i[1]=c("div",{class:"sub-title"},"CLASSIFICATION",-1)),c("div",V,"▪︎ "+y(t.$t("商品分类"))+" ▪︎",1)]),c("div",A,[_(d,{modelValue:a.value,"onUpdate:modelValue":i[0]||(i[0]=e=>a.value=e)},{default:v((()=>[(n(!0),m(j,null,g(e.leftMenuList,(t=>(n(),h(p,{name:t.category_id},{title:v((()=>[_(u,{to:"/ShopCategory/"+e.shopId+"?category_id="+t.category_id,class:"title"},{default:v((()=>[I(y(t.category_name),1)])),_:2},1032,["to"])])),default:v((()=>[c("div",F,[(n(!0),m(j,null,g(null==t?void 0:t.children,(t=>(n(),h(u,{class:f([s.value===t.category_id?"pitch-on":"","item-menu"]),to:"/ShopCategory/"+e.shopId+"?category_id="+t.category_id},{default:v((()=>[I(y(t.category_name),1)])),_:2},1032,["class","to"])))),256))])])),_:2},1032,["name"])))),256))])),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-333da252"]]),E={key:0,style:{background:"white"}},G={class:"container"},Q={class:"page-info"},$={class:"product-list"},x=b(i({__name:"ShopCategory",setup(o){const r=w(),{t:l}=M(),i=L((()=>{let e=l("店铺商品");return r.de_copyright&&0==r.powered_by_status?e+=r.powered_by??"":e+="-powered by tigshop",e})),y=u([]),v=e=>{y.value=e},f=u(!1),I=u(""),b=u("");k({title:i,meta:[{name:"description",content:I},{name:"keywords",content:b}]});const R=q(),U=u(R.path.split("/").pop()),V=L((()=>{let e={};return A.page>1&&(e.page=A.page),A.categoryId>0&&(e.shop_category_id=A.categoryId),A.shopId>0&&(e.shop_id=A.shopId),""!=A.keyword&&(e.keyword=A.keyword),e})),A=C({page:1,categoryId:0,shopId:-1}),F=p();d([()=>F.currentRoute.value.query],(()=>{A.categoryId=F.currentRoute.value.query.category_id,A.shopId=U.value}),{deep:!0,immediate:!0});const x=u([]),z=u({}),J=u();return(async()=>{f.value=!1;try{const e=await s({shop_id:U.value});J.value=e.decorate_id,x.value=e.module_list,Object.assign(z.value,e.pageModule)}catch(e){}finally{f.value=!0}})(),(s,o)=>{const r=e,l=t,i=a;return n(),m(j,null,[_(r,{shop_id:U.value,shop_category_id:S(A).categoryId},null,8,["shop_id","shop_category_id"]),f.value?(n(),m("div",E,[(n(!0),m(j,null,g(x.value,((e,t)=>(n(),m(j,{key:t},["shop_info"==e.type?(n(),h(l,{key:0,onTreeList:v,pageModule:z.value,shopId:Number(U.value),module:e.module},null,8,["pageModule","shopId","module"])):O("",!0)],64)))),128)),c("div",G,[c("div",Q,[_(T,{shopId:Number(U.value),leftMenuList:y.value},null,8,["shopId","leftMenuList"]),c("div",$,[_(P,{queryParams:S(V),"onUpdate:queryParams":o[0]||(o[0]=e=>N(V)?V.value=e:null),filter:S(A),"onUpdate:filter":o[1]||(o[1]=e=>N(A)?A.value=e:null)},null,8,["queryParams","filter"])])])])])):O("",!0),_(i,{mt30:!1,showFriendly:!1})],64)}}}),[["__scopeId","data-v-47472a91"]]);export{x as default};
