import{E as e}from"./duVALuQ5.js";import{E as l,a}from"./DKvZ9Rd6.js";import{a as s,E as d}from"./6_reTNGa.js";import{e as o,I as u,r,s as t,z as p,y as m,c as i,o as n,a as c,b as v,w as b,d as V,n as f,_ as h}from"./vO8z_6wc.js";/* empty css        */import{u as _}from"./BSWEqqmX.js";import"./CdIa5lAL.js";import"./CKVP4sCQ.js";import"./BwRzfsZt.js";import"./B0jPhJeY.js";import"./D_Dr4eZ1.js";import"./VsleDggW.js";import"./DqoL2U0I.js";const w={class:"create-container"},j={class:"content"},g=h(o({__name:"CreateData",emits:["onDisabled"],setup(o,{expose:h,emit:g}){const q=g,R=u(),U=r({account:"admin",password:"",sql:0,dbhost:"127.0.0.1",dbname:"tigshop",dbport:"3306",dbuser:"root",dbpwd:"",redispwd:"",redishost:"127.0.0.1",redisport:"6379",redisselect:0});t((()=>!!Object.values(U.value).every((e=>""!==e))));const y=e=>{const l=Number(e);U.value.redisselect=l<0||l>16?0:l},{t:D}=p();return m((()=>{q("onDisabled",!0)})),h({onSubmit:async()=>{await R.value.validate();try{await _(U.value),f.success(D("操作成功")),q("onDisabled",{type:"over",userInfo:{account:U.value.account,password:U.value.password}})}catch(e){f.error(e.message)}}}),(o,u)=>{const r=e,t=l,p=d,m=s,f=a;return n(),i("div",w,[u[17]||(u[17]=c("h2",{class:"tit"},"创建数据",-1)),c("div",j,[v(f,{model:U.value,"label-width":"auto",size:"large",ref_key:"formRef",ref:R},{default:b((()=>[v(t,{label:"后台管理员账号：",prop:"account",rules:[{required:!0,message:"请输入后台管理员账号!"}]},{default:b((()=>[v(r,{modelValue:U.value.account,"onUpdate:modelValue":u[0]||(u[0]=e=>U.value.account=e),placeholder:"请输入后台管理员账号"},null,8,["modelValue"]),u[12]||(u[12]=c("div",{class:"tips"},"您的后台管理员账号，用于登录后台管理系统， 请牢记！",-1))])),_:1}),v(t,{label:"后台管理员密码：",prop:"password",rules:[{required:!0,message:"请输入后台管理员密码!"}]},{default:b((()=>[v(r,{type:"password",modelValue:U.value.password,"onUpdate:modelValue":u[1]||(u[1]=e=>U.value.password=e),placeholder:"请输入后台管理员密码"},null,8,["modelValue"]),u[13]||(u[13]=c("div",{class:"tips"},"您的后台管理员密码，用于登录后台管理系统， 请牢记！",-1))])),_:1}),v(t,{label:"数据库类型：",rules:[{required:!0,message:"请选择数据库类型!"}]},{default:b((()=>[v(m,{modelValue:U.value.sql,"onUpdate:modelValue":u[2]||(u[2]=e=>U.value.sql=e)},{default:b((()=>[v(p,{value:0},{default:b((()=>u[14]||(u[14]=[V("带演示数据")]))),_:1}),v(p,{value:1},{default:b((()=>u[15]||(u[15]=[V("纯净版(无演示数据)")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),v(t,{label:"数据库地址：",prop:"dbhost",rules:[{required:!0,message:"请输入数据库地址!"}]},{default:b((()=>[v(r,{modelValue:U.value.dbhost,"onUpdate:modelValue":u[3]||(u[3]=e=>U.value.dbhost=e),placeholder:"请输入数据库地址"},null,8,["modelValue"])])),_:1}),v(t,{label:"数据库名称：",prop:"dbname",rules:[{required:!0,message:"请输入数据库名称!"}]},{default:b((()=>[v(r,{modelValue:U.value.dbname,"onUpdate:modelValue":u[4]||(u[4]=e=>U.value.dbname=e),placeholder:"请输入数据库名称"},null,8,["modelValue"])])),_:1}),v(t,{label:"数据库端口：",prop:"dbport",rules:[{required:!0,message:"请输入数据库端口!"}]},{default:b((()=>[v(r,{modelValue:U.value.dbport,"onUpdate:modelValue":u[5]||(u[5]=e=>U.value.dbport=e),placeholder:"请输入数据库端口"},null,8,["modelValue"])])),_:1}),v(t,{label:"数据库用户名：",prop:"dbuser",rules:[{required:!0,message:"请输入数据库用户名!"}]},{default:b((()=>[v(r,{modelValue:U.value.dbuser,"onUpdate:modelValue":u[6]||(u[6]=e=>U.value.dbuser=e),placeholder:"请输入数据库用户名"},null,8,["modelValue"])])),_:1}),v(t,{label:"数据库密码：",prop:"dbpwd"},{default:b((()=>[v(r,{type:"password",modelValue:U.value.dbpwd,"onUpdate:modelValue":u[7]||(u[7]=e=>U.value.dbpwd=e),placeholder:"请输入数据库密码"},null,8,["modelValue"])])),_:1}),v(t,{label:"Redis地址：",prop:"redishost",rules:[{required:!0,message:"请输入Redis地址!"}]},{default:b((()=>[v(r,{modelValue:U.value.redishost,"onUpdate:modelValue":u[8]||(u[8]=e=>U.value.redishost=e),placeholder:"请输入Redis地址"},null,8,["modelValue"])])),_:1}),v(t,{label:"Redis端口：",prop:"redisport",rules:[{required:!0,message:"请输入Redis端口!"}]},{default:b((()=>[v(r,{modelValue:U.value.redisport,"onUpdate:modelValue":u[9]||(u[9]=e=>U.value.redisport=e),placeholder:"请输入Redis端口"},null,8,["modelValue"])])),_:1}),v(t,{label:"Redis密码：",prop:"redispwd"},{default:b((()=>[v(r,{type:"password",modelValue:U.value.redispwd,"onUpdate:modelValue":u[10]||(u[10]=e=>U.value.redispwd=e),placeholder:"请输入Redis密码"},null,8,["modelValue"])])),_:1}),v(t,{label:"RedisSelect库：",prop:"redisselect",rules:[{required:!0,message:"请输入RedisSelect库!"}]},{default:b((()=>[v(r,{type:"number",min:0,max:16,modelValue:U.value.redisselect,"onUpdate:modelValue":u[11]||(u[11]=e=>U.value.redisselect=e),placeholder:"请输入RedisSelect库",onInput:y},null,8,["modelValue"]),u[16]||(u[16]=c("div",{class:"tips"},"只能填0-16之间的数字，0表示使用默认库",-1))])),_:1})])),_:1},8,["model"])])])}}}),[["__scopeId","data-v-2fca9896"]]);export{g as default};
