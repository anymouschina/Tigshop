import{a as e,E as a}from"./Di7_rRxo.js";import{a as l,E as t}from"./DmeNR82d.js";import{E as u}from"./ClnUiH43.js";import{E as r}from"./CK-rvtuG.js";import{E as o}from"./Bil1wbyq.js";import{aq as s,e as d,aj as i,r as m,I as p,c as f,o as n,b as v,a as c,w as _,m as y,d as b,t as $,i as g,a4 as V,F as j,n as h,_ as k}from"./BLNaUqdG.js";/* empty css        */import"./CQcoTD7x.js";const w=e=>s({url:"user/feedback/list",method:"get",params:e,noSkipLogin:!0}),q={class:"dialog-footer"},E=k(d({__name:"Info",props:{order_id:{type:Number,default:0},type:{type:String,default:""}},emits:["loadFilter"],setup(d,{emit:k}){const w=i(),E=k,F=d,I=m(!0),S=m({}),U=p(),x=async()=>{await U.value.validate();try{I.value=!0,F.type&&(S.value.order_id=Number(w.currentRoute.value.query.order_id),S.value.type=6);const a=await(e={...S.value},s({url:"user/feedback/submit",method:"post",data:e}));await U.value.resetFields(),h.success(a.message),R.value=!1,E("loadFilter")}catch(a){h.error(a.message)}finally{I.value=!1}var e},R=m(!1),C=async()=>{R.value=!0,U.value&&await U.value.resetFields()};return(s,i)=>{const m=a,p=t,h=l,k=u,E=e,F=r,I=o;return n(),f(j,null,[v(I,{modelValue:R.value,"onUpdate:modelValue":i[3]||(i[3]=e=>R.value=e),title:s.$t("新增留言"),width:"600"},{footer:_((()=>[c("div",q,[v(F,{type:"primary",onClick:x},{default:_((()=>[b($(s.$t("提交留言")),1)])),_:1})])])),default:_((()=>[v(E,{ref_key:"formRef",ref:U,model:S.value,class:"form-body","label-suffix":"：","label-width":"auto"},{default:_((()=>[d.type?(n(),y(m,{key:0,label:s.$t("订单编号"),prop:"type"},{default:_((()=>[b($(g(w).currentRoute.value.query.order_sn),1)])),_:1},8,["label"])):(n(),y(m,{key:1,rules:[{required:!0,message:s.$t("请选择留言类型!")}],label:s.$t("留言类型"),prop:"type"},{default:_((()=>[v(h,{modelValue:S.value.type,"onUpdate:modelValue":i[0]||(i[0]=e=>S.value.type=e)},{default:_((()=>[v(p,{value:0},{default:_((()=>[b($(s.$t("建议")),1)])),_:1}),v(p,{value:1},{default:_((()=>[b($(s.$t("投诉")),1)])),_:1}),v(p,{value:3},{default:_((()=>[b($(s.$t("其他")),1)])),_:1}),v(p,{value:4},{default:_((()=>[b($(s.$t("店铺投诉")),1)])),_:1}),v(p,{value:5},{default:_((()=>[b($(s.$t("订单问题")),1)])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["rules","label"])),v(m,{rules:[{required:!0,message:s.$t("请输入主题")}],label:s.$t("主题"),prop:"title"},{default:_((()=>[v(k,{modelValue:S.value.title,"onUpdate:modelValue":i[1]||(i[1]=e=>S.value.title=e),clearable:"",placeholder:s.$t("请输入主题")},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"]),v(m,{rules:[{required:!0,message:s.$t("请输入内容")}],label:s.$t("留言内容"),prop:"content"},{default:_((()=>[v(k,{modelValue:S.value.content,"onUpdate:modelValue":i[2]||(i[2]=e=>S.value.content=e),row:4,clearable:"",placeholder:s.$t("请输入内容"),type:"textarea"},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"])])),_:1},8,["model"])])),_:1},8,["modelValue","title"]),c("div",{onClick:C},[V(s.$slots,"default",{},void 0,!0)])],64)}}}),[["__scopeId","data-v-6f85580b"]]),F=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));export{E as I,F as a,w as g};
