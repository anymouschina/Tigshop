import{b as e}from"./Bx_3tXOW.js";import{_ as s}from"./Bn8JJDSE.js";import{_ as o}from"./B6kpiin_.js";import{a as t}from"./hhFhr_YO.js";import{C as a}from"./EjWZwU6o.js";import{e as r,f as p,z as i,s as m,r as l,u,G as d,g as j,aj as n,Q as y,c,o as v,F as h,b as f,h as w,a as g,l as k,m as I,i as b,ar as _,_ as q}from"./vO8z_6wc.js";import"./B3kMr2Om.js";import"./DRy-t1KR.js";import"./4BWvF7DS.js";import"./Ctuj9lAE.js";import"./BG07ctRk.js";import"./ExFuuhw5.js";import"./OZUBBuO3.js";import"./DqoL2U0I.js";import"./CdIa5lAL.js";import"./CKVP4sCQ.js";import"./6_reTNGa.js";import"./BwRzfsZt.js";import"./D_Dr4eZ1.js";import"./123WnbAt.js";import"./C_yTnQv7.js";import"./DgmxjSXK.js";import"./VsleDggW.js";import"./B0jPhJeY.js";import"./C0xcqOw0.js";/* empty css        */import"./pBde3eXe.js";import"./duVALuQ5.js";import"./YLitFIRx.js";import"./C8tVKSc2.js";import"./BPYtos7D.js";import"./y2YKyhRU.js";import"./w_nOPjer.js";import"./DGiXcmvN.js";import"./CiHX20FE.js";const M={key:0,style:{background:"white"}},P={class:"container"},S={class:"page-info"},U=q(r({__name:"ShopSearch",setup(r){const q=p(),{t:U}=i(),x=m((()=>{let e=U("店铺商品搜索");return q.deCopyright?0==q.poweredByStatus&&(e+=q.poweredBy??""):e+="-powered by tigshop",e})),B=l([]),C=e=>{B.value=e},F=l(!1),G=l(""),L=l("");u({title:x,meta:[{name:"description",content:G},{name:"keyword",content:L}]});const O=d(),Q=l(O.path.split("/").pop()),R=m((()=>{let e={};return z.page>1&&(e.page=z.page),z.shopId>0&&(e.shopId=z.shopId),""!=z.keyword&&(e.keyword=z.keyword),e})),z=j({page:1,keyword:"",shopId:-1}),J=n();y([()=>J.currentRoute.value.query],(()=>{z.keyword=J.currentRoute.value.query.keyword,z.shopId=Q.value}),{deep:!0,immediate:!0});const K=l([]),N=l({}),T=l();return(async()=>{F.value=!1;try{const e=await t({shopId:Q.value});T.value=e.decorateId,K.value=e.moduleList,Object.assign(N.value,e.pageModule)}catch(e){}finally{F.value=!0}})(),(t,r)=>{const p=e,i=s,m=o;return v(),c(h,null,[f(p),F.value?(v(),c("div",M,[(v(!0),c(h,null,k(K.value,((e,s)=>(v(),c(h,{key:s},["shopInfo"==e.type?(v(),I(i,{key:0,onTreeList:C,pageModule:N.value,shopId:Number(Q.value),module:e.module},null,8,["pageModule","shopId","module"])):w("",!0)],64)))),128)),g("div",P,[g("div",S,[f(a,{queryParams:R.value,"onUpdate:queryParams":r[0]||(r[0]=e=>R.value=e),filter:b(z),"onUpdate:filter":r[1]||(r[1]=e=>_(z)?z.value=e:null)},null,8,["queryParams","filter"])])])])):w("",!0),f(m,{mt30:!1,showFriendly:!1})],64)}}}),[["__scopeId","data-v-bd78de65"]]);export{U as default};
