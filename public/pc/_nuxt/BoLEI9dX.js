import{b as e}from"./Bx_3tXOW.js";import{_ as t}from"./Bn8JJDSE.js";import{_ as a}from"./B6kpiin_.js";import{a as s}from"./hhFhr_YO.js";import{_ as o}from"./DRy-t1KR.js";import{E as r,a as l}from"./lYaTwQky.js";import{e as u,r as p,aj as d,Q as i,c as m,o as n,a as c,t as y,b as v,w as I,F as j,l as g,m as h,v as f,d as _,_ as w,f as b,z as C,s as M,u as L,G as k,g as q,h as N,i as S,ar as O}from"./vO8z_6wc.js";import{C as P}from"./EjWZwU6o.js";import"./B3kMr2Om.js";import"./4BWvF7DS.js";import"./Ctuj9lAE.js";import"./BG07ctRk.js";import"./ExFuuhw5.js";import"./OZUBBuO3.js";import"./DqoL2U0I.js";import"./CdIa5lAL.js";import"./CKVP4sCQ.js";import"./6_reTNGa.js";import"./BwRzfsZt.js";import"./D_Dr4eZ1.js";import"./123WnbAt.js";import"./C_yTnQv7.js";import"./DgmxjSXK.js";import"./VsleDggW.js";import"./B0jPhJeY.js";import"./C0xcqOw0.js";/* empty css        */import"./pBde3eXe.js";import"./duVALuQ5.js";import"./YLitFIRx.js";import"./C8tVKSc2.js";import"./BPYtos7D.js";import"./y2YKyhRU.js";import"./w_nOPjer.js";import"./DGiXcmvN.js";import"./CiHX20FE.js";const R={class:"menu-list"},U={class:"ico"},V={class:"title"},A={class:"menu"},F={class:"min-menu"},x=w(u({__name:"LeftMenu",props:{shopId:{type:Number,default:-1},leftMenuList:{type:Array,default:[]}},emits:["update:leftMenuList","update:dataOver"],setup(e,{emit:t}){const a=p(),s=p(),u=e,w=p(!1),b=d();return i([()=>b.currentRoute.value.query,()=>w.value],(()=>{var e;let t=b.currentRoute.value.query.categoryId;null==(e=u.leftMenuList)||e.forEach(((e,a)=>{e.categoryId===t&&(s.value=e.articleCategoryId)}))}),{deep:!0}),(t,u)=>{const p=o,d=l,i=r;return n(),m("div",R,[c("div",U,[u[1]||(u[1]=c("div",{class:"sub-title"},"CLASSIFICATION",-1)),c("div",V,"▪︎ "+y(t.$t("商品分类"))+" ▪︎",1)]),c("div",A,[v(i,{modelValue:a.value,"onUpdate:modelValue":u[0]||(u[0]=e=>a.value=e)},{default:I((()=>[(n(!0),m(j,null,g(e.leftMenuList,(t=>(n(),h(d,{name:t.categoryId},{title:I((()=>[v(p,{to:"/ShopCategory/"+e.shopId+"?categoryId="+t.categoryId,class:"title"},{default:I((()=>[_(y(t.categoryName),1)])),_:2},1032,["to"])])),default:I((()=>[c("div",F,[(n(!0),m(j,null,g(null==t?void 0:t.children,(t=>(n(),h(p,{class:f([s.value===t.categoryId?"pitch-on":"","item-menu"]),to:"/ShopCategory/"+e.shopId+"?categoryId="+t.categoryId},{default:I((()=>[_(y(t.categoryName),1)])),_:2},1032,["class","to"])))),256))])])),_:2},1032,["name"])))),256))])),_:1},8,["modelValue"])])])}}}),[["__scopeId","data-v-00684559"]]),B={key:0,style:{background:"white"}},E={class:"container"},G={class:"page-info"},Q={class:"product-list"},T=w(u({__name:"ShopCategory",setup(o){const r=b(),{t:l}=C(),u=M((()=>{let e=l("店铺商品");return r.deCopyright?0==r.poweredByStatus&&(e+=r.poweredBy??""):e+="-powered by tigshop",e})),y=p([]),I=e=>{y.value=e},f=p(!1),_=p(""),w=p("");L({title:u,meta:[{name:"description",content:_},{name:"keywords",content:w}]});const R=k(),U=p(R.path.split("/").pop()),V=M((()=>{let e={};return A.page>1&&(e.page=A.page),A.categoryId>0&&(e.shopCategoryId=A.categoryId),A.shopId>0&&(e.shopId=A.shopId),""!=A.keyword&&(e.keyword=A.keyword),e})),A=q({page:1,categoryId:0,shopId:-1}),F=d();i([()=>F.currentRoute.value.query],(()=>{A.categoryId=F.currentRoute.value.query.categoryId,A.shopId=U.value}),{deep:!0,immediate:!0});const T=p([]),$=p({}),z=p();return(async()=>{f.value=!1;try{const e=await s({shopId:U.value});z.value=e.decorateId,T.value=e.moduleList,Object.assign($.value,e.pageModule)}catch(e){}finally{f.value=!0}})(),(s,o)=>{const r=e,l=t,u=a;return n(),m(j,null,[v(r,{shopId:U.value,shopCategoryId:S(A).categoryId},null,8,["shopId","shopCategoryId"]),f.value?(n(),m("div",B,[(n(!0),m(j,null,g(T.value,((e,t)=>(n(),m(j,{key:t},["shopInfo"==e.type?(n(),h(l,{key:0,onTreeList:I,pageModule:$.value,shopId:Number(U.value),module:e.module},null,8,["pageModule","shopId","module"])):N("",!0)],64)))),128)),c("div",E,[c("div",G,[v(x,{shopId:Number(U.value),leftMenuList:y.value},null,8,["shopId","leftMenuList"]),c("div",Q,[v(P,{queryParams:S(V),"onUpdate:queryParams":o[0]||(o[0]=e=>O(V)?V.value=e:null),filter:S(A),"onUpdate:filter":o[1]||(o[1]=e=>O(A)?A.value=e:null)},null,8,["queryParams","filter"])])])])])):N("",!0),v(u,{mt30:!1,showFriendly:!1})],64)}}}),[["__scopeId","data-v-3b29661a"]]);export{T as default};
