import{T as e,I as o,r as t,Q as a,bR as l,bb as n,U as u}from"./vO8z_6wc.js";function i(u,{beforeFocus:i,afterFocus:s,beforeBlur:r,afterBlur:c}={}){const d=e(),{emit:v}=d,m=o(),p=t(!1),f=e=>{!!n(i)&&i(e)||p.value||(p.value=!0,v("focus",e),null==s||s())},b=e=>{var o;!!n(r)&&r(e)||e.relatedTarget&&(null==(o=m.value)?void 0:o.contains(e.relatedTarget))||(p.value=!1,v("blur",e),null==c||c())};return a(m,(e=>{e&&e.setAttribute("tabindex","-1")})),l(m,"focus",f,!0),l(m,"blur",b,!0),l(m,"click",(()=>{var e,o;(null==(e=m.value)?void 0:e.contains(document.activeElement))&&m.value!==document.activeElement||null==(o=u.value)||o.focus()}),!0),{isFocused:p,wrapperRef:m,handleFocus:f,handleBlur:b}}function s({afterComposition:e,emit:o}){const a=t(!1),l=e=>{var t;null==o||o("compositionupdate",e);const l=null==(t=e.target)?void 0:t.value,n=l[l.length-1]||"";a.value=!(e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e))(n)},n=t=>{null==o||o("compositionend",t),a.value&&(a.value=!1,u((()=>e(t))))};return{isComposing:a,handleComposition:e=>{"compositionend"===e.type?n(e):l(e)},handleCompositionStart:e=>{null==o||o("compositionstart",e),a.value=!0},handleCompositionUpdate:l,handleCompositionEnd:n}}export{s as a,i as u};
