import{af as e,e as t,r as a,ax as r,y as l,ay as n,S as o,az as u,ap as i,aA as s,aB as v,s as c,aC as f,aD as d,aE as p,ae as h,aF as g,aG as y,aH as m,aI as b,aJ as x}from"./vO8z_6wc.js";async function q(t,a=e()){const{path:r,matched:l}=a.resolve(t);if(!l.length)return;if(a._routePreloaded||(a._routePreloaded=new Set),a._routePreloaded.has(r))return;const n=a._preloadPromises||(a._preloadPromises=[]);if(n.length>4)return Promise.all(n).then((()=>q(t,a)));a._routePreloaded.add(r);const o=l.map((e=>{var t;return null==(t=e.components)?void 0:t.default})).filter((e=>"function"==typeof e));for(const e of o){const t=Promise.resolve(e()).catch((()=>{})).finally((()=>n.splice(n.indexOf(t))));n.push(t)}await Promise.all(n)}function S(g){const y=g.componentName||"NuxtLink";function x(e){return"string"==typeof e&&e.startsWith("#")}function S(e,t){if(!e||"append"!==g.trailingSlash&&"remove"!==g.trailingSlash)return e;if("string"==typeof e)return P(e,g.trailingSlash);const a="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:P(a,g.trailingSlash)}}function C(t){const a=e(),r=p(),l=c((()=>!!t.target&&"_self"!==t.target)),n=c((()=>{const e=t.to||t.href||"";return"string"==typeof e&&f(e,{acceptRelative:!0})})),o=i("RouterLink"),u=o&&"string"!=typeof o?o.useLink:void 0,s=c((()=>{if(t.external)return!0;const e=t.to||t.href||"";return"object"!=typeof e&&(""===e||n.value)})),g=c((()=>{const e=t.to||t.href||"";return s.value?e:S(e,a.resolve)})),y=s.value||null==u?void 0:u({...t,to:g}),m=c((()=>{var e;if(!g.value||n.value||x(g.value))return g.value;if(s.value){const e="object"==typeof g.value&&"path"in g.value?v(g.value):g.value;return S("object"==typeof e?a.resolve(e).href:e,a.resolve)}return"object"==typeof g.value?(null==(e=a.resolve(g.value))?void 0:e.href)??null:S(d(r.app.baseURL,g.value),a.resolve)}));return{to:g,hasTarget:l,isAbsoluteUrl:n,isExternal:s,href:m,isActive:(null==y?void 0:y.isActive)??c((()=>g.value===a.currentRoute.value.path)),isExactActive:(null==y?void 0:y.isExactActive)??c((()=>g.value===a.currentRoute.value.path)),route:(null==y?void 0:y.route)??c((()=>a.resolve(g.value))),async navigate(e){await h(m.value,{replace:t.replace,external:s.value||l.value})}}}return t({name:y,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:C,setup(t,{slots:c}){const f=e(),{to:d,href:p,navigate:h,isExternal:y,hasTarget:S,isAbsoluteUrl:P}=C(t),w=a(!1),R=a(null),_=e=>{var a;R.value=t.custom?null==(a=null==e?void 0:e.$el)?void 0:a.nextElementSibling:null==e?void 0:e.$el};function O(e){var a,r;return!w.value&&("string"==typeof t.prefetchOn?t.prefetchOn===e:(null==(a=t.prefetchOn)?void 0:a[e])??(null==(r=g.prefetchOn)?void 0:r[e]))&&!1!==(t.prefetch??g.prefetch)&&!0!==t.noPrefetch&&"_blank"!==t.target&&!function(){const e=navigator.connection;if(e&&(e.saveData||A.test(e.effectiveType)))return!0;return!1}()}async function k(e=r()){if(w.value)return;w.value=!0;const t="string"==typeof d.value?d.value:y.value?v(d.value):f.resolve(d.value).fullPath,a=y.value?new URL(t,window.location.href).href:t;await Promise.all([e.hooks.callHook("link:prefetch",a).catch((()=>{})),!y.value&&!S.value&&q(d.value,f).catch((()=>{}))])}if(O("visibility")){const e=r();let t,a=null;l((()=>{const l=function(){const e=r();if(e._observer)return e._observer;let t=null;const a=new Map,l=(e,r)=>(t||(t=new IntersectionObserver((e=>{for(const t of e){const e=a.get(t.target);(t.isIntersecting||t.intersectionRatio>0)&&e&&e()}}))),a.set(e,r),t.observe(e),()=>{a.delete(e),null==t||t.unobserve(e),0===a.size&&(null==t||t.disconnect(),t=null)}),n=e._observer={observe:l};return n}();n((()=>{t=m((()=>{var t;(null==(t=null==R?void 0:R.value)?void 0:t.tagName)&&(a=l.observe(R.value,(async()=>{null==a||a(),a=null,await k(e)})))}))}))})),o((()=>{t&&b(t),null==a||a(),a=null}))}return()=>{var e;if(!y.value&&!S.value&&!x(d.value)){const e={ref:_,to:d.value,activeClass:t.activeClass||g.activeClass,exactActiveClass:t.exactActiveClass||g.exactActiveClass,replace:t.replace,ariaCurrentValue:t.ariaCurrentValue,custom:t.custom};return t.custom||(O("interaction")&&(e.onPointerenter=k.bind(null,void 0),e.onFocus=k.bind(null,void 0)),w.value&&(e.class=t.prefetchedClass||g.prefetchedClass),e.rel=t.rel||void 0),u(i("RouterLink"),e,c.default)}const a=t.target||null,r=((...e)=>e.find((e=>void 0!==e)))(t.noRel?"":t.rel,g.externalRelAttribute,P.value||S.value?"noopener noreferrer":"")||null;return t.custom?c.default?c.default({href:p.value,navigate:h,prefetch:k,get route(){if(!p.value)return;const e=new URL(p.value,window.location.href);return{path:e.pathname,fullPath:e.pathname,get query(){return s(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:p.value}},rel:r,target:a,isExternal:y.value||S.value,isActive:!1,isExactActive:!1}):null:u("a",{ref:R,href:p.value||null,rel:r,target:a},null==(e=c.default)?void 0:e.call(c))}}})}const C=S(x);function P(e,t){const a="append"===t?g:y;return f(e)&&!e.startsWith("http")?e:a(e,!0)}const A=/2g/;export{C as _};
