import{E as B,a as N}from"./CPhr9T1V.js";import{E as C,a as U}from"./DXZCNwre.js";import{E as j}from"./lRlBa-wu.js";import{E as T}from"./XomGKeK5.js";import{E as D}from"./BMKQ3sGo.js";import{aa as V,f as L,q as O,r as f,a8 as z,o as c,c as G,b as l,w as t,a as y,d as u,t as s,h as g,j as J,J as M,F as P,m as $,_ as A}from"./DvlzeZYf.js";/* empty css        */import"./DEXPT9kT.js";const oe=n=>V({url:"user/feedback/list",method:"get",params:n,noSkipLogin:!0}),H=n=>V({url:"user/feedback/submit",method:"post",data:n}),K={class:"dialog-footer"},Q=L({__name:"Info",props:{order_id:{type:Number,default:0},type:{type:String,default:""}},emits:["loadFilter"],setup(n,{emit:k}){const v=O(),E=k,w=n,_=f(!0),a=f({}),d=z(),F=async()=>{await d.value.validate();try{_.value=!0,w.type&&(a.value.order_id=Number(v.currentRoute.value.query.order_id),a.value.type=6);const e=await H({...a.value});await d.value.resetFields(),$.success(e.message),m.value=!1,E("loadFilter")}catch(e){$.error(e.message)}finally{_.value=!1}},m=f(!1),R=async()=>{m.value=!0,d.value&&await d.value.resetFields()};return(e,o)=>{const p=B,i=C,S=U,b=j,h=N,q=T,I=D;return c(),G(P,null,[l(I,{modelValue:m.value,"onUpdate:modelValue":o[3]||(o[3]=r=>m.value=r),title:e.$t("新增留言"),width:"600"},{footer:t(()=>[y("div",K,[l(q,{type:"primary",onClick:F},{default:t(()=>[u(s(e.$t("提交留言")),1)]),_:1})])]),default:t(()=>[l(h,{ref_key:"formRef",ref:d,model:a.value,class:"form-body","label-suffix":"：","label-width":"auto"},{default:t(()=>[n.type?(c(),g(p,{key:0,label:e.$t("订单编号"),prop:"type"},{default:t(()=>[u(s(J(v).currentRoute.value.query.order_sn),1)]),_:1},8,["label"])):(c(),g(p,{key:1,rules:[{required:!0,message:e.$t("请选择留言类型!")}],label:e.$t("留言类型"),prop:"type"},{default:t(()=>[l(S,{modelValue:a.value.type,"onUpdate:modelValue":o[0]||(o[0]=r=>a.value.type=r)},{default:t(()=>[l(i,{value:0},{default:t(()=>[u(s(e.$t("建议")),1)]),_:1}),l(i,{value:1},{default:t(()=>[u(s(e.$t("投诉")),1)]),_:1}),l(i,{value:3},{default:t(()=>[u(s(e.$t("其他")),1)]),_:1}),l(i,{value:4},{default:t(()=>[u(s(e.$t("店铺投诉")),1)]),_:1}),l(i,{value:5},{default:t(()=>[u(s(e.$t("订单问题")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["rules","label"])),l(p,{rules:[{required:!0,message:e.$t("请输入主题")}],label:e.$t("主题"),prop:"title"},{default:t(()=>[l(b,{modelValue:a.value.title,"onUpdate:modelValue":o[1]||(o[1]=r=>a.value.title=r),clearable:"",placeholder:e.$t("请输入主题")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),l(p,{rules:[{required:!0,message:e.$t("请输入内容")}],label:e.$t("留言内容"),prop:"content"},{default:t(()=>[l(b,{modelValue:a.value.content,"onUpdate:modelValue":o[2]||(o[2]=r=>a.value.content=r),row:4,clearable:"",placeholder:e.$t("请输入内容"),type:"textarea"},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),y("div",{onClick:R},[M(e.$slots,"default",{},void 0,!0)])],64)}}}),W=A(Q,[["__scopeId","data-v-acd4601d"]]),re=Object.freeze(Object.defineProperty({__proto__:null,default:W},Symbol.toStringTag,{value:"Module"}));export{W as I,re as a,oe as g};
