import{E as q}from"./lRlBa-wu.js";import{E as U,a as y}from"./CPhr9T1V.js";import{E,a as h}from"./DXZCNwre.js";import{f as I,a8 as S,r as x,v as D,H as N,o as C,c as F,a as u,b as a,w as s,d as v,m as b,p as k,e as B,_ as j}from"./DvlzeZYf.js";/* empty css        */import{u as z}from"./BVvOwx3r.js";import"./BxwJi-A4.js";import"./CvS5MqkS.js";import"./BB_Ol6Sd.js";import"./C3hftOhu.js";import"./Cq9Fpw4b.js";import"./De9iyrrl.js";import"./B9SirqjL.js";const m=p=>(k("data-v-c993ed8c"),p=p(),B(),p),G={class:"create-container"},H=m(()=>u("h2",{class:"tit"},"创建数据",-1)),M={class:"content"},O=m(()=>u("div",{class:"tips"},"您的后台管理员账号，用于登录后台管理系统， 请牢记！",-1)),T=m(()=>u("div",{class:"tips"},"您的后台管理员密码，用于登录后台管理系统， 请牢记！",-1)),A=m(()=>u("div",{class:"tips"},"只能填0-16之间的数字，0表示使用默认库",-1)),J=I({__name:"CreateData",emits:["onDisabled"],setup(p,{expose:f,emit:V}){const i=V,n=S(),e=x({account:"admin",password:"",sql:0,dbhost:"127.0.0.1",dbname:"tigshop",dbport:"3306",dbuser:"root",dbpwd:"",redispwd:"",redishost:"127.0.0.1",redisport:"6379",redisselect:0});D(()=>!!Object.values(e.value).every(l=>l!==""));const _=r=>{const l=Number(r);l<0||l>16?e.value.redisselect=0:e.value.redisselect=l},w=async()=>{await n.value.validate();try{const r=await z(e.value);b.success(r.message),i("onDisabled",{type:"over",userInfo:{account:e.value.account,password:e.value.password}})}catch(r){b.error(r.message)}};return N(()=>{i("onDisabled",!0)}),f({onSubmit:w}),(r,l)=>{const t=q,d=U,c=E,g=h,R=y;return C(),F("div",G,[H,u("div",M,[a(R,{model:e.value,"label-width":"auto",size:"large",ref_key:"formRef",ref:n},{default:s(()=>[a(d,{label:"后台管理员账号：",prop:"account",rules:[{required:!0,message:"请输入后台管理员账号!"}]},{default:s(()=>[a(t,{modelValue:e.value.account,"onUpdate:modelValue":l[0]||(l[0]=o=>e.value.account=o),placeholder:"请输入后台管理员账号"},null,8,["modelValue"]),O]),_:1}),a(d,{label:"后台管理员密码：",prop:"password",rules:[{required:!0,message:"请输入后台管理员密码!"}]},{default:s(()=>[a(t,{type:"password",modelValue:e.value.password,"onUpdate:modelValue":l[1]||(l[1]=o=>e.value.password=o),placeholder:"请输入后台管理员密码"},null,8,["modelValue"]),T]),_:1}),a(d,{label:"数据库类型：",rules:[{required:!0,message:"请选择数据库类型!"}]},{default:s(()=>[a(g,{modelValue:e.value.sql,"onUpdate:modelValue":l[2]||(l[2]=o=>e.value.sql=o)},{default:s(()=>[a(c,{value:0},{default:s(()=>[v("带演示数据")]),_:1}),a(c,{value:1},{default:s(()=>[v("纯净版(无演示数据)")]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(d,{label:"数据库地址：",prop:"dbhost",rules:[{required:!0,message:"请输入数据库地址!"}]},{default:s(()=>[a(t,{modelValue:e.value.dbhost,"onUpdate:modelValue":l[3]||(l[3]=o=>e.value.dbhost=o),placeholder:"请输入数据库地址"},null,8,["modelValue"])]),_:1}),a(d,{label:"数据库名称：",prop:"dbname",rules:[{required:!0,message:"请输入数据库名称!"}]},{default:s(()=>[a(t,{modelValue:e.value.dbname,"onUpdate:modelValue":l[4]||(l[4]=o=>e.value.dbname=o),placeholder:"请输入数据库名称"},null,8,["modelValue"])]),_:1}),a(d,{label:"数据库端口：",prop:"dbport",rules:[{required:!0,message:"请输入数据库端口!"}]},{default:s(()=>[a(t,{modelValue:e.value.dbport,"onUpdate:modelValue":l[5]||(l[5]=o=>e.value.dbport=o),placeholder:"请输入数据库端口"},null,8,["modelValue"])]),_:1}),a(d,{label:"数据库用户名：",prop:"dbuser",rules:[{required:!0,message:"请输入数据库用户名!"}]},{default:s(()=>[a(t,{modelValue:e.value.dbuser,"onUpdate:modelValue":l[6]||(l[6]=o=>e.value.dbuser=o),placeholder:"请输入数据库用户名"},null,8,["modelValue"])]),_:1}),a(d,{label:"数据库密码：",prop:"dbpwd"},{default:s(()=>[a(t,{type:"password",modelValue:e.value.dbpwd,"onUpdate:modelValue":l[7]||(l[7]=o=>e.value.dbpwd=o),placeholder:"请输入数据库密码"},null,8,["modelValue"])]),_:1}),a(d,{label:"Redis地址：",prop:"redishost",rules:[{required:!0,message:"请输入Redis地址!"}]},{default:s(()=>[a(t,{modelValue:e.value.redishost,"onUpdate:modelValue":l[8]||(l[8]=o=>e.value.redishost=o),placeholder:"请输入Redis地址"},null,8,["modelValue"])]),_:1}),a(d,{label:"Redis端口：",prop:"redisport",rules:[{required:!0,message:"请输入Redis端口!"}]},{default:s(()=>[a(t,{modelValue:e.value.redisport,"onUpdate:modelValue":l[9]||(l[9]=o=>e.value.redisport=o),placeholder:"请输入Redis端口"},null,8,["modelValue"])]),_:1}),a(d,{label:"Redis密码：",prop:"redispwd"},{default:s(()=>[a(t,{type:"password",modelValue:e.value.redispwd,"onUpdate:modelValue":l[10]||(l[10]=o=>e.value.redispwd=o),placeholder:"请输入Redis密码"},null,8,["modelValue"])]),_:1}),a(d,{label:"RedisSelect库：",prop:"redisselect",rules:[{required:!0,message:"请输入RedisSelect库!"}]},{default:s(()=>[a(t,{type:"number",min:0,max:16,modelValue:e.value.redisselect,"onUpdate:modelValue":l[11]||(l[11]=o=>e.value.redisselect=o),placeholder:"请输入RedisSelect库",onInput:_},null,8,["modelValue"]),A]),_:1})]),_:1},8,["model"])])])}}}),se=j(J,[["__scopeId","data-v-c993ed8c"]]);export{se as default};
