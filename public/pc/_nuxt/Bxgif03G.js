import{S as e}from"./Bx-i_3JP.js";import"./Bil1wbyq.js";import{e as a,r as l,g as s,y as o,n as t,ax as i,c as n,o as r,a as d,m,h as u,w as p,b as c,i as g,_ as v}from"./BLNaUqdG.js";import"./CQcoTD7x.js";import{g as f,u as b}from"./JbGyAwPJ.js";import"./BwRzfsZt.js";import"./losdC6Ud.js";import"./DgmxjSXK.js";import"./C8QNSlsX.js";import"./D5ZJ33IS.js";import"./D_Dr4eZ1.js";const _={class:"modal_region_box"},h={class:"address_from"},x={class:"from_item"},y={class:"btn_box"},w=v(a({__name:"EditRegion",props:{id:Number,act:String,isDialog:Boolean,addressId:{type:Number,default:0},showClose:{type:Boolean,default:!0}},emits:["submitCallback","update:confirmLoading","close","change"],setup(a,{expose:v,emit:w}){const j=w,k=a;l(!1);const C=s({consignee:"",region_ids:[],region_names:[]}),U=l(!0);o((()=>{k.addressId>0?q():U.value=!1}));const q=async()=>{try{const e=await f(k.addressId);Object.assign(C,e.item)}catch(e){t.error(e.message)}finally{U.value=!1}},I=l(null),L=async()=>{await I.value.validate();try{j("update:confirmLoading",!0);const e=await b(C);j("submitCallback",e.address_id)}catch(e){t.error(e.message)}finally{j("update:confirmLoading",!1)}},S=()=>{I.value.validateFields(["region_ids"])},V=()=>{j("close")};return v({onFormSubmit:()=>{L()}}),(a,l)=>{const s=i("a-input"),o=i("a-form-item"),t=i("a-form");return r(),n("div",null,[d("div",_,[U.value?u("",!0):(r(),m(t,{key:0,model:C,name:"basic","label-col":{span:3},"wrapper-col":{span:16},autocomplete:"off",ref_key:"formRef",ref:I},{default:p((()=>[c(o,{label:"收货人：",name:"consignee",rules:[{required:!0,message:"请您填写收货人姓名"}]},{default:p((()=>[c(s,{value:C.consignee,"onUpdate:value":l[0]||(l[0]=e=>C.consignee=e),style:{width:"300px"},maxlength:20},null,8,["value"])])),_:1}),c(o,{label:"所在地区：",name:"region_ids",rules:[{required:!0,message:"请选择收货人所在地区"}],autoLink:""},{default:p((()=>[c(g(e),{modelValue:C.region_ids,"onUpdate:modelValue":l[1]||(l[1]=e=>C.region_ids=e),onChange:S},null,8,["modelValue"])])),_:1}),c(o,{label:"详细地址：",name:"address",rules:[{required:!0,message:"请您填写详细收货地址"},{min:3,message:"收货人地址过短"}]},{default:p((()=>[c(s,{value:C.address,"onUpdate:value":l[2]||(l[2]=e=>C.address=e),style:{width:"300px"},maxlength:100},null,8,["value"])])),_:1}),c(o,{label:"手机号码：",name:"mobile",rules:[{required:!0,message:"请您填写收货人手机号码"}],extra:""},{default:p((()=>[c(s,{value:C.mobile,"onUpdate:value":l[3]||(l[3]=e=>C.mobile=e),style:{width:"300px"},maxlength:20},null,8,["value"])])),_:1}),c(o,{label:"固定电话：",name:"telephone",rules:[],"wrapper-col":{span:8},extra:""},{default:p((()=>[c(s,{value:C.telephone,"onUpdate:value":l[4]||(l[4]=e=>C.telephone=e),style:{width:"300px"},maxlength:20},null,8,["value"])])),_:1}),c(o,{label:"邮箱地址：",name:"email",rules:[],"wrapper-col":{span:8}},{default:p((()=>[c(s,{value:C.email,"onUpdate:value":l[5]||(l[5]=e=>C.email=e),style:{width:"300px"},maxlength:50},null,8,["value"])])),_:1})])),_:1},8,["model"])),d("div",h,[d("div",x,[l[6]||(l[6]=d("div",{class:"tit"},null,-1)),d("div",y,[d("div",{class:"btn",onClick:L},"确认修改地址"),k.showClose?(r(),n("div",{key:0,class:"btn info",onClick:V},"取消")):u("",!0)])])])])])}}}),[["__scopeId","data-v-6657e0e1"]]);export{w as default};
