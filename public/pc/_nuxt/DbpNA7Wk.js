import{b as a}from"./kUOzVTvd.js";import{_ as t}from"./9TMjRzGO.js";import{_ as s}from"./DHZet8FK.js";import{_ as o}from"./B6t2jNUa.js";import{_ as e}from"./CScYj7Fy.js";import{e as l,r,g as i,y as m,aj as n,c as p,o as d,b as u,a as c,aa as _,t as j,F as v,l as f,d as y,m as b,w as g,E as h,i as $,j as k,q as z,h as V,n as x,_ as w}from"./BLNaUqdG.js";import{_ as F}from"./DGSQZaL6.js";import{E as L}from"./CK-rvtuG.js";import{_ as U}from"./zM3V5R1F.js";import{v as I}from"./C8qdh5cF.js";import{b as q}from"./4WcqWuuL.js";import{P as E}from"./DE8qoeTi.js";import{I as K}from"./CmBIQ9Nr.js";import"./CdUPjuAS.js";import"./DlIXSNl1.js";import"./D-E-9YUO.js";import"./Bp2G0jMz.js";import"./DmeNR82d.js";import"./BwRzfsZt.js";import"./BWAJcOoD.js";import"./losdC6Ud.js";import"./C8QNSlsX.js";import"./D_Dr4eZ1.js";import"./BucM0pco.js";import"./rSOsbbvW.js";import"./DgmxjSXK.js";import"./BX08AvzU.js";import"./CxZS6lgh.js";import"./DIIF5iVx.js";/* empty css        */import"./C8IqyEYy.js";import"./ClnUiH43.js";import"./CQcoTD7x.js";import"./D5ZJ33IS.js";import"./DSwxsogY.js";import"./DxiXPFL-.js";import"./Di7_rRxo.js";import"./Bil1wbyq.js";import"./CrXMrCCc.js";const P={class:"container flex"},Q={class:"menu"},S={class:"info-row"},T={class:"title-or-tabs"},C={class:"tag-and-input"},J={class:"tig-tabs"},M={class:"finished-order-content"},N={class:"table-head"},O={class:"item-op"},W={class:"item-op"},X={class:"item-op"},Y={class:"card-list"},Z={class:"custom-table",style:{"margin-top":"20px"}},A={class:"table-header"},B={class:"header-cell",colspan:"3"},D={class:"font-color"},G={class:"body-tr"},H={style:{width:"110px"}},R={key:0,style:{color:"green"}},aa={key:1,style:{color:"green"}},ta={key:2,style:{color:"red"}},sa={key:1},oa={style:{width:"110px"}},ea={class:"font-color cup"},la={class:"font-color cup"},ra={class:"el-page"},ia={key:1,class:"no-result"},ma={key:0},na=w(l({__name:"List",setup(l){const w=r([]),na=r(!0),pa=r(0),da=i({page:1,order_status:5}),ua=async()=>{na.value=!0;try{const a=await q({...da});w.value=a.filter_result,pa.value=a.total}catch(a){x.error(a.message)}finally{na.value=!1}};m((()=>{ua()})),n();const ca=i([{value:"发票申请",url:"/member/orderInvoice/list",size:0},{value:"增票资质",url:"/member/userInvoice/info",size:0}]);return(l,r)=>{const i=a,m=t,n=s,x=o,q=e,_a=h,ja=F,va=L,fa=U,ya=I;return d(),p(v,null,[u(i),u(m,{title:"发票申请"}),c("div",P,[c("div",Q,[u(n)]),c("div",S,[c("div",T,[c("div",C,[c("div",J,[u(x,{menuList:ca},null,8,["menuList"])])])]),c("div",M,[c("div",N,[c("div",O,j(l.$t("商品名称")),1),c("div",W,j(l.$t("状态")),1),c("div",X,j(l.$t("操作")),1)]),_((d(),p("div",Y,[pa.value>0?(d(),p(v,{key:0},[(d(!0),p(v,null,f(w.value,(a=>(d(),p("table",Z,[c("thead",A,[c("tr",null,[c("th",B,[y(j(l.$t("订单号"))+"：",1),c("span",D,j(a.order_sn),1),r[2]||(r[2]=y()),r[3]||(r[3]=c("span",{class:"ml10"},null,-1)),y(j(l.$t("下单时间"))+"："+j(a.add_time)+" ",1),r[4]||(r[4]=c("span",{class:"ml10"},null,-1)),y(j(l.$t("总金额"))+"： ",1),u(q,{modelValue:a.total_amount,"onUpdate:modelValue":t=>a.total_amount=t,fontStyle:{color:"var(--price)"},showText:!1},null,8,["modelValue","onUpdate:modelValue"]),y(" ("+j(l.$t("运费"))+"： ",1),u(q,{modelValue:a.shipping_fee,"onUpdate:modelValue":t=>a.shipping_fee=t,fontStyle:{color:"#999"},showText:!1},null,8,["modelValue","onUpdate:modelValue"]),r[5]||(r[5]=y(" ) "))])])]),c("tbody",null,[c("tr",G,[c("td",null,[(d(!0),p(v,null,f(a.items,(a=>(d(),b(ja,{title:a.product_name,to:$(z)({path:"product",id:a.product_id,sn:a.product_sn}),class:"nuxt",target:"_blank"},{default:g((()=>[u(_a,{src:("imageFormat"in l?l.imageFormat:$(k))(a.pic_thumb),class:"image",loading:"lazy"},null,8,["src"])])),_:2},1032,["title","to"])))),256))]),c("td",H,[a.invoice_data?(d(),p(v,{key:0},[0===a.invoice_data.status?(d(),p("span",R,j(l.$t("待审核")),1)):1===a.invoice_data.status?(d(),p("span",aa,j(l.$t("通过")),1)):(d(),p("span",ta,j(l.$t("失败/作废")),1))],64)):(d(),p("span",sa,j(l.$t("可申请")),1))]),c("td",oa,[a.invoice_data?(d(),p(v,{key:0},[u(K,{params:{order_id:a.order_id,amount:a.balance,order_sn:a.order_sn,total_amount:a.total_amount,type:"info"},onLoadFilter:ua},{default:g((()=>[c("span",ea,j(l.$t("查看")),1)])),_:2},1032,["params"]),2===a.invoice_data.status?(d(),p(v,{key:0},[r[6]||(r[6]=y("｜ ")),u(K,{params:{order_id:a.order_id,amount:a.balance,order_sn:a.order_sn,total_amount:a.total_amount,type:"reapply"},onLoadFilter:ua},{default:g((()=>[c("span",la,j(l.$t("重新申请")),1)])),_:2},1032,["params"])],64)):V("",!0)],64)):(d(),b(K,{key:1,params:{order_id:a.order_id,amount:a.balance,order_sn:a.order_sn,total_amount:a.total_amount,type:"apply"},onLoadFilter:ua},{default:g((()=>[u(va,{size:"small",type:"primary"},{default:g((()=>[y(j(l.$t("发票申请")),1)])),_:1})])),_:2},1032,["params"]))])])])])))),256)),c("div",ra,[u($(E),{page:da.page,"onUpdate:page":r[0]||(r[0]=a=>da.page=a),size:da.size,"onUpdate:size":r[1]||(r[1]=a=>da.size=a),total:pa.value,onCallback:ua},null,8,["page","size","total"])])],64)):(d(),p("div",ia,[na.value?V("",!0):(d(),p("span",ma,j(l.$t("还没有可申请订单")),1))]))])),[[ya,na.value]])])])]),u(fa)],64)}}}),[["__scopeId","data-v-e5b2a254"]]);export{na as default};
