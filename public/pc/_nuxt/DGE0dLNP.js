import{_ as j}from"./BYDV-pPC.js";import{_ as H}from"./DgxkP7C4.js";import{_ as z}from"./BCw_XNK7.js";import{f as P,r as o,q as E,g as F,o as a,c as u,a as n,t as M,b as _,w as y,F as g,l as k,h as b,d as q,n as G,p as Y,e as J,_ as B,a7 as K,Y as Q,v as R,u as W,a9 as X,s as Z,j as S,au as V,i as $}from"./DvlzeZYf.js";import{a as ee}from"./n9Tv4tKK.js";import{_ as te}from"./CzQrJ5jx.js";import{E as oe,a as ae}from"./DJPhaq3G.js";import{C as se}from"./BIoZzMix.js";import"./CljOOE4N.js";import"./CPg1UVcC.js";import"./ctHFjQ9z.js";import"./XomGKeK5.js";import"./B9SirqjL.js";import"./BxwJi-A4.js";import"./CvS5MqkS.js";import"./6IjmK16v.js";import"./DXZCNwre.js";import"./BB_Ol6Sd.js";import"./Cq9Fpw4b.js";import"./D5p5RYpQ.js";import"./DGzzo1G8.js";import"./DldgdBu3.js";import"./DCTLXrZ8.js";import"./De9iyrrl.js";import"./C3hftOhu.js";import"./CFi7q_x0.js";/* empty css        */import"./JPAiA_Rf.js";import"./lRlBa-wu.js";import"./DEXPT9kT.js";import"./BpsRniw3.js";import"./CZXUHXp1.js";import"./eXzid_I5.js";import"./D0iLGPIx.js";import"./DpiGic3x.js";import"./Cih86h_U.js";const re=s=>(Y("data-v-b11af968"),s=s(),J(),s),ne={class:"menu-list"},ie={class:"ico"},le=re(()=>n("div",{class:"sub-title"},"CLASSIFICATION",-1)),ue={class:"title"},ce={class:"menu"},de={class:"min-menu"},pe=P({__name:"LeftMenu",props:{shopId:{type:Number,default:-1},leftMenuList:{type:Array,default:[]}},emits:["update:leftMenuList","update:dataOver"],setup(s,{emit:h}){const v=o(),I=o(),L=s,w=o(!1),c=E();return F([()=>c.currentRoute.value.query,()=>w.value],()=>{var i;let m=c.currentRoute.value.query.category_id;(i=L.leftMenuList)==null||i.forEach((l,r)=>{l.category_id===m&&(I.value=l.article_category_id)})},{deep:!0}),(m,i)=>{const l=te,r=ae,f=oe;return a(),u("div",ne,[n("div",ie,[le,n("div",ue,"▪︎ "+M(m.$t("商品分类"))+" ▪︎",1)]),n("div",ce,[_(f,{modelValue:v.value,"onUpdate:modelValue":i[0]||(i[0]=e=>v.value=e)},{default:y(()=>[(a(!0),u(g,null,k(s.leftMenuList,e=>(a(),b(r,{name:e.category_id},{title:y(()=>[_(l,{to:"/ShopCategory/"+s.shopId+"?category_id="+e.category_id,class:"title"},{default:y(()=>[q(M(e.category_name),1)]),_:2},1032,["to"])]),default:y(()=>[n("div",de,[(a(!0),u(g,null,k(e==null?void 0:e.children,d=>(a(),b(l,{class:G([I.value===d.category_id?"pitch-on":"","item-menu"]),to:"/ShopCategory/"+s.shopId+"?category_id="+d.category_id},{default:y(()=>[q(M(d.category_name),1)]),_:2},1032,["class","to"]))),256))])]),_:2},1032,["name"]))),256))]),_:1},8,["modelValue"])])])}}}),_e=B(pe,[["__scopeId","data-v-b11af968"]]),me={key:0,style:{background:"white"}},fe={class:"container"},ye={class:"page-info"},ge={class:"product-list"},he=P({__name:"ShopCategory",setup(s){const h=K(),{t:v}=Q(),I=R(()=>{let t=v("店铺商品");return h.de_copyright&&h.powered_by_status==0?t+=h.powered_by??"":t+="-powered by tigshop",t}),L=o([]),w=t=>{L.value=t},c=o(!1),m=o(""),i=o("");W({title:I,meta:[{name:"description",content:m},{name:"keywords",content:i}]});const l=X(),r=o(l.path.split("/").pop()),f=R(()=>{let t={};return e.page>1&&(t.page=e.page),e.categoryId>0&&(t.shop_category_id=e.categoryId),e.shopId>0&&(t.shop_id=e.shopId),e.keyword!=""&&(t.keyword=e.keyword),t}),e=Z({page:1,categoryId:0,shopId:-1}),d=E();F([()=>d.currentRoute.value.query],()=>{e.categoryId=d.currentRoute.value.query.category_id,e.shopId=r.value},{deep:!0,immediate:!0});const x=o([]),N=o({}),A=o();return(async()=>{c.value=!1;try{const t=await ee({shop_id:r.value});A.value=t.decorate_id,x.value=t.module_list,Object.assign(N.value,t.pageModule)}catch{}finally{c.value=!0}})(),(t,C)=>{const D=j,O=H,T=z;return a(),u(g,null,[_(D,{shop_id:r.value,shop_category_id:S(e).categoryId},null,8,["shop_id","shop_category_id"]),c.value?(a(),u("div",me,[(a(!0),u(g,null,k(x.value,(p,U)=>(a(),u(g,{key:U},[p.type=="shop_info"?(a(),b(O,{key:0,onTreeList:w,pageModule:N.value,shopId:Number(r.value),module:p.module},null,8,["pageModule","shopId","module"])):$("",!0)],64))),128)),n("div",fe,[n("div",ye,[_(_e,{shopId:Number(r.value),leftMenuList:L.value},null,8,["shopId","leftMenuList"]),n("div",ge,[_(se,{queryParams:S(f),"onUpdate:queryParams":C[0]||(C[0]=p=>V(f)?f.value=p:null),filter:S(e),"onUpdate:filter":C[1]||(C[1]=p=>V(e)?e.value=p:null)},null,8,["queryParams","filter"])])])])])):$("",!0),_(T,{mt30:!1,showFriendly:!1})],64)}}}),ot=B(he,[["__scopeId","data-v-52701ccf"]]);export{ot as default};
