import{b as e}from"./Bx_3tXOW.js";import{_ as l}from"./DIcT5qlW.js";import{_ as a}from"./CFmHvMYA.js";import{E as t}from"./OZUBBuO3.js";import{_ as s}from"./DRy-t1KR.js";import{_ as o}from"./4BWvF7DS.js";import{_ as i}from"./B6kpiin_.js";import{e as u,z as r,aj as d,r as n,s as v,c,o as m,b as p,a as y,h as f,t as b,w as k,d as g,i as h,q as $,m as V,F as j,l as I,p as A,j as x,n as _,ai as S,_ as U}from"./vO8z_6wc.js";import{f as N,c as T,a as F}from"./DrvtNMlR.js";import{L as w}from"./DuT7nVv0.js";import"./B3kMr2Om.js";import"./BG07ctRk.js";import"./Ctuj9lAE.js";import"./ExFuuhw5.js";import"./6_reTNGa.js";import"./BwRzfsZt.js";import"./CdIa5lAL.js";import"./CKVP4sCQ.js";import"./DqoL2U0I.js";import"./D_Dr4eZ1.js";import"./123WnbAt.js";import"./C_yTnQv7.js";import"./DgmxjSXK.js";import"./VsleDggW.js";import"./B0jPhJeY.js";import"./C0xcqOw0.js";/* empty css        */import"./pBde3eXe.js";import"./duVALuQ5.js";import"./YLitFIRx.js";import"./C8tVKSc2.js";import"./DEtxbcwL.js";import"./y2YKyhRU.js";const C={class:"container flex"},D={class:"menu"},M={class:"info-row"},O={class:"title-or-tabs right-info"},P={key:0},q={class:"order-info"},z={class:"page-info-body lr"},L={class:"order-left"},R={key:0,style:{"margin-left":"40px"}},E={class:"font-color"},H={style:{"margin-left":"40px"}},Q={key:0},J={key:1},K={class:"order-right"},W={key:1},X={class:"page-info-body"},Y={class:"sub-title"},Z={class:"tig-steps"},B={style:{"font-weight":"600"}},G={class:"page-info-body"},ee={class:"sub-title"},le={class:"order-ul",style:{"margin-top":"20px"}},ae={key:0},te={key:1,class:"virtualsample"},se=["innerHTML"],oe={key:0,class:"page-info-body"},ie={class:"sub-title"},ue={class:"sub-sub-title"},re={key:0,class:"order-ul virtualsample-box"},de={class:"item"},ne={class:"item"},ve={class:"page-info-body"},ce={class:"sub-title"},me={class:"order-table-info"},pe={class:"receipt-header"},ye={key:0},fe={class:"receipt-body"},be={class:"receipt-item"},ke=["alt","src"],ge={key:0,class:"sku-style"},he={key:1,class:"extraskudata"},$e={class:"title"},Ve={class:"content"},je={class:"content-text"},Ie={class:"num"},Ae={class:"receipt-item price"},xe={class:"receipt-item price"},_e={class:"receipt-item price"},Se={key:0,class:"receipt-item operation"},Ue={class:"receipt-footer"},Ne=["colspan"],Te={class:"receipt-footer-it one",colspan:"2"},Fe={class:"item"},we={class:"label"},Ce={class:"text"},De={key:0,class:"item"},Me={class:"label"},Oe={class:"text"},Pe={key:1,class:"item"},qe={class:"label"},ze={class:"text"},Le={key:2,class:"item"},Re={class:"label"},Ee={class:"text"},He={key:3,class:"item"},Qe={class:"label"},Je={class:"text"},Ke={key:4,class:"item"},We={class:"label"},Xe={class:"text"},Ye={key:5,class:"item"},Ze={class:"label"},Be={class:"text"},Ge={key:6,class:"item"},el={class:"label"},ll={class:"text"},al={class:"item"},tl={key:0},sl={key:1},ol=U(u({__name:"Info",setup(u){const{t:U}=r(),ol=d(),il=n({orderStatus:0,availableActions:{}}),ul=n(!0),rl=v((()=>{var e;let l=!1;return null==(e=il.value.items)||e.forEach((e=>{e.eCard&&e.eCard.length>0&&(l=!0)})),l})),dl=async()=>{try{const e=await N({id:ol.currentRoute.value.query.id});Object.assign(il.value,e)}catch(e){_.error(e.message)}finally{ul.value=!1}};dl();const nl=n(["您的订单已提交成功，请尽快完成付款哦！","感谢您在本店的购物，您的订单已提交成功，我们会尽快为您发货！","您的订单已经发货，请注意查收，祝您购物愉快！",'您的订单已被取消，您可以通过"再次购买"，重新购买订单中的商品。','您的订单被认定为无效订单，订单已被关闭。您可以通过"再次购买"，重新购买订单中的商品。给您造成的不便请多多谅解！',"您的订单已经确认收货，感谢您在本店购物，祝您生活愉快！"]),vl=async()=>{S.confirm({title:U("确认要取消该订单吗"),cancelText:U("取消"),okText:U("确定"),maskClosable:!0,centered:!0,onOk:async()=>{try{await T({id:il.value.orderId});_.success(U("取消订单成功")),await dl()}catch(e){_.error(e.message)}}})},cl=async()=>{S.confirm({title:U("确认要收货吗"),cancelText:U("取消"),okText:U("确定"),maskClosable:!0,centered:!0,onOk:async()=>{try{await F({id:il.value.orderId});await dl()}catch(e){_.error(e.message)}}})};return(u,r)=>{var d;const n=e,v=l,_=a,S=t,U=s,N=o,T=i;return m(),c(j,null,[p(n,{showService:!0,phone:il.value.shop?il.value.shop.kefuPhone:"",orderId:il.value.orderId,shopId:il.value.shopId},null,8,["phone","orderId","shopId"]),p(v,{title:"订单详情"}),y("div",C,[y("div",D,[p(_)]),y("div",M,[y("div",O,[y("span",null,b(u.$t("订单详情")),1),il.value.availableActions.splitOrder?f("",!0):(m(),c("div",P,[p(U,{to:"/member/feedback/askList?orderId="+il.value.orderId+"&orderSn="+il.value.orderSn},{default:k((()=>[p(S,null,{default:k((()=>[g(b(u.$t("订单留言/咨询")),1)])),_:1})])),_:1},8,["to"])]))]),y("div",q,[y("div",z,[y("div",L,[y("div",null,[y("span",null,[g(b(u.$t("订单号"))+"：",1),y("strong",null,b(il.value.orderSn),1)]),il.value.shop&&il.value.shop.shopTitle?(m(),c("span",R,[g(b(u.$t("下单店铺"))+"：",1),p(U,{to:("urlFormat"in u?u.urlFormat:h($))({path:"shop",id:il.value.shopId}),target:"_blank"},{default:k((()=>[y("span",E,b(il.value.shop.shopTitle),1)])),_:1},8,["to"])])):f("",!0),y("span",H,[g(b(u.$t("订单状态"))+"： ",1),y("strong",null,b(il.value.orderStatusName),1)])]),il.value.autoDeliveryDays?(m(),c("div",Q,"订单将在"+b(il.value.autoDeliveryDays)+"天后自动收货",1)):(m(),c("div",J,b(u.$t(nl.value[il.value.orderStatus])),1))]),y("div",K,[il.value.availableActions.cancelOrder?(m(),V(S,{key:0,onClick:vl},{default:k((()=>[g(b(u.$t("取消订单")),1)])),_:1})):f("",!0),il.value.availableActions.toPay?(m(),c("div",W,[p(U,{to:"/order/pay/?id="+il.value.orderId,target:"_balnk"},{default:k((()=>[p(S,{type:"primary"},{default:k((()=>[g(b(u.$t("付款")),1)])),_:1})])),_:1},8,["to"])])):f("",!0),il.value.availableActions.confirmReceipt?(m(),V(S,{key:2,type:"primary",onClick:cl},{default:k((()=>[g(b(u.$t("确认收货")),1)])),_:1})):f("",!0),il.value.availableActions.toAftersales?(m(),V(U,{key:3,target:"_blank",to:"/member/return/Info?orderId="+il.value.orderId},{default:k((()=>[p(S,null,{default:k((()=>[g(b(u.$t("整单售后")),1)])),_:1})])),_:1},8,["to"])):f("",!0)])]),y("div",X,[y("div",Y,b(u.$t("订单状态")),1),y("div",Z,[(m(!0),c(j,null,I(null==(d=il.value.stepStatus)?void 0:d.steps,((e,l)=>{var a,t,s,o,i,u;return m(),c(j,null,[y("div",{style:A({color:l<=(null==(a=il.value.stepStatus)?void 0:a.current)?"var(--general)":"#c4c4c4",border:l<=(null==(t=il.value.stepStatus)?void 0:t.current)?"4px solid var(--general)":"4px solid #eee"}),class:"steps-card"},[y("div",B,b(l+1),1),y("div",{style:A({color:l<=(null==(s=il.value.stepStatus)?void 0:s.current)?"var(--general)":"#333"}),class:"card-text"},[y("div",null,b(e.title),1),y("div",null,b(e.description),1)],4)],4),l!=(null==(i=null==(o=il.value.stepStatus)?void 0:o.steps)?void 0:i.length)-1?(m(),c("div",{key:0,style:A({backgroundColor:l<(null==(u=il.value.stepStatus)?void 0:u.current)?"var(--general)":"#eee"}),class:"steps-line"},null,4)):f("",!0)],64)})),256))]),!il.value.orderId||2!==il.value.orderStatus&&5!==il.value.orderStatus?f("",!0):(m(),V(w,{key:0,trackingNo:il.value.trackingNo,logisticsName:il.value.logisticsName,shippingMethod:il.value.shippingMethod,id:il.value.orderId,"onUpdate:id":r[0]||(r[0]=e=>il.value.orderId=e)},null,8,["trackingNo","logisticsName","shippingMethod","id"]))]),y("div",G,[y("div",ee,b(u.$t("订单信息")),1),y("ul",le,[y("li",null,[g(b(u.$t("收货信息"))+"：",1),y("span",null,b(il.value.userAddress)+" "+b(il.value.consignee)+" "+b(il.value.mobile),1)]),il.value.shippingTypeName?(m(),c("li",ae,[g(b(u.$t("配送方式"))+"：",1),y("span",null,b(il.value.shippingTypeName),1)])):f("",!0),y("li",null,[g(b(u.$t("支付方式"))+"：",1),y("span",null,b(1===il.value.payTypeId?u.$t("在线支付"):2===il.value.payTypeId?u.$t("货到付款"):u.$t("线下支付")),1)]),6===il.value.orderType&&il.value.items[0].virtualSample?(m(),c("li",te,[g(b(u.$t("虚拟内容"))+"：",1),y("span",{class:"virtualsample-value",innerHTML:il.value.items[0].virtualSample},null,8,se)])):f("",!0)])]),h(rl)?(m(),c("div",oe,[y("div",ie,b(u.$t("卡券信息")),1),(m(!0),c(j,null,I(il.value.items,(e=>(m(),c(j,null,[y("div",ue,b(e.productName),1),e.eCard.length>0?(m(),c("ul",re,[(m(!0),c(j,null,I(e.eCard,(e=>(m(),c("li",{class:"virtualsample-item",key:e},[y("div",de,[g(b(u.$t("卡号"))+"：",1),y("span",null,b(e.cardNumber),1)]),y("div",ne,[g(b(u.$t("卡密"))+"：",1),y("span",null,b(e.cardPwd),1)])])))),128))])):f("",!0)],64)))),256))])):f("",!0),y("div",ve,[y("div",ce,b(u.$t("订单商品")),1),y("table",me,[y("thead",null,[y("tr",pe,[y("th",null,b(u.$t("商品名称")),1),y("th",null,b(u.$t("商品价格")),1),y("th",null,b(u.$t("购买数量")),1),y("th",null,b(u.$t("小计")),1),il.value.availableActions.toAftersales?(m(),c("th",ye,b(u.$t("操作")),1)):f("",!0)])]),y("tbody",null,[(m(!0),c(j,null,I(il.value.items,(e=>{var l,a;return m(),c("tr",fe,[y("td",be,[y("div",null,[y("img",{alt:e.productName,src:("imageFormat"in u?u.imageFormat:h(x))(e.picThumb),class:"img-border"},null,8,ke),g(" "+b(e.productName)+" ",1),e.skuData?(m(),c("div",ge,[(m(!0),c(j,null,I(e.skuData,(e=>(m(),c("div",null,b(e.name)+"："+b(e.value),1)))),256))])):f("",!0),e.extraSkuData&&e.extraSkuData.length?(m(),c("div",he,[(m(!0),c(j,null,I(e.extraSkuData,(l=>(m(),c("div",{key:l,class:"extraskudata-item"},[y("div",$e,b(l.attrName),1),r[10]||(r[10]=y("div",{class:"line-box"},[y("div",{class:"line"})],-1)),y("div",Ve,[y("span",je,b(l.attrValue),1),p(N,{class:"price",modelValue:l.attrPrice,"onUpdate:modelValue":e=>l.attrPrice=e},null,8,["modelValue","onUpdate:modelValue"]),y("span",Ie,"x"+b(e.quantity),1)])])))),128))])):f("",!0)])]),y("td",Ae,[p(N,{modelValue:e.price,"onUpdate:modelValue":l=>e.price=l},null,8,["modelValue","onUpdate:modelValue"])]),y("td",xe,b(e.quantity),1),y("td",_e,[p(N,{modelValue:e.subtotal,"onUpdate:modelValue":l=>e.subtotal=l},null,8,["modelValue","onUpdate:modelValue"])]),il.value.availableActions.toAftersales||e.aftersalesItem?(m(),c("td",Se,[il.value.availableActions.toAftersales||(a=il.value.items,null==a?void 0:a.some((e=>{var l;return Reflect.has(e,"aftersalesItem")&&!(null==(l=null==e?void 0:e.aftersalesItem)?void 0:l.aftersaleId)})))?(m(),V(U,{key:0,target:"_blank",to:"/member/return/Info?orderId="+il.value.orderId+"&itemId="+e.itemId},{default:k((()=>[p(S,{size:"small"},{default:k((()=>[g(b(u.$t("申请售后")),1)])),_:1})])),_:2},1032,["to"])):f("",!0),e.aftersalesItem?(m(),V(U,{key:1,target:"_blank",to:"/member/return/logInfo?id="+(null==(l=null==e?void 0:e.aftersalesItem)?void 0:l.aftersaleId)},{default:k((()=>[p(S,{size:"small"},{default:k((()=>[g(b(u.$t("售后详情")),1)])),_:1})])),_:2},1032,["to"])):f("",!0)])):f("",!0)])})),256))]),y("tfoot",null,[y("tr",Ue,[y("th",{colspan:il.value.availableActions.toAftersales?3:2},null,8,Ne),y("th",Te,[y("div",Fe,[y("div",we,b(u.$t("商品总价"))+"：",1),y("div",Ce,[p(N,{modelValue:il.value.productAmount,"onUpdate:modelValue":r[1]||(r[1]=e=>il.value.productAmount=e)},null,8,["modelValue"])])]),il.value.serviceFee&&il.value.serviceFee>0?(m(),c("div",De,[y("div",Me,b(u.$t("附加费用"))+"：",1),y("div",Oe,[p(N,{modelValue:il.value.serviceFee,"onUpdate:modelValue":r[2]||(r[2]=e=>il.value.serviceFee=e)},null,8,["modelValue"])])])):f("",!0),il.value.shippingFee>0?(m(),c("div",Pe,[y("div",qe,b(u.$t("运费"))+"：",1),y("div",ze,[p(N,{modelValue:il.value.shippingFee,"onUpdate:modelValue":r[3]||(r[3]=e=>il.value.shippingFee=e)},null,8,["modelValue"])])])):f("",!0),il.value.balance>0?(m(),c("div",Le,[y("div",Re,b(u.$t("使用余额"))+"：",1),y("div",Ee,[p(N,{modelValue:il.value.balance,"onUpdate:modelValue":r[4]||(r[4]=e=>il.value.balance=e)},null,8,["modelValue"])])])):f("",!0),il.value.pointsAmount>0?(m(),c("div",He,[y("div",Qe,b(u.$t("使用积分"))+"：",1),y("div",Je,[p(N,{modelValue:il.value.pointsAmount,"onUpdate:modelValue":r[5]||(r[5]=e=>il.value.pointsAmount=e)},null,8,["modelValue"])])])):f("",!0),il.value.discountAmount>0?(m(),c("div",Ke,[y("div",We,b(u.$t("其他优惠"))+"：",1),y("div",Xe,[r[11]||(r[11]=g(" - ")),p(N,{modelValue:il.value.discountAmount,"onUpdate:modelValue":r[6]||(r[6]=e=>il.value.discountAmount=e)},null,8,["modelValue"])])])):f("",!0),il.value.couponAmount>0?(m(),c("div",Ye,[y("div",Ze,b(u.$t("优惠券优惠"))+"：",1),y("div",Be,[r[12]||(r[12]=g(" - ")),p(N,{modelValue:il.value.couponAmount,"onUpdate:modelValue":r[7]||(r[7]=e=>il.value.couponAmount=e)},null,8,["modelValue"])])])):f("",!0),il.value.unpaidAmount&&il.value.unpaidAmount>0?(m(),c("div",Ge,[y("div",el,b(u.$t("待支付金额"))+"：",1),y("div",ll,[p(N,{modelValue:il.value.unpaidAmount,"onUpdate:modelValue":r[8]||(r[8]=e=>il.value.unpaidAmount=e)},null,8,["modelValue"])])])):f("",!0),y("div",al,[2==il.value.payStatus?(m(),c("span",tl,b(u.$t("实付款"))+"：",1)):(m(),c("span",sl,b(u.$t("应付款"))+"：",1)),p(N,{modelValue:il.value.totalAmount,"onUpdate:modelValue":r[9]||(r[9]=e=>il.value.totalAmount=e),fontStyle:{fontSize:"20px",color:"var(--price)"}},null,8,["modelValue"])])])])])])])])])]),p(T)],64)}}}),[["__scopeId","data-v-94e0bdbc"]]);export{ol as default};
