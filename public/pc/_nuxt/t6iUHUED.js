import{b as a}from"./Bx_3tXOW.js";import{_ as t}from"./DIcT5qlW.js";import{_ as s}from"./CFmHvMYA.js";import{_ as o}from"./BoBe_m7P.js";import{_ as e}from"./4BWvF7DS.js";import{e as l,z as r,r as i,g as m,y as n,aj as p,c as d,o as u,b as c,a as j,aa as v,t as y,F as f,l as g,d as b,m as _,w as h,E as $,i as k,j as I,q as S,h as z,n as x,_ as A}from"./vO8z_6wc.js";import{_ as F}from"./DRy-t1KR.js";import{E as V}from"./OZUBBuO3.js";import{_ as w}from"./B6kpiin_.js";import{v as L}from"./CxvT33_f.js";import{b as U}from"./DrvtNMlR.js";import{P as D}from"./DGiXcmvN.js";import{I as T}from"./DjwGSKB5.js";import"./B3kMr2Om.js";import"./BG07ctRk.js";import"./Ctuj9lAE.js";import"./ExFuuhw5.js";import"./6_reTNGa.js";import"./BwRzfsZt.js";import"./CdIa5lAL.js";import"./CKVP4sCQ.js";import"./DqoL2U0I.js";import"./D_Dr4eZ1.js";import"./123WnbAt.js";import"./C_yTnQv7.js";import"./DgmxjSXK.js";import"./VsleDggW.js";import"./B0jPhJeY.js";import"./C0xcqOw0.js";/* empty css        */import"./pBde3eXe.js";import"./duVALuQ5.js";import"./YLitFIRx.js";import"./C8tVKSc2.js";import"./DEtxbcwL.js";import"./y2YKyhRU.js";import"./DKvZ9Rd6.js";import"./B9ErrXst.js";import"./BKztAS8l.js";const E={class:"container flex"},K={class:"menu"},N={class:"info-row"},P={class:"title-or-tabs"},Q={class:"tag-and-input"},q={class:"tig-tabs"},C={class:"finished-order-content"},J={class:"table-head"},M={class:"item-op"},O={class:"item-op"},W={class:"item-op"},X={class:"card-list"},Y={class:"custom-table",style:{"margin-top":"20px"}},Z={class:"table-header"},B={class:"header-cell",colspan:"3"},G={class:"font-color"},H={class:"body-tr"},R={style:{width:"110px"}},aa={key:0,style:{color:"green"}},ta={key:1,style:{color:"green"}},sa={key:2,style:{color:"red"}},oa={key:1},ea={style:{width:"110px"}},la={class:"font-color cup"},ra={class:"font-color cup"},ia={class:"el-page"},ma={key:1,class:"no-result"},na={key:0},pa=A(l({__name:"List",setup(l){const{t:A}=r(),pa=i([]),da=i(!0),ua=i(0),ca=m({page:1,orderStatus:5}),ja=async()=>{da.value=!0;try{const a=await U({...ca});pa.value=a.records,ua.value=a.total}catch(a){x.error(a.message)}finally{da.value=!1}};n((()=>{ja()})),p();const va=m([{value:"发票申请",url:"/member/orderInvoice/list",size:0},{value:"增票资质",url:"/member/userInvoice/info",size:0}]);return(l,r)=>{const i=a,m=t,n=s,p=o,x=e,A=$,U=F,ya=V,fa=w,ga=L;return u(),d(f,null,[c(i),c(m,{title:"发票申请"}),j("div",E,[j("div",K,[c(n)]),j("div",N,[j("div",P,[j("div",Q,[j("div",q,[c(p,{menuList:va},null,8,["menuList"])])])]),j("div",C,[j("div",J,[j("div",M,y(l.$t("商品名称")),1),j("div",O,y(l.$t("状态")),1),j("div",W,y(l.$t("操作")),1)]),v((u(),d("div",X,[ua.value>0?(u(),d(f,{key:0},[(u(!0),d(f,null,g(pa.value,(a=>(u(),d("table",Y,[j("thead",Z,[j("tr",null,[j("th",B,[b(y(l.$t("订单号"))+"：",1),j("span",G,y(a.orderSn),1),r[2]||(r[2]=b()),r[3]||(r[3]=j("span",{class:"ml10"},null,-1)),b(y(l.$t("下单时间"))+"："+y(a.addTime)+" ",1),r[4]||(r[4]=j("span",{class:"ml10"},null,-1)),b(y(l.$t("总金额"))+"： ",1),c(x,{modelValue:a.totalAmount,"onUpdate:modelValue":t=>a.totalAmount=t,fontStyle:{color:"var(--price)"},showText:!1},null,8,["modelValue","onUpdate:modelValue"]),b(" ("+y(l.$t("运费"))+"： ",1),c(x,{modelValue:a.shippingFee,"onUpdate:modelValue":t=>a.shippingFee=t,fontStyle:{color:"#999"},showText:!1},null,8,["modelValue","onUpdate:modelValue"]),r[5]||(r[5]=b(" ) "))])])]),j("tbody",null,[j("tr",H,[j("td",null,[(u(!0),d(f,null,g(a.items,(a=>(u(),_(U,{title:a.productName,to:k(S)({path:"product",id:a.productId,sn:a.productSn}),class:"nuxt",target:"_blank"},{default:h((()=>[c(A,{src:("imageFormat"in l?l.imageFormat:k(I))(a.picThumb),class:"image",loading:"lazy"},null,8,["src"])])),_:2},1032,["title","to"])))),256))]),j("td",R,[a.invoiceData?(u(),d(f,{key:0},[0===a.invoiceData.status?(u(),d("span",aa,y(l.$t("待审核")),1)):1===a.invoiceData.status?(u(),d("span",ta,y(l.$t("通过")),1)):(u(),d("span",sa,y(l.$t("失败/作废")),1))],64)):(u(),d("span",oa,y(l.$t("可申请")),1))]),j("td",ea,[a.invoiceData?(u(),d(f,{key:0},[c(T,{params:{orderId:a.orderId,amount:a.balance,orderSn:a.orderSn,totalAmount:a.totalAmount,type:"info"},onLoadFilter:ja},{default:h((()=>[j("span",la,y(l.$t("查看")),1)])),_:2},1032,["params"]),2===a.invoiceData.status?(u(),d(f,{key:0},[r[6]||(r[6]=b("｜ ")),c(T,{params:{orderId:a.orderId,amount:a.balance,orderSn:a.orderSn,totalAmount:a.totalAmount,type:"reapply"},onLoadFilter:ja},{default:h((()=>[j("span",ra,y(l.$t("重新申请")),1)])),_:2},1032,["params"])],64)):z("",!0)],64)):(u(),_(T,{key:1,params:{orderId:a.orderId,amount:a.balance,orderSn:a.orderSn,totalAmount:a.totalAmount,type:"apply"},onLoadFilter:ja},{default:h((()=>[c(ya,{size:"small",type:"primary"},{default:h((()=>[b(y(l.$t("发票申请")),1)])),_:1})])),_:2},1032,["params"]))])])])])))),256)),j("div",ia,[c(k(D),{page:ca.page,"onUpdate:page":r[0]||(r[0]=a=>ca.page=a),size:ca.size,"onUpdate:size":r[1]||(r[1]=a=>ca.size=a),total:ua.value,onCallback:ja},null,8,["page","size","total"])])],64)):(u(),d("div",ma,[da.value?z("",!0):(u(),d("span",na,y(l.$t("还没有可申请订单")),1))]))])),[[ga,da.value]])])])]),c(fa)],64)}}}),[["__scopeId","data-v-d906290e"]]);export{pa as default};
