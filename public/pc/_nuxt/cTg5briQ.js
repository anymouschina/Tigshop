import{_ as R}from"./BYDV-pPC.js";import{_ as S}from"./uNNarvbF.js";import{_ as z}from"./DA1gAKyu.js";import{_ as H}from"./BX9e-DjI.js";import{E as L}from"./XomGKeK5.js";import{E as P,a as D}from"./CPhr9T1V.js";import{E as O}from"./lRlBa-wu.js";import{_ as T}from"./CzQrJ5jx.js";import{E as j}from"./yqEFMWm8.js";import{_ as Y}from"./BCw_XNK7.js";import{f as A,r as y,q as G,s as J,a8 as K,H as Q,Y as W,o as m,c as p,b as a,a as t,t as l,d as i,a5 as X,ai as Z,h as x,w as s,i as v,F as ee,m as $,_ as oe}from"./DvlzeZYf.js";import{a as ae,i as le,u as te}from"./BdaK_Mse.js";import"./CljOOE4N.js";import"./CPg1UVcC.js";import"./ctHFjQ9z.js";import"./6IjmK16v.js";import"./DXZCNwre.js";import"./BB_Ol6Sd.js";import"./BxwJi-A4.js";import"./CvS5MqkS.js";import"./B9SirqjL.js";import"./Cq9Fpw4b.js";import"./D5p5RYpQ.js";import"./DGzzo1G8.js";import"./DldgdBu3.js";import"./DCTLXrZ8.js";import"./De9iyrrl.js";import"./C3hftOhu.js";import"./CFi7q_x0.js";/* empty css        */import"./JPAiA_Rf.js";import"./DEXPT9kT.js";import"./BpsRniw3.js";import"./DrjGOYyT.js";import"./eXzid_I5.js";const se={class:"container flex"},ne={class:"menu"},re={class:"info-row"},ue={class:"title-or-tabs"},ie={class:"tag-and-input"},me={class:"tig-tabs"},pe={class:"invoice-info-content"},de={class:"tips"},ce={class:"font-color"},_e={class:"remind-box mt20"},ve={class:"i-mt"},fe={key:0,class:"gray"},be={key:1,class:"green"},ye={key:2,class:"orange"},$e={key:3,class:"red"},he={key:4},ge={key:1,class:"error-info"},Ve={key:0,class:"invoice-info-content"},ke={class:"title-tips"},we={key:1,class:"invoice-info-content"},Ie={class:"tips mb-tips"},Ee={class:"font-color"},Ue=A({__name:"Info",setup(Ce){const c=y(!1);G();const I=J([{value:"发票申请",url:"/member/orderInvoice/list",size:0},{value:"增票资质",url:"/member/userInvoice/info",size:0}]),h=y(!0),g=K(),o=y({}),V=async()=>{try{const e=await ae();Object.assign(o.value,e.item)}catch(e){$.error(e.message)}finally{h.value=!1}};Q(()=>{V()});const f=()=>{V(),c.value=!c.value,o.value.is_confirm=0},{t:k}=W(),E={is_confirm:[{required:!0,message:k("请勾选确认书"),trigger:"change"},{validator:(e,n,_)=>{n!==1?_(new Error(k("需要勾选确认才能继续"))):_()},trigger:"change"}]},U=async()=>{await g.value.validate();try{o.value.title_type=2,o.value.invoice_type=1,o.value.is_add=o.value.status==0?1:0;let e={};o.value.status===0?e=await le(o.value):e=await te({id:o.value.invoice_id,...o.value}),f(),$.success(e.message)}catch(e){$.error(e.message)}finally{}};return(e,n)=>{const _=R,C=S,q=z,F=H,b=L,r=P,w=D,d=O,N=T,B=j,M=Y;return m(),p(ee,null,[a(_),a(C,{title:"增票资质"}),t("div",se,[t("div",ne,[a(q)]),t("div",re,[t("div",ue,[t("div",ie,[t("div",me,[a(F,{menuList:I},null,8,["menuList"])])])]),t("div",pe,[t("div",de,[t("p",null,[t("strong",null,l(e.$t("温馨提示")),1)]),t("p",null,l(e.$t("我们会在一个工作日内完成审核工作"))+"。",1),t("p",null,[i("1）"+l(e.$t("资质审核结果查询时间"))+"：",1),t("span",ce,l(e.$t("资质上传一到两个工作日后即可查询"))+"。",1)]),t("p",null,"2）"+l(e.$t("注意有效增值税专用发票开票资质仅为一个"))+"。",1)]),X(t("div",_e,[t("div",ve,[t("strong",null,l(e.$t("您的增票资质"))+"：",1),o.value.status===0?(m(),p("span",fe,l(e.$t("未申请专用发票")),1)):o.value.status===1?(m(),p("span",be,l(e.$t("审核通过")),1)):o.value.status===2?(m(),p("span",ye,l(e.$t("已申请，待审核")),1)):o.value.status===3?(m(),p("span",$e,l(e.$t("审核未通过")),1)):(m(),p("span",he))]),h.value?v("",!0):(m(),x(b,{key:0,type:"primary",size:"small",class:"mt10",onClick:f},{default:s(()=>[i(l(o.value.status===0?e.$t("添加增票资质"):e.$t("修改并重新审核")),1)]),_:1})),o.value.status===3?(m(),p("div",ge,l(e.$t("审核失败原因"))+"："+l(o.value.apply_reply),1)):v("",!0)],512),[[Z,!c.value]])]),!c.value&&o.value.hasOwnProperty("company_name")?(m(),p("div",Ve,[t("div",ke,[t("li",null,l(e.$t("填写增票资质信息")),1)]),a(w,{"label-width":"auto",class:"form-body","label-suffix":"："},{default:s(()=>[a(r,{label:e.$t("单位名称")},{default:s(()=>[i(l(o.value.company_name),1)]),_:1},8,["label"]),a(r,{label:e.$t("纳税人识别码")},{default:s(()=>[i(l(o.value.company_code),1)]),_:1},8,["label"]),a(r,{label:e.$t("注册地址")},{default:s(()=>[i(l(o.value.company_address),1)]),_:1},8,["label"]),a(r,{label:e.$t("注册电话")},{default:s(()=>[i(l(o.value.company_phone),1)]),_:1},8,["label"]),a(r,{label:e.$t("开户银行")},{default:s(()=>[i(l(o.value.company_bank),1)]),_:1},8,["label"]),a(r,{label:e.$t("银行账户")},{default:s(()=>[i(l(o.value.company_account),1)]),_:1},8,["label"])]),_:1})])):v("",!0),c.value?(m(),p("div",we,[t("div",Ie,[t("span",null,[i(l(e.$t("填写增票资质信息"))+" ",1),t("span",Ee,"（"+l(e.$t("所有信息均为必填"))+"）",1)])]),a(w,{ref_key:"formRef",ref:g,"label-width":120,model:o.value,rules:E,class:"form-body","label-suffix":"："},{default:s(()=>[a(r,{rules:[{required:!0,message:e.$t("单位名称不能为空")}],label:e.$t("单位名称"),prop:"company_name"},{default:s(()=>[a(d,{modelValue:o.value.company_name,"onUpdate:modelValue":n[0]||(n[0]=u=>o.value.company_name=u),clearable:"",placeholder:e.$t("请输入单位名称")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),a(r,{rules:[{required:!0,message:e.$t("纳税人识别码不能为空")}],label:e.$t("纳税人识别码"),prop:"company_code"},{default:s(()=>[a(d,{modelValue:o.value.company_code,"onUpdate:modelValue":n[1]||(n[1]=u=>o.value.company_code=u),clearable:"",placeholder:e.$t("请输入纳税人识别码")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),a(r,{rules:[{required:!0,message:e.$t("注册地址不能为空")}],label:e.$t("注册地址"),prop:"company_address"},{default:s(()=>[a(d,{modelValue:o.value.company_address,"onUpdate:modelValue":n[2]||(n[2]=u=>o.value.company_address=u),clearable:"",placeholder:e.$t("请输入注册地址")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),a(r,{rules:[{required:!0,message:e.$t("注册电话不能为空")}],label:e.$t("注册电话"),prop:"company_phone"},{default:s(()=>[a(d,{modelValue:o.value.company_phone,"onUpdate:modelValue":n[3]||(n[3]=u=>o.value.company_phone=u),clearable:"",placeholder:e.$t("请输入注册电话")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),a(r,{rules:[{required:!0,message:e.$t("开户银行不能为空")}],label:e.$t("开户银行"),prop:"company_bank"},{default:s(()=>[a(d,{modelValue:o.value.company_bank,"onUpdate:modelValue":n[4]||(n[4]=u=>o.value.company_bank=u),clearable:"",placeholder:e.$t("请输入开户银行")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),a(r,{rules:[{required:!0,message:e.$t("银行账户不能为空")}],label:e.$t("银行账户"),prop:"company_account"},{default:s(()=>[a(d,{modelValue:o.value.company_account,"onUpdate:modelValue":n[5]||(n[5]=u=>o.value.company_account=u),clearable:"",placeholder:e.$t("请输入银行账户")},null,8,["modelValue","placeholder"])]),_:1},8,["rules","label"]),a(r,{label:"",prop:"is_confirm"},{default:s(()=>[a(B,{modelValue:o.value.is_confirm,"onUpdate:modelValue":n[6]||(n[6]=u=>o.value.is_confirm=u),"false-value":0,"true-value":1},{default:s(()=>[i(l(e.$t("我已阅读并同意"))+" ",1),a(N,{class:"font-color",target:"_blank",to:"/member/userInvoice/confirmInfo"},{default:s(()=>[i("《"+l(e.$t("增票资质确认书"))+"》",1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(r,{label:""},{default:s(()=>[a(b,{type:"primary",onClick:U},{default:s(()=>[i(l(e.$t("确认")),1)]),_:1}),a(b,{onClick:f},{default:s(()=>[i(l(e.$t("取消")),1)]),_:1})]),_:1})]),_:1},8,["model"])])):v("",!0)])]),a(M)],64)}}}),mo=oe(Ue,[["__scopeId","data-v-91aa1d01"]]);export{mo as default};
