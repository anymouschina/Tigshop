import{K as e,M as a,N as t,e as l,P as i,c as s,o as r,m as n,h as o,i as c,d3 as u,v as d,a_ as v,r as p,y as m,Q as y,a3 as g,a6 as f,be as k,a4 as h,F as b,l as j,b as w,aX as T,d4 as _,ad as x,ac as I,aj as $,s as z,g as N,a as L,w as S,E as q,j as F,t as R,d as E,n as O,_ as P}from"./vO8z_6wc.js";import{_ as B}from"./DRy-t1KR.js";import{E as M}from"./Gg6iJLt9.js";import{a as H,g as Q}from"./BObY0uY-.js";import{P as U}from"./DGiXcmvN.js";import"./CKVP4sCQ.js";import"./123WnbAt.js";import"./C_yTnQv7.js";import"./CdIa5lAL.js";import"./DgmxjSXK.js";import"./D_Dr4eZ1.js";import"./VsleDggW.js";import"./B0jPhJeY.js";import"./BwRzfsZt.js";import"./duVALuQ5.js";import"./DqoL2U0I.js";const A=e({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:a([Number,Object])}}),C=e({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),J=l({name:"ElSkeletonItem"});var K=t(l({...J,props:C,setup(e){const a=i("skeleton");return(e,t)=>(r(),s("div",{class:d([c(a).e("item"),c(a).e(e.variant)])},["image"===e.variant?(r(),n(c(u),{key:0})):o("v-if",!0)],2))}}),[["__file","skeleton-item.vue"]]);const V=l({name:"ElSkeleton"});const X=x(t(l({...V,props:A,setup(e,{expose:a}){const t=e,l=i("skeleton"),u=((e,a=0)=>{if(0===a)return e;const t=v(a)&&Boolean(a.initVal),l=p(t);let i=null;const s=a=>{f(a)?l.value=e.value:(i&&clearTimeout(i),i=setTimeout((()=>{l.value=e.value}),a))},r=e=>{"leading"===e?g(a)?s(a):s(a.leading):v(a)?s(a.trailing):l.value=!1};return m((()=>r("leading"))),y((()=>e.value),(e=>{r(e?"leading":"trailing")})),l})(k(t,"loading"),t.throttle);return a({uiLoading:u}),(e,a)=>c(u)?(r(),s("div",T({key:0,class:[c(l).b(),c(l).is("animated",e.animated)]},e.$attrs),[(r(!0),s(b,null,j(e.count,(a=>(r(),s(b,{key:a},[c(u)?h(e.$slots,"template",{key:a},(()=>[w(K,{class:d(c(l).is("first")),variant:"p"},null,8,["class"]),(r(!0),s(b,null,j(e.rows,(a=>(r(),n(K,{key:a,class:d([c(l).e("paragraph"),c(l).is("last",a===e.rows&&e.rows>1)]),variant:"p"},null,8,["class"])))),128))])):o("v-if",!0)],64)))),128))],16)):h(e.$slots,"default",_(T({key:1},e.$attrs)))}}),[["__file","skeleton.vue"]]),{SkeletonItem:K});I(K);const D={key:0,class:"article-list"},G={class:"col"},W={key:0},Y={class:"right"},Z={class:"col1"},ee={key:0,class:"tips"},ae={class:"col-title"},te={class:"col2"},le={class:"col3"},ie={key:0,class:"time-div"},se={class:"el-page"},re={key:1,class:"loading-data"},ne={class:"loading-bottom"},oe={key:0,class:"article-info"},ce={class:"text-content"},ue={class:"title"},de={class:"time"},ve={key:0,class:"article_content"},pe=["innerHTML"],me={key:1,class:"no-content-data"},ye={class:"navigation"},ge={class:"navigation-btn navigation-btn-left"},fe={class:"text"},ke={class:"navigation-btn navigation-btn-right"},he={class:"text"},be={key:1,class:"loading-data"},je=P(l({__name:"Info",props:{articleName:{type:String,default:""},productList:{type:Array,default:[]}},emits:["update:articleName","update:productList"],setup(e,{emit:a}){const t=$(),l=z((()=>t.currentRoute.value.query.hasOwnProperty("articleId")?"article":t.currentRoute.value.query.hasOwnProperty("categoryId")?"list":"none")),i=p({}),u=p(),d=p(!0),v=p(0),m=N({page:1,size:10,categorySn:""}),g=a,f=async()=>{try{if(d.value=!0,g("update:articleName",""),g("update:productList",[]),"article"===l.value){const e=await H({id:t.currentRoute.value.query.articleId},"newsInfo");Object.assign(i.value,e.item),i.value.prev=e.prev,i.value.next=e.next,g("update:articleName",i.value.articleTitle),g("update:productList",e.productList)}else if("list"===l.value){let e=t.currentRoute.value.query.categoryId;"string"==typeof e&&(m.categorySn=e);const a=await Q({...m});u.value=a.records,v.value=a.total}else if("none"===l.value){m.categorySn="zxzx";const e=await Q({...m});u.value=e.records,v.value=e.total}}catch(e){O.error(e.message)}finally{d.value=!1}};return y((()=>t.currentRoute.value.query),(e=>{f()}),{deep:!0,immediate:!0}),(e,a)=>{var t;const p=q,y=B,g=M,k=X;return r(),s("div",null,["list"===c(l)||"none"===c(l)?(r(),s(b,{key:0},[d.value?(r(),s("div",re,[(r(),s(b,null,j(3,(e=>L("div",ne,[w(k,{rows:2,animated:""})]))),64))])):(r(),s("div",D,[(null==(t=u.value)?void 0:t.length)>0?(r(),s(b,{key:0},[(r(!0),s(b,null,j(u.value,(a=>(r(),s("div",G,[a.articleThumb?(r(),s("div",W,[w(y,{to:"/article/news/list?articleId="+a.articleId},{default:S((()=>[w(p,{src:("imageFormat"in e?e.imageFormat:c(F))(a.articleThumb),fit:"cover",loading:"lazy",style:{transition:"opacity 0.2s linear",width:"120px",height:"80px"}},null,8,["src"])])),_:2},1032,["to"])])):o("",!0),L("div",Y,[L("div",Z,[a.articleTag?(r(),s("div",ee,R(a.articleTag),1)):o("",!0),L("div",ae,[w(y,{to:"/article/news/list?articleId="+a.articleId},{default:S((()=>[E(R(a.articleTitle),1)])),_:2},1032,["to"])])]),L("div",te,R(a.description),1),L("div",le,[a.addTime?(r(),s("div",ie,R(a.addTime),1)):o("",!0),a.link?(r(),n(y,{key:1,to:a.link,class:"link-div"},{default:S((()=>[E(R(e.$t("相关链接")),1)])),_:2},1032,["to"])):o("",!0)])])])))),256)),L("div",se,[w(c(U),{page:m.page,"onUpdate:page":a[0]||(a[0]=e=>m.page=e),size:m.size,"onUpdate:size":a[1]||(a[1]=e=>m.size=e),total:v.value,onCallback:f},null,8,["page","size","total"])])],64)):(r(),n(g,{key:1,description:e.$t("没有内容")},null,8,["description"]))]))],64)):"article"===c(l)?(r(),s(b,{key:1},[d.value?(r(),s("div",be,[w(k,{rows:5,animated:""})])):(r(),s("div",oe,[L("div",ce,[L("div",ue,R(i.value.articleTitle),1),L("div",de,R(e.$t("时间"))+"："+R(i.value.addTime),1),i.value.content?(r(),s("div",ve,[i.value.articleThumb?(r(),n(p,{key:0,src:("imageFormat"in e?e.imageFormat:c(F))(i.value.articleThumb),fit:"cover",loading:"lazy",style:{transition:"opacity 0.2s linear",width:"300px"}},null,8,["src"])):o("",!0),L("div",{class:"v-html",innerHTML:i.value.content},null,8,pe)])):(r(),s("div",me,[w(g,{description:e.$t("没有内容")},null,8,["description"])]))]),L("div",ye,[L("div",ge,[i.value.prev?(r(),n(y,{key:0,to:"/article/news/list?articleId="+i.value.prev.articleId},{default:S((()=>[E("«"+R(e.$t("上一篇"))+"： ",1),L("div",fe,R(i.value.prev.articleTitle),1)])),_:1},8,["to"])):o("",!0)]),L("div",ke,[i.value.next?(r(),n(y,{key:0,to:"/article/news/list?articleId="+i.value.next.articleId},{default:S((()=>[E(R(e.$t("下一篇"))+"： ",1),L("div",he,R(i.value.next.articleTitle),1),a[2]||(a[2]=E(" » "))])),_:1},8,["to"])):o("",!0)])])]))],64)):o("",!0)])}}}),[["__scopeId","data-v-85602b5c"]]);export{je as default};
