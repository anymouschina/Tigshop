import{f as P,q as S,v as B,r as b,s as C,g as I,o as e,c as s,j as _,F as m,l as q,a as o,b as d,h as g,t as l,x as R,i as n,w as y,d as h,m as T,y as V,_ as O}from"./DvlzeZYf.js";import{_ as j}from"./CzQrJ5jx.js";import{E as H}from"./oHjyL5Tq.js";import{E as M}from"./C_SxZECu.js";import{a as U,g as $}from"./BjLgIICr.js";import{P as D}from"./DpiGic3x.js";import"./CvS5MqkS.js";import"./D5p5RYpQ.js";import"./DGzzo1G8.js";import"./BxwJi-A4.js";import"./DldgdBu3.js";import"./DCTLXrZ8.js";import"./Cq9Fpw4b.js";import"./De9iyrrl.js";import"./C3hftOhu.js";import"./BB_Ol6Sd.js";import"./lRlBa-wu.js";import"./B9SirqjL.js";const G={style:{display:"flex",height:"100%"}},J={key:0,class:"article-list"},K={class:"col"},Q={key:0},W={class:"right"},X={class:"col1"},Y={key:0,class:"tips"},Z={class:"col-title"},tt={class:"col2"},et={class:"col3"},at={key:0,class:"time-div"},it={class:"el-page"},st={key:1,class:"loading-data"},ot={class:"loading-bottom"},lt={key:0,class:"article-info"},rt={class:"text-content"},nt={class:"title"},ct={class:"time"},dt={key:0,class:"article_content"},ut=["innerHTML"],_t={key:1,class:"no-content-data"},pt={class:"navigation"},vt={class:"navigation-btn navigation-btn-left"},mt={class:"text"},gt={class:"navigation-btn navigation-btn-right"},yt={class:"text"},ht={key:1,class:"loading-data"},ft=P({__name:"Info",props:{articleName:{type:String,default:""},productList:{type:Array,default:[]}},emits:["update:articleName","update:productList"],setup(kt,{emit:A}){const p=S(),u=B(()=>p.currentRoute.value.query.hasOwnProperty("article_id")?"article":p.currentRoute.value.query.hasOwnProperty("category_id")?"list":"none"),i=b({}),f=b(),k=b(!0),x=b(0),r=C({page:1,size:10,category_sn:""}),w=A,z=async()=>{try{if(k.value=!0,w("update:articleName",""),w("update:productList",[]),u.value==="article"){const t=await U({id:p.currentRoute.value.query.article_id},"news_info");Object.assign(i.value,t.item),i.value.prev=t.prev,i.value.next=t.next,w("update:articleName",i.value.article_title),w("update:productList",t.item.product_list)}else if(u.value==="list"){let t=p.currentRoute.value.query.category_id;typeof t=="string"&&(r.category_sn=t);const c=await $({...r});f.value=c.filter_result,x.value=c.total}else if(u.value==="none"){r.category_sn="zxzx";const t=await $({...r});f.value=t.filter_result,x.value=t.total}}catch(t){T.error(t.message)}finally{k.value=!1}};return I(()=>p.currentRoute.value.query,t=>{z()},{deep:!0,immediate:!0}),(t,c)=>{var F;const L=V,v=j,N=H,E=M;return e(),s("div",G,[_(u)==="list"||_(u)==="none"?(e(),s(m,{key:0},[k.value?(e(),s("div",st,[(e(),s(m,null,q(3,a=>o("div",ot,[d(E,{rows:2,animated:""})])),64))])):(e(),s("div",J,[((F=f.value)==null?void 0:F.length)>0?(e(),s(m,{key:0},[(e(!0),s(m,null,q(f.value,a=>(e(),s("div",K,[a.article_thumb?(e(),s("div",Q,[d(v,{to:"/article/news/list?article_id="+a.article_id},{default:y(()=>[d(L,{src:("imageFormat"in t?t.imageFormat:_(R))(a.article_thumb),fit:"cover",loading:"lazy",style:{transition:"opacity 0.2s linear",width:"120px",height:"80px"}},null,8,["src"])]),_:2},1032,["to"])])):n("",!0),o("div",W,[o("div",X,[a.article_tag?(e(),s("div",Y,l(a.article_tag),1)):n("",!0),o("div",Z,[d(v,{to:"/article/news/list?article_id="+a.article_id},{default:y(()=>[h(l(a.article_title),1)]),_:2},1032,["to"])])]),o("div",tt,l(a.description),1),o("div",et,[a.add_time?(e(),s("div",at,l(a.add_time),1)):n("",!0),a.link?(e(),g(v,{key:1,to:a.link,class:"link-div"},{default:y(()=>[h(l(t.$t("相关链接")),1)]),_:2},1032,["to"])):n("",!0)])])]))),256)),o("div",it,[d(_(D),{page:r.page,"onUpdate:page":c[0]||(c[0]=a=>r.page=a),size:r.size,"onUpdate:size":c[1]||(c[1]=a=>r.size=a),total:x.value,onCallback:z},null,8,["page","size","total"])])],64)):(e(),g(N,{key:1,description:t.$t("没有内容")},null,8,["description"]))]))],64)):_(u)==="article"?(e(),s(m,{key:1},[k.value?(e(),s("div",ht,[d(E,{rows:5,animated:""})])):(e(),s("div",lt,[o("div",rt,[o("div",nt,l(i.value.article_title),1),o("div",ct,l(t.$t("时间"))+"："+l(i.value.add_time),1),i.value.content?(e(),s("div",dt,[i.value.article_thumb?(e(),g(L,{key:0,src:("imageFormat"in t?t.imageFormat:_(R))(i.value.article_thumb),fit:"cover",loading:"lazy",style:{transition:"opacity 0.2s linear",width:"300px"}},null,8,["src"])):n("",!0),o("div",{class:"v-html",innerHTML:i.value.content},null,8,ut)])):(e(),s("div",_t,[d(N,{description:t.$t("没有内容")},null,8,["description"])]))]),o("div",pt,[o("div",vt,[i.value.prev?(e(),g(v,{key:0,to:"/article/news/list?article_id="+i.value.prev.article_id},{default:y(()=>[h("«"+l(t.$t("上一篇"))+"： ",1),o("div",mt,l(i.value.prev.article_title),1)]),_:1},8,["to"])):n("",!0)]),o("div",gt,[i.value.next?(e(),g(v,{key:0,to:"/article/news/list?article_id="+i.value.next.article_id},{default:y(()=>[h(l(t.$t("下一篇"))+"： ",1),o("div",yt,l(i.value.next.article_title),1),h(" » ")]),_:1},8,["to"])):n("",!0)])])]))],64)):n("",!0)])}}}),Vt=O(ft,[["__scopeId","data-v-cab348f2"]]);export{Vt as default};
