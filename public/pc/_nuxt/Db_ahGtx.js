import{b as s}from"./kUOzVTvd.js";import{_ as a}from"./9TMjRzGO.js";import{_ as e}from"./DHZet8FK.js";import{e as t,z as i,am as l,r as o,y as r,g as n,n as c,c as p,o as u,b as m,a as d,w as v,E as _,i as f,j as y,an as g,h,t as j,B as b,d as w,F as k,ao as $,k as x,v as V,l as O,q as z,ae as U,_ as F}from"./BLNaUqdG.js";import{E as L}from"./TpWzRMhr.js";import{_ as C}from"./CScYj7Fy.js";import{_ as I}from"./DGSQZaL6.js";import{_ as S}from"./5svRUhIg.js";import{E}from"./CK-rvtuG.js";import{_ as N}from"./DqAohYkb.js";import{_ as P}from"./zM3V5R1F.js";import{u as M,g as R,a as q}from"./D-E-9YUO.js";import{g as Q}from"./QYRrvKl2.js";import{b as B,n as J}from"./CdUPjuAS.js";import"./Bp2G0jMz.js";import"./C8IqyEYy.js";import"./ClnUiH43.js";import"./BWAJcOoD.js";import"./losdC6Ud.js";import"./BwRzfsZt.js";import"./CxZS6lgh.js";import"./D_Dr4eZ1.js";import"./CQcoTD7x.js";import"./D5ZJ33IS.js";import"./DlIXSNl1.js";import"./DSwxsogY.js";import"./CDEbyP9X.js";import"./DIIF5iVx.js";import"./rSOsbbvW.js";import"./DgmxjSXK.js";import"./C8qdh5cF.js";import"./4WcqWuuL.js";import"./DE8qoeTi.js";import"./BucM0pco.js";import"./BX08AvzU.js";import"./C8QNSlsX.js";import"./b_4_U_AZ.js";import"./DxiXPFL-.js";import"./DmeNR82d.js";/* empty css        */const K={class:"container flex"},T={class:"menu"},W={class:"info-row"},X={class:"user-info"},Y={class:"image-div"},Z={class:"user-col"},A={class:"username"},D={key:0},G=["src"],H=["src"],ss={class:"user_rank",style:{margin:"0 0 0 10px"}},as={class:"user-span-info"},es={class:"font-color"},ts={class:"user-span-info"},is={class:"verify"},ls={key:2,style:{"margin-left":"15px"}},os={class:"right-info"},rs={class:"ico-page"},ns={class:"mes_name"},cs={class:"mes_name"},ps={class:"ico-page"},us={class:"mes_name"},ms={class:"mes_name"},ds={class:"ico-page"},vs={class:"mes_name"},_s={class:"mes_name"},fs={class:"ico-page"},ys={class:"mes_name"},gs={class:"mes_name"},hs={class:"title-or-tabs bw"},js={class:"page-info-body"},bs={class:"swiper_box"},ws={class:"tab_list"},ks={key:0,class:"cheap_prod"},$s={class:"tab-list flex-wrap"},xs={class:"item"},Vs={class:"text-ellipsis"},Os={key:0,class:"no-result",style:{height:"319px"}},zs={key:1,class:"cheap_prod"},Us={class:"tab-list flex-wrap"},Fs={class:"item"},Ls={class:"text-ellipsis"},Cs={key:0,class:"no-result",style:{height:"319px"}},Is=F(t({__name:"index",setup(t){const{t:F}=i(),Is=l(),Ss=(s,a)=>{Ms.value.avatar=URL.createObjectURL(a.raw)},Es=M();Es.getUserInfo();const Ns=o(1),Ps=o({autoplay:!1,navigation:!0,effect:"slide",loop:!0}),Ms=o({}),Rs=()=>{U("/member/userCertification/info")};r((()=>{(async()=>{try{const s=await q();Object.assign(Ms.value,s.item)}catch(s){c.error(s.message)}})(),Js()}));const qs=o([]),Qs=n({page:1,size:15,sort_field:"",sort_order:"",keyword:""}),Bs=o([]),Js=async()=>{try{const s=await R({...Qs});Bs.value.push(...Ks(s.list))}catch(s){c.error(s.message)}};(async()=>{try{const s=await Q({...Qs});s.filter_result.length>0&&qs.value.push(...Ks(s.filter_result))}catch(s){c.error(s.message)}})();const Ks=s=>{let a=[];for(let e=0;e<s.length;e+=5){let t=s.slice(e,e+5);a.push(t)}return a};return(t,i)=>{const l=s,o=a,r=e,n=_,c=L,U=C,F=I,M=S,R=E,q=N,Q=P;return u(),p(k,null,[m(l),m(o,{title:"会员中心"}),d("div",K,[d("div",T,[m(r)]),d("div",W,[d("div",X,[d("div",Y,[m(c,{action:f(g).prefix+"/user/user/modify_avatar",headers:f(Is),"on-success":Ss,"show-file-list":!1,class:"avatar-uploader"},{default:v((()=>[m(n,{src:("imageFormat"in t?t.imageFormat:f(y))(Ms.value.avatar),alt:""},null,8,["src"])])),_:1},8,["action","headers"])]),d("div",Z,[d("div",A,[d("span",null,j(f(Es).userInfo.nickname?f(Es).userInfo.nickname:f(Es).userInfo.dim_username),1),f(b)()?(u(),p("div",D,[Number(Ms.value.is_company_auth)>0?(u(),p("img",{key:0,class:"auth-icon",src:f(B),onClick:Rs},null,8,G)):(u(),p("img",{key:1,class:"auth-icon",src:f(J),onClick:Rs},null,8,H))])):h("",!0),d("span",ss,[m(n,{src:Ms.value.rank_ico,style:{width:"20px"}},null,8,["src"])])]),d("div",as,[d("span",null,j(t.$t("积分"))+"：",1),d("span",es,j(Ms.value.points?Ms.value.points:"-"),1),w(j(t.$t("分")),1)]),d("div",ts,[d("span",null,j(t.$t("余额"))+"：",1),m(U,{modelValue:Ms.value.balance,"onUpdate:modelValue":i[0]||(i[0]=s=>Ms.value.balance=s),fontStyle:{color:"var(--price)"},showText:!1},null,8,["modelValue"]),m(F,{class:"ml10",to:"/member/account/deposit"},{default:v((()=>[w("["+j(t.$t("去充值"))+"]",1)])),_:1})]),d("div",is,[Number(Ms.value.mobile_validated)>0?(u(),p(k,{key:0},[i[5]||(i[5]=d("i",{class:"iconfont-pc icon-shoujiyiyanzheng has"},null,-1)),d("span",null,j(t.$t("手机已验证")),1)],64)):(u(),p(k,{key:1},[i[6]||(i[6]=d("i",{class:"iconfont-pc icon-shoujiweiyanzheng no"},null,-1)),m(F,{to:"/member/security/info"},{default:v((()=>[w(j(t.$t("手机未验证(立即验证)")),1)])),_:1})],64)),("isPro"in t?t.isPro:f($))()&&!("isOverseas"in t?t.isOverseas:f(x))()?(u(),p("div",ls,[Number(Ms.value.is_company_auth)>0?(u(),p(k,{key:0},[i[7]||(i[7]=d("i",{class:"iconfont-pc icon-shimingrenzheng has"},null,-1)),m(F,{to:"/member/userCertification/info"},{default:v((()=>[w(j(t.$t("实名认证（已认证）")),1)])),_:1})],64)):(u(),p(k,{key:1},[i[8]||(i[8]=d("i",{class:"iconfont-pc icon-shimingrenzheng no"},null,-1)),m(F,{to:"/member/userCertification/info"},{default:v((()=>[w(j(t.$t("实名认证（未认证）")),1)])),_:1})],64))])):h("",!0)])]),i[13]||(i[13]=d("div",{class:"info-line"},[d("span",{class:"top-icon"}),d("span",{class:"bottom-icon"})],-1)),d("div",os,[m(F,{to:"/member/coupon/list"},{default:v((()=>[d("div",rs,[i[9]||(i[9]=d("div",{class:"coupon_pic pic"},null,-1)),d("div",ns,j(t.$t("优惠券")),1),d("div",cs,j(Ms.value.await_coupon?Ms.value.await_coupon:"0")+j(t.$t("张")),1)])])),_:1}),m(F,{to:"/member/order/list"},{default:v((()=>[d("div",ps,[i[10]||(i[10]=d("div",{class:"pay_pic pic"},null,-1)),d("div",us,j(t.$t("待付款")),1),d("div",ms,j(Ms.value.await_pay?Ms.value.await_pay:"0")+j(t.$t("单")),1)])])),_:1}),m(F,{to:"/member/order/list"},{default:v((()=>[d("div",ds,[i[11]||(i[11]=d("div",{class:"take_pic pic"},null,-1)),d("div",vs,j(t.$t("待发货")),1),d("div",_s,j(Ms.value.await_shipping?Ms.value.await_shipping:"0")+j(t.$t("单")),1)])])),_:1}),m(F,{to:"/member/order/list"},{default:v((()=>[d("div",fs,[i[12]||(i[12]=d("div",{class:"ass_pic pic"},null,-1)),d("div",ys,j(t.$t("待评价")),1),d("div",gs,j(Ms.value.await_comment?Ms.value.await_comment:"0")+j(t.$t("条")),1)])])),_:1})])]),d("div",hs,[d("span",null,j(t.$t("近期订单")),1),m(F,{class:"h4",to:"/member/order/list"},{default:v((()=>[w(j(t.$t("更多订单")),1),i[14]||(i[14]=d("i",{class:"iconfont-pc icon-jiantou_you"},null,-1))])),_:1})]),d("div",js,[m(M,{modelValue:0})]),d("div",bs,[d("div",ws,[d("div",{class:V([1==Ns.value?"active":"","tab"]),onMouseenter:i[1]||(i[1]=s=>Ns.value=1)},j(t.$t("最近收藏")),35),d("div",{class:V([2==Ns.value?"active":"","tab"]),onMouseenter:i[2]||(i[2]=s=>Ns.value=2)},j(t.$t("最近浏览")),35)]),1==Ns.value?(u(),p("div",ks,[m(q,{swiperOption:Ps.value,"onUpdate:swiperOption":i[3]||(i[3]=s=>Ps.value=s),itemList:qs.value},{default:v((({item:s})=>[d("div",$s,[(u(!0),p(k,null,O(s,(s=>(u(),p("div",xs,[m(F,{title:s.product_name,to:f(z)({path:"product",id:s.product_id,sn:s.product_sn}),class:"nuxt",target:"_blank"},{default:v((()=>[m(n,{src:("imageFormat"in t?t.imageFormat:f(y))(s.pic_thumb),class:"pro_pic",loading:"lazy",style:{transition:"opacity 0.2s linear"}},null,8,["src"]),d("div",null,[d("div",Vs,j(s.product_name),1)])])),_:2},1032,["title","to"]),d("p",null,[m(U,{modelValue:s.product_price,"onUpdate:modelValue":a=>s.product_price=a,fontStyle:{fontSize:"14px",color:"var(--price)"}},null,8,["modelValue","onUpdate:modelValue"])]),m(F,{to:f(z)({path:"product",id:s.product_id,sn:s.product_sn}),target:"_blank"},{default:v((()=>[m(R,{type:"primary"},{default:v((()=>[w(j(t.$t("立即购买")),1)])),_:1})])),_:2},1032,["to"])])))),256))])])),_:1},8,["swiperOption","itemList"]),0===qs.value.length?(u(),p("div",Os,j(t.$t("暂无数据")),1)):h("",!0)])):(u(),p("div",zs,[m(q,{swiperOption:Ps.value,"onUpdate:swiperOption":i[4]||(i[4]=s=>Ps.value=s),itemList:Bs.value},{default:v((({item:s})=>[d("div",Us,[(u(!0),p(k,null,O(s,(s=>(u(),p("div",Fs,[m(F,{title:s.product_name,to:f(z)({path:"product",id:s.product_id,sn:s.product_sn}),class:"nuxt",target:"_blank"},{default:v((()=>[m(n,{src:("imageFormat"in t?t.imageFormat:f(y))(s.pic_thumb),class:"pro_pic",loading:"lazy",style:{transition:"opacity 0.2s linear"}},null,8,["src"]),d("div",null,[d("div",Ls,j(s.product_name),1)])])),_:2},1032,["title","to"]),d("p",null,[m(U,{modelValue:s.product_price,"onUpdate:modelValue":a=>s.product_price=a,fontStyle:{fontSize:"14px",color:"var(--price)"}},null,8,["modelValue","onUpdate:modelValue"])]),m(F,{to:f(z)({path:"product",id:s.product_id,sn:s.product_sn}),target:"_blank"},{default:v((()=>[m(R,{type:"primary"},{default:v((()=>[w(j(t.$t("立即购买")),1)])),_:1})])),_:2},1032,["to"])])))),256))])])),_:1},8,["swiperOption","itemList"]),0===Bs.value.length?(u(),p("div",Cs,j(t.$t("暂无数据")),1)):h("",!0)]))])])]),m(Q,{type:2,bg:"#fff"})],64)}}}),[["__scopeId","data-v-eaafa6a0"]]);export{Is as default};
