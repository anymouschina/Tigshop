import{_ as s}from"./DIcT5qlW.js";import{b as l}from"./Bx_3tXOW.js";import{e as a,r as t,g as o,c as i,o as e,a as r,b as c,h as p,F as d,l as m,w as n,E as u,i as j,j as v,t as k,q as g,m as _,p as f,n as y,_ as S}from"./vO8z_6wc.js";import{_ as b}from"./DRy-t1KR.js";import{_ as h}from"./4BWvF7DS.js";import{_ as z,a as $}from"./B6kpiin_.js";import{P as x}from"./DGiXcmvN.js";import"./DEtxbcwL.js";import"./B3kMr2Om.js";import"./BG07ctRk.js";import"./Ctuj9lAE.js";import"./ExFuuhw5.js";import"./OZUBBuO3.js";import"./DqoL2U0I.js";import"./CdIa5lAL.js";import"./CKVP4sCQ.js";import"./6_reTNGa.js";import"./BwRzfsZt.js";import"./D_Dr4eZ1.js";import"./123WnbAt.js";import"./C_yTnQv7.js";import"./DgmxjSXK.js";import"./VsleDggW.js";import"./B0jPhJeY.js";import"./C0xcqOw0.js";/* empty css        */import"./pBde3eXe.js";import"./duVALuQ5.js";import"./YLitFIRx.js";import"./C8tVKSc2.js";import"./y2YKyhRU.js";const P={style:{"background-color":"#f9f9f9"}},U={class:"seckill-con"},V={class:"container"},w={class:"seckill-product-ist"},F={class:"seckill_mod_product"},I={class:"text-ellipsis"},M={class:"tips"},N={class:"operation"},q={class:"price"},C={class:"price1"},E={class:"sell"},J={class:"progress-bar"},K={class:"buy"},L={key:1,class:"buy seckill_sold_out"},O={key:0,class:"el-page"},Q=S(a({__name:"List",setup(a){const S=t([]),Q=t(!0),T=t(0),W=o({page:1}),X=async()=>{Q.value=!0;try{const s=await $({...W});S.value=s.records,T.value=s.total}catch(s){y.error(s.message)}finally{Q.value=!1}};return X(),(a,t)=>{const o=s,y=l,$=u,Y=b,Z=h,A=z;return e(),i(d,null,[r("div",P,[c(o,{title:"限时秒杀"}),c(y),r("div",U,[t[2]||(t[2]=r("div",{class:"slogan"},null,-1)),r("div",V,[r("div",w,[r("ul",null,[(e(!0),i(d,null,m(S.value,(s=>(e(),i("li",F,[c(Y,{title:s.productName,to:j(g)({path:"product",id:s.productId,sn:s.skuSn||s.productSn}),class:"nuxt",target:"_blank"},{default:n((()=>[c($,{src:("imageFormat"in a?a.imageFormat:j(v))(s.picThumb),class:"pro_pic",loading:"lazy",style:{transition:"opacity 0.2s linear"}},null,8,["src"]),r("div",null,[r("div",I,k(s.productName),1),r("div",M,k(a.$t("限时秒杀 抢先提醒")),1)])])),_:2},1032,["title","to"]),r("div",N,[r("div",q,[r("div",C,[c(Z,{modelValue:s.seckillPrice,"onUpdate:modelValue":l=>s.seckillPrice=l,fontStyle:{fontSize:"24px",color:"var(--general"}},null,8,["modelValue","onUpdate:modelValue"])]),r("div",E,[r("div",null,k(a.$t("已售"))+k(Math.round(s.seckillSales/(s.seckillStock+s.seckillSales)*100))+"%",1),r("div",J,[r("div",{class:"progress",style:f({width:Math.round(s.seckillSales/(s.seckillStock+s.seckillSales)*100)+"%"})},null,4)])])]),s.seckillStock>0?(e(),_(Y,{key:0,title:s.productName,to:j(g)({path:"product",id:s.productId,sn:s.skuSn||s.productSn}),class:"",target:"_blank"},{default:n((()=>[r("div",K,k(a.$t("立即抢购")),1)])),_:2},1032,["title","to"])):(e(),i("div",L,k(a.$t("已抢完")),1))])])))),256))])]),S.value.length>0&&!Q.value?(e(),i("div",O,[c(j(x),{page:W.page,"onUpdate:page":t[0]||(t[0]=s=>W.page=s),size:W.size,"onUpdate:size":t[1]||(t[1]=s=>W.size=s),total:T.value,onCallback:X},null,8,["page","size","total"])])):p("",!0)])])]),c(A,{mt30:!1})],64)}}}),[["__scopeId","data-v-77cf6297"]]);export{Q as default};
