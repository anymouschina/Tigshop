import{S}from"./DWfSXXqD.js";import"./BMKQ3sGo.js";import{f as B,r as _,s as R,H as U,m as v,o as f,c as b,a as r,h as V,w as l,b as s,j as N,i as x,cY as q,cZ as F,c_ as L,p as A,e as D,_ as E}from"./DvlzeZYf.js";import"./DEXPT9kT.js";import{g as j,u as O}from"./Dl9WVn6d.js";import"./BB_Ol6Sd.js";import"./CvS5MqkS.js";import"./DCTLXrZ8.js";import"./B9SirqjL.js";import"./BpsRniw3.js";import"./Cq9Fpw4b.js";const H=i=>(A("data-v-4853eb42"),i=i(),D(),i),M={class:"modal_region_box"},Y={class:"address_from"},Z={class:"from_item"},z=H(()=>r("div",{class:"tit"},null,-1)),G={class:"btn_box"},J=B({__name:"EditRegion",props:{id:Number,act:String,isDialog:Boolean,addressId:{type:Number,default:0},showClose:{type:Boolean,default:!0}},emits:["submitCallback","update:confirmLoading","close","change"],setup(i,{expose:h,emit:w}){const m=w,u=i;_(!1);const e=R({consignee:"",region_ids:[],region_names:[]}),p=_(!0);U(()=>{u.addressId>0?y():p.value=!1});const y=async()=>{try{const o=await j(u.addressId);Object.assign(e,o.item)}catch(o){v.error(o.message)}finally{p.value=!1}},c=_(null),g=async()=>{await c.value.validate();try{m("update:confirmLoading",!0);const o=await O(e);m("submitCallback",o.address_id)}catch(o){v.error(o.message)}finally{m("update:confirmLoading",!1)}},k=()=>{c.value.validateFields(["region_ids"])},C=()=>{m("close")};return h({onFormSubmit:()=>{g()}}),(o,a)=>{const d=q,n=F,I=L;return f(),b("div",null,[r("div",M,[p.value?x("",!0):(f(),V(I,{key:0,model:e,name:"basic","label-col":{span:3},"wrapper-col":{span:16},autocomplete:"off",ref_key:"formRef",ref:c},{default:l(()=>[s(n,{label:"收货人：",name:"consignee",rules:[{required:!0,message:"请您填写收货人姓名"}]},{default:l(()=>[s(d,{value:e.consignee,"onUpdate:value":a[0]||(a[0]=t=>e.consignee=t),style:{width:"300px"},maxlength:20},null,8,["value"])]),_:1}),s(n,{label:"所在地区：",name:"region_ids",rules:[{required:!0,message:"请选择收货人所在地区"}],autoLink:""},{default:l(()=>[s(N(S),{modelValue:e.region_ids,"onUpdate:modelValue":a[1]||(a[1]=t=>e.region_ids=t),onChange:k},null,8,["modelValue"])]),_:1}),s(n,{label:"详细地址：",name:"address",rules:[{required:!0,message:"请您填写详细收货地址"},{min:3,message:"收货人地址过短"}]},{default:l(()=>[s(d,{value:e.address,"onUpdate:value":a[2]||(a[2]=t=>e.address=t),style:{width:"300px"},maxlength:100},null,8,["value"])]),_:1}),s(n,{label:"手机号码：",name:"mobile",rules:[{required:!0,message:"请您填写收货人手机号码"}],extra:""},{default:l(()=>[s(d,{value:e.mobile,"onUpdate:value":a[3]||(a[3]=t=>e.mobile=t),style:{width:"300px"},maxlength:20},null,8,["value"])]),_:1}),s(n,{label:"固定电话：",name:"telephone",rules:[],"wrapper-col":{span:8},extra:""},{default:l(()=>[s(d,{value:e.telephone,"onUpdate:value":a[4]||(a[4]=t=>e.telephone=t),style:{width:"300px"},maxlength:20},null,8,["value"])]),_:1}),s(n,{label:"邮箱地址：",name:"email",rules:[],"wrapper-col":{span:8}},{default:l(()=>[s(d,{value:e.email,"onUpdate:value":a[5]||(a[5]=t=>e.email=t),style:{width:"300px"},maxlength:50},null,8,["value"])]),_:1})]),_:1},8,["model"])),r("div",Y,[r("div",Z,[z,r("div",G,[r("div",{class:"btn",onClick:g},"确认修改地址"),u.showClose?(f(),b("div",{key:0,class:"btn info",onClick:C},"取消")):x("",!0)])])])])])}}}),le=E(J,[["__scopeId","data-v-4853eb42"]]);export{le as default};
