import{b as e}from"./kUOzVTvd.js";import{_ as s}from"./BPBkUkBG.js";import{_ as o}from"./zM3V5R1F.js";import{a}from"./BRCyU_Tu.js";import{C as t}from"./CRpCtz88.js";import{e as r,f as p,z as i,s as m,r as l,u,G as d,g as n,aj as j,Q as c,c as y,o as v,F as h,b as _,h as f,a as w,l as g,m as k,i as b,aO as I,_ as q}from"./BLNaUqdG.js";import"./CdUPjuAS.js";import"./DGSQZaL6.js";import"./CScYj7Fy.js";import"./D-E-9YUO.js";import"./DlIXSNl1.js";import"./Bp2G0jMz.js";import"./CK-rvtuG.js";import"./C8QNSlsX.js";import"./BWAJcOoD.js";import"./losdC6Ud.js";import"./DmeNR82d.js";import"./BwRzfsZt.js";import"./D_Dr4eZ1.js";import"./BucM0pco.js";import"./rSOsbbvW.js";import"./DgmxjSXK.js";import"./BX08AvzU.js";import"./CxZS6lgh.js";import"./DIIF5iVx.js";/* empty css        */import"./C8IqyEYy.js";import"./ClnUiH43.js";import"./CQcoTD7x.js";import"./D5ZJ33IS.js";import"./CTzMDe2j.js";import"./DxiXPFL-.js";import"./BynQilW0.js";import"./DE8qoeTi.js";import"./DxPtKouI.js";const M={key:0,style:{background:"white"}},P={class:"container"},O={class:"page-info"},U=q(r({__name:"ShopSearch",setup(r){const q=p(),{t:U}=i(),F=m((()=>{let e=U("店铺商品搜索");return q.de_copyright&&0==q.powered_by_status?e+=q.powered_by??"":e+="-powered by tigshop",e})),G=l([]),Q=e=>{G.value=e},R=l(!1),S=l(""),T=l("");u({title:F,meta:[{name:"description",content:S},{name:"keyword",content:T}]});const x=d(),z=l(x.path.split("/").pop()),C=m((()=>{let e={};return J.page>1&&(e.page=J.page),J.shopId>0&&(e.shop_id=J.shopId),""!=J.keyword&&(e.keyword=J.keyword),e})),J=n({page:1,keyword:"",shopId:-1}),K=j();c([()=>K.currentRoute.value.query],(()=>{J.keyword=K.currentRoute.value.query.keyword,J.shopId=z.value}),{deep:!0,immediate:!0});const L=l([]),N=l({}),V=l();return(async()=>{R.value=!1;try{const e=await a({shop_id:z.value});V.value=e.decorate_id,L.value=e.module_list,Object.assign(N.value,e.pageModule)}catch(e){}finally{R.value=!0}})(),(a,r)=>{const p=e,i=s,m=o;return v(),y(h,null,[_(p),R.value?(v(),y("div",M,[(v(!0),y(h,null,g(L.value,((e,s)=>(v(),y(h,{key:s},["shop_info"==e.type?(v(),k(i,{key:0,onTreeList:Q,pageModule:N.value,shopId:Number(z.value),module:e.module},null,8,["pageModule","shopId","module"])):f("",!0)],64)))),128)),w("div",P,[w("div",O,[_(t,{queryParams:C.value,"onUpdate:queryParams":r[0]||(r[0]=e=>C.value=e),filter:b(J),"onUpdate:filter":r[1]||(r[1]=e=>I(J)?J.value=e:null)},null,8,["queryParams","filter"])])])])):f("",!0),_(m,{mt30:!1,showFriendly:!1})],64)}}}),[["__scopeId","data-v-93a848f7"]]);export{U as default};
