import{b as e}from"./kUOzVTvd.js";import{_ as a}from"./9TMjRzGO.js";import{_ as l}from"./DHZet8FK.js";import{_ as s}from"./B6t2jNUa.js";import{E as t}from"./CK-rvtuG.js";import{E as o,a as r}from"./Di7_rRxo.js";import{E as u}from"./ClnUiH43.js";import{_ as m}from"./DGSQZaL6.js";import{E as n}from"./CttV6g0d.js";import{_ as i}from"./zM3V5R1F.js";import{e as p,r as c,aj as d,g as v,I as _,y as f,z as b,c as y,o as $,b as j,a as g,h,aa as V,t as k,d as w,ab as q,m as I,w as U,F as x,n as E,_ as z}from"./BLNaUqdG.js";import{a as C,i as O,u as K}from"./CrXMrCCc.js";import"./CdUPjuAS.js";import"./CScYj7Fy.js";import"./D-E-9YUO.js";import"./DlIXSNl1.js";import"./Bp2G0jMz.js";import"./DmeNR82d.js";import"./BwRzfsZt.js";import"./BWAJcOoD.js";import"./losdC6Ud.js";import"./C8QNSlsX.js";import"./D_Dr4eZ1.js";import"./BucM0pco.js";import"./rSOsbbvW.js";import"./DgmxjSXK.js";import"./BX08AvzU.js";import"./CxZS6lgh.js";import"./DIIF5iVx.js";/* empty css        */import"./C8IqyEYy.js";import"./CQcoTD7x.js";import"./D5ZJ33IS.js";import"./DSwxsogY.js";import"./DxiXPFL-.js";const L={class:"container flex"},P={class:"menu"},F={class:"info-row"},J={class:"title-or-tabs"},M={class:"tag-and-input"},N={class:"tig-tabs"},Q={class:"invoice-info-content"},R={class:"tips"},W={class:"font-color"},X={class:"remind-box mt20"},Y={class:"i-mt"},Z={key:0,class:"gray"},A={key:1,class:"green"},B={key:2,class:"orange"},D={key:3,class:"red"},G={key:4},H={key:1,class:"error-info"},S={key:0,class:"invoice-info-content"},T={class:"title-tips"},ee={key:1,class:"invoice-info-content"},ae={class:"tips mb-tips"},le={class:"font-color"},se=z(p({__name:"Info",setup(p){const z=c(!1);d();const se=v([{value:"发票申请",url:"/member/orderInvoice/list",size:0},{value:"增票资质",url:"/member/userInvoice/info",size:0}]),te=c(!0),oe=_(),re=c({}),ue=async()=>{try{const e=await C();Object.assign(re.value,e.item)}catch(e){E.error(e.message)}finally{te.value=!1}};f((()=>{ue()}));const me=()=>{ue(),z.value=!z.value,re.value.is_confirm=0},{t:ne}=b(),ie={is_confirm:[{required:!0,message:ne("请勾选确认书"),trigger:"change"},{validator:(e,a,l)=>{1!==a?l(new Error(ne("需要勾选确认才能继续"))):l()},trigger:"change"}]},pe=async()=>{await oe.value.validate();try{re.value.title_type=2,re.value.invoice_type=1,re.value.is_add=0==re.value.status?1:0;let e={};e=0===re.value.status?await O(re.value):await K({id:re.value.invoice_id,...re.value}),me(),E.success(e.message)}catch(e){E.error(e.message)}};return(p,c)=>{const d=e,v=a,_=l,f=s,b=t,E=o,C=r,O=u,K=m,ue=n,ne=i;return $(),y(x,null,[j(d),j(v,{title:"增票资质"}),g("div",L,[g("div",P,[j(_)]),g("div",F,[g("div",J,[g("div",M,[g("div",N,[j(f,{menuList:se},null,8,["menuList"])])])]),g("div",Q,[g("div",R,[g("p",null,[g("strong",null,k(p.$t("温馨提示")),1)]),g("p",null,k(p.$t("我们会在一个工作日内完成审核工作"))+"。",1),g("p",null,[w(" 1）"+k(p.$t("资质审核结果查询时间"))+"：",1),g("span",W,k(p.$t("资质上传一到两个工作日后即可查询"))+"。",1)]),g("p",null,"2）"+k(p.$t("注意有效增值税专用发票开票资质仅为一个"))+"。",1)]),V(g("div",X,[g("div",Y,[g("strong",null,k(p.$t("您的增票资质"))+"：",1),0===re.value.status?($(),y("span",Z,k(p.$t("未申请专用发票")),1)):1===re.value.status?($(),y("span",A,k(p.$t("审核通过")),1)):2===re.value.status?($(),y("span",B,k(p.$t("已申请，待审核")),1)):3===re.value.status?($(),y("span",D,k(p.$t("审核未通过")),1)):($(),y("span",G))]),te.value?h("",!0):($(),I(b,{key:0,type:"primary",size:"small",class:"mt10",onClick:me},{default:U((()=>[w(k(0===re.value.status?p.$t("添加增票资质"):p.$t("修改并重新审核")),1)])),_:1})),3===re.value.status?($(),y("div",H,k(p.$t("审核失败原因"))+"："+k(re.value.apply_reply),1)):h("",!0)],512),[[q,!z.value]])]),!z.value&&re.value.hasOwnProperty("company_name")?($(),y("div",S,[g("div",T,[g("li",null,k(p.$t("填写增票资质信息")),1)]),j(C,{"label-width":"auto",class:"form-body","label-suffix":"："},{default:U((()=>[j(E,{label:p.$t("单位名称")},{default:U((()=>[w(k(re.value.company_name),1)])),_:1},8,["label"]),j(E,{label:p.$t("纳税人识别码")},{default:U((()=>[w(k(re.value.company_code),1)])),_:1},8,["label"]),j(E,{label:p.$t("注册地址")},{default:U((()=>[w(k(re.value.company_address),1)])),_:1},8,["label"]),j(E,{label:p.$t("注册电话")},{default:U((()=>[w(k(re.value.company_phone),1)])),_:1},8,["label"]),j(E,{label:p.$t("开户银行")},{default:U((()=>[w(k(re.value.company_bank),1)])),_:1},8,["label"]),j(E,{label:p.$t("银行账户")},{default:U((()=>[w(k(re.value.company_account),1)])),_:1},8,["label"])])),_:1})])):h("",!0),z.value?($(),y("div",ee,[g("div",ae,[g("span",null,[w(k(p.$t("填写增票资质信息"))+" ",1),g("span",le,"（"+k(p.$t("所有信息均为必填"))+"）",1)])]),j(C,{ref_key:"formRef",ref:oe,"label-width":120,model:re.value,rules:ie,class:"form-body","label-suffix":"："},{default:U((()=>[j(E,{rules:[{required:!0,message:p.$t("单位名称不能为空")}],label:p.$t("单位名称"),prop:"company_name"},{default:U((()=>[j(O,{modelValue:re.value.company_name,"onUpdate:modelValue":c[0]||(c[0]=e=>re.value.company_name=e),clearable:"",placeholder:p.$t("请输入单位名称")},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"]),j(E,{rules:[{required:!0,message:p.$t("纳税人识别码不能为空")}],label:p.$t("纳税人识别码"),prop:"company_code"},{default:U((()=>[j(O,{modelValue:re.value.company_code,"onUpdate:modelValue":c[1]||(c[1]=e=>re.value.company_code=e),clearable:"",placeholder:p.$t("请输入纳税人识别码")},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"]),j(E,{rules:[{required:!0,message:p.$t("注册地址不能为空")}],label:p.$t("注册地址"),prop:"company_address"},{default:U((()=>[j(O,{modelValue:re.value.company_address,"onUpdate:modelValue":c[2]||(c[2]=e=>re.value.company_address=e),clearable:"",placeholder:p.$t("请输入注册地址")},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"]),j(E,{rules:[{required:!0,message:p.$t("注册电话不能为空")}],label:p.$t("注册电话"),prop:"company_phone"},{default:U((()=>[j(O,{modelValue:re.value.company_phone,"onUpdate:modelValue":c[3]||(c[3]=e=>re.value.company_phone=e),clearable:"",placeholder:p.$t("请输入注册电话")},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"]),j(E,{rules:[{required:!0,message:p.$t("开户银行不能为空")}],label:p.$t("开户银行"),prop:"company_bank"},{default:U((()=>[j(O,{modelValue:re.value.company_bank,"onUpdate:modelValue":c[4]||(c[4]=e=>re.value.company_bank=e),clearable:"",placeholder:p.$t("请输入开户银行")},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"]),j(E,{rules:[{required:!0,message:p.$t("银行账户不能为空")}],label:p.$t("银行账户"),prop:"company_account"},{default:U((()=>[j(O,{modelValue:re.value.company_account,"onUpdate:modelValue":c[5]||(c[5]=e=>re.value.company_account=e),clearable:"",placeholder:p.$t("请输入银行账户")},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"]),j(E,{label:"",prop:"is_confirm"},{default:U((()=>[j(ue,{modelValue:re.value.is_confirm,"onUpdate:modelValue":c[6]||(c[6]=e=>re.value.is_confirm=e),"false-value":0,"true-value":1},{default:U((()=>[w(k(p.$t("我已阅读并同意"))+" ",1),j(K,{class:"font-color",target:"_blank",to:"/member/userInvoice/confirmInfo"},{default:U((()=>[w("《"+k(p.$t("增票资质确认书"))+"》",1)])),_:1})])),_:1},8,["modelValue"])])),_:1}),j(E,{label:""},{default:U((()=>[j(b,{type:"primary",onClick:pe},{default:U((()=>[w(k(p.$t("确认")),1)])),_:1}),j(b,{onClick:me},{default:U((()=>[w(k(p.$t("取消")),1)])),_:1})])),_:1})])),_:1},8,["model"])])):h("",!0)])]),j(ne)],64)}}}),[["__scopeId","data-v-80119e58"]]);export{se as default};
