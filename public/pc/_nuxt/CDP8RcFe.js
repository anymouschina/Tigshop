import{_ as s}from"./DMt5YlZL.js";import{d as e}from"./JbGyAwPJ.js";import{_ as a}from"./BylEjn3l.js";import{e as l,cc as t,cb as d,r as o,Q as r,c as i,o as n,a as c,h as m,t as u,b as p,w as f,d as v,v as k,F as b,l as h,m as _,i as y}from"./BLNaUqdG.js";const w={class:"form_item"},g={class:"top_row flex justify-between"},x={class:"tit"},C={class:"add_btn font-color"},$=["onClick"],A={class:"item flex justify-between"},L={class:"info"},j={key:0},R={class:"set flex"},M={class:"set-text"},F={class:"set-text editAddress font-color"},I=l({__name:"Address",props:t({activeAddressId:{type:Number},addressList:{type:Array,default:()=>[]}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:t(["okCallback","addrssRefresh"],["update:modelValue"]),setup(l,{expose:t,emit:I}){const V=d(l,"modelValue"),q=I,E=o(null),O=o(null),z=()=>{V.value=!V.value};r((()=>V.value),(s=>{var e;null==(e=O.value)||e.scrollTo(0,0)}));const B=s=>{q("okCallback",s)};return t({show:()=>{var s;null==(s=E.value)||s.show()}}),(t,d)=>{const o=s;return n(),i("div",w,[c("div",g,[c("div",x,u(t.$t("确认收货人信息")),1),c("div",C,[p(o,{ref_key:"addressRef",ref:E,maskClosable:l.addressList.length>0,closable:l.addressList.length>0,onOkCallback:B,title:t.$t("添加收货地址"),width:"600px",path:"MemberEditRegion",params:{act:"add",showClose:l.addressList.length>0},showFooter:!1},{default:f((()=>[d[1]||(d[1]=c("i",null,"+",-1)),d[2]||(d[2]=v()),c("span",null,u(t.$t("使用新地址")),1)])),_:1},8,["maskClosable","closable","title","params"])])]),c("div",{class:k(["address_info",{more:V.value}]),ref_key:"addressScrollRef",ref:O},[l.addressList.length>0?(n(!0),i(b,{key:0},h(l.addressList,((s,r)=>(n(),i("div",{class:k(["address_item flex",{active:l.activeAddressId==s.address_id}]),key:r},[c("div",{style:{width:"auto"},class:"btn",onClick:e=>B(s)},[c("span",null,u(s.consignee),1),d[3]||(d[3]=c("i",{class:"icon-gou"},null,-1))],8,$),c("div",A,[c("div",L,[c("span",null,u(s.region_name),1),c("span",null," "+u(s.address),1),s.mobile?(n(),i("span",j,"（"+u(s.mobile)+"）",1)):m("",!0)]),c("div",R,[p(o,{onOkCallback:B,title:t.$t("编辑收货地址"),width:"600px",path:"MemberEditRegion",params:{act:"detail",addressId:s.address_id},showFooter:!1},{default:f((()=>[c("span",M,u(t.$t("编辑地址")),1)])),_:2},1032,["title","params"]),0!==r?(n(),_(a,{key:0,params:{id:s.address_id},requestApi:y(e),onAfterDelete:d[0]||(d[0]=s=>t.$emit("addrssRefresh"))},{default:f((()=>[d[4]||(d[4]=v(" >")),c("span",F,u(t.$t("删除")),1)])),_:2},1032,["params","requestApi"])):m("",!0)])])],2)))),128)):m("",!0)],2),l.addressList.length>1?(n(),i("div",{key:0,class:k(["address-more",{more:V.value}]),onClick:z},[v(u(V.value?t.$t("收起地址"):t.$t("更多地址"))+" ",1),d[5]||(d[5]=c("span",{class:"iconfont-pc icon-zhankai"},null,-1))],2)):m("",!0)])}}});export{I as _};
