import{_ as st}from"./BYDV-pPC.js";import{f as X,a7 as he,r as i,Y as fe,H as de,o as t,c as a,a as e,t as s,j as I,F as x,l as M,n as T,x as K,b as g,w as S,a0 as ot,p as Q,e as G,_ as Y,s as re,aq as at,g as lt,a5 as ne,ai as ue,ab as se,i as _,a9 as ce,v as F,J as nt,d as V,z as ee,h as U,$ as ve,m as H,y as ye,a4 as Pe,a3 as me,Z as Te,ar as ct,as as it,at as ut,au as dt,av as Ne,ad as rt,ae as Ve,a8 as _t,aw as pt,q as vt,u as mt,ax as ht,ay as Re,a1 as ft}from"./DvlzeZYf.js";import{b as Ue}from"./CjSdxGTc.js";import{E as ge}from"./BMKQ3sGo.js";import{g as yt,a as gt,b as kt,c as $t,d as bt,e as wt,_ as At}from"./CItVExi3.js";import{_ as ie}from"./CPg1UVcC.js";import{_ as ke}from"./CzQrJ5jx.js";import"./DEXPT9kT.js";import{a as It,b as Ct,e as Vt,c as Pt,d as Lt,f as St,h as xt,i as Et,j as Nt,k as Rt,l as Mt,m as Tt,n as Ut,o as zt}from"./CZXUHXp1.js";import{b as Bt}from"./ClgC9hY9.js";import{u as ze}from"./ctHFjQ9z.js";import{E as Dt}from"./CnKEGhnH.js";import{E as Be}from"./lRlBa-wu.js";import{_ as Ht}from"./D0iLGPIx.js";import{E as $e}from"./XomGKeK5.js";import{E as De,a as He}from"./CPhr9T1V.js";import{s as jt}from"./uRofAO38.js";import{P as je}from"./DpiGic3x.js";import{v as Yt}from"./C_PfpWcu.js";import{_ as Ot}from"./BCw_XNK7.js";import{u as Xt,d as Kt}from"./1yt4rKm5.js";import{E as Wt}from"./CFi7q_x0.js";import"./DGzzo1G8.js";import"./CljOOE4N.js";import"./6IjmK16v.js";import"./DXZCNwre.js";import"./BB_Ol6Sd.js";import"./BxwJi-A4.js";import"./CvS5MqkS.js";import"./B9SirqjL.js";import"./Cq9Fpw4b.js";import"./D5p5RYpQ.js";import"./De9iyrrl.js";import"./C3hftOhu.js";/* empty css        */import"./JPAiA_Rf.js";import"./DldgdBu3.js";import"./DCTLXrZ8.js";import"./BpsRniw3.js";import"./6HUR2MrH.js";import"./eXzid_I5.js";const qt=o=>(Q("data-v-bff5784f"),o=o(),G(),o),Jt={class:"share-box flex align-start"},Ft={class:"cd_r"},Qt={class:"text_box"},Gt={id:"share-contents",class:"share-contents"},Zt={class:"show_box flex-wrap"},es=["onClick"],ts=["src"],ss=qt(()=>e("i",{class:"icon-gou"},null,-1)),os={class:"share_box"},as={class:"s-icons-box"},ls={class:"s-icons flex"},ns={class:"lyecs-share flex",style:{"margin-bottom":"30px"}},cs=["title"],is=["title"],us=["title"],ds=["title"],rs=["src"],_s=X({__name:"ShareModal",props:{picList:{type:Array,default:[]},product:{type:Object,default:[]},productPrice:{type:String,default:""}},setup(o){const k=he(),p=o,u=i(0),v=i(""),c=i(!1),d=A=>{if(A=="wechat"&&(c.value=!0),A=="weibo"){let l="http://service.weibo.com/share/share.php?url="+encodeURIComponent(p.product.product_name+"-"+window.location.href);window.open(l,"_blank")}if(A=="qqzone"){let l=p.product.product_name,y=window.location.href,C=`http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?to=qzone&title=${encodeURIComponent(l||"-")}&url=${encodeURIComponent(y)}`;window.open(C,"_blank")}if(A=="qq"){let l=p.product.product_name,y=window.location.href,C=`http://connect.qq.com/widget/shareqq/index.html?url=${encodeURIComponent(y)}&title=${encodeURIComponent(l||"-")}`;window.open(C,"_blank")}},r=async A=>{const l=A;let y={margin:1};v.value=await Ue.toDataURL(l,y)},w=A=>{u.value=A},{t:n}=fe(),h=()=>{window.prompt(n("请手动复制以下链接地址，按Ctrl+C即可复制"),window.location.href)};return de(()=>{r(window.location.href)}),(A,l)=>(t(),a(x,null,[e("div",Jt,[e("div",Ft,[e("p",null,s(A.$t("说说这个商品怎么样"))+"？",1),e("div",Qt,[e("textarea",Gt,s(o.product.product_name)+"，"+s(I(k).dollarSign)+s(o.productPrice),1)]),e("div",Zt,[(t(!0),a(x,null,M(o.picList,(y,C)=>(t(),a("div",{class:T(["show_item",u.value==C?"redbd":""]),onClick:m=>w(C)},[e("img",{src:I(K)(y==null?void 0:y.pic_thumb),style:{width:"78px","margin-top":"0px"}},null,8,ts),ss],10,es))),256))]),e("div",os,[e("div",as,[e("div",ls,[e("div",ns,[e("a",{href:"javascript:;",rel:"nofollow",title:A.$t("分享到微信"),class:"weixin",onClick:l[0]||(l[0]=y=>d("wechat"))}," ",8,cs),e("a",{href:"javascript:;",rel:"nofollow",title:A.$t("分享到新浪微博"),class:"sina",onClick:l[1]||(l[1]=y=>d("weibo"))}," ",8,is),e("a",{href:"javascript:;",rel:"nofollow",title:A.$t("分享到QQ空间"),class:"zone",onClick:l[2]||(l[2]=y=>d("qqzone"))}," ",8,us),e("a",{href:"javascript:;",rel:"nofollow",title:A.$t("分享到QQ"),class:"qq",onClick:l[3]||(l[3]=y=>d("qq"))}," ",8,ds)]),e("div",{class:"share_copy_link hand-pointer",onClick:l[4]||(l[4]=y=>h())},s(A.$t("复制链接")),1)])])])])]),g(I(ot),{open:c.value,"onUpdate:open":l[5]||(l[5]=y=>c.value=y),title:A.$t("扫描二维码分享"),footer:null,style:{top:"30%",width:"300px"}},{default:S(()=>[e("div",null,[e("img",{class:"cd_ewm",src:v.value,width:"100%"},null,8,rs)])]),_:1},8,["open","title"])],64))}}),ps=Y(_s,[["__scopeId","data-v-bff5784f"]]),vs={class:"goods-image"},ms=["src"],hs=X({__name:"PicShow",props:{images:{}},setup(o){const k=i(!1),p=re({backgroundPositionX:"0",backgroundPositionY:"0"}),u=i(null),{elementX:v,elementY:c,isOutside:d}=at(u);return lt([v,c,d],()=>{k.value=!d.value;const r={X:0,Y:0};v.value<100?r.X=0:v.value>250?r.X=160:r.X=v.value-100,c.value<100?r.Y=0:c.value>250?r.Y=160:r.Y=c.value-100,p.backgroundPositionX=-2*r.X+"px",p.backgroundPositionY=-2*r.Y+"px"}),(r,w)=>(t(),a("div",vs,[r.images&&r.images.pic_url?ne((t(),a("div",{key:0,class:"large",style:se([{backgroundImage:`url(${I(K)(r.images.pic_url)})`},p])},null,4)),[[ue,k.value]]):_("",!0),e("div",{class:"middle",ref_key:"target",ref:u},[r.images&&r.images.pic_url?(t(),a("img",{key:0,src:I(K)(r.images.pic_url),alt:""},null,8,ms)):_("",!0)],512)]))}}),fs=Y(hs,[["__scopeId","data-v-00cab0aa"]]),ys={class:"gallery"},gs={class:"slider"},ks={style:{overflow:"hidden",width:"310px"}},$s=["src","onMouseover"],bs={__name:"Thumb",props:{picList:{type:Array,default:[]}},setup(o){const k=o,p=i(0),u=re(k.picList),v=i(0),c=n=>{v.value=n};c(v.value);const d=()=>{let h=u.length/4;return h-Math.floor(h)!==0&&(h=Math.ceil(h)),h*77.5},r=()=>{p.value!=0&&(p.value+=77.5)},w=()=>{p.value!=-d()- -77.5&&(p.value-=77.5)};return(n,h)=>(t(),a(x,null,[e("div",ys,[g(fs,{images:u[v.value]},null,8,["images"])]),e("div",gs,[e("button",{class:"prev",onClick:r}),e("div",ks,[e("div",{class:"slider-wrapper flex",style:se({transform:`translateX(${p.value}px)`})},[(t(!0),a(x,null,M(u,(A,l)=>(t(),a("div",{key:l,class:"slider-item"},[e("img",{src:I(K)(A.pic_thumb||""),class:T(v.value==l?"cur":""),alt:"Slider Image",onMouseover:y=>c(l)},null,42,$s)]))),128))],4)]),e("button",{class:"next",onClick:w})])],64))}},ws=Y(bs,[["__scopeId","data-v-8780f05d"]]),Ye=o=>(Q("data-v-d13cc7d5"),o=o(),G(),o),As={key:0,class:"flex"},Is={class:"lyecsquan flex"},Cs={class:"promotion-box"},Vs={class:"promotion"},Ps={key:0,class:"ticket-content"},Ls={key:0,class:"promotion"},Ss={class:"ticket-type"},xs=Ye(()=>e("span",{class:"ticket-line"},null,-1)),Es={class:"ticket-content"},Ns={class:"modal_region_box"},Rs={key:0,class:"coupon-card-box"},Ms={class:"coupon-card-title"},Ts={class:"coupon-card-list"},Us={class:"activity-left"},zs={class:"activity-right"},Bs={class:"activity-right-name"},Ds={class:"activity-right-time"},Hs={class:"activity-left"},js={class:"activity-right"},Ys={class:"activity-name"},Os={class:"activity-product-item"},Xs={class:"activity-product-item-box"},Ks={class:"activity-product-price"},Ws={key:1,class:"coupon-card-box"},qs={class:"coupon-card-title"},Js={class:"coupon-card-list"},Fs=["onClick"],Qs={class:"left-card"},Gs={class:"name"},Zs={key:0,class:"time"},eo=["title"],to=["title"],so=Ye(()=>e("span",{class:"division_line"},null,-1)),oo={class:"text"},ao=X({__name:"CouponList",props:{product_id:{type:Number,default:0},promotionList:{type:Array,default:()=>[]}},setup(o){ce();const k=i(!1),p=i(!1),u=i([]),{t:v}=fe(),c=o,d={3:"满减",4:"满折",5:"满赠"},r=F(()=>c.promotionList.filter(l=>l.type===3||l.type===4)),w=F(()=>c.promotionList.filter(l=>l.type===5)),n=async()=>{try{const l=await It(c.product_id);u.value=l.list}catch(l){H.error(l.message)}finally{k.value=!1}};n();const h=(l,y,C)=>y===0?l===1?"已领取":"马上领":l===0?"马上领":C>=y?"已领取":"再次领取";ze();const A=async l=>{if(h(l.is_receive,l.limit_num,l.receive_num)===v("已领取")){H.info(v("您已领取该优惠券"));return}try{const y=await Bt({coupon_id:l.coupon_id});await n(),H.success(y.message),p.value=!1}catch(y){H.error(y.message)}finally{k.value=!1}};return(l,y)=>{const C=ye,m=ke,$=ie,z=ge;return o.promotionList.length>0?(t(),a("div",As,[nt(l.$slots,"default",{},void 0,!0),e("div",Is,[e("div",Cs,[(t(!0),a(x,null,M(o.promotionList.slice(0,3),f=>(t(),a("div",{class:"promotion-box-item",key:f.promotion_id},[e("div",Vs,[f.type!=2?(t(),a("div",Ps,s(l.$t(d[f.type])),1)):_("",!0)]),f.type==2?(t(),a("div",Ls,[e("div",Ss,[V(s(l.$t("券"))+" ",1),xs]),e("div",Es,s(f.data.promotion_desc),1)])):_("",!0)]))),128))]),e("div",{class:"lyecsquan-more hand-pointer",onClick:y[0]||(y[0]=f=>p.value=!0)},s(l.$t("更多优惠"))+" >",1)]),e("div",Ns,[g(z,{modelValue:p.value,"onUpdate:modelValue":y[1]||(y[1]=f=>p.value=f),title:l.$t("优惠"),footer:null,top:"15vh",width:"1090px"},{default:S(()=>[r.value.length>0||w.value.length>0?(t(),a("div",Rs,[e("div",Ms,s(l.$t("促销")),1),e("div",Ts,[r.value.length>0?(t(!0),a(x,{key:0},M(r.value,f=>(t(),a("div",{key:f.promotion_id,class:"card activity"},[e("div",Us,s(l.$t(d[f.type])),1),e("div",zs,[e("div",Bs,s(f.data.promotion_name),1),e("div",Ds,s(f.data.start_time)+"~"+s(f.data.end_time),1)])]))),128)):_("",!0),w.value.length>0?(t(!0),a(x,{key:1},M(w.value,f=>(t(),a(x,{key:f.promotion_id},[(t(!0),a(x,null,M(f.data.promotion_desc,E=>(t(),a("div",{class:"card activity",key:E.gift_id},[e("div",Hs,s(l.$t("满赠")),1),e("div",js,[e("div",Ys,s(E.desc),1),e("div",Os,[e("div",Xs,[g(m,{to:("urlFormat"in l?l.urlFormat:I(ee))({path:"product",id:E.gift.product_info.product_id,sn:E.gift.product_info.product_sn}),target:"_blank"},{default:S(()=>[g(C,{class:"activity-product-item-img",lazy:"",src:("imageFormat"in l?l.imageFormat:I(K))(E.gift.product_info.pic_thumb)},null,8,["src"])]),_:2},1032,["to"]),e("div",Ks,[g($,{showText:!1,fontStyle:{fontSize:"10px",fontWeight:"bold"},class:"",modelValue:E.gift.product_info.product_price,"onUpdate:modelValue":J=>E.gift.product_info.product_price=J},null,8,["modelValue","onUpdate:modelValue"])])])])])]))),128))],64))),128)):_("",!0)])])):_("",!0),!k.value&&u.value.length>0?(t(),a("div",Ws,[e("div",qs,s(l.$t("优惠券")),1),e("div",Js,[(t(!0),a(x,null,M(u.value,f=>(t(),a("div",{class:"card",onClick:E=>A(f)},[e("div",Qs,[e("div",null,[f.coupon_type==1?(t(),U($,{key:0,showText:!1,modelValue:f.coupon_money,"onUpdate:modelValue":E=>f.coupon_money=E,currencyStyle:{color:"var(--tag-text)",fontSize:"12px",fontFamily:"Verdana, serif",lineHeight:"24px"},fontStyle:{color:"var(--tag-text)",fontSize:"24px",fontWeight:"bold"}},null,8,["modelValue","onUpdate:modelValue"])):(t(),a("div",{key:1,class:T(["coupon_discount",{on:f.is_receive===1}])},[V(s(f.coupon_discount),1),e("span",null,s(l.$t("折")),1)],2))]),e("div",Gs,s(f.coupon_name?"【"+f.coupon_name+"】":""),1),f.send_type==1?(t(),a("div",Zs,s(f.use_start_date)+" "+s(l.$t("至"))+" "+s(f.use_end_date),1)):_("",!0),f.send_type==0&&f.delay_day>0?(t(),a("div",{key:1,class:"time",title:I(ve)()?l.$t("领券{0}天后生效，有效期{1}天",[f.delay_day,f.use_day]):`领券${f.delay_day}天后生效，有效期${f.use_day}天`},s(I(ve)()?l.$t("领券{0}天后生效，有效期{1}天",[f.delay_day,f.use_day]):`领券${f.delay_day}天后生效，有效期${f.use_day}天`),9,eo)):_("",!0),f.send_type==0&&f.delay_day==0?(t(),a("div",{key:2,class:"time",title:I(ve)()?l.$t("领券当日起{0}天内可用",[f.use_day]):`领券当日起${f.use_day}天内可用`},s(I(ve)()?l.$t("领券当日起{0}天内可用",[f.use_day]):`领券当日起${f.use_day}天内可用`),9,to)):_("",!0)]),e("div",{class:T(["right-card",{"on-card":f.is_receive===1&&f.limit_num>0&&f.receive_num>=f.limit_num}])},[so,e("span",oo,s(l.$t(h(f.is_receive,f.limit_num,f.receive_num))),1)],2)],8,Fs))),256))])])):_("",!0)]),_:1},8,["modelValue","title"])])])):_("",!0)}}}),lo=Y(ao,[["__scopeId","data-v-d13cc7d5"]]),no="data:image/png;base64,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",co="data:image/png;base64,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",io={class:"tab"},uo={class:"image",style:{right:"0"},src:no},ro={class:"image",style:{left:"0"},src:co},_o=X({__name:"B2bTab",props:{tabIndex:{type:Number},tabIndexModifiers:{}},emits:["update:tabIndex"],setup(o){const k=Pe(o,"tabIndex"),p=u=>{k.value=u};return(u,v)=>(t(),a("div",io,[e("div",{class:T(["tab-item",{active:k.value===0}]),onClick:v[0]||(v[0]=c=>p(0))},[V(s(u.$t("单品采购"))+" ",1),ne(e("img",uo,null,512),[[ue,k.value===1]])],2),e("div",{class:T(["tab-item",{active:k.value===1}]),onClick:v[1]||(v[1]=c=>p(1))},[V(s(u.$t("批量采购"))+" ",1),ne(e("img",ro,null,512),[[ue,k.value===0]])],2),e("div",{class:"line",style:se(`${k.value===0?"left: 0":"right: 0"}`)},null,4),e("div",{class:"subline",style:se(`${k.value===0?"right: 0":"left: 0"}`)},null,4)]))}}),po=Y(_o,[["__scopeId","data-v-65ffa189"]]),vo=o=>(Q("data-v-0043713c"),o=o(),G(),o),mo={key:0,class:"product-sku-info"},ho={class:"sku-item flex align-start"},fo={class:"tit"},yo={class:"sku-tag flex-wrap"},go=["onClick"],ko=["src"],$o=vo(()=>e("i",{class:"icon-gou"},null,-1)),bo={__name:"ProductSku",props:{modelValue:{type:Object,default:{}},skuList:{type:Array},checkedValue:{type:Array},pageType:{type:String,default:"product"}},emits:["change"],setup(o,{emit:k}){const p=k,u=o,v=i(u.modelValue.spe),c=i(u.skuList),d=i(u.checkedValue),r=()=>{if(v.value.length>0){d.value.length==0&&v.value.forEach(h=>{d.value.push(h.attr_list[0].attr_name+":"+h.attr_list[0].attr_value)}),v.value.forEach((h,A)=>{h.attr_list.forEach(l=>{d.value[A]&&d.value[A]==l.attr_name+":"+l.attr_value?l.checked=!0:l.checked=!1;let y=JSON.parse(JSON.stringify(d.value));y[A]=l.attr_name+":"+l.attr_value;let C=c.value.find(m=>m.sku_value==y.join("|"));l.sku_stock=C?C.sku_stock:0})});const n=c.value.find(h=>h.sku_value==d.value.join("|"));p("change",{sku_stock:n.sku_stock||0,sku_id:n.sku_id||0})}else p("change",null)};r();const w=(n,h)=>{if(u.pageType!="product")return;const A=v.value[n].attr_list[h];d.value[n]=A.attr_name+":"+A.attr_value,r()};return(n,h)=>v.value.length>0?(t(),a("div",mo,[(t(!0),a(x,null,M(v.value,(A,l)=>(t(),a("div",ho,[e("div",fo,s(A.attr_name)+"：",1),e("div",yo,[(t(!0),a(x,null,M(A.attr_list,(y,C)=>(t(),a("div",{class:T({tag:!0,checked:y.checked,disabled:!y.checked&&y.sku_stock==0,outstock:y.sku_stock==0}),onClick:m=>w(l,C)},[l===0&&y.attr_pic?(t(),a("img",{key:0,src:I(K)(y.attr_pic),alt:""},null,8,ko)):_("",!0),e("p",null,s(y.attr_value),1),$o],10,go))),256))])]))),256))])):_("",!0)}},wo=Y(bo,[["__scopeId","data-v-0043713c"]]),Ao={style:{display:"inline-flex"}},Io={id:"storage",class:"storage"},Co={key:0,style:{color:"red"}},Vo={key:0,style:{color:"red"}},Po={key:1,style:{color:"red"}},Lo={key:2},So={__name:"StockShow",props:{modelValue:{type:Number,default:0},is_seckill:{type:Number,default:0},maxProductNumber:{type:Number,default:0}},setup(o){const k=o,p=F(()=>k.modelValue==0?1:k.modelValue>0&&k.modelValue<=20?2:3),u=F(()=>k.is_seckill>0&&k.maxProductNumber>0);return(v,c)=>(t(),a("div",Ao,[V(s(v.$t("库存"))+"： ",1),e("em",Io,[u.value?(t(),a(x,{key:0},[p.value==2?(t(),a("span",Co,s(v.$t("限购"))+" "+s(o.maxProductNumber)+" "+s(v.$t("件")),1)):_("",!0)],64)):(t(),a(x,{key:1},[p.value==1?(t(),a("span",Vo,s(v.$t("缺货")),1)):_("",!0),p.value==2?(t(),a("span",Po,s(v.$t("仅剩"))+" "+s(o.modelValue)+" "+s(v.$t("件")),1)):_("",!0),p.value==3?(t(),a("span",Lo,s(v.$t("充足")),1)):_("",!0)],64))])]))}},xo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGwAAAAmCAYAAAAhpX7HAAACMklEQVR4Ae3bQU7CQBQGYPaewL138AYmnsO1ngfuwIYVIWEBGxaGJVzAuHpvCmmaEAHpmB87pNYSq6U4b3hNyMDYPN78XxugYKulmyagCTScABFZ3HTzMwHnczgM3ISf7WpXzkfBhBwLCiYEyrWpYC4JIaOCCYFybSqYS0LIqGBCoFybCuaSEDKKBttsNna5XJ4samOM3e12J6vXRCHRYN1u13Y6HTubzWpnMx6P97VGo1HtWk0WEA3W7/f3IddFc1ioM51Om8y7dm3RYNvt1vZ6vVpoeSzc930TDYZwi2jz+bxy5tKwsDDxYH9Fk4gVDNhv0aRiBQVWFU0yVnBgP6FJxwoSrAwNn9NCwAoWrAwNn7FwA5zkLYh3iccAim/5pWNhnUGDYYFAw+Um369gHDvoivPBgxUXLP2xggkTVDAFE5aAsHa/nWHMHGEyTVNhSwm/XZjABkb5H5JOMLler8NPQNgKYZKdYZM82BMmT/nVu7BcvG0XJrAxxjwewKy1V8z8ij8kSeJt85fWGCxgAhsYHcBwxxhzS0Rv2CGOY309+8ejA69bMIAFTGDzBcs9iKLojpkX2NEYk65WK4U7IxygkDmyz86sBUycT+kYx/ENMw8zXZyOKbRRCJd8fP9J2Bnzrf1UyBKZIltkjKxzuQ9hUYpUNklE90Q0YOZ3V0THz398bCqHLOsBsi8zqTTHzNdE9MDMbWZ+ZuYXIkqaavqC6ibIMsu0nWV8XQlFd5KTwAcvwX/NkWNkBQAAAABJRU5ErkJggg==",Eo={class:"input-box"},No=X({__name:"InputNumber",props:me({modelValue:{type:Number,default:1},max:Number,min:{type:Number,default:1},step:{type:Number,default:1}},{modelValue:{},modelModifiers:{}}),emits:me(["change"],["update:modelValue"]),setup(o,{emit:k}){const p=o,u=Pe(o,"modelValue"),v=k,c=d=>{v("change"),(!Number.isInteger(d)||d<1)&&(u.value=p.min)};return(d,r)=>{const w=Dt;return t(),a("div",Eo,[g(w,{modelValue:u.value,"onUpdate:modelValue":r[0]||(r[0]=n=>u.value=n),step:o.step,max:o.max,min:o.min,onChange:c},null,8,["modelValue","step","max","min"])])}}}),Oe=Y(No,[["__scopeId","data-v-8eef1a41"]]),Ro={key:0,class:"countdown"},Mo={key:1},To=X({__name:"Countdown",props:{endTime:{type:String,default:""}},setup(o){const k=o,p=new Date(k.endTime).getTime(),u=i(c()),v=jt(()=>{u.value=c(),u.value.total<=0&&clearInterval(v)},1e3);function c(){const r=new Date().getTime(),w=p-r;if(w>0){const n=Math.floor(w/864e5),h=Math.floor(w%(1e3*60*60*24)/(1e3*60*60)),A=Math.floor(w%(1e3*60*60)/(1e3*60)),l=Math.floor(w%(1e3*60)/1e3);return{total:w,days:n,hours:h,minutes:A,seconds:l}}else return null}const d=r=>r<10?`0${r}`:r;return de(()=>{}),Te(()=>{clearInterval(v)}),(r,w)=>u.value?(t(),a("div",Ro,[V(s(r.$t("距离结束"))+" ",1),e("span",null,s(d(u.value.days)),1),V(" "+s(r.$t("天"))+" ",1),e("span",null,s(d(u.value.hours)),1),V(" : "),e("span",null,s(d(u.value.minutes)),1),V(" : "),e("span",null,s(d(u.value.seconds)),1)])):(t(),a("div",Mo,s(r.$t("倒计时结束")),1))}}),Me=Y(To,[["__scopeId","data-v-11e1041f"]]),Uo={class:"competitors-row hand-pointer"},zo={key:0,class:"tit flex justify-between align-center"},Bo={class:"name"},Do={class:"more"},Ho={key:1,class:"tit flex justify-between align-center"},jo={class:"name"},Yo={class:"more"},Oo={key:2,class:"col-text flex-wrap justify-between"},Xo={key:3,class:"col-text flex-wrap justify-between"},Ko={key:4,class:"col-ranking"},Wo={class:"ranking-tab flex"},qo=["onMouseover"],Jo={key:0,class:"ranking-list"},Fo={class:"item flex align-start"},Qo={class:"num"},Go={class:"product-info flex align-start"},Zo=["src"],ea={class:"info"},ta={class:"ellipsis2"},sa={class:"money"},oa={key:1,class:"default"},aa={key:5,class:"col-product"},la={class:"item"},na=["src"],ca={class:"money"},ia={class:"name ellipsis2"},ua={key:6,class:"col-article"},da={class:"item"},ra={class:"ellipsis2"},_a={key:7,class:"col-product"},pa={class:"item"},va=["src"],ma={class:"money"},ha={class:"name ellipsis2"},fa={__name:"CompetitorsItem",props:{title:{type:String,default:""},type:{type:String,default:""},isMore:{type:Boolean,default:!1},list:{type:Array,default:()=>[]},cate_ranke:{type:Object,default:{}}},setup(o){const k=re([{label:"同价位",type:"price"},{label:"同品牌",type:"brand"},{label:"同类别",type:"cate"}]),p=c=>{for(const d in c)if(c[d].length>0)return!0;return!1},u=i("price"),v=c=>{u.value=c};return(c,d)=>{const r=ke,w=ie;return t(),a("div",Uo,[o.type!=="rank"?(t(),a("div",zo,[e("div",Bo,s(o.title),1),o.isMore?(t(),U(r,{key:0,class:"txt ellipsis",target:"_blank",to:"/search/?intro=best"},{default:S(()=>[e("a",Do,s(c.$t("更多")),1)]),_:1})):_("",!0)])):_("",!0),o.type=="rank"&&p(o.cate_ranke)?(t(),a("div",Ho,[e("div",jo,s(o.title),1),o.isMore?(t(),U(r,{key:0,class:"txt ellipsis",target:"_blank",to:"/search/?intro=best"},{default:S(()=>[e("a",Yo,s(c.$t("更多")),1)]),_:1})):_("",!0)])):_("",!0),o.type=="cate"?(t(),a("div",Oo,[(t(!0),a(x,null,M(o.list,n=>(t(),U(r,{class:"txt ellipsis",target:"_blank",to:I(ee)({path:"list",id:n.category_id})},{default:S(()=>[V(s(n.category_name),1)]),_:2},1032,["to"]))),256))])):_("",!0),o.type=="brand"?(t(),a("div",Xo,[(t(!0),a(x,null,M(o.list,n=>(t(),U(r,{class:"txt ellipsis",target:"_blank",to:I(ee)({path:"list",id:n.brand_id})},{default:S(()=>[V(s(n.brand_name),1)]),_:2},1032,["to"]))),256))])):_("",!0),o.type=="rank"&&p(o.cate_ranke)?(t(),a("div",Ko,[e("div",Wo,[(t(!0),a(x,null,M(k,(n,h)=>(t(),a("div",{class:T(["tab",u.value==n.type?"active":""]),onMouseover:A=>v(n.type)},s(c.$t(n.label)),43,qo))),256))]),o.cate_ranke[u.value].length>0?(t(),a("div",Jo,[(t(!0),a(x,null,M(o.cate_ranke[u.value],(n,h)=>(t(),a("div",Fo,[e("div",Qo,s(h+1),1),g(r,{target:"_blank",to:I(ee)({path:"product",id:n.product_id,sn:n.product_sn})},{default:S(()=>[e("div",Go,[e("img",{src:I(K)(n.pic_thumb),alt:""},null,8,Zo),e("div",ea,[e("a",ta,s(n.product_name),1),e("div",sa,[n.market_price!==null?(t(),U(w,{key:0,modelValue:n.market_price,"onUpdate:modelValue":A=>n.market_price=A},null,8,["modelValue","onUpdate:modelValue"])):_("",!0)])])])]),_:2},1032,["to"])]))),256))])):(t(),a("div",oa,s(c.$t("暂无数据")),1))])):_("",!0),o.type=="look_also"?(t(),a("div",aa,[(t(!0),a(x,null,M(o.list,n=>(t(),a("div",la,[g(r,{target:"_blank",to:I(ee)({path:"product",id:n.product_id,sn:n.product_sn})},{default:S(()=>[e("img",{src:I(K)(n.pic_thumb),alt:""},null,8,na),e("div",ca,[n.market_price!==null?(t(),U(w,{key:0,modelValue:n.market_price,"onUpdate:modelValue":h=>n.market_price=h},null,8,["modelValue","onUpdate:modelValue"])):_("",!0)]),e("a",ia,s(n.product_name),1)]),_:2},1032,["to"])]))),256))])):_("",!0),o.type=="article"?(t(),a("div",ua,[(t(!0),a(x,null,M(o.list,n=>(t(),a("div",da,[g(r,{target:"_blank",to:`/article/news/list?article_id=${n.article_id}`},{default:S(()=>[e("a",ra,s(n.article_title),1)]),_:2},1032,["to"])]))),256))])):_("",!0),o.type=="related_list"?(t(),a("div",_a,[(t(!0),a(x,null,M(o.list,n=>(t(),a("div",pa,[g(r,{target:"_blank",to:I(ee)({path:"product",id:n.product_id,sn:n.product_sn})},{default:S(()=>[e("img",{src:I(K)(n.pic_thumb),alt:""},null,8,va),e("div",ma,[n.market_price!==null?(t(),U(w,{key:0,modelValue:n.market_price,"onUpdate:modelValue":h=>n.market_price=h},null,8,["modelValue","onUpdate:modelValue"])):_("",!0)]),e("a",ha,s(n.product_name),1)]),_:2},1032,["to"])]))),256))])):_("",!0)])}}},ya=Y(fa,[["__scopeId","data-v-6902c540"]]),ga={__name:"CompetitorsList",props:{productId:{type:Number,default:0}},setup(o){const k=o;ce();const p=re({product_id:k.productId,intro:"hot"}),u=i([]),v=i([]),c=i([]),d=i([]),r=i({}),w=i({});(async()=>{try{const $=await yt({...p});u.value=$.article_list}catch($){H.error($.message)}})(),(async()=>{try{const $=await gt({...p});c.value=$.cate_info}catch($){H.error($.message)}})(),(async()=>{try{const $=await kt({...p});v.value=$.brand_info}catch($){H.error($.message)}})(),(async()=>{try{const $=await $t({...p});r.value=$.cate_rank}catch($){H.error($.message)}})(),(async()=>{try{const $=await bt({...p});d.value=$.look_also}catch($){H.error($.message)}})(),(async()=>{try{const $=await wt({...p});w.value=$.related_list}catch($){H.error($.message)}})();const m=$=>{for(const z in $)if($[z].length>0)return!0;return!1};return($,z)=>{const f=ya;return t(),a("div",null,[c.value.length?(t(),U(f,{key:0,class:"mb10",title:$.$t("相关分类"),list:c.value,type:"cate"},null,8,["title","list"])):_("",!0),v.value.length?(t(),U(f,{key:1,class:"mb10",title:$.$t("同类其他品牌"),list:v.value,type:"brand"},null,8,["title","list"])):_("",!0),u.value.length?(t(),U(f,{key:2,class:"mb10",title:$.$t("相关文章"),type:"article",list:u.value},null,8,["title","list"])):_("",!0),r.value&&m(r.value)?(t(),U(f,{key:3,class:"mb10",title:$.$t("同类排行榜"),type:"rank",cate_ranke:r.value},null,8,["title","cate_ranke"])):_("",!0),w.value.length?(t(),U(f,{key:4,class:"mb10",title:$.$t("相关商品"),type:"related_list",list:w.value},null,8,["title","list"])):_("",!0),d.value.length?(t(),U(f,{key:5,class:"mb10",title:$.$t("看了还看"),type:"look_also",isMore:"",list:d.value},null,8,["title","list"])):_("",!0)])}}},ka={class:"b2b-sku"},$a={class:"title"},ba={class:"price-box"},wa={class:"stock"},Aa={class:"num"},Ia=X({__name:"B2bSku",props:me({skuList:{type:Array,default:[]},id:{type:Number},skuItem:{type:Array,default:[]},selectSkus:{type:Array,default:[]}},{productAmount:{},productAmountModifiers:{}}),emits:me(["update:skuItem","update:selectSkus"],["update:productAmount"]),setup(o,{emit:k}){const p=o,u=Pe(o,"productAmount"),v=i([]);(()=>{u.value={count:0,total:"0"},v.value=JSON.parse(JSON.stringify(p.skuList)),v.value.forEach(l=>{l.num=0,l.title=l.sku_value.replace(/\|/g,",")})})();const d=i(!1),r=F(()=>{let l=p.skuList.length,y=l<5?l*63:4*63;return l>4&&d.value&&(y=l*63),y+"px"}),w=async()=>{try{const l=await Ct({id:p.id,sku_item:p.skuItem});u.value=l.item}catch(l){console.error(l)}};ct(()=>{w()});const n=k;F({get:()=>p.skuItem,set:l=>{n("update:skuItem",l)}}),F({get:()=>p.selectSkus,set:l=>{n("update:selectSkus",l)}});let h=null;const A=()=>{h&&clearTimeout(h),h=setTimeout(()=>{const l=v.value.filter(m=>m.num),y=l.map(m=>({sku_id:m.sku_id,num:m.num}));n("update:skuItem",y);const C=l.map(m=>({sku_data:m.sku_data,num:m.num}));n("update:selectSkus",C)},300)};return(l,y)=>{const C=ie;return t(),a("div",ka,[e("div",{class:"b2b-sku-content",style:se({height:I(r)})},[(t(!0),a(x,null,M(I(v),m=>(t(),a("div",{key:m,class:"sku-item"},[e("div",$a,s(m.title),1),e("div",ba,[g(C,{fontStyle:{fontSize:"13px",color:"#666","font-weight":700},modelValue:m.sku_price,"onUpdate:modelValue":$=>m.sku_price=$},null,8,["modelValue","onUpdate:modelValue"]),e("div",wa,s(m.sku_stock)+"件可售",1)]),e("div",Aa,[g(I(Oe),{modelValue:m.num,"onUpdate:modelValue":$=>m.num=$,max:m.sku_stock,min:0,onChange:A},null,8,["modelValue","onUpdate:modelValue","max"])])]))),128))],4),p.skuList.length>4&&!I(d)?(t(),a("img",{key:0,onClick:y[0]||(y[0]=m=>d.value=!I(d)),class:"sku-wrapper-expend-button",src:xo,alt:"",srcset:""})):_("",!0)])}}}),Ca=Y(Ia,[["__scopeId","data-v-86a8ae7b"]]),Va=o=>(Q("data-v-13c3f118"),o=o(),G(),o),Pa={key:0,class:"product-sku-info"},La={class:"tit"},Sa={class:"sku-tag flex-wrap"},xa=["onClick"],Ea=Va(()=>e("i",{class:"icon-gou"},null,-1)),Na=X({__name:"ProductAttr",props:{modelValue:{type:Object,default:{}}},emits:["change"],setup(o,{emit:k}){const p=k,u=i([]),v=(c,d)=>{u.value[c]&&u.value[c]===d?u.value[c]=null:u.value[c]=d,p("change",u.value.length>0?u.value.filter(r=>!!r).join(","):"")};return(c,d)=>{const r=ie;return o.modelValue&&o.modelValue.extra.length>0?(t(),a("div",Pa,[(t(!0),a(x,null,M(o.modelValue.extra,(w,n)=>(t(),a("div",{class:"sku-item flex align-start",key:w},[e("div",La,s(w.attr_name)+"：",1),e("div",Sa,[(t(!0),a(x,null,M(w.attr_list,(h,A)=>(t(),a("div",{key:h.attributes_id,onClick:it(l=>v(n,h.attributes_id),["stop"]),class:T({tag:!0,checked:I(u)[n]===h.attributes_id})},[e("p",null,s(h.attr_value),1),g(r,{class:"price",modelValue:h.attr_price,"onUpdate:modelValue":l=>h.attr_price=l},null,8,["modelValue","onUpdate:modelValue"]),Ea],10,xa))),128))])]))),128))])):_("",!0)}}}),Ra=Y(Na,[["__scopeId","data-v-13c3f118"]]),Le=o=>(Q("data-v-26b7d8b0"),o=o(),G(),o),Ma={class:"product-total"},Ta={class:"product-total-content"},Ua={class:"product-total-left"},za={class:"total-count"},Ba={class:"total-price"},Da=Le(()=>e("span",null,"商品金额：",-1)),Ha=Le(()=>e("span",{class:"iconfont-pc icon-xiajiantou"},null,-1)),ja={class:"table-product",width:"100%",cellspacing:"1",cellpadding:"3"},Ya={class:"attr-th"},Oa=Le(()=>e("th",{class:"attr-th"},"数量",-1)),Xa=X({__name:"ProductAmount",props:{productAmount:{type:Object,default:()=>({count:0,total:0})},selectSkus:{type:Array}},setup(o){const k=i(!1),p=i(!1),u=()=>{p.value=!0},v=()=>{p.value=!1};return(c,d)=>{var w;const r=ie;return t(),a("div",Ma,[e("div",Ta,[e("div",Ua,[e("div",za,"合计"+s((w=o.productAmount)==null?void 0:w.count)+"件",1),e("div",Ba,[Da,g(r,{modelValue:o.productAmount.total,"onUpdate:modelValue":d[0]||(d[0]=n=>o.productAmount.total=n),"font-style":{fontSize:"20px",color:"var(--general)"}},null,8,["modelValue"])])]),e("div",{class:T(["product-has-select-button",{active:I(k)}]),onClick:d[1]||(d[1]=n=>k.value=!I(k))},[V(" 已选清单 "),Ha],2)]),g(ut,{name:"fadey",onAfterEnter:u,onLeave:v},{default:S(()=>[ne(e("div",{class:T(["select-list",{transform:I(p)}])},[e("table",ja,[e("thead",null,[e("tr",null,[(t(!0),a(x,null,M(o.selectSkus[0].sku_data,n=>(t(),a("th",Ya,s(n.name),1))),256)),Oa])]),e("tbody",null,[(t(!0),a(x,null,M(o.selectSkus,(n,h)=>(t(),a("tr",{class:"attr-tr",key:n},[(t(!0),a(x,null,M(n.sku_data,A=>(t(),a("td",null,s(A.value),1))),256)),e("td",null,s(n.num),1)]))),128))])])],2),[[ue,I(k)]])]),_:1})])}}}),Ka=Y(Xa,[["__scopeId","data-v-26b7d8b0"]]),Wa={class:"enquiry-content"},qa={class:"title"},Ja={class:"desc"},Fa={class:"btn-box"},Qa=X({__name:"ProductEnquiry",props:{modelValue:{type:Boolean,default:!1},product_id:{type:Number,required:!0}},emits:["update:modelValue"],setup(o,{emit:k}){const{t:p}=fe(),u=o,v=k,c=F({get:()=>u.modelValue,set:l=>{v("update:modelValue",l)}}),d=i(),r={mobile:[{required:!0,message:p("请输入联系电话"),trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:p("请输入正确的手机号码"),trigger:"blur"}]},w=re({mobile:"",content:""}),n=i(!1),h=async()=>{d.value&&await d.value.validate((l,y)=>{l?A():console.error("error submit!",y)})},A=async()=>{n.value=!0;try{const l=await Vt({...w,product_id:u.product_id});v("update:modelValue",!1),d.value.resetFields(),Ne.success(p("商家已收到您的联系方式，会尽快联系您!"))}catch(l){console.error(l),Ne.error(l.message)}finally{n.value=!1}};return(l,y)=>{const C=Be,m=De,$=He,z=$e,f=ge;return t(),U(f,{modelValue:I(c),"onUpdate:modelValue":y[2]||(y[2]=E=>dt(c)?c.value=E:null),width:"500"},{default:S(()=>[e("div",Wa,[e("div",qa,s(l.$t("立即询价")),1),e("div",Ja,s(l.$t("你提交后，专属业务员将第一时间为你服务")),1),g($,{ref_key:"formRef",ref:d,model:I(w),"label-width":"auto",rules:r},{default:S(()=>[g(m,{label:l.$t("联系电话"),class:"mobile",prop:"mobile"},{default:S(()=>[g(C,{modelValue:I(w).mobile,"onUpdate:modelValue":y[0]||(y[0]=E=>I(w).mobile=E)},null,8,["modelValue"])]),_:1},8,["label"]),g(m,{label:l.$t("需求信息"),prop:"content"},{default:S(()=>[g(C,{class:"content",modelValue:I(w).content,"onUpdate:modelValue":y[1]||(y[1]=E=>I(w).content=E),type:"textarea",autosize:{minRows:4},placeholder:l.$t("请简单描述你的需求")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"]),e("div",Fa,[g(z,{class:"btn",type:"primary",onClick:h,loading:I(n)},{default:S(()=>[V(s(l.$t("立即发送")),1)]),_:1},8,["loading"])])])]),_:1},8,["modelValue"])}}}),Ga=Y(Qa,[["__scopeId","data-v-b42811ed"]]),Se=o=>(Q("data-v-9524d41d"),o=o(),G(),o),Za={class:"product_info"},el={key:0,class:"basic bg"},tl={class:"item exchange"},sl={class:"tit"},ol={class:"price1"},al=Se(()=>e("span",{class:"red"},"+",-1)),ll={class:"exchange-num red"},nl={class:"red"},cl={key:0,class:"active-box flex justify-between"},il={class:"active-ico flex align-center"},ul=Se(()=>e("i",{class:"iconfont-pc icon-miaosha"},null,-1)),dl={class:"active-time"},rl={key:1,class:"active-box flex justify-between"},_l={class:"active-ico flex align-center"},pl=Se(()=>e("i",{class:"iconfont-pc icon-miaosha"},null,-1)),vl={class:"active-time"},ml={key:2,class:"basic bg"},hl={key:0,class:"item"},fl={class:"tit"},yl={class:"market_price"},gl={class:"item"},kl={class:"tit"},$l={key:0,class:"price1"},bl={key:1,class:"tit2"},wl={key:2,class:"star"},Al={key:3,class:"evaluate"},Il={class:"font-color"},Cl={class:"item"},Vl={class:"tit"},Pl={class:"basic"},Ll={key:0,class:"item"},Sl={class:"tit"},xl={class:"num"},El={key:1,class:"item align-start"},Nl={class:"tit"},Rl={class:"tips_i_box"},Ml=["src"],Tl={key:1,class:"number-box"},Ul={class:"title"},zl={class:"con"},Bl={class:"flex",style:{"margin-left":"10px"}},Dl={style:{color:"#999"}},Hl={class:"add_cart"},jl=X({__name:"ProductInfo",props:{product:{type:Object,default:{}},attrList:{type:Object,default:{}},exchangeDetail:{type:Object,default:{}},skuList:{type:Array,default:[]},checkedValue:{type:Array,default:[]},serviceList:{type:Array,default:[]},rankDetail:{type:Object,default:{}},productPrice:{type:String,default:""},productNumber:{type:Number,default:1},productStock:{type:Number,default:0},skuId:{type:Number,default:0},id:{type:Number,default:0},pageType:{type:String,default:"product"}},setup(o){const k=o,p=i(k.attrList),u=i(k.exchangeDetail),v=i(k.productPrice),c=i(k.productStock),d=i(0),r=i(0),w=i(0),n=i(k.productNumber),h=i(k.skuId);i("");const A=i([]),l=i([]),y=i({seckill_end_time:"",seckill_sales:0,seckill_stock:0}),C=i({discount_end_time:"",discount_price:0}),m=i({count:0,total:"0"}),$=i([]),z=i([]),f=i(!1),E=he();de(()=>{const P=rt("productRegionIds");P.value&&(A.value=P.value),k.skuList.length===0&&B(),r.value=0});const J=P=>{P!==null&&(h.value=P.sku_id,k.pageType=="product"&&(c.value=P.sku_stock)),k.pageType=="product"&&B()},O=i(""),te=P=>{O.value=P,B()},B=async()=>{try{const P=await Pt(k.id,{sku_id:h.value,extra_attr_ids:O.value});v.value=P.price,c.value=P.stock,P.promotion.length>0&&oe(P.promotion),d.value&&r.value>0?n.value=n.value>r.value?r.value:n.value:c.value===0?n.value=1:n.value=n.value>c.value?c.value:n.value}catch{}finally{}},oe=P=>{l.value=P.filter(q=>q.type!==1&&q.type!==6),console.log("promotionManage",l.value);const N=P.find(q=>q.type===1),D=P.find(q=>q.type===6);D?(w.value=1,C.value.discount_end_time=D.data.item.end_time,C.value.discount_price=D.data.item.discount_price):(w.value=0,C.value={discount_end_time:"",discount_price:0}),N?(d.value=1,y.value.seckill_end_time=N.data.seckill_end_time,y.value.seckill_sales=N.data.item.seckill_sales,y.value.seckill_stock=N.data.item.seckill_stock,r.value=N.data.seckill_limit_num,c.value=N.data.item.seckill_stock):(d.value=0,y.value={seckill_end_time:"",seckill_sales:0,seckill_stock:0})},Z=i(0),_e=F(()=>Ve());return(P,N)=>{const D=ie,q=lo,W=po,pe=wo,ae=So,we=Ca,Ae=Ra,b=Ka,L=$e,le=Ht,Ie=Ga;return t(),a("div",Za,[o.pageType=="exchange"?(t(),a("div",el,[e("div",tl,[e("div",sl,s(P.$t("积分兑换")),1),e("div",ol,[g(D,{modelValue:u.value.discounts_price,"onUpdate:modelValue":N[0]||(N[0]=R=>u.value.discounts_price=R)},null,8,["modelValue"]),al,V("    "),e("span",ll,s(u.value.exchange_integral),1),e("span",nl,s(P.$t("积分")),1)])])])):(t(),a(x,{key:1},[d.value==1?(t(),a("div",cl,[e("div",il,[ul,e("span",null,s(P.$t("秒杀")),1)]),e("div",dl,[g(I(Me),{endTime:y.value.seckill_end_time},null,8,["endTime"])])])):_("",!0),w.value==1?(t(),a("div",rl,[e("div",_l,[pl,e("span",null,s(P.$t("限时折扣")),1)]),e("div",vl,[g(I(Me),{endTime:C.value.discount_end_time},null,8,["endTime"])])])):_("",!0)],64)),o.pageType!="exchange"?(t(),a("div",ml,[d.value!=1&&v.value!==""&&I(E).show_marketprice?(t(),a("div",hl,[e("div",fl,s(P.$t("市场价"))+"：",1),e("div",yl,[g(D,{modelValue:o.product.market_price,"onUpdate:modelValue":N[1]||(N[1]=R=>o.product.market_price=R)},null,8,["modelValue"])])])):_("",!0),e("div",gl,[e("div",kl,s(d.value==1?P.$t("秒杀价"):P.$t("本站价"))+"：",1),v.value!==""?(t(),a("div",$l,[g(D,{modelValue:v.value,"onUpdate:modelValue":N[2]||(N[2]=R=>v.value=R)},null,8,["modelValue"])])):_("",!0),o.rankDetail.total>0?(t(),a("div",bl,s(P.$t("评价"))+"：",1)):_("",!0),o.rankDetail.total>0?(t(),a("div",wl,[e("span",{class:T(["icon-star",`icon-star-${o.rankDetail.average_rank}`])},null,2)])):_("",!0),o.rankDetail.total>0?(t(),a("div",Al,[V(s(P.$t("已有"))+" ",1),e("span",Il,s(o.rankDetail.total),1),V(" "+s(P.$t("人评价"))+"，"+s(o.rankDetail.good_percent)+"% "+s(P.$t("好评")),1)])):_("",!0)]),e("div",Cl,[g(q,{promotionList:l.value,product_id:o.product.product_id},{default:S(()=>[e("div",Vl,s(P.$t("优惠活动"))+"：",1)]),_:1},8,["promotionList","product_id"])])])):_("",!0),e("div",Pl,[I(E).show_selled_count?(t(),a("div",Ll,[e("div",Sl,s(P.$t("销量"))+"：",1),e("div",xl,s(o.product.virtual_sales)+" "+s(P.$t("件")),1)])):_("",!0),o.serviceList.length>0?(t(),a("div",El,[e("div",Nl,s(P.$t("服务"))+"：",1),e("div",Rl,[(t(!0),a(x,null,M(o.serviceList,(R,Ce)=>(t(),a("span",{key:Ce},[e("img",{src:I(K)(R.ico_img),width:"15",height:"15"},null,8,Ml),V(" "+s(R.product_service_name),1)]))),128))])])):_("",!0)]),("isB2B"in P?P.isB2B:I(Ve))()&&o.skuList.length>0?(t(),U(W,{key:3,tabIndex:Z.value,"onUpdate:tabIndex":N[3]||(N[3]=R=>Z.value=R)},null,8,["tabIndex"])):_("",!0),e("div",{class:T(["actions",{"no-border":("isB2B"in P?P.isB2B:I(Ve))()&&o.skuList.length>0}])},[Z.value!==1?(t(),a(x,{key:0},[o.skuList.length>0?(t(),U(pe,{key:0,modelValue:p.value,"onUpdate:modelValue":N[4]||(N[4]=R=>p.value=R),skuList:o.skuList,checkedValue:o.checkedValue,pageType:o.pageType,onChange:J},null,8,["modelValue","skuList","checkedValue","pageType"])):_("",!0),o.product.product_type===4&&o.product.is_buy===1?_("",!0):(t(),a("div",Tl,[e("div",Ul,s(P.$t("数量"))+"：",1),e("div",zl,[g(I(Oe),{modelValue:n.value,"onUpdate:modelValue":N[5]||(N[5]=R=>n.value=R),max:r.value>0?r.value:c.value>0?c.value:1},null,8,["modelValue","max"]),e("div",Bl,[V(s(P.$t("件"))+" ",1),e("div",Dl,[V(" （"),g(ae,{modelValue:c.value,"onUpdate:modelValue":N[6]||(N[6]=R=>c.value=R),is_seckill:d.value,maxProductNumber:r.value},null,8,["modelValue","is_seckill","maxProductNumber"]),V("） ")])])])]))],64)):_("",!0),I(_e)?(t(),a(x,{key:1},[o.skuList.length?(t(),U(we,{key:0,"sku-item":z.value,"onUpdate:skuItem":N[7]||(N[7]=R=>z.value=R),"select-skus":$.value,"onUpdate:selectSkus":N[8]||(N[8]=R=>$.value=R),"product-amount":m.value,"onUpdate:productAmount":N[9]||(N[9]=R=>m.value=R),id:o.product.product_id,skuList:o.skuList},null,8,["sku-item","select-skus","product-amount","id","skuList"])):_("",!0)],64)):_("",!0),g(Ae,{modelValue:p.value,"onUpdate:modelValue":N[10]||(N[10]=R=>p.value=R),onChange:te},null,8,["modelValue"]),I(_e)&&m.value&&m.value.count>0?(t(),U(b,{key:2,"select-skus":$.value,"product-amount":m.value},null,8,["select-skus","product-amount"])):_("",!0),e("div",Hl,[I(_e)?(t(),a(x,{key:0},[g(le,{extraAttrIds:O.value,id:o.product.product_id,skuItem:z.value,disabled:z.value.length===0,isQuick:!0},{default:S(()=>[g(L,{disabled:z.value.length===0,class:"buy-btn buynow",type:"primary"},{default:S(()=>[V(s(P.$t("立即购买")),1)]),_:1},8,["disabled"])]),_:1},8,["extraAttrIds","id","skuItem","disabled"]),g(le,{extraAttrIds:O.value,id:o.product.product_id,disabled:z.value.length===0,skuItem:z.value},{default:S(()=>[g(L,{disabled:z.value.length===0,class:"buy-btn buynow"},{default:S(()=>[V(s(P.$t("批量加入购物车")),1)]),_:1},8,["disabled"])]),_:1},8,["extraAttrIds","id","disabled","skuItem"]),I(E).is_enquiry===1?(t(),U(L,{key:0,class:"buy-btn buynow",onClick:N[11]||(N[11]=R=>f.value=!f.value)},{default:S(()=>[V(s(P.$t("立即询价")),1)]),_:1})):_("",!0)],64)):(t(),a(x,{key:1},[o.pageType=="product"?(t(),a(x,{key:0},[g(le,{extraAttrIds:O.value,id:o.product.product_id,skuId:h.value,disabled:c.value==0,number:n.value},{default:S(()=>[d.value==1&&c.value==0?(t(),U(L,{key:0,disabled:c.value==0,class:"buy-btn"},{default:S(()=>[V(s(P.$t("已抢完")),1)]),_:1},8,["disabled"])):o.product.product_type===1?(t(),U(L,{key:1,disabled:c.value==0,class:"buy-btn"},{default:S(()=>[V(s(P.$t("加入购物车")),1)]),_:1},8,["disabled"])):_("",!0)]),_:1},8,["extraAttrIds","id","skuId","disabled","number"]),c.value==0?(t(),U(L,{key:0,class:"buy-btn buynow",type:"primary",onClick:N[12]||(N[12]=R=>P.$router.push("/search"))},{default:S(()=>[V(s(P.$t("查看其他商品")),1)]),_:1})):(t(),U(le,{key:1,extraAttrIds:O.value,id:o.product.product_id,skuId:h.value,disabled:c.value==0,number:n.value,isQuick:!0},{default:S(()=>[g(L,{disabled:c.value==0,class:"buy-btn buynow",type:"primary"},{default:S(()=>[V(s(P.$t("立即购买")),1)]),_:1},8,["disabled"])]),_:1},8,["extraAttrIds","id","skuId","disabled","number"]))],64)):_("",!0),o.pageType=="exchange"?(t(),U(le,{key:1,extraAttrIds:O.value,id:u.value.id,skuId:h.value,disabled:c.value==0,number:n.value,pageType:o.pageType,isQuick:!0},{default:S(()=>[g(L,{class:"buy-btn buynow",type:"primary"},{default:S(()=>[V(s(P.$t("立即兑换")),1)]),_:1})]),_:1},8,["extraAttrIds","id","skuId","disabled","number","pageType"])):_("",!0)],64))])],2),g(Ie,{modelValue:f.value,"onUpdate:modelValue":N[13]||(N[13]=R=>f.value=R),product_id:o.product.product_id},null,8,["modelValue","product_id"])])}}}),Yl=Y(jl,[["__scopeId","data-v-9524d41d"]]),Ol={class:"tab_body"},Xl=["innerHTML"],Kl=X({__name:"AfterSaleService",setup(o){const k=ce(),p=i(Number(k.params.id)),u=i(!1),v=i({});return(async()=>{try{const d=await Lt(p.value);Object.assign(v.value,d.item)}catch(d){H.error(d.message)}finally{u.value=!1}})(),(d,r)=>(t(),a("div",null,[e("div",Ol,[e("p",{innerHTML:v.value.template_content},null,8,Xl)])]))}}),Wl=Y(Kl,[["__scopeId","data-v-34e409ad"]]),Xe=o=>(Q("data-v-e74bc0ea"),o=o(),G(),o),ql={class:"compare-view-box"},Jl={class:"compare-view flex align-center justify-between"},Fl={class:"centage-praise"},Ql={class:"s-centage"},Gl={class:"s-praise"},Zl={class:"centage-all"},en={class:"centage-b"},tn={class:"centage-enough"},sn={class:"centage-num"},on={class:"centage-b"},an={class:"centage-enough"},ln={class:"centage-num"},nn={class:"centage-b"},cn={class:"centage-enough"},un={class:"centage-num"},dn={class:"comment-go"},rn={class:"go-comm-txt"},_n=Xe(()=>e("span",{class:"font-color"},"5",-1)),pn=Xe(()=>e("span",{class:"font-color"},"5",-1)),vn={class:"comment-option"},mn={class:"comment-option-sel flex"},hn={href:"javascript:;","data-kind":"0",class:"comment-type-btn"},fn={href:"javascript:;","data-kind":"1",class:"comment-type-btn"},yn={href:"javascript:;","data-kind":"2",class:"comment-type-btn"},gn={href:"javascript:;","data-kind":"3",class:"comment-type-btn"},kn={href:"javascript:;","data-kind":"4",class:"comment-type-btn"},$n={class:"comm_Wrap"},bn={class:"eachInfo flex"},wn={class:"head"},An={class:"logo"},In=["src"],Cn={class:"name"},Vn={class:"info"},Pn={class:"starLi flex align-center justify-between"},Ln={class:"fl flex"},Sn={class:"star"},xn={class:"fr"},En={class:"time"},Nn={key:0,class:"starLi g-comm-tag"},Rn={class:"starLi"},Mn={class:"fl flex"},Tn={class:"msg"},Un={key:1,class:"starLi"},zn={class:"fl flex"},Bn={class:"pic-list flex flex-wrap"},Dn={class:"pic"},Hn={key:1,class:"empty"},jn={key:2,class:"pagination"},Yn=X({__name:"Comment",props:{modelValue:{type:Number,default:0}},setup(o){ce();const p=i(o.modelValue),u=i(1),v=i(!1),c=i({}),d=i([]),r=i(0),w=i(1),n=i(10),h=async C=>{u.value=C,d.value.length=0,A(p.value),l(p.value)};de(()=>{});const A=async C=>{v.value=!0;try{const m=await St(C);c.value=m.item}catch{}finally{v.value=!1}},l=async C=>{v.value=!0;try{const m=await xt(C,{type:u.value,page:w.value});d.value=m.filter_result,r.value=m.total}catch{}finally{v.value=!1}};A(p.value),l(p.value);const y=()=>{l(p.value)};return(C,m)=>{const $=$e,z=ke,f=ye;return t(),a(x,null,[e("div",ql,[e("ul",Jl,[e("li",Fl,[e("span",Ql,s(c.value.good_percent)+"%",1),e("span",Gl,s(C.$t("好评度")),1)]),e("li",Zl,[e("div",en,[V(s(C.$t("好评"))+"： ",1),e("span",tn,[e("span",{class:"centage-show",style:se("width:"+c.value.good_percent+"%")},null,4)]),e("span",sn,s(c.value.good_percent)+"%",1)]),e("div",on,[V(s(C.$t("中评"))+"： ",1),e("span",an,[e("span",{class:"centage-show",style:se("width:"+c.value.moderate_percent+"%")},null,4)]),e("span",ln,s(c.value.moderate_percent)+"%",1)]),e("div",nn,[V(s(C.$t("差评"))+"： ",1),e("span",cn,[e("span",{class:"centage-show",style:se("width:"+c.value.bad_percent+"%")},null,4)]),e("span",un,s(c.value.bad_percent)+"%",1)])]),e("li",dn,[e("div",rn,[V(s(C.$t("评价立送")),1),_n,V(s(C.$t("积分"))+"，"+s(C.$t("晒单额外赠送")),1),pn,V(s(C.$t("积分"))+" "+s(C.$t("我购买过商品"))+" ",1),g(z,{to:I(ee)({path:"member/comment/list"}),target:"_blank",class:""},{default:S(()=>[g($,{type:"primary",size:"small",class:"ml10"},{default:S(()=>[V(s(C.$t("我要评价")),1)]),_:1})]),_:1},8,["to"])])])])]),e("div",vn,[e("ul",mn,[e("li",{onClick:m[0]||(m[0]=E=>h(1)),class:T(u.value==1?"o-over":"")},[e("a",hn,[V(s(C.$t("全部评论"))+"(",1),e("em",null,s(c.value.total),1),V(")")])],2),e("li",{onClick:m[1]||(m[1]=E=>h(2)),class:T(u.value==2?"o-over":"")},[e("a",fn,[V(s(C.$t("好评"))+"(",1),e("em",null,s(c.value.good_count),1),V(")")])],2),e("li",{onClick:m[2]||(m[2]=E=>h(3)),class:T(u.value==3?"o-over":"")},[e("a",yn,[V(s(C.$t("中评"))+"(",1),e("em",null,s(c.value.moderate_count),1),V(")")])],2),e("li",{onClick:m[3]||(m[3]=E=>h(4)),class:T(u.value==4?"o-over":"")},[e("a",gn,[V(s(C.$t("差评"))+"(",1),e("em",null,s(c.value.bad_count),1),V(")")])],2),e("li",{onClick:m[4]||(m[4]=E=>h(5)),class:T(u.value==5?"o-over":"")},[e("a",kn,[V(s(C.$t("有晒单评论"))+"(",1),e("em",null,s(c.value.show_count),1),V(")")])],2)])]),d.value.length>0?(t(!0),a(x,{key:0},M(d.value,(E,J)=>(t(),a("div",$n,[e("div",bn,[e("div",wn,[e("div",An,[e("img",{width:"88",height:"88",style:{"border-radius":"8px"},src:I(K)(E.avatar||"")},null,8,In)]),e("div",Cn,s(E.nickname),1)]),e("div",Vn,[e("div",Pn,[e("div",Ln,[e("div",Sn,[e("span",{class:T(["icon-star",`icon-star-${E.comment_rank}`])},null,2)])]),e("div",xn,[e("span",En,s(E.add_time),1)])]),E.comment_tag?(t(),a("div",Nn,[(t(!0),a(x,null,M(E.comment_tag,O=>(t(),a("span",null,s(O),1))),256))])):_("",!0),e("div",Rn,[e("div",Mn,[e("div",Tn,s(E.content),1)])]),E.show_pics?(t(),a("div",Un,[e("div",zn,[e("div",Bn,[(t(!0),a(x,null,M(E.show_pics,O=>(t(),a("div",Dn,[g(f,{src:I(K)(O.pic_thumb),fit:"cover",class:"image",loading:"lazy","preview-src-list":[I(K)(O.pic_url)],"initial-index":0},null,8,["src","preview-src-list"])]))),256))])])])):_("",!0)])])]))),256)):_("",!0),d.value.length==0&&!v.value?(t(),a("div",Hn,"「"+s(C.$t("暂无评价"))+"」",1)):_("",!0),d.value.length>0?(t(),a("div",jn,[g(I(je),{page:w.value,"onUpdate:page":m[5]||(m[5]=E=>w.value=E),size:n.value,total:r.value,onCallback:y},null,8,["page","size","total"])])):_("",!0)],64)}}}),On=Y(Yn,[["__scopeId","data-v-e74bc0ea"]]),xe=o=>(Q("data-v-8c20442d"),o=o(),G(),o),Xn={class:"promInfo"},Kn={class:"span1"},Wn={class:"font-color"},qn=xe(()=>e("br",null,null,-1)),Jn={class:"span2"},Fn=xe(()=>e("br",null,null,-1)),Qn={class:"message_wrapper"},Gn={class:"eachInfo"},Zn={class:"fl flex"},ec={class:"tit"},tc={class:"msg"},sc={class:"fl flex"},oc={class:"tit"},ac={class:"msg"},lc={key:0,class:"fl flex"},nc={class:"tit red"},cc={class:"msg red"},ic={key:1,class:"fl flex"},uc=xe(()=>e("div",{class:"tit"},null,-1)),dc={class:"msg"},rc={key:0,class:"empty"},_c={key:1,class:"pagination"},pc={class:"modal_region_box"},vc={key:0,class:"consultaion-pop"},mc={class:"card pop-tips"},hc={class:"red"},fc={class:"card pop-product"},yc=["src"],gc={class:"name"},kc={class:"pop-form"},$c=X({__name:"Consultation",props:{product:{type:Object,default:{}},skuId:{type:Number,default:0},productStock:{type:Number,default:0},productNumber:{type:Number,default:0}},emits:["callback"],setup(o,{emit:k}){const p=o;ce();const u=i(!0),v=i(!1),c=i([]),d=i(0),r=i(1),w=i(10),n=i({}),h=_t(),A=async()=>{try{const m=await Et({product_id:p.product.product_id,page:r.value,size:w.value});c.value=m.filter_result,d.value=m.total,document.querySelector(".lyecs_main").scrollIntoView({behavior:"smooth",block:"start"})}catch(m){H.error(m.message)}finally{u.value=!1}};A();const l=()=>{n.value.content="",n.value.email="",v.value=!1},y=()=>{pt()&&(v.value=!0)},C=async()=>{await h.value.validate();try{n.value.type=2;const m=await Nt({...n.value,product_id:p.product.product_id});A(),l(),H.success(m.message)}catch(m){H.error(m.message)}};return(m,$)=>{const z=$e,f=Be,E=De,J=He,O=ge,te=Yt;return t(),a("div",null,[e("p",Xn,[e("span",Kn,[e("i",Wn,s(m.$t("温馨提示"))+"：",1),qn,V(" "+s(m.$t("因厂家更改产品、产地等不作提前通知，且每位咨询者购买情况、提问时间等不同。"))+" "+s(m.$t("回复的内容仅在一定的时期内有参考意义，若由此给您带来不便请多多谅解，敬请谅解，谢谢！")),1)]),e("span",Jn,[g(z,{type:"primary",size:"small",onClick:y},{default:S(()=>[V(s(m.$t("咨询客服")),1)]),_:1}),Fn])]),ne((t(),a("div",Qn,[(t(!0),a(x,null,M(c.value,B=>{var oe,Z;return t(),a("div",Gn,[e("div",Zn,[e("div",ec,s(B.nickname),1),e("div",tc,s(B.add_time),1)]),e("div",sc,[e("div",oc,s(m.$t("咨询内容"))+"：",1),e("div",ac,s(B.content),1)]),B.reply?(t(),a("div",lc,[e("div",nc,s(m.$t("客服回复"))+"：",1),e("div",cc,s((oe=B.reply)==null?void 0:oe.content),1)])):_("",!0),B.reply?(t(),a("div",ic,[uc,e("div",dc,s((Z=B.reply)==null?void 0:Z.add_time),1)])):_("",!0)])}),256))])),[[te,u.value]]),c.value.length==0&&!u.value?(t(),a("div",rc,"「"+s(m.$t("暂无咨询"))+"」",1)):_("",!0),c.value.length>0?(t(),a("div",_c,[g(I(je),{page:r.value,"onUpdate:page":$[0]||($[0]=B=>r.value=B),size:w.value,total:d.value,onCallback:$[1]||($[1]=B=>A(m.id))},null,8,["page","size","total"])])):_("",!0),e("div",pc,[g(O,{modelValue:v.value,"onUpdate:modelValue":$[3]||($[3]=B=>v.value=B),title:m.$t("咨询提问"),footer:null,top:"15vh",width:"650px"},{default:S(()=>[u.value?_("",!0):(t(),a("div",vc,[e("div",mc,[e("p",null,s(m.$t("您可以对商品包装、规格、支付、发票、退换货和物流配送类的问题咨询客服。")),1),e("p",null,s(m.$t("客服人员回复的工作时间为：工作日9:30至18：30，请您耐心等待客服人员的回复。"))+" "+s(m.$t("客服人员回复后您的咨询及回复内容会出现在商品的页面中，但您的账号会被隐藏。")),1),e("p",hc,s(m.$t("温馨提示：您可以在会员中心查看留言回复等消息动态。")),1)]),e("div",fc,[e("img",{src:I(K)(o.product.pic_url),class:"img"},null,8,yc),e("p",gc,s(o.product.product_name),1)]),e("div",kc,[g(J,{ref_key:"formRef",ref:h,"label-suffix":"：",model:n.value,"label-width":"100px",style:{"max-width":"550px"}},{default:S(()=>[g(E,{label:m.$t("咨询内容"),prop:"content",rules:[{required:!0,message:m.$t("咨询内容不能为空")}]},{default:S(()=>[g(f,{modelValue:n.value.content,"onUpdate:modelValue":$[2]||($[2]=B=>n.value.content=B),type:"textarea",rows:"5"},null,8,["modelValue"])]),_:1},8,["label","rules"]),g(E,null,{default:S(()=>[g(z,{type:"primary",onClick:C},{default:S(()=>[V(s(m.$t("提交咨询")),1)]),_:1})]),_:1})]),_:1},8,["model"])])]))]),_:1},8,["modelValue","title"])])])}}}),bc=Y($c,[["__scopeId","data-v-8c20442d"]]),wc=""+new URL("paidcontent-bg.9fLXf1o4.png",import.meta.url).href,Ke=o=>(Q("data-v-b2110e16"),o=o(),G(),o),Ac={class:"ele-menu"},Ic={class:"card"},Cc={class:"feedback-menu"},Vc={class:"ima-div"},Pc={class:"phone-text"},Lc=Ke(()=>e("i",{class:"iconfont-pc icon-saoyisao"},null,-1)),Sc={class:"to-top"},xc={class:"feedback-menu"},Ec={class:"wrap-btn"},Nc=Ke(()=>e("i",{class:"iconfont-pc icon-shangjiantou"},null,-1)),Rc=X({__name:"ElevatorProduct",setup(o){he().loadNav();const p=i(0),u=i(!1);function v(){p.value=window.scrollY,u.value=p.value>=630}const c=()=>{window.scrollTo({top:0,behavior:"smooth"})},d=i(!1),r=()=>{d.value=!d.value},w=i(""),n=async h=>{const A=h;let l={margin:0};w.value=await Ue.toDataURL(A,l)};return de(()=>{n(window.location.href),window.addEventListener("scroll",v)}),Te(()=>{window.removeEventListener("scroll",v)}),(h,A)=>{const l=ye,y=Wt;return t(),a("div",Ac,[e("div",Ic,[e("div",Cc,[g(y,{placement:"left",width:174,trigger:"click"},{reference:S(()=>[e("div",{ref:"sweepRef",class:T([{"check-item":d.value},"wrap-btn"]),onClick:r},[Lc,V(" "+s(h.$t("扫一扫")),1)],2)]),default:S(()=>[e("div",Vc,[g(l,{src:w.value,class:"link-code-qrimg",fit:"cover"},null,8,["src"]),e("div",Pc,s(h.$t("在手机端查看此商品")),1)])]),_:1})])]),e("div",Sc,[u.value?(t(),a("div",{key:0,class:"card",onClick:A[0]||(A[0]=C=>c())},[e("div",xc,[e("div",Ec,[Nc,V(" "+s(h.$t("顶部")),1)])])])):_("",!0)])])}}}),Mc=Y(Rc,[["__scopeId","data-v-b2110e16"]]),be=o=>(Q("data-v-a4f419b5"),o=o(),G(),o),Tc={key:0,style:{background:"#fff"}},Uc={class:"container"},zc={key:0,class:"product_details flex justify-between"},Bc={class:"extra_details"},Dc={class:"thumb"},Hc={key:0,class:"share_wish flex"},jc={class:"product-number"},Yc={class:"details"},Oc={class:"product_name"},Xc={class:"name"},Kc={key:0,class:"desc"},Wc={class:"detail_main flex"},qc={key:0,class:"lyecs_side"},Jc={key:0,class:"shop-box"},Fc={class:"tit"},Qc={class:"btn-box flex justify-between"},Gc={class:"btn"},Zc=be(()=>e("span",{class:"iconfont-pc icon-guanli"},null,-1)),ei={class:"lyecs_main"},ti={class:"goods_tab_wrap sticky-element"},si={class:"tabs"},oi={class:"flex"},ai={key:0,class:"goods_desc paidcontent",id:"paidcontent"},li=["innerHTML"],ni={key:1,fit:"cover",class:"img",src:wc},ci={key:1,class:"goods_desc",id:"xiangqing"},ii={class:"shuxin flex"},ui={class:"goods_description"},di={key:0,class:"desc-pic-item"},ri=["innerHTML"],_i={class:"goods_desc shouhou",id:"shouhou"},pi={class:"tab_title"},vi=be(()=>e("span",{class:"icon"},null,-1)),mi={key:2,class:"goods_desc",id:"pingjia"},hi={class:"tab_title"},fi=be(()=>e("span",{class:"icon"},null,-1)),yi={key:3,class:"goods_desc goods_ask",id:"zixun"},gi={class:"tab_title"},ki=be(()=>e("span",{class:"icon"},null,-1)),$i=X({__name:"Product",props:{pageType:{type:String,default:"product"}},setup(o){const k=he(),{t:p}=fe(),u=i(p("商品详情")),v=F(()=>{let b=u.value;return k.de_copyright&&k.powered_by_status==0?b+=k.powered_by??"":b+="-powered by tigshop",b}),c=i(""),d=i("");vt();const r=i();mt({title:v,meta:[{name:"description",content:c},{name:"keywords",content:d}]});const w=o,n=ce(),h=i(0),A=i(0),l=i({product_id:0,product_stock:0,product_name:"",description:"",keywords:""}),y=i(0),C=i(0),m=i(1),$=i({normal:[]}),z=i([]),f=i([]),E=i([]),J=i({}),O=i(""),te=i(!0),B=i([]),oe=i([]),Z=i({});(async()=>{try{let b={};w.pageType=="exchange"?(b=await Rt(n.params.id),Z.value=b.exchange_info,C.value=b.exchange_info.product_stock):(b=await Mt(n.params.id,n.query.sku_id),C.value=b.item.product_stock),W.value=b.item.product_type===4?5:1,u.value=b.item.product_name,d.value=b.item.keywords,c.value=b.item.description,h.value=b.item.product_id,l.value=b.item,$.value=b.attr_list,f.value=b.pic_list,J.value=b.rank_detail,z.value=b.sku_list,oe.value=b.checked_value,B.value=b.desc_arr,E.value=b.service_list,A.value=b.consultation_total,te.value=!1,l.value.shop_id&&await q(l.value.shop_id),w.pageType=="product"&&N(),Re(()=>{var L;(L=r.value)==null||L.handleLog()})}catch(b){H.error(b.message),ft("/404")}finally{}})();const P=i(!1),N=async()=>{try{const b=await Tt({id:h});P.value=b.item}catch(b){H.error(b.message)}finally{}},D=i(),q=async b=>{try{const L=await Ut(b);D.value=L.item}catch(L){H.error(L.message)}finally{}},W=i(1),pe=i(!1),ae=async b=>{W.value=b,await Re(),document.querySelector(".lyecs_main").scrollIntoView({behavior:"smooth",block:"start"})},we=async b=>{try{let L={};b?L=await Kt({id:h.value}):L=await Xt({product_id:h.value}),await N(),H.success(L.message)}catch(L){H.error(L.message)}finally{}};ze();const Ae=async b=>{try{let L=await zt(b);await q(b),H.success(p("操作成功"))}catch(L){H.error(L.message)}finally{}};return(b,L)=>{const le=st,Ie=ps,R=ge,Ce=At,We=ws,qe=Yl,Ee=ke,Je=ga,Fe=ye,Qe=Wl,Ge=On,Ze=bc,et=Ot;return te.value?_("",!0):(t(),a("div",Tc,[g(le,{ref_key:"pageHeaderRef",ref:r,immediateLog:!1,showService:!0,shop_id:D.value&&D.value.shop_id?D.value.shop_id:0,phone:D.value&&D.value.kefu_phone?D.value.kefu_phone:"",product_id:h.value??0},null,8,["shop_id","phone","product_id"]),g(R,{modelValue:pe.value,"onUpdate:modelValue":L[0]||(L[0]=j=>pe.value=j),title:b.$t("分享给小伙伴"),footer:null,top:"15vh",width:"800px"},{default:S(()=>[e("div",null,[g(Ie,{picList:f.value,product:l.value,productPrice:O.value},null,8,["picList","product","productPrice"])])]),_:1},8,["modelValue","title"]),e("div",Uc,[e("div",null,[g(Ce,{id:l.value.category_id,"onUpdate:id":L[1]||(L[1]=j=>l.value.category_id=j),productName:l.value.product_name},null,8,["id","productName"]),te.value?_("",!0):(t(),a("div",zc,[e("div",Bc,[e("div",Dc,[g(We,{picList:f.value},null,8,["picList"])]),o.pageType=="product"||o.pageType=="exchange"?(t(),a("div",Hc,[e("span",jc,s(b.$t("商品编号"))+"："+s(l.value.product_sn),1),e("span",{class:T(["iconfont-pc collect ico-color",{"icon-shoucang":!P.value,"icon-yishoucang":P.value}]),onClick:L[2]||(L[2]=j=>we(P.value))},[e("i",null,s(b.$t("收藏")),1)],2)])):_("",!0)]),e("div",Yc,[e("div",Oc,[e("div",Xc,s(l.value.product_name),1),l.value.product_brief?(t(),a("p",Kc,s(l.value.product_brief),1)):_("",!0)]),g(qe,{product:l.value,serviceList:E.value,pageType:o.pageType,id:h.value,productPrice:O.value,attrList:$.value,skuList:z.value,productStock:C.value,productNumber:m.value,rankDetail:J.value,descArr:B.value,checkedValue:oe.value,exchangeDetail:Z.value},null,8,["product","serviceList","pageType","id","productPrice","attrList","skuList","productStock","productNumber","rankDetail","descArr","checkedValue","exchangeDetail"])])])),e("div",Wc,[o.pageType=="product"||o.pageType=="exchange"?(t(),a("div",qc,[D.value?(t(),a("div",Jc,[e("div",Fc,[g(Ee,{to:("urlFormat"in b?b.urlFormat:I(ee))({path:"shop",id:D.value.shop_id})},{default:S(()=>[V(s(D.value.shop_title),1)]),_:1},8,["to"])]),e("div",Qc,[e("div",Gc,[Zc,g(Ee,{to:("urlFormat"in b?b.urlFormat:I(ee))({path:"shop",id:D.value.shop_id})},{default:S(()=>[V(s(b.$t("进店逛逛")),1)]),_:1},8,["to"])]),e("div",{class:"btn",onClick:L[3]||(L[3]=j=>Ae(D.value.shop_id))},[e("span",{class:T(["iconfont-pc collect ico-color",{"icon-shoucang":!D.value.collect_shop,"icon-yishoucang":D.value.collect_shop}])},null,2),e("span",null,s(b.$t("收藏店铺")),1)])])])):_("",!0),te.value?_("",!0):(t(),U(Je,{key:1,productId:h.value},null,8,["productId"]))])):_("",!0),e("div",ei,[e("div",ti,[e("div",si,[e("ul",oi,[("isPro"in b?b.isPro:I(ht))()&&l.value.product_type===4?(t(),a("li",{key:0,onClick:L[4]||(L[4]=j=>ae(5))},[e("a",{href:"javascript:;","tab-data":"paidcontent",class:T(["tab_a",W.value==5?"current":""])},[e("span",null,s(b.$t("付费内容")),1)],2)])):(t(),a("li",{key:1,onClick:L[5]||(L[5]=j=>ae(1))},[e("a",{href:"javascript:;","tab-data":"info",class:T(["tab_a",W.value==1?"current":""])},[e("span",null,s(b.$t("产品详情")),1)],2)])),e("li",{onClick:L[6]||(L[6]=j=>ae(2))},[e("a",{href:"javascript:;","tab-data":"com",class:T(["tab_a",W.value==2?"current":""])},[e("span",null,[V(s(b.$t("用户评价")),1),e("em",null,"("+s(J.value.total)+")",1)])],2)]),e("li",{onClick:L[7]||(L[7]=j=>ae(3))},[e("a",{href:"javascript:;","tab-data":"ask",class:T(["tab_a",W.value==3?"current":""])},[e("span",null,[V(s(b.$t("商品咨询")),1),e("em",null,"("+s(A.value)+")",1)])],2)]),e("li",{onClick:L[8]||(L[8]=j=>ae(4))},[e("a",{href:"javascript:;","tab-data":"ser",class:T(["tab_a",W.value==4?"current":""])},[e("span",null,s(b.$t("售后服务")),1)],2)])])])]),W.value===5?(t(),a("div",ai,[l.value.is_buy?(t(),a("div",{key:0,innerHTML:l.value.paid_content},null,8,li)):(t(),a("img",ni))])):_("",!0),W.value==1?(t(),a("div",ci,[e("ul",ii,[(t(!0),a(x,null,M($.value.normal,(j,bi)=>(t(),a("li",null,[V(s(j.attr_name)+"： ",1),(t(!0),a(x,null,M(j.attr_list,tt=>(t(),a(x,null,[V(s(tt.attr_value)+"   ",1)],64))),256))]))),256))]),e("div",ui,[(t(!0),a(x,null,M(B.value,j=>(t(),a(x,null,[j.type=="pic"?(t(),a("div",di,[g(Fe,{class:"el-img",fit:"cover",lazy:"",src:("imageFormat"in b?b.imageFormat:I(K))(j.pic)},null,8,["src"])])):_("",!0),j.type=="text"?(t(),a("div",{key:1,class:"desc-text-item",innerHTML:j.html},null,8,ri)):_("",!0)],64))),256))])])):_("",!0),ne(e("div",_i,[e("div",pi,[e("h2",null,[vi,V(s(b.$t("售后服务")),1)])]),g(Qe)],512),[[ue,W.value==4]]),W.value==2?(t(),a("div",mi,[e("div",hi,[e("h2",null,[fi,V(s(b.$t("用户评价")),1)])]),g(Ge,{modelValue:l.value.product_id,"onUpdate:modelValue":L[9]||(L[9]=j=>l.value.product_id=j)},null,8,["modelValue"])])):_("",!0),W.value==3?(t(),a("div",yi,[e("div",gi,[e("h2",null,[ki,V(s(b.$t("商品咨询")),1)])]),g(Ze,{product:l.value,skuId:y.value,productStock:C.value,productNumber:m.value},null,8,["product","skuId","productStock","productNumber"])])):_("",!0)])])])]),g(et),g(Mc)]))}}}),du=Y($i,[["__scopeId","data-v-a4f419b5"]]);export{du as default};
