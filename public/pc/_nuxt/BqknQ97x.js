import{_ as Ae}from"./uNNarvbF.js";import{_ as re}from"./BICKwAaO.js";import{_ as ce}from"./CzQrJ5jx.js";import{E as de}from"./lRlBa-wu.js";import{E as ue}from"./XomGKeK5.js";import{b9 as me,f as ge,ad as G,a1 as E,a9 as pe,a7 as ve,r as a,H as x,v as we,Z as he,o as s,c as i,b as n,a as l,n as _,t as A,w as c,d as M,i as m,a5 as be,ai as ke,j as g,h as Ce,ab as Be,x as fe,F as Re,y as ye,p as Ve,e as Ee,_ as Fe}from"./DvlzeZYf.js";import{e as Se,_ as Ue}from"./BCw_XNK7.js";import{s as Ie}from"./uRofAO38.js";import{g as Le,s as Ne,u as Ge,a as Me,c as ze}from"./DII1Wvf5.js";import{M as Ze,_ as De}from"./DkrvK9R2.js";import{_ as Ye}from"./BDyiSPJB.js";import"./D5p5RYpQ.js";import"./DGzzo1G8.js";import{u as Oe}from"./ctHFjQ9z.js";import{b as Te}from"./CjSdxGTc.js";import"./DrjGOYyT.js";import"./BxwJi-A4.js";import"./CvS5MqkS.js";import"./BB_Ol6Sd.js";import"./C3hftOhu.js";import"./Cq9Fpw4b.js";import"./B9SirqjL.js";import"./eXzid_I5.js";import"./De9iyrrl.js";import"./DldgdBu3.js";import"./DCTLXrZ8.js";const Xe="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAN/SURBVFiFxZdBaBxVGMd/30wgbSwm1/SwRKlaE0HM1kKVoiB4WlTCPMISYk8qaOnFYluwhIVIa2lP1V56SS2BWd6yRBFaBClStFJLqCBJhaJuD01LKIg0LSk783nYt5KmndnOJMXvNsz3//9/7817M29EVfk/qyuPqFKpeIODg1tFZBuAql6am5u7MjExEWf1kiwzUKvV3lTVT4Fh4IlVt5eAWRGZDILgu3UFmJ6efrK7u/uoqr4HxMAVEZmN43gWwPO8YVUdBrYCnoicXF5e3js2NvbPmgGstVuA74EC8Fscx7tGR0dnH9ZbrVaHPc87BbwAXAPeMMZcTfP30m5WKhUPmAIKqnoMKCaFA7h7RddbAKacR2KlzkCtVvtYVY8CXxtj3kkzWl3W2hngbRHZGwTBsaS+RDprbUFVJ4FbzWbzgyzhAE5zS1UnrbWFzAAi8jqwQVUPl8vlm1kByuXyTVU9DGxwXtkAgKID+TlreLtWaIuZAVS1SGvLXc4L4LSx88oGADwPLBhjbudNd9oF55UZYBHot9ZuygvgtP3OKzPAn7Teai/lBXBaz3llBjgLEMfxK3kBVmjP5gGoApGI7A/DcHPW8DAMN4vIfiByXtkAjDE3RGQf0Of7/smsAE7TJyL7jDE3kvoe5WP0FTAOfAF8Yoy526F/I3AE2A2cNsa8m9af+qEAWFpaeh+46AwvW2t3pITvoLX3dwMXnTa1Op6IGo3GvaGhoXOquh14FvjJWntVVS+JyC8AqvqyOx1taetE5Fyj0bjXyT/1EVhrnwJOATuBpqqeFpGn3fXq2YuB86r6h4iMu8GdB3YZYxK3YSKAtfY14FtgE/ANref/O0C9Xu+PouhFVR1wo/3L9/1fR0ZGFpz2OVrr4C3gNlAyxvzwyADW2kHgR1qr+KMgCE4kjSCtarXah6r6JfA38KoxZm51zwOLsF6v9wNnXPievOEAQRCcEJE9QB9wxnmnAzSbzc9oHcEOBUFwPG/4CojjqnoIKDjvZIAwDAfcArre09Mzudbwdjmv6yIyHobhQCKA7/sHgC5VPVgqle6sF0CpVLqjqgeBLpfxUAABRoHF+fn5qfUKb5fzXHQZ8gBAtVp9BugFLuT5xepUzvMC0Ouy7gfwPG8brO0M2Kna3u0suP9VvCgin0dRNPO4AKIomvF9v1dV/zshZfo5fRz1L43KgKdhFrX9AAAAAElFTkSuQmCC",He="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAJbSURBVFiFxdc9iBZXGAXgZ6NoYRAFQUUkQZAYLMSEaBYLRUJA7WJeLBX8KwRJFRL8wwhqK4KIGqys3iZE0SaKFusvrqiNiaAWEcVgowgGDGsxs/Jp5tv9ZnZiTjPcO3fOOXPmvXfu7RsaGtIEmTkbCzEXv+N6RDyqy9NX10BmrsN+TK+4/Sd+iIgTrRvIzFk4ihV4hrO4jj/wKRZhGSbhF2yOiCetGMjMiaXYfJzGpoh4WDHuY/yM5RjE4oh4NRL3B6OqF9hdiu+LiFVV4hARD/AVDuAz/Dga8agJZOZCXMMN9I/2RuUzw4nNxYKIuNNtbC8JrMI4bOhFHCLib2zBBEXNdEUvBr7A04i42Yt4BwbwEp+P1cAiRZy1UKZ1qw0DM3C/roES9zFzrAb+U/zvBrpOw8zsV6xse3Eb5xrwr8BH2IXfIuJftVRpIDP3YHsDwZEwhG0RsW9EA5k5X/HG6zUvvip8gkOYFxF3hzvHVwxcir6ION6iuMy8jMNYjDcGqopwcpvCFfiws1GVQE8oNyQ7FL/i2/gpIh7X5Wk0DTNzBs7jL3yP5xjIzGl1uZom8B1ORcS2sn2pFN+KnXWImi5EcxQJdOKsotJroamBQXzzTt8aXKlL1PQTHMSFzPwVJ7EaUxTzvBYaJRARL/Al7uCIYse0JCJevhcDpYlXuFg2ByLinyY8Y/0bXsEZDTYsw2i8EEF5Elo5Fo6qBGp/x5p4i78qgauQmUsUR622MKe8DnZ2dtsPJL5tUXwYxyJiY2dHtxpYg7X4GlNbEL6HoxFx490btU/HbeM1FHm9Y65npM0AAAAASUVORK5CYII=",Je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAFzSURBVFiF7ZexSwMxFMa/3F3a0kLVrZubFAfRraNr15KCtEv/BHVydXBw0a5uXa5Ic7eJ4OZ/IDi5ScGhmyI91Avec2nB4Xq9XNU65JsC+fK9H8kb8hgRYZly5hl6vV6hVCqtZgkPguCl0+m8J3lY0g1IKQ8BHAD4zAIAwAZw3mw2z7QB+v3+Guf8LgzDrXa7/Zqluuu65Vwud6+U2mm1Ws9xnplPwDlfBzDK5/M1KeUFAKZZP3IcRwAYTbL0AL5pE8AVgBOd6kR0atv2xrwmTwMAxlgghBjpAAwGg7c0Pksn9DdkAAyAATAABsAAGIClA6T6kBBRTUp5pBPMGNsGcLswgGVZXhRFK1EUFTQBrsMwvOGc7y8E0Gg0ngAcx+15nrcHAEKIy1nnpZSJ+Zl7wPf9KhF1iajr+341a06qHohTsVh8HI/HD9P1jwMopYac84rruuW4waRer38A2E0KnwwmFaXUcJbn/45mUy11OP0LfQH1UI9HR+JVhwAAAABJRU5ErkJggg==",je="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAbwAAAG8B8aLcQwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAIjSURBVFiF7ZY/iBNBFMa/mb0YEPFSbCIniNeJpSCx3avtkp1FBK84MNjFQvCsrQSLAyuDFopIkreLKQK2C6KQCFrEwkoQ5K7YgOk23MZ9FncLm5hczB9MwHzlzPC+38x782YEM2ORkgt1XwGsAACsDRsslUqJVCqVlVIm5mEShmHQ6XSahUIhGJwTg9eQiG4CeAxgYx7mMR0AuKeUej0SwHXdNc/zvgM4YOY9IcQfxNOImRNCiLsANtLp9EXDMHrRXF8K2u12FsB5ALuWZb2ah3kkIhIAXh57fIjGB4vwFABEOyeidSLKTmtaLpc3iehSPGbkMQqgT8y8BaBBRDYRrU9ibtv2tqZpXwA8PWndiQCZTKYuhHgEIAfgk+M4V8cZ1+v107ZtP2fmFwC+SSnvTA1gGEbPNM1dIcR1AGfDMHxPRMVR6yuVymXf9xvMvMPMzwBcy+fzX6cGiGSa5ltN064AaALYI6I3tVotFV9j2/a2lPIjgE1mvmVZ1m2llD8u9tBGNEy5XO6H67pbnuc9BHA/CILPjuPcSCaTrW63+4SZdwC0pJTWuF3HNVErNgyjp5R6cJySM2EYvvN9vzXJkc8EECmWkgaAc5Mc+VwAgKOUADCCILgwS9P66xoYJqXULwA/Z4mx8Od46QAOgaPXa95GsZiH8fG+GtB1vel53j6AYrVa5Tk/x0UA+7quN+Nzy/UhibTQL9m/1tLdghXA/wfwG5UF+daMCa/TAAAAAElFTkSuQmCC",Ke="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGoAAABqCAYAAABUIcSXAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpDRUJDNUJGMUNGRDlFNDExQjEyNUNBNjVFNTJGM0U4QiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpDNTREQjI3NDNERTgxMUU3OTE2OUZBMDQ1MTdFNTJGRCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpDNTREQjI3MzNERTgxMUU3OTE2OUZBMDQ1MTdFNTJGRCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDE4MDExNzQwNzIwNjgxMTgyMkFCNzNBRTc2REZEOUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6Q0VCQzVCRjFDRkQ5RTQxMUIxMjVDQTY1RTUyRjNFOEIiLz4gPC9yZGY6RGVzY3Jp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",xe=me("login",{state:()=>({moduleLoaded:!1,backgroundPicture:""}),getters:{},actions:{}}),w=h=>(Ve("data-v-3d7fc0de"),h=h(),Ee(),h),_e={class:"login-center flex align-center justify-end"},Qe={class:"login_border"},Pe={key:0,class:"login-main"},We={class:"login-top flex align-center justify-between"},qe={class:"login-tab flex align-center hand-pointer"},$e={class:"login-toreg-btn flex align-center"},eo=w(()=>l("i",{class:"iconfont-pc icon-login-jt"},null,-1)),oo={class:"login-body"},lo={key:0,class:"login-mode-normal"},to={class:"login-input flex align-center"},ao=w(()=>l("img",{src:Xe},null,-1)),no={class:"login-input flex align-center"},so=w(()=>l("img",{src:He},null,-1)),io={class:"login-mode-normal"},Ao={class:"login-input flex align-center"},ro={key:1,src:Je},co={class:"login-input flex align-center"},uo=w(()=>l("img",{src:je},null,-1)),mo={key:1,class:"error-notice"},go={class:"login_last"},po={key:3,class:"login_bottom"},vo={class:"tit"},wo={class:"other-login"},ho=w(()=>l("img",{height:"32",src:Ke,width:"32"},null,-1)),bo=[ho],ko={key:1,class:"login-main wechat-main"},Co={class:"tow-title"},Bo=ge({__name:"Login",setup(h){G("accessToken").value&&E("/",{replace:!0});const F=Oe(),z=pe(),Q=z.query.return_url?String(z.query.return_url):"/",b=ve();b.loadNav();const r=a(1),k=a(""),C=a(""),d=a(""),p=a(""),S=a(!1),U=a(!1),Z=a(""),D=a(),v=a(""),Y=a(0),O=a(0),B=xe(),f=a("86"),P=async()=>{try{const e=await Se({decorate_sn:"pc_user_login"});B.backgroundPicture=e.item.data.background_pic.pic_url}catch{}finally{B.moduleLoaded=!0}};B.moduleLoaded===!1&&P(),x(()=>{ee()});const I=()=>{W()},W=async()=>{try{U.value=!0;const e=await Ge({login_type:r.value===1?"password":"mobile",username:k.value,password:C.value,mobile:b.is_open_mobile_area_code?f.value+d.value:d.value,mobile_code:p.value,verify_token:Z.value}),o=G("accessToken");o.value=e.token,F.userInfoLoaded=!1,E(Q,{replace:!0})}catch(e){e.errcode==1002?D.value.show():e.errcode>0&&(v.value=e.message)}finally{U.value=!1}},q=e=>{Z.value=e.verifyToken,I()},T=we(()=>r.value==1?k.value==""||C.value=="":d.value==""||p.value==""||S.value==!1),X=e=>{r.value=e,v.value=""},$=e=>{v.value=e},ee=async()=>{const e=await Le();Y.value=e.show_oauth,O.value=e.wechat_login},R=a(1),H=a(""),y=a(0),J=a("");let u;const L=async()=>{const e=await Me();e.url&&(J.value=e.ticket,R.value=2,await le(e.url),u&&clearInterval(u),y.value=0,u=Ie(()=>{y.value++,te()},1e3))},oe=()=>{R.value=1,clearInterval(u),u=null,y.value=0},le=async e=>{const o=e;let N={margin:10};H.value=await Te.toDataURL(o,N)},te=async()=>{const e=await ze({key:J.value});if(e.type>0&&(clearInterval(u),u=null,y.value=0),e.type==1){const o=G("accessToken");o.value=e.token,F.userInfoLoaded=!1,E("/member",{replace:!0})}e.type==2&&(F.openData=e.open_data,E("/member/BindMobilePhone/"))};function j(e){e.key==="Enter"&&!T.value&&(console.log("Enter key pressed"),I())}return x(()=>{document.addEventListener("keydown",j)}),he(()=>{document.removeEventListener("keydown",j)}),(e,o)=>{const N=Ae,ae=re,ne=ce,V=de,K=ue,se=ye,ie=Ue;return s(),i(Re,null,[n(N,{title:"登录"}),n(ae,{type:"login"}),l("div",{style:Be({background:`url(${("imageFormat"in e?e.imageFormat:g(fe))(g(B).backgroundPicture)}) no-repeat scroll center top`}),class:"login-warp"},[l("div",_e,[l("div",Qe,[R.value==1?(s(),i("div",Pe,[l("div",We,[l("div",qe,[l("div",{class:_([r.value==1?"login-on":"","login_mode"]),onClick:o[0]||(o[0]=t=>X(1))},A(e.$t("普通登录")),3),l("div",{class:_([r.value==2?"login-on":"","login_mode"]),onClick:o[1]||(o[1]=t=>X(2))},A(e.$t("手机登录")),3)]),l("div",$e,[n(ne,{to:"/member/register/"},{default:c(()=>[M(A(e.$t("账号注册")),1)]),_:1}),eo])]),l("div",oo,[r.value==1?(s(),i("div",lo,[l("div",to,[n(V,{modelValue:k.value,"onUpdate:modelValue":o[2]||(o[2]=t=>k.value=t),clearable:"",placeholder:e.$t("用户名/邮箱/手机"),type:"text"},{prefix:c(()=>[ao]),_:1},8,["modelValue","placeholder"])]),l("div",no,[n(V,{modelValue:C.value,"onUpdate:modelValue":o[3]||(o[3]=t=>C.value=t),placeholder:e.$t("密码"),"show-password":"",type:"password"},{prefix:c(()=>[so]),_:1},8,["modelValue","placeholder"])])])):m("",!0),be(l("div",io,[l("div",Ao,[n(V,{modelValue:d.value,"onUpdate:modelValue":o[5]||(o[5]=t=>d.value=t),clearable:"",placeholder:e.$t("您的手机号"),type:"text"},{prefix:c(()=>[g(b).is_open_mobile_area_code?(s(),Ce(Ye,{key:0,modelValue:f.value,"onUpdate:modelValue":o[4]||(o[4]=t=>f.value=t)},null,8,["modelValue"])):(s(),i("img",ro))]),_:1},8,["modelValue","placeholder"])]),l("div",co,[n(V,{modelValue:p.value,"onUpdate:modelValue":o[8]||(o[8]=t=>p.value=t),placeholder:e.$t("请输入验证码"),type:"text"},{prefix:c(()=>[uo]),suffix:c(()=>[n(g(Ze),{mobile:g(b).is_open_mobile_area_code?f.value+d.value:d.value,mobileCode:p.value,"onUpdate:mobileCode":o[6]||(o[6]=t=>p.value=t),mobileCodeSended:S.value,"onUpdate:mobileCodeSended":o[7]||(o[7]=t=>S.value=t),requestApi:g(Ne),class:"mobile-code-text",onMobileErrorCallback:$},null,8,["mobile","mobileCode","mobileCodeSended","requestApi"])]),_:1},8,["modelValue","placeholder"])])],512),[[ke,r.value==2]]),v.value?(s(),i("div",mo,A(v.value),1)):m("",!0),l("div",go,[n(K,{disabled:g(T),loading:U.value,class:"login_btn submit_btn",type:"primary",onClick:I},{default:c(()=>[M(A(e.$t("登录")),1)]),_:1},8,["disabled","loading"])]),r.value===1?(s(),i("div",{key:2,class:"forget-text",onClick:o[9]||(o[9]=t=>e.$router.push("/member/reset"))},A(e.$t("忘记密码？")),1)):m("",!0),Y.value==1?(s(),i("div",po,[l("div",vo,A(e.$t("使用合作网站的账号登录"))+"：",1),l("li",wo,[O.value==1?(s(),i("a",{key:0,onClick:L},bo)):m("",!0)])])):m("",!0),n(De,{ref_key:"verify",ref:D,imgSize:{width:"310px",height:"155px"},captchaType:"blockPuzzle",mode:"pop",onOkCallback:q},null,512)]),l("div",{onClick:L,class:"qiehuan1"})])):m("",!0),R.value==2?(s(),i("div",ko,[l("div",Co,A(e.$t("使用微信扫码安全登录")),1),l("div",null,[n(se,{fit:"cover",class:"two-image",src:H.value},null,8,["src"])]),l("div",null,[n(K,{style:{width:"140px"},type:"primary",onClick:o[10]||(o[10]=t=>L())},{default:c(()=>[M(A(e.$t("刷新二维码")),1)]),_:1})]),l("div",{onClick:oe,class:"qiehuan"})])):m("",!0)])])],4),n(ie,{type:2})],64)}}}),Qo=Fe(Bo,[["__scopeId","data-v-3d7fc0de"]]);export{Qo as default};
