import{b as a}from"./Bx_3tXOW.js";import{_ as s}from"./DIcT5qlW.js";import{_ as e}from"./CFmHvMYA.js";import{e as t,an as i,r as l,y as o,g as r,n,c,o as p,b as u,a as m,w as d,E as v,i as f,j as y,ao as _,h as g,t as h,B as j,d as b,F as w,k,v as $,l as x,q as O,ae as V,_ as C}from"./vO8z_6wc.js";import{E as S}from"./D0li9aqr.js";import{_ as I}from"./4BWvF7DS.js";import{_ as U}from"./DRy-t1KR.js";import{_ as z}from"./DuC2lRmX.js";import{E as F}from"./OZUBBuO3.js";import{_ as P}from"./_qz6p60H.js";import{_ as N}from"./B6kpiin_.js";import{u as L,g as A,a as E}from"./Ctuj9lAE.js";import{g as M}from"./Bsth4xZ1.js";import{b as R,n as T}from"./B3kMr2Om.js";import"./ExFuuhw5.js";import"./pBde3eXe.js";import"./duVALuQ5.js";import"./CdIa5lAL.js";import"./CKVP4sCQ.js";import"./BwRzfsZt.js";import"./B0jPhJeY.js";import"./D_Dr4eZ1.js";import"./YLitFIRx.js";import"./C8tVKSc2.js";import"./BG07ctRk.js";import"./DEtxbcwL.js";import"./Blg26O5T.js";import"./C0xcqOw0.js";import"./C_yTnQv7.js";import"./DgmxjSXK.js";import"./CxvT33_f.js";import"./DrvtNMlR.js";import"./DGiXcmvN.js";import"./123WnbAt.js";import"./VsleDggW.js";import"./DqoL2U0I.js";import"./DuT7nVv0.js";import"./y2YKyhRU.js";import"./6_reTNGa.js";/* empty css        */const q={class:"container flex"},Q={class:"menu"},B={class:"info-row"},J={class:"user-info"},K={class:"image-div"},W={class:"user-col"},X={class:"username"},Y={key:0},Z=["src"],D=["src"],G={class:"user_rank",style:{margin:"0 0 0 10px"}},H={class:"user-span-info"},aa={class:"font-color"},sa={class:"user-span-info"},ea={class:"verify"},ta={key:2,style:{"margin-left":"15px"}},ia={class:"right-info"},la={class:"ico-page"},oa={class:"mes_name"},ra={class:"mes_name"},na={class:"ico-page"},ca={class:"mes_name"},pa={class:"mes_name"},ua={class:"ico-page"},ma={class:"mes_name"},da={class:"mes_name"},va={class:"ico-page"},fa={class:"mes_name"},ya={class:"mes_name"},_a={class:"title-or-tabs bw"},ga={class:"page-info-body"},ha={class:"swiper_box"},ja={class:"tab_list"},ba={key:0,class:"cheap_prod"},wa={class:"tab-list flex-wrap"},ka={class:"item"},$a={class:"text-ellipsis"},xa={key:0,class:"no-result",style:{height:"319px"}},Oa={key:1,class:"cheap_prod"},Va={class:"tab-list flex-wrap"},Ca={class:"item"},Sa={class:"text-ellipsis"},Ia={key:0,class:"no-result",style:{height:"319px"}},Ua=C(t({__name:"index",setup(t){const C=i(),Ua=(a,s)=>{Na.value.avatar=URL.createObjectURL(s.raw)},za=L();za.getUserInfo();const Fa=l(1),Pa=l({autoplay:!1,navigation:!0,effect:"slide",loop:!0}),Na=l({...za.userInfo}),La=()=>{V("/member/userCertification/info")};o((()=>{(async()=>{try{const a=await E();Object.assign(Na.value,a)}catch(a){n.error(a.message)}})(),Ra()}));const Aa=l([]),Ea=r({page:1,size:15,sortField:"",sortOrder:"",keyword:""}),Ma=l([]),Ra=async()=>{try{const a=await A({...Ea});Ma.value.push(...Ta(a))}catch(a){n.error(a.message)}};(async()=>{try{const a=await M({...Ea});a.records.length>0&&Aa.value.push(...Ta(a.records))}catch(a){n.error(a.message)}})();const Ta=a=>{let s=[];for(let e=0;e<a.length;e+=5){let t=a.slice(e,e+5);s.push(t)}return s};return(t,i)=>{const l=a,o=s,r=e,n=v,V=S,L=I,A=U,E=z,M=F,Ea=P,Ra=N;return p(),c(w,null,[u(l),u(o,{title:"会员中心"}),m("div",q,[m("div",Q,[u(r)]),m("div",B,[m("div",J,[m("div",K,[u(V,{action:f(_).prefix+"/user/user/modifyAvatar",headers:f(C),"on-success":Ua,"show-file-list":!1,class:"avatar-uploader"},{default:d((()=>[u(n,{src:("imageFormat"in t?t.imageFormat:f(y))(Na.value.avatar),alt:""},null,8,["src"])])),_:1},8,["action","headers"])]),m("div",W,[m("div",X,[m("span",null,h(f(za).userInfo.nickname?f(za).userInfo.nickname:f(za).userInfo.dimUsername),1),f(j)()?(p(),c("div",Y,[Number(Na.value.isCompanyAuth)>0?(p(),c("img",{key:0,class:"auth-icon",src:f(R),onClick:La},null,8,Z)):(p(),c("img",{key:1,class:"auth-icon",src:f(T),onClick:La},null,8,D))])):g("",!0),m("span",G,[u(n,{src:Na.value.rankIco,style:{width:"20px"}},null,8,["src"])])]),m("div",H,[m("span",null,h(t.$t("积分"))+"：",1),m("span",aa,h(Na.value.points?Na.value.points:"-"),1),b(h(t.$t("分")),1)]),m("div",sa,[m("span",null,h(t.$t("余额"))+"：",1),u(L,{modelValue:Na.value.balance,"onUpdate:modelValue":i[0]||(i[0]=a=>Na.value.balance=a),fontStyle:{color:"var(--price)"},showText:!1},null,8,["modelValue"]),u(A,{class:"ml10",to:"/member/account/deposit"},{default:d((()=>[b("["+h(t.$t("去充值"))+"]",1)])),_:1})]),m("div",ea,[Number(Na.value.mobileValidated)>0?(p(),c(w,{key:0},[i[5]||(i[5]=m("i",{class:"iconfont-pc icon-shoujiyiyanzheng has"},null,-1)),m("span",null,h(t.$t("手机已验证")),1)],64)):(p(),c(w,{key:1},[i[6]||(i[6]=m("i",{class:"iconfont-pc icon-shoujiweiyanzheng no"},null,-1)),u(A,{to:"/member/security/info"},{default:d((()=>[b(h(t.$t("手机未验证(立即验证)")),1)])),_:1})],64)),f(j)()&&!("isOverseas"in t?t.isOverseas:f(k))()?(p(),c("div",ta,[Number(Na.value.isCompanyAuth)>0?(p(),c(w,{key:0},[i[7]||(i[7]=m("i",{class:"iconfont-pc icon-shimingrenzheng has"},null,-1)),u(A,{to:"/member/userCertification/info"},{default:d((()=>[b(h(t.$t("实名认证（已认证）")),1)])),_:1})],64)):(p(),c(w,{key:1},[i[8]||(i[8]=m("i",{class:"iconfont-pc icon-shimingrenzheng no"},null,-1)),u(A,{to:"/member/userCertification/info"},{default:d((()=>[b(h(t.$t("实名认证（未认证）")),1)])),_:1})],64))])):g("",!0)])]),i[13]||(i[13]=m("div",{class:"info-line"},[m("span",{class:"top-icon"}),m("span",{class:"bottom-icon"})],-1)),m("div",ia,[u(A,{to:"/member/coupon/list"},{default:d((()=>[m("div",la,[i[9]||(i[9]=m("div",{class:"coupon_pic pic"},null,-1)),m("div",oa,h(t.$t("优惠券")),1),m("div",ra,h(Na.value.awaitCoupon?Na.value.awaitCoupon:"0")+h(t.$t("张")),1)])])),_:1}),u(A,{to:"/member/order/list?type=awaitPay"},{default:d((()=>[m("div",na,[i[10]||(i[10]=m("div",{class:"pay_pic pic"},null,-1)),m("div",ca,h(t.$t("待付款")),1),m("div",pa,h(Na.value.awaitPay?Na.value.awaitPay:"0")+h(t.$t("单")),1)])])),_:1}),u(A,{to:"/member/order/list?type=awaitShipping"},{default:d((()=>[m("div",ua,[i[11]||(i[11]=m("div",{class:"take_pic pic"},null,-1)),m("div",ma,h(t.$t("待发货")),1),m("div",da,h(Na.value.awaitShipping?Na.value.awaitShipping:"0")+h(t.$t("单")),1)])])),_:1}),u(A,{to:"/member/order/list?type=awaitComment"},{default:d((()=>[m("div",va,[i[12]||(i[12]=m("div",{class:"ass_pic pic"},null,-1)),m("div",fa,h(t.$t("待评价")),1),m("div",ya,h(Na.value.awaitComment?Na.value.awaitComment:"0")+h(t.$t("条")),1)])])),_:1})])]),m("div",_a,[m("span",null,h(t.$t("近期订单")),1),u(A,{class:"h4",to:"/member/order/list"},{default:d((()=>[b(h(t.$t("更多订单")),1),i[14]||(i[14]=m("i",{class:"iconfont-pc icon-jiantou_you"},null,-1))])),_:1})]),m("div",ga,[u(E,{modelValue:0})]),m("div",ha,[m("div",ja,[m("div",{class:$([1==Fa.value?"active":"","tab"]),onMouseenter:i[1]||(i[1]=a=>Fa.value=1)},h(t.$t("最近收藏")),35),m("div",{class:$([2==Fa.value?"active":"","tab"]),onMouseenter:i[2]||(i[2]=a=>Fa.value=2)},h(t.$t("最近浏览")),35)]),1==Fa.value?(p(),c("div",ba,[u(Ea,{swiperOption:Pa.value,"onUpdate:swiperOption":i[3]||(i[3]=a=>Pa.value=a),itemList:Aa.value},{default:d((({item:a})=>[m("div",wa,[(p(!0),c(w,null,x(a,(a=>(p(),c("div",ka,[u(A,{title:a.productName,to:f(O)({path:"product",id:a.productId,sn:a.productSn}),class:"nuxt",target:"_blank"},{default:d((()=>[u(n,{src:("imageFormat"in t?t.imageFormat:f(y))(a.picThumb),class:"pro_pic",loading:"lazy",style:{transition:"opacity 0.2s linear"}},null,8,["src"]),m("div",null,[m("div",$a,h(a.productName),1)])])),_:2},1032,["title","to"]),m("p",null,[u(L,{modelValue:a.productPrice,"onUpdate:modelValue":s=>a.productPrice=s,fontStyle:{fontSize:"14px",color:"var(--price)"}},null,8,["modelValue","onUpdate:modelValue"])]),u(A,{to:f(O)({path:"product",id:a.productId,sn:a.productSn}),target:"_blank"},{default:d((()=>[u(M,{type:"primary"},{default:d((()=>[b(h(t.$t("立即购买")),1)])),_:1})])),_:2},1032,["to"])])))),256))])])),_:1},8,["swiperOption","itemList"]),0===Aa.value.length?(p(),c("div",xa,h(t.$t("暂无数据")),1)):g("",!0)])):(p(),c("div",Oa,[u(Ea,{swiperOption:Pa.value,"onUpdate:swiperOption":i[4]||(i[4]=a=>Pa.value=a),itemList:Ma.value},{default:d((({item:a})=>[m("div",Va,[(p(!0),c(w,null,x(a,(a=>(p(),c("div",Ca,[u(A,{title:a.productName,to:f(O)({path:"product",id:a.productId,sn:a.productSn}),class:"nuxt",target:"_blank"},{default:d((()=>[u(n,{src:("imageFormat"in t?t.imageFormat:f(y))(a.picThumb),class:"pro_pic",loading:"lazy",style:{transition:"opacity 0.2s linear"}},null,8,["src"]),m("div",null,[m("div",Sa,h(a.productName),1)])])),_:2},1032,["title","to"]),m("p",null,[u(L,{modelValue:a.productPrice,"onUpdate:modelValue":s=>a.productPrice=s,fontStyle:{fontSize:"14px",color:"var(--price)"}},null,8,["modelValue","onUpdate:modelValue"])]),u(A,{to:f(O)({path:"product",id:a.productId,sn:a.productSn}),target:"_blank"},{default:d((()=>[u(M,{type:"primary"},{default:d((()=>[b(h(t.$t("立即购买")),1)])),_:1})])),_:2},1032,["to"])])))),256))])])),_:1},8,["swiperOption","itemList"]),0===Ma.value.length?(p(),c("div",Ia,h(t.$t("暂无数据")),1)):g("",!0)]))])])]),u(Ra,{type:2,bg:"#fff"})],64)}}}),[["__scopeId","data-v-52e7cd3e"]]);export{Ua as default};
