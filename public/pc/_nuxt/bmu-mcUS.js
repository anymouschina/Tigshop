import{_ as R}from"./BYDV-pPC.js";import{_ as B}from"./DgxkP7C4.js";import{_ as F}from"./BCw_XNK7.js";import{f as N,a7 as V,Y as j,v as y,r as t,u as D,a9 as H,s as U,q as E,g as G,o as s,c as n,b as u,F as l,l as O,a as h,j as T,au as Y,i as v,h as z,_ as A}from"./DvlzeZYf.js";import{a as J}from"./n9Tv4tKK.js";import{C as K}from"./BIoZzMix.js";import"./CljOOE4N.js";import"./CzQrJ5jx.js";import"./CPg1UVcC.js";import"./ctHFjQ9z.js";import"./XomGKeK5.js";import"./B9SirqjL.js";import"./BxwJi-A4.js";import"./CvS5MqkS.js";import"./6IjmK16v.js";import"./DXZCNwre.js";import"./BB_Ol6Sd.js";import"./Cq9Fpw4b.js";import"./D5p5RYpQ.js";import"./DGzzo1G8.js";import"./DldgdBu3.js";import"./DCTLXrZ8.js";import"./De9iyrrl.js";import"./C3hftOhu.js";import"./CFi7q_x0.js";/* empty css        */import"./JPAiA_Rf.js";import"./lRlBa-wu.js";import"./DEXPT9kT.js";import"./BpsRniw3.js";import"./CZXUHXp1.js";import"./eXzid_I5.js";import"./D0iLGPIx.js";import"./DpiGic3x.js";import"./Cih86h_U.js";const Q={key:0,style:{background:"white"}},W={class:"container"},X={class:"page-info"},Z=N({__name:"ShopSearch",setup($){const p=V(),{t:g}=j(),k=y(()=>{let e=g("店铺商品搜索");return p.de_copyright&&p.powered_by_status==0?e+=p.powered_by??"":e+="-powered by tigshop",e}),w=t([]),I=e=>{w.value=e},i=t(!1),S=t(""),q=t("");D({title:k,meta:[{name:"description",content:S},{name:"keyword",content:q}]});const L=H(),m=t(L.path.split("/").pop()),d=y(()=>{let e={};return o.page>1&&(e.page=o.page),o.shopId>0&&(e.shop_id=o.shopId),o.keyword!=""&&(e.keyword=o.keyword),e}),o=U({page:1,keyword:"",shopId:-1}),c=E();G([()=>c.currentRoute.value.query],()=>{o.keyword=c.currentRoute.value.query.keyword,o.shopId=m.value},{deep:!0,immediate:!0});const _=t([]),f=t({}),b=t();return(async()=>{i.value=!1;try{const e=await J({shop_id:m.value});b.value=e.decorate_id,_.value=e.module_list,Object.assign(f.value,e.pageModule)}catch{}finally{i.value=!0}})(),(e,a)=>{const C=R,M=B,x=F;return s(),n(l,null,[u(C),i.value?(s(),n("div",Q,[(s(!0),n(l,null,O(_.value,(r,P)=>(s(),n(l,{key:P},[r.type=="shop_info"?(s(),z(M,{key:0,onTreeList:I,pageModule:f.value,shopId:Number(m.value),module:r.module},null,8,["pageModule","shopId","module"])):v("",!0)],64))),128)),h("div",W,[h("div",X,[u(K,{queryParams:d.value,"onUpdate:queryParams":a[0]||(a[0]=r=>d.value=r),filter:T(o),"onUpdate:filter":a[1]||(a[1]=r=>Y(o)?o.value=r:null)},null,8,["queryParams","filter"])])])])):v("",!0),u(x,{mt30:!1,showFriendly:!1})],64)}}}),je=A(Z,[["__scopeId","data-v-5ad74731"]]);export{je as default};
