import{b as e}from"./Bx_3tXOW.js";import{_ as a}from"./DIcT5qlW.js";import{_ as l}from"./CFmHvMYA.js";import{_ as s}from"./BoBe_m7P.js";import{E as o}from"./OZUBBuO3.js";import{E as t,a as r}from"./DKvZ9Rd6.js";import{E as u}from"./duVALuQ5.js";import{_ as m}from"./DRy-t1KR.js";import{E as n}from"./DQonK11p.js";import{_ as i}from"./B6kpiin_.js";import{e as p,r as d,aj as c,g as v,I as f,y as b,z as y,c as $,o as j,b as _,a as g,h,aa as V,t as k,d as C,ab as w,m as A,w as I,F as q,n as U,_ as N}from"./vO8z_6wc.js";import{a as P,i as x,u as z}from"./BKztAS8l.js";import"./B3kMr2Om.js";import"./4BWvF7DS.js";import"./Ctuj9lAE.js";import"./BG07ctRk.js";import"./ExFuuhw5.js";import"./6_reTNGa.js";import"./BwRzfsZt.js";import"./CdIa5lAL.js";import"./CKVP4sCQ.js";import"./DqoL2U0I.js";import"./D_Dr4eZ1.js";import"./123WnbAt.js";import"./C_yTnQv7.js";import"./DgmxjSXK.js";import"./VsleDggW.js";import"./B0jPhJeY.js";import"./C0xcqOw0.js";/* empty css        */import"./pBde3eXe.js";import"./YLitFIRx.js";import"./C8tVKSc2.js";import"./DEtxbcwL.js";import"./y2YKyhRU.js";const E={class:"container flex"},B={class:"menu"},O={class:"info-row"},K={class:"title-or-tabs"},L={class:"tag-and-input"},R={class:"tig-tabs"},T={class:"invoice-info-content"},F={class:"tips"},J={class:"font-color"},M={class:"remind-box mt20"},Q={class:"i-mt"},W={key:0,class:"gray"},X={key:1,class:"green"},Y={key:2,class:"orange"},Z={key:3,class:"red"},D={key:4},G={key:1,class:"error-info"},H={key:0,class:"invoice-info-content"},S={class:"title-tips"},ee={key:1,class:"invoice-info-content"},ae={class:"tips mb-tips"},le={class:"font-color"},se=N(p({__name:"Info",setup(p){const N=d(!1);c();const se=v([{value:"发票申请",url:"/member/orderInvoice/list",size:0},{value:"增票资质",url:"/member/userInvoice/info",size:0}]),oe=d(!0),te=f(),re=d({}),ue=async()=>{try{const e=await P();Object.assign(re.value,e)}catch(e){U.error(e.message)}finally{oe.value=!1}};b((()=>{ue()}));const me=()=>{ue(),N.value=!N.value,re.value.isConfirm=0},{t:ne}=y(),ie={isConfirm:[{required:!0,message:ne("请勾选确认书"),trigger:"change"},{validator:(e,a,l)=>{1!==a?l(new Error(ne("需要勾选确认才能继续"))):l()},trigger:"change"}]},pe=async()=>{await te.value.validate();try{re.value.titleType=2,re.value.invoiceType=1,re.value.isAdd=0==re.value.status?1:0;let e={};e=0===re.value.status?await x(re.value):await z({id:re.value.invoiceId,...re.value}),me(),U.success(ne("操作成功"))}catch(e){U.error(e.message)}};return(p,d)=>{const c=e,v=a,f=l,b=s,y=o,U=t,P=r,x=u,z=m,ue=n,ne=i;return j(),$(q,null,[_(c),_(v,{title:"增票资质"}),g("div",E,[g("div",B,[_(f)]),g("div",O,[g("div",K,[g("div",L,[g("div",R,[_(b,{menuList:se},null,8,["menuList"])])])]),g("div",T,[g("div",F,[g("p",null,[g("strong",null,k(p.$t("温馨提示")),1)]),g("p",null,k(p.$t("我们会在一个工作日内完成审核工作"))+"。",1),g("p",null,[C(" 1）"+k(p.$t("资质审核结果查询时间"))+"：",1),g("span",J,k(p.$t("资质上传一到两个工作日后即可查询"))+"。",1)]),g("p",null,"2）"+k(p.$t("注意有效增值税专用发票开票资质仅为一个"))+"。",1)]),V(g("div",M,[g("div",Q,[g("strong",null,k(p.$t("您的增票资质"))+"：",1),0===re.value.status?(j(),$("span",W,k(p.$t("未申请专用发票")),1)):1===re.value.status?(j(),$("span",X,k(p.$t("审核通过")),1)):2===re.value.status?(j(),$("span",Y,k(p.$t("已申请，待审核")),1)):3===re.value.status?(j(),$("span",Z,k(p.$t("审核未通过")),1)):(j(),$("span",D))]),oe.value?h("",!0):(j(),A(y,{key:0,type:"primary",size:"small",class:"mt10",onClick:me},{default:I((()=>[C(k(0===re.value.status?p.$t("添加增票资质"):p.$t("修改并重新审核")),1)])),_:1})),3===re.value.status?(j(),$("div",G,k(p.$t("审核失败原因"))+"："+k(re.value.applyReply),1)):h("",!0)],512),[[w,!N.value]])]),!N.value&&re.value.hasOwnProperty("companyName")?(j(),$("div",H,[g("div",S,[g("li",null,k(p.$t("填写增票资质信息")),1)]),_(P,{"label-width":"auto",class:"form-body","label-suffix":"："},{default:I((()=>[_(U,{label:p.$t("单位名称")},{default:I((()=>[C(k(re.value.companyName),1)])),_:1},8,["label"]),_(U,{label:p.$t("纳税人识别码")},{default:I((()=>[C(k(re.value.companyCode),1)])),_:1},8,["label"]),_(U,{label:p.$t("注册地址")},{default:I((()=>[C(k(re.value.companyAddress),1)])),_:1},8,["label"]),_(U,{label:p.$t("注册电话")},{default:I((()=>[C(k(re.value.companyPhone),1)])),_:1},8,["label"]),_(U,{label:p.$t("开户银行")},{default:I((()=>[C(k(re.value.companyBank),1)])),_:1},8,["label"]),_(U,{label:p.$t("银行账户")},{default:I((()=>[C(k(re.value.companyAccount),1)])),_:1},8,["label"])])),_:1})])):h("",!0),N.value?(j(),$("div",ee,[g("div",ae,[g("span",null,[C(k(p.$t("填写增票资质信息"))+" ",1),g("span",le,"（"+k(p.$t("所有信息均为必填"))+"）",1)])]),_(P,{ref_key:"formRef",ref:te,"label-width":120,model:re.value,rules:ie,class:"form-body","label-suffix":"："},{default:I((()=>[_(U,{rules:[{required:!0,message:p.$t("单位名称不能为空")}],label:p.$t("单位名称"),prop:"companyName"},{default:I((()=>[_(x,{modelValue:re.value.companyName,"onUpdate:modelValue":d[0]||(d[0]=e=>re.value.companyName=e),clearable:"",placeholder:p.$t("请输入单位名称")},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"]),_(U,{rules:[{required:!0,message:p.$t("纳税人识别码不能为空")}],label:p.$t("纳税人识别码"),prop:"companyCode"},{default:I((()=>[_(x,{modelValue:re.value.companyCode,"onUpdate:modelValue":d[1]||(d[1]=e=>re.value.companyCode=e),clearable:"",placeholder:p.$t("请输入纳税人识别码")},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"]),_(U,{rules:[{required:!0,message:p.$t("注册地址不能为空")}],label:p.$t("注册地址"),prop:"companyAddress"},{default:I((()=>[_(x,{modelValue:re.value.companyAddress,"onUpdate:modelValue":d[2]||(d[2]=e=>re.value.companyAddress=e),clearable:"",placeholder:p.$t("请输入注册地址")},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"]),_(U,{rules:[{required:!0,message:p.$t("注册电话不能为空")}],label:p.$t("注册电话"),prop:"companyPhone"},{default:I((()=>[_(x,{modelValue:re.value.companyPhone,"onUpdate:modelValue":d[3]||(d[3]=e=>re.value.companyPhone=e),clearable:"",placeholder:p.$t("请输入注册电话")},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"]),_(U,{rules:[{required:!0,message:p.$t("开户银行不能为空")}],label:p.$t("开户银行"),prop:"companyBank"},{default:I((()=>[_(x,{modelValue:re.value.companyBank,"onUpdate:modelValue":d[4]||(d[4]=e=>re.value.companyBank=e),clearable:"",placeholder:p.$t("请输入开户银行")},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"]),_(U,{rules:[{required:!0,message:p.$t("银行账户不能为空")}],label:p.$t("银行账户"),prop:"companyAccount"},{default:I((()=>[_(x,{modelValue:re.value.companyAccount,"onUpdate:modelValue":d[5]||(d[5]=e=>re.value.companyAccount=e),clearable:"",placeholder:p.$t("请输入银行账户")},null,8,["modelValue","placeholder"])])),_:1},8,["rules","label"]),_(U,{label:"",prop:"isConfirm"},{default:I((()=>[_(ue,{modelValue:re.value.isConfirm,"onUpdate:modelValue":d[6]||(d[6]=e=>re.value.isConfirm=e),"false-value":0,"true-value":1},{default:I((()=>[C(k(p.$t("我已阅读并同意"))+" ",1),_(z,{class:"font-color",target:"_blank",to:"/member/userInvoice/confirmInfo"},{default:I((()=>[C("《"+k(p.$t("增票资质确认书"))+"》",1)])),_:1})])),_:1},8,["modelValue"])])),_:1}),_(U,{label:""},{default:I((()=>[_(y,{type:"primary",onClick:pe},{default:I((()=>[C(k(p.$t("确认")),1)])),_:1}),_(y,{onClick:me},{default:I((()=>[C(k(p.$t("取消")),1)])),_:1})])),_:1})])),_:1},8,["model"])])):h("",!0)])]),_(ne)],64)}}}),[["__scopeId","data-v-bbd09b2f"]]);export{se as default};
