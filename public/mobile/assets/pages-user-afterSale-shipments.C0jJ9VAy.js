import{e,E as a,Q as s,r as l,f as r,c as t,w as o,i as u,q as i,y as d,o as n,a as c,b as m,t as f,ae as p,ao as g,_}from"./index-BKzbZvRR.js";import{_ as b}from"./uni-easyinput.DUnQnQgu.js";import{_ as h,a as y}from"./uni-forms.B4Kaqmtk.js";import{_ as N}from"./tig-layout.BpNdXByQ.js";import{f as V}from"./afterSale.CaZTaIe1.js";import"./uni-icons.DELFdrY8.js";const k=_(e({__name:"shipments",setup(e){const{t:_}=a(),k=s({logisticsName:"",trackingNo:"",id:0}),v=l(""),j={logisticsName:{rules:[{required:!0,errorMessage:_("快递公司不能为空")}]},trackingNo:{rules:[{required:!0,errorMessage:_("快递单号不能为空")}]}};r((e=>{e&&(e.id&&(k.id=e.id),e.returnAddress&&(v.value=e.returnAddress))}));const $=l(),x=()=>{$.value.validate().then((()=>{q()})).catch((e=>{console.log("表单错误信息：",e)}))},q=async()=>{try{await V(k);p({url:"/pages/user/afterSale/info",success:()=>{g("refreshInfo",k.id)}})}catch(e){console.error(e)}};return(e,a)=>{const s=u,l=i(d("uni-easyinput"),b),r=i(d("uni-forms-item"),h),p=i(d("uni-forms"),y),g=i(d("tig-layout"),N);return n(),t(s,null,{default:o((()=>[c(g,null,{default:o((()=>[c(s,{class:"returnaddress"},{default:o((()=>[c(s,{class:"title"},{default:o((()=>[m(f(e.$t("回寄信息")),1)])),_:1}),c(s,{class:"returnaddress-content"},{default:o((()=>[m(f(v.value),1)])),_:1})])),_:1}),c(s,{class:"leave-message"},{default:o((()=>[c(p,{ref_key:"formRef",ref:$,modelValue:k,"label-width":"170rpx",rules:j},{default:o((()=>[c(r,{label:e.$t("快递公司"),name:"logisticsName"},{default:o((()=>[c(l,{primaryColor:"rgb(192, 196, 204)",inputBorder:!1,modelValue:k.logisticsName,"onUpdate:modelValue":a[0]||(a[0]=e=>k.logisticsName=e),placeholder:e.$t("请您填写快递公司")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),c(r,{label:e.$t("快递单号"),name:"trackingNo"},{default:o((()=>[c(l,{primaryColor:"rgb(192, 196, 204)",inputBorder:!1,modelValue:k.trackingNo,"onUpdate:modelValue":a[1]||(a[1]=e=>k.trackingNo=e),placeholder:e.$t("请您填写快递单号")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["modelValue"])])),_:1}),c(s,{class:"leave-message-btn"},{default:o((()=>[c(s,{class:"btn-box",onClick:x},{default:o((()=>[m(f(e.$t("提交")),1)])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-f415ebce"]]);export{k as default};
