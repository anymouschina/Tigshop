import{e as a,g as s,r as e,h as t,b0 as l,c as i,w as r,i as u,v as c,z as o,o as n,a as p,A as d,aN as m,E as _,F as f,K as v,aO as b,C as g,B as h,a7 as y,b as C,d as D,t as j,D as k,aV as x,M as w,_ as $}from"./index-BKXBH4vI.js";import{_ as N}from"./format-price.0qAAshfo.js";import{_ as S}from"./tig-fixed-placeholder.BHdfEiP8.js";import{_ as z}from"./tig-layout.DMoUsUKf.js";import{b as A}from"./salesman.CxOPGtEY.js";import{_ as B}from"./share.vue_vue_type_script_setup_true_lang.B6msJkJd.js";import"./tig-qrcode.CpruMLXZ.js";import"./tig-image.BbZoJ9nS.js";import"./useCurrency.BKNIWl9f.js";const q=$(a({__name:"detail",setup(a){s((a=>{a&&a.id&&q(a.id)}));const $=e({}),q=async a=>{try{const s=await A(a);$.value=s.item}catch(s){}},E=e(1),F=a=>{E.value=a.detail.current+1},I=e(!1);return t((()=>{l()})),(a,s)=>{const e=g,t=b,l=m,A=D,q=u,K=c(o("format-price"),N),M=c(o("tig-fixed-placeholder"),S),O=c(o("tig-layout"),z);return n(),i(q,null,{default:r((()=>[p(O,null,{default:r((()=>[$.value.pics?(n(),i(q,{key:0,class:"salesman-pro-detail-imgs"},{default:r((()=>[p(q,{class:"product-bg"},{default:r((()=>[p(l,{"indicator-dots":!1,circular:!0,interval:"3000",duration:"500",onChange:F},{default:r((()=>[(n(!0),_(f,null,v($.value.pics,((a,s)=>(n(),i(t,{key:s},{default:r((()=>[p(e,{"lazy-load":"",onClick:a=>(a=>{const s=$.value.pics.map((a=>y(a.pic_url||"")));x({current:s[a],urls:s})})(s),src:h(y)(a.pic_url||""),class:"slide-image"},null,8,["onClick","src"])])),_:2},1024)))),128))])),_:1}),p(q,{class:"pages show"},{default:r((()=>[p(A,null,{default:r((()=>[C(j(E.value),1)])),_:1}),C(" /"+j($.value.pics.length||1),1)])),_:1})])),_:1})])),_:1})):d("",!0),p(q,{class:"salesman-pro-detail-info"},{default:r((()=>[p(q,{class:"salesman-pro-detail-price"},{default:r((()=>[p(q,{class:"salesman-pro-detail-price-num"},{default:r((()=>[p(K,{priceData:$.value.product_price},null,8,["priceData"])])),_:1}),Number($.value.final_commission_price)>0?(n(),i(q,{key:0,class:"salesman-pro-detail-price-tip"},{default:r((()=>[p(e,{class:"price-tip-img",src:h(k)("salesman/priceTip.png")},null,8,["src"]),p(q,{class:"salesman-pro-detail-price-tip-text"},{default:r((()=>[C(j(a.$t("预计可赚"))+" ",1),p(K,{priceData:$.value.final_commission_price},null,8,["priceData"])])),_:1})])),_:1})):d("",!0)])),_:1}),p(q,{class:"salesman-pro-detail-name"},{default:r((()=>[C(j($.value.product_name),1)])),_:1})])),_:1}),p(M,{backgroundColor:"#fff"},{default:r((()=>[p(q,{class:"bottom-btns"},{default:r((()=>[p(q,{class:"bottom-btn",onClick:s[0]||(s[0]=a=>{return s=`/pages/productDetail/index?id=${$.value.product_id}`,void w({url:s});var s})},{default:r((()=>[p(q,{class:"bottom-btn-text"},{default:r((()=>[C(j(a.$t("立即购买")),1)])),_:1})])),_:1}),p(q,{class:"bottom-btn special",onClick:s[1]||(s[1]=a=>I.value=!0)},{default:r((()=>[p(q,{class:"bottom-btn-text"},{default:r((()=>[p(q,null,{default:r((()=>[C(j(a.$t("分享赚钱")),1)])),_:1}),Number($.value.final_commission_price)>0?(n(),i(A,{key:0,class:"bottom-btn-text-tip"},{default:r((()=>[C(j(a.$t("分享后预计可赚"))+" ",1),p(K,{priceData:$.value.final_commission_price},null,8,["priceData"])])),_:1})):d("",!0)])),_:1})])),_:1})])),_:1})])),_:1}),p(B,{currentData:$.value,showShareCard:I.value,"onUpdate:showShareCard":s[2]||(s[2]=a=>I.value=a)},null,8,["currentData","showShareCard"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-db6d0849"]]);export{q as default};
