import{e,G as a,Q as s,r as l,g as r,c as t,w as o,i as n,v as u,z as i,o as d,a as m,b as c,t as _,ag as f,aq as p,_ as g}from"./index-BKXBH4vI.js";import{_ as b}from"./uni-easyinput.D0KhEVqd.js";import{_ as h,a as y}from"./uni-forms.lNaSstdl.js";import{_ as V}from"./tig-layout.DMoUsUKf.js";import{f as v}from"./afterSale.DvomNz22.js";import"./uni-icons.C94_g2wt.js";const j=g(e({__name:"shipments",setup(e){const{t:g}=a(),j=s({logistics_name:"",tracking_no:"",id:0}),k=l(""),$={logistics_name:{rules:[{required:!0,errorMessage:g("快递公司不能为空")}]},tracking_no:{rules:[{required:!0,errorMessage:g("快递单号不能为空")}]}};r((e=>{e&&(e.id&&(j.id=e.id),e.return_address&&(k.value=e.return_address))}));const x=l(),q=()=>{x.value.validate().then((()=>{w()})).catch((e=>{}))},w=async()=>{try{await v(j);f({url:"/pages/user/afterSale/info",success:()=>{p("refreshInfo",j.id)}})}catch(e){}};return(e,a)=>{const s=n,l=u(i("uni-easyinput"),b),r=u(i("uni-forms-item"),h),f=u(i("uni-forms"),y),p=u(i("tig-layout"),V);return d(),t(s,null,{default:o((()=>[m(p,null,{default:o((()=>[m(s,{class:"returnaddress"},{default:o((()=>[m(s,{class:"title"},{default:o((()=>[c(_(e.$t("回寄信息")),1)])),_:1}),m(s,{class:"returnaddress-content"},{default:o((()=>[c(_(k.value),1)])),_:1})])),_:1}),m(s,{class:"leave-message"},{default:o((()=>[m(f,{ref_key:"formRef",ref:x,modelValue:j,"label-width":"170rpx",rules:$},{default:o((()=>[m(r,{label:e.$t("快递公司"),name:"logistics_name"},{default:o((()=>[m(l,{primaryColor:"rgb(192, 196, 204)",inputBorder:!1,modelValue:j.logistics_name,"onUpdate:modelValue":a[0]||(a[0]=e=>j.logistics_name=e),placeholder:e.$t("请您填写快递公司")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),m(r,{label:e.$t("快递单号"),name:"tracking_no"},{default:o((()=>[m(l,{primaryColor:"rgb(192, 196, 204)",inputBorder:!1,modelValue:j.tracking_no,"onUpdate:modelValue":a[1]||(a[1]=e=>j.tracking_no=e),placeholder:e.$t("请您填写快递单号")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["modelValue"])])),_:1}),m(s,{class:"leave-message-btn"},{default:o((()=>[m(s,{class:"btn-box",onClick:q},{default:o((()=>[c(_(e.$t("提交")),1)])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-5a5f8742"]]);export{j as default};
