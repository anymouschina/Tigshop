import{e as a,G as e,r as t,Q as l,g as s,k as i,c as r,w as u,a9 as d,aa as n,v as c,z as o,o as _,a as p,A as g,i as m,E as f,F as v,K as y,T as b,d as k,b as h,t as x,$ as w,M as z,_ as j}from"./index-BKXBH4vI.js";import{_ as $}from"./tig-image.BbZoJ9nS.js";import{_ as V}from"./empty-box.vue_vue_type_script_setup_true_lang.BoUZcl39.js";import{_ as C}from"./loading-box.BnnJRdlH.js";import{_ as I}from"./tig-layout.DMoUsUKf.js";import{n as K}from"./index.xrDesKlL.js";import{a as M}from"./article.2I6t12jT.js";const N=j(a({__name:"list",props:{id:{type:String||Number,default:""}},setup(a){const{t:j}=e(),N={navbar:"1",return:"1",title:"文章中心",color:!1},A=a,E=t("bzgg"),F=t(!1),G=t(!1),J=t(0),Q=l({page:1,category_sn:A.id,size:10}),S=t([]),T=async()=>{Q.page>1?G.value=!0:(d({title:j("加载中")}),F.value=!0);try{const a=await M({...Q});J.value=a.total,S.value=[...S.value,...a.filter_result]}catch(a){}finally{F.value=!1,G.value=!1,n()}};return s((a=>{a&&a.id&&(E.value=a.id,N.title="zxzx"===a.id?"最新资讯":"bzgg"===a.id?"最新公告":"kfzx"===a.id?"客服中心":"",T())})),i((()=>{Q.page<Math.ceil(J.value/Number(Q.size))&&(Q.page++,T())})),(a,e)=>{const t=k,l=m,s=c(o("tig-image"),$),i=w,d=c(o("empty-box"),V),n=c(o("loading-box"),C),j=c(o("tig-layout"),I);return _(),r(j,null,{default:u((()=>[p(K,{parameter:N}),F.value?g("",!0):(_(),r(l,{key:0,class:"article-center"},{default:u((()=>[p(l,{class:"news-list"},{default:u((()=>[S.value.length?(_(!0),f(v,{key:0},y(S.value,(e=>(_(),r(l,{class:"news-item",key:e.article_id},{default:u((()=>[p(l,{class:"pic-desc",onClick:a=>{return t=`/pages/article/news/detail?id=${e.article_id}`,void z({url:t});var t}},{default:u((()=>[p(l,{class:b(["news-left",{"w-100":!e.article_thumb}])},{default:u((()=>[p(l,{class:"pd-title",title:e.article_title},{default:u((()=>[e.article_tag?(_(),r(t,{key:0,class:"yin_agn"},{default:u((()=>[h(x(a.$t("新闻资讯")),1)])),_:1})):g("",!0),p(t,null,{default:u((()=>[h(x(e.article_title),1)])),_:2},1024)])),_:2},1032,["title"]),e.description?(_(),r(l,{key:0,class:"pd-det"},{default:u((()=>[h(x(e.description),1)])),_:2},1024)):g("",!0)])),_:2},1032,["class"]),e.article_thumb?(_(),r(l,{key:0,class:"news-right"},{default:u((()=>[p(s,{src:e.article_thumb,alt:e.article_title},null,8,["src","alt"])])),_:2},1024)):g("",!0)])),_:2},1032,["onClick"]),p(l,{class:"info-btn"},{default:u((()=>[e.add_time?(_(),r(l,{key:0,class:"evaluate"},{default:u((()=>[p(t,{class:"time"},{default:u((()=>[h(x(e.add_time),1)])),_:2},1024)])),_:2},1024)):g("",!0),e.link?(_(),r(i,{key:1,class:"red-btn",target:"_blank",url:e.link,"hover-class":"navigator-hover","open-type":"navigate"},{default:u((()=>[p(t,null,{default:u((()=>[h(x(a.$t("相关链接")),1)])),_:1})])),_:2},1032,["url"])):g("",!0)])),_:2},1024)])),_:2},1024)))),128)):(_(),r(d,{key:1,mode:"news",text:"暂无文章"})),p(n,{modelValue:G.value,"onUpdate:modelValue":e[0]||(e[0]=a=>G.value=a),page:Q.page,length:S.value.length},null,8,["modelValue","page","length"])])),_:1})])),_:1}))])),_:1})}}}),[["__scopeId","data-v-185a91f1"]]);export{N as default};
