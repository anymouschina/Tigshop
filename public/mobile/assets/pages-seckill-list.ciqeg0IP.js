import{Y as a,e as l,r as s,Q as e,R as t,c as o,w as i,v as c,z as u,a2 as r,D as n,o as d,a as _,i as g,A as f,b as p,t as m,E as k,F as x,K as y,B as h,C as b,a7 as q,d as $,T as v,a6 as j,X as z,M as D,_ as S}from"./index-BKXBH4vI.js";import{_ as M}from"./format-price.0qAAshfo.js";import{_ as C}from"./loading-box.BnnJRdlH.js";import{_ as K}from"./tig-layout.DMoUsUKf.js";import{u as T}from"./useList.D_gHwM0_.js";import"./product.BhwveQst.js";const V=l=>a({url:"home/home/get_seckill",method:"get",params:l}),w=S(l({__name:"list",setup(a){r((a=>({"2cd83a68":F.value})));const l=s(),S=e({page:1,size:20}),{isLoadMore:w,data:A}=T(V,{params:S,path:{dataKey:"seckill_list"},immediate:!0}),B=(a,l)=>Math.round(a/(l+a)*100)+"%",F=t((()=>l.value&&l.value.is_zh?`url(${n("common/seckillTitle.png")}) no-repeat`:`url(${n("common/overseas-seckillTitle.jpg")}) no-repeat`));return(a,s)=>{const e=g,t=b,r=$,n=c(u("format-price"),M),T=c(u("loading-box"),C),V=c(u("tig-layout"),K);return d(),o(V,{ref_key:"layoutRef",ref:l},{default:i((()=>[_(e,{class:"seckill-title"},{default:i((()=>[l.value&&!l.value.is_zh?(d(),o(e,{key:0,class:"seckill-title-text-box"},{default:i((()=>[_(e,{class:"seckill-title-text"},{default:i((()=>[p(m(a.$t("限时秒杀")),1)])),_:1})])),_:1})):f("",!0)])),_:1}),_(e,{class:"qianggou-list"},{default:i((()=>[(d(!0),k(x,null,y(h(A),((l,s)=>(d(),o(e,{class:"qianggou-item",key:s,onClick:a=>(a=>{let l=`/pages/productDetail/index?id=${a.product_id}${a.sku_id>0?`&sku_id=${a.sku_id}`:""}`;D({url:l})})(l)},{default:i((()=>[_(e,{class:"qianggou-img-box"},{default:i((()=>[_(t,{class:"qianggou-img",src:h(q)(l.pic_thumb||""),mode:"aspectFill"},null,8,["src"]),0===l.seckill_stock?(d(),o(e,{key:0,class:"qianggou-out"},{default:i((()=>[_(e,{class:"qianggou-out-txt"},{default:i((()=>[p(m(a.$t("已抢完")),1)])),_:1})])),_:1})):f("",!0)])),_:2},1024),_(e,{class:"qianggou-info"},{default:i((()=>[_(e,{class:"qianggou-tit line2"},{default:i((()=>[p(m(l.product_name),1)])),_:2},1024),_(e,{class:"line1 pro-txt-small"},{default:i((()=>[_(r,{class:"line1"},{default:i((()=>[p(m(a.$t("限时秒杀 抢先提醒")),1)])),_:1})])),_:1}),_(e,{class:"qianggou-money-box"},{default:i((()=>[_(e,{class:"qianggou-num"},{default:i((()=>[_(e,{class:"num"},{default:i((()=>[_(n,{decimalsStyle:{fontSize:"25rpx",fontWeight:"bold"},currencyStyle:{fontSize:"23rpx",fontWeight:"bold"},priceData:l.seckill_price},null,8,["priceData"])])),_:2},1024),_(e,{class:"del"},{default:i((()=>[_(n,{fontStyle:{"text-decoration":"line-through"},isBottom:!1,priceData:l.market_price},null,8,["priceData"])])),_:2},1024)])),_:2},1024),_(e,{class:v(["qianggou-btn",{flex:0===l.seckill_stock,"align-center":l.seckill_stock>0}])},{default:i((()=>[0===l.seckill_stock?(d(),o(e,{key:0,class:"btn-txt"},{default:i((()=>[p(m(a.$t("已抢完")),1)])),_:1})):(d(),o(e,{key:1,class:"btn-txt"},{default:i((()=>[_(e,{class:"txt"},{default:i((()=>[p(m(a.$t("马上抢")),1)])),_:1}),_(e,{class:"progress-box flex align-center"},{default:i((()=>[_(e,{class:"progress-bar"},{default:i((()=>[_(e,{class:"progress",style:j({width:B(l.seckill_sales,l.seckill_stock)})},null,8,["style"])])),_:2},1024),_(e,{class:"progress-txt"},{default:i((()=>[p(m(B(l.seckill_sales,l.seckill_stock)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024))])),_:2},1032,["class"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),_(T,{color:"#fff",modelValue:h(w),"onUpdate:modelValue":s[0]||(s[0]=a=>z(w)?w.value=a:null),page:S.page,length:h(A).length},null,8,["modelValue","page","length"])])),_:1},512)}}}),[["__scopeId","data-v-dace1a1a"]]);export{w as default};
