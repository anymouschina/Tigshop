import{d as a,G as e,r as s,o as l,H as t,k as o,l as r,m as u,n as c,w as n,q as i,t as d,v as p,I as h,y as _,J as f,F as v,x as m,K as y,L as g,M as x,B as k,N as w,C as j,O as C}from"./index-Ce4FtYLL.js";import{_ as b}from"./tig-layout.nM03J4I_.js";import{n as H}from"./index.v2UirNFN.js";import{_ as $}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-loading-icon.CaEeBur7.js";import"./u-icon.BDQrrWMI.js";const V=$(a({__name:"index",setup(a){const{t:$}=e(),V=s({navbar:"1",return:"1",title:"搜索商品",color:!1}),G=s(""),I=s([]);l((a=>{a&&a.shop_id&&(V.value.title="店铺搜索"),t("searchHistory")&&(I.value=t("searchHistory"))}));const L=()=>{G.value?(I.value.unshift(G.value),I.value=[...new Set(I.value)],I.value.length>10&&I.value.splice(10,I.value.length-10),y("searchHistory",I.value),g({url:`/pages/search/result?keyWords=${G.value}`})):x({title:$("请输入搜索内容"),icon:"none"})},N=()=>{I.value=[],C("searchHistory")};return(a,e)=>{const s=k,l=w,t=j,y=o(r("tig-layout"),b);return u(),c(t,null,{default:n((()=>[i(y,{specialNum:90},{default:n((()=>[i(H,{parameter:V.value},null,8,["parameter"]),i(t,{class:"searchGood"},{default:n((()=>[i(t,{class:"search-warp acea-row"},{default:n((()=>[i(t,{class:"search-input acea-row"},{default:n((()=>[i(s,{class:"iconfont icon-neirongsousuo"}),i(l,{focus:!0,type:"text",modelValue:G.value,"onUpdate:modelValue":e[0]||(e[0]=a=>G.value=a),onConfirm:L,placeholder:a.$t("点击搜索商品"),"placeholder-class":"placeholder"},null,8,["modelValue","placeholder"])])),_:1}),i(t,{class:"bnt",onClick:L},{default:n((()=>[d(p(a.$t("搜索")),1)])),_:1})])),_:1}),I.value.length?(u(),c(t,{key:0,class:"search_init_box"},{default:n((()=>[i(t,{class:"search_history_box"},{default:n((()=>[i(t,{class:"title"},{default:n((()=>[d(p(a.$t("搜索历史"))+" ",1),i(t,{class:"clear_history",onClick:h(N,["stop"])},{default:n((()=>[i(s,{class:"iconfont-h5 icon-shanchu"})])),_:1})])),_:1}),i(t,{class:"list acea-row"},{default:n((()=>[(u(!0),_(v,null,f(I.value,((a,e)=>(u(),c(t,{key:e,class:"item",onClick:e=>(a=>{g({url:`/pages/search/result?keyWords=${a}`})})(a)},{default:n((()=>[d(p(a),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})):m("",!0)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-02c0880b"]]);export{V as default};
