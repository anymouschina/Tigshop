import{e as a,G as t,r as e,Q as s,l,g as c,c as u,w as n,a9 as i,aa as o,i as d,v as _,z as r,o as f,a as m,A as p,E as y,F as g,K as v,T as x,b as k,t as b,d as $,M as h,ac as C,N as j,_ as w}from"./index-BKXBH4vI.js";import{_ as M}from"./uni-icons.C94_g2wt.js";import{_ as z,a as E}from"./uni-swipe-action.B2KeTgwu.js";import{_ as I}from"./tig-layout.DMoUsUKf.js";import{n as A}from"./index.xrDesKlL.js";import{c as F,e as G}from"./account.CplyG8VS.js";const K=w(a({__name:"list",setup(a){const{t:w}=t(),K={navbar:"1",return:"1",title:"卡管理",color:!1},N=[{title:"银行卡",account_type:1},{title:"支付宝",account_type:2},{title:"微信",account_type:3}],O=e(1),Q=e(!1),T=s({page:1,account_type:1}),q=e([]),B=async()=>{T.page>1?Q.value=!0:i({title:w("加载中")});try{const a=await F({...T});q.value=a.filter_result}catch(a){}finally{o(),Q.value=!1}},D=()=>{h({url:"/pages/user/account/cardManagement/edit"})},H=async(a,t)=>{try{const e=await G({...a});q.value.splice(t,1),e.message&&j({title:e.message,icon:"success"})}catch(e){j({title:e.message,icon:"none",duration:1e3})}};return l((()=>{B()})),c((()=>{B()})),(a,t)=>{const e=d,s=$,l=_(r("uni-icons"),M),c=_(r("uni-swipe-action-item"),z),i=_(r("uni-swipe-action"),E),o=_(r("tig-layout"),I);return f(),u(e,null,{default:n((()=>[m(o,null,{default:n((()=>[m(A,{parameter:K}),m(e,{class:"card-main"},{default:n((()=>[m(e,{class:"head-tabs-box"},{default:n((()=>[m(e,{class:"tabs flex align-center justify-between"},{default:n((()=>[m(e,{class:"flex align-end"},{default:n((()=>[(f(),y(g,null,v(N,((t,s)=>m(e,{class:x(["tab",{active:O.value===t.account_type}]),key:s,onClick:a=>(async a=>{a!==O.value&&(O.value=a,T.page=1,T.account_type=a,B())})(t.account_type)},{default:n((()=>[k(b(a.$t(t.title)),1)])),_:2},1032,["class","onClick"]))),64))])),_:1}),m(e,{class:"clear-unread flex align-end",onClick:D},{default:n((()=>[m(s,null,{default:n((()=>[k(b(a.$t("添加账号")),1)])),_:1}),m(l,{type:"auth",size:"20",color:"#999"})])),_:1})])),_:1})])),_:1}),q.value.length>0?(f(),u(e,{key:0,class:"card-list"},{default:n((()=>[m(i,null,{default:n((()=>[(f(!0),y(g,null,v(q.value,((t,l)=>(f(),u(e,{key:l,class:"move-item"},{default:n((()=>[m(c,{threshold:0,autoClose:""},{right:n((()=>[m(e,{class:"card-move-box"},{default:n((()=>[m(e,{class:"btn-edit",onClick:a=>{return e=t.account_id,void h({url:`/pages/user/account/cardManagement/edit?id=${e}`});var e}},{default:n((()=>[m(s,null,{default:n((()=>[k(b(a.$t("编辑")),1)])),_:1})])),_:2},1032,["onClick"]),m(e,{class:"btn-del",onClick:a=>((a,t)=>{C({title:w("提示"),content:w("确定删除这个账户吗？"),success:async e=>{e.confirm&&H(a,t)}})})(t,l)},{default:n((()=>[m(s,null,{default:n((()=>[k(b(a.$t("删除")),1)])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),default:n((()=>[m(e,{class:"mitem"},{default:n((()=>[m(e,{class:"card"},{default:n((()=>[m(e,{class:"txt-item"},{default:n((()=>[m(e,{class:"tit"},{default:n((()=>[k(b(a.$t("真实姓名")),1)])),_:1}),m(e,{class:"txt"},{default:n((()=>[k(b(t.account_name),1)])),_:2},1024)])),_:2},1024),m(e,{class:"txt-item"},{default:n((()=>[m(e,{class:"tit"},{default:n((()=>[k(b(a.$t("身份证号码")),1)])),_:1}),m(e,{class:"txt"},{default:n((()=>[k(b(t.identity),1)])),_:2},1024)])),_:2},1024),m(e,{class:"txt-item"},{default:n((()=>[m(e,{class:"tit"},{default:n((()=>[k(b(a.$t("账户号码")),1)])),_:1}),m(e,{class:"txt"},{default:n((()=>[k(b(t.account_no),1)])),_:2},1024)])),_:2},1024),1===T.account_type?(f(),u(e,{key:0,class:"txt-item"},{default:n((()=>[m(e,{class:"tit"},{default:n((()=>[k(b(a.$t("银行卡详情")),1)])),_:1}),m(e,{class:"txt"},{default:n((()=>[k(b(t.bank_name),1)])),_:2},1024)])),_:2},1024)):p("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})):p("",!0)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-08c8c01d"]]);export{K as default};
