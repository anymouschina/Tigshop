import{e as a,E as e,r as s,f as l,G as t,c as o,w as u,q as c,y as r,o as n,a as i,i as d,z as h,d as v,I as _,b as f,t as p,H as y,D as m,F as g,J as k,K as b,L as w,M as x,N as C,_ as H}from"./index-BKzbZvRR.js";import{_ as I}from"./tig-layout.BpNdXByQ.js";const $=H(a({__name:"index",setup(a){const{t:H}=e(),$=s("搜索商品"),V=s(""),j=s([]),G=s("");l((a=>{a&&a.shopId&&(G.value=a.shopId,$.value="店铺搜索"),t("searchHistory")&&(j.value=t("searchHistory"))}));const q=()=>{V.value?(j.value.unshift(V.value),j.value=[...new Set(j.value)],j.value.length>10&&j.value.splice(10,j.value.length-10),b("searchHistory",j.value),D(V.value)):w({title:H("请输入搜索内容"),icon:"none"})},z=()=>{j.value=[],x("searchHistory")},D=a=>{let e=`/pages/search/result?keyWords=${a}`;G.value&&(e+=`&shopId=${G.value}`),C({url:e})};return(a,e)=>{const s=v,l=_,t=d,b=c(r("tig-layout"),I);return n(),o(b,{title:$.value},{default:u((()=>[i(t,{class:"searchGood"},{default:u((()=>[i(t,{class:"search-warp acea-row"},{default:u((()=>[i(t,{class:"search-input acea-row"},{default:u((()=>[i(s,{class:"iconfont icon-neirongsousuo"}),i(l,{focus:!0,type:"text",modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=a=>V.value=a),onConfirm:q,placeholder:a.$t("点击搜索商品"),"placeholder-class":"placeholder"},null,8,["modelValue","placeholder"])])),_:1}),i(t,{class:"bnt",onClick:q},{default:u((()=>[f(p(a.$t("搜索")),1)])),_:1})])),_:1}),j.value.length?(n(),o(t,{key:0,class:"search_init_box"},{default:u((()=>[i(t,{class:"search_history_box"},{default:u((()=>[i(t,{class:"title"},{default:u((()=>[f(p(a.$t("搜索历史"))+" ",1),i(t,{class:"clear_history",onClick:y(z,["stop"])},{default:u((()=>[i(s,{class:"iconfont-h5 icon-shanchu"})])),_:1})])),_:1}),i(t,{class:"list acea-row"},{default:u((()=>[(n(!0),m(g,null,k(j.value,((a,e)=>(n(),o(t,{key:e,class:"item line1",onClick:e=>D(a)},{default:u((()=>[f(p(a),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})):h("",!0)])),_:1})])),_:1},8,["title"])}}}),[["__scopeId","data-v-c91bb9da"]]);export{$ as default};
