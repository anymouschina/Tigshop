import{e as a,r as s,f as e,c as t,w as o,q as c,y as l,o as u,a as i,i as n,b as r,d,t as h,D as f,F as p,J as y,z as _,H as m,P as g,_ as I}from"./index-BKzbZvRR.js";import{_ as k}from"./tig-layout.BpNdXByQ.js";import{c as v}from"./shop.C37ErgAh.js";const x=I(a({__name:"category",setup(a){const I=s(0),x=s([]);e((a=>{a&&a.shopId&&(I.value=a.shopId,j())}));const j=async()=>{try{const a=await v(I.value);x.value=a}catch(a){console.error(a)}},C=()=>{g({url:`/pages/search/index?shopId=${I.value}`})},b=a=>{g(a>0?{url:`/pages/search/result?shopId=${I.value}&shopCategoryId=${a}`}:{url:`/pages/search/result?shopId=${I.value}`})};return(a,s)=>{const e=d,g=n,v=c(l("tig-layout"),k);return u(),t(v,{title:"店铺分类",shopId:I.value},{default:o((()=>[i(g,{class:"shop-search-box",onClick:C},{default:o((()=>[i(g,{class:"shop-search"},{default:o((()=>[i(g,{class:"search-text"},{default:o((()=>[i(e,{class:"iconfont-h5 icon-sousuo sousuo-icon"}),r(h(a.$t("搜索")),1)])),_:1})])),_:1})])),_:1}),i(g,{class:"category-content"},{default:o((()=>[i(g,{class:"category-content-item"},{default:o((()=>[i(g,{class:"item-box special",onClick:s[0]||(s[0]=a=>b(0))},{default:o((()=>[i(g,{class:"item-left"},{default:o((()=>[r(h(a.$t("全部商品")),1)])),_:1}),i(g,{class:"item-right"},{default:o((()=>[i(e,{class:"iconfont-h5 icon-youjiantou youjiantou-icon special"})])),_:1})])),_:1})])),_:1}),(u(!0),f(p,null,y(x.value,((a,s)=>(u(),t(g,{key:a.categoryId,class:"category-content-item"},{default:o((()=>[i(g,{class:"item-box",onClick:s=>b(a.categoryId)},{default:o((()=>[i(g,{class:"item-left"},{default:o((()=>[r(h(a.categoryName),1)])),_:2},1024),i(g,{class:"item-right"},{default:o((()=>[i(e,{class:"iconfont-h5 icon-youjiantou youjiantou-icon"})])),_:1})])),_:2},1032,["onClick"]),a.children?(u(),t(g,{key:0,class:"item-children-box"},{default:o((()=>[(u(!0),f(p,null,y(a.children,((a,s)=>(u(),t(g,{key:a.categoryId,class:"children-item",onClick:m((s=>b(a.categoryId)),["stop"])},{default:o((()=>[i(g,{class:"children-item-text"},{default:o((()=>[r(h(a.categoryName),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)):_("",!0)])),_:2},1024)))),128))])),_:1})])),_:1},8,["shopId"])}}}),[["__scopeId","data-v-55af09b8"]]);export{x as default};
