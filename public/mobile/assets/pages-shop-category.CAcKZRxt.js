import{e as a,Q as s,r as e,g as t,c as o,w as l,v as c,z as i,o as n,a as u,i as r,b as d,d as _,t as h,E as f,F as p,K as m,A as y,J as g,M as v,_ as x}from"./index-BKXBH4vI.js";import{_ as k}from"./tig-layout.DMoUsUKf.js";import{n as b}from"./index.xrDesKlL.js";import{c as j}from"./shop.B9S7eu-g.js";const C=x(a({__name:"category",setup(a){const x=s({navbar:"1",return:"1",title:"店铺分类"}),C=e(0),$=e([]);t((a=>{a&&a.shop_id&&(C.value=a.shop_id,I())}));const I=async()=>{try{const a=await j(C.value);$.value=a.list}catch(a){}},w=()=>{v({url:`/pages/search/index?shop_id=${C.value}`})},z=a=>{v(a>0?{url:`/pages/search/result?shop_id=${C.value}&shop_category_id=${a}`}:{url:`/pages/search/result?shop_id=${C.value}`})};return(a,s)=>{const e=_,t=r,v=c(i("tig-layout"),k);return n(),o(v,{shopId:C.value},{default:l((()=>[u(b,{parameter:x},null,8,["parameter"]),u(t,{class:"shop-search-box",onClick:w},{default:l((()=>[u(t,{class:"shop-search"},{default:l((()=>[u(t,{class:"search-text"},{default:l((()=>[u(e,{class:"iconfont-h5 icon-sousuo sousuo-icon"}),d(h(a.$t("搜索")),1)])),_:1})])),_:1})])),_:1}),u(t,{class:"category-content"},{default:l((()=>[u(t,{class:"category-content-item"},{default:l((()=>[u(t,{class:"item-box special",onClick:s[0]||(s[0]=a=>z(0))},{default:l((()=>[u(t,{class:"item-left"},{default:l((()=>[d(h(a.$t("全部商品")),1)])),_:1}),u(t,{class:"item-right"},{default:l((()=>[u(e,{class:"iconfont-h5 icon-youjiantou youjiantou-icon special"})])),_:1})])),_:1})])),_:1}),(n(!0),f(p,null,m($.value,((a,s)=>(n(),o(t,{key:a.category_id,class:"category-content-item"},{default:l((()=>[u(t,{class:"item-box",onClick:s=>z(a.category_id)},{default:l((()=>[u(t,{class:"item-left"},{default:l((()=>[d(h(a.category_name),1)])),_:2},1024),u(t,{class:"item-right"},{default:l((()=>[u(e,{class:"iconfont-h5 icon-youjiantou youjiantou-icon"})])),_:1})])),_:2},1032,["onClick"]),a.children?(n(),o(t,{key:0,class:"item-children-box"},{default:l((()=>[(n(!0),f(p,null,m(a.children,((a,s)=>(n(),o(t,{key:a.category_id,class:"children-item",onClick:g((s=>z(a.category_id)),["stop"])},{default:l((()=>[u(t,{class:"children-item-text"},{default:l((()=>[d(h(a.category_name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)):y("",!0)])),_:2},1024)))),128))])),_:1})])),_:1},8,["shopId"])}}}),[["__scopeId","data-v-57bbd6e1"]]);export{C as default};
