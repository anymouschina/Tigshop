import{e as a,Q as s,r as e,g as t,c as l,w as r,a9 as i,aa as o,v as u,z as _,o as c,A as d,a as n,i as p,b as f,U as m,T as g,V as v,_ as y}from"./index-BKXBH4vI.js";import{_ as w}from"./tig-image.BbZoJ9nS.js";import{_ as h,a as x}from"./tig-layout.DMoUsUKf.js";import{_ as b}from"./tig-upload.vue_vue_type_script_setup_true_lang.CzsCKcqH.js";import{_ as j}from"./tig-fixed-placeholder.BHdfEiP8.js";import{n as k}from"./index.xrDesKlL.js";import{g as q,u as C}from"./salesmanPersonal.Dz3niCWC.js";const I=y(a({__name:"upQrcode",setup(a){const y=s({qrcode:""}),k=e(!1),I=()=>{k.value=!0,Q()},Q=async()=>{try{await C({...y}),setTimeout((()=>{k.value=!1}),1e3)}catch(a){uni.$u.toast(a.message)}};return t((()=>{(async()=>{i({title:"加载中"});try{const a=await q();Object.assign(y,a.item)}catch(a){}finally{o()}})()})),(a,s)=>{const e=p,t=u(_("tig-image"),w),i=u(_("tig-button"),x),o=u(_("tig-upload"),b),q=u(_("tig-fixed-placeholder"),j),C=u(_("tig-layout"),h);return c(),l(C,null,{default:r((()=>[d("",!0),n(e,{class:"qrcode-wrap"},{default:r((()=>[n(e,{class:"desc"},{default:r((()=>[f("请尽快上传微信二维码，方便客户加你微信联系哦")])),_:1}),n(e,{class:"tips"},{default:r((()=>[f("（温馨提示：建议上传正方形、默认黑白样式二维码，方便客户查看）")])),_:1}),y.avatar?(c(),l(e,{key:0,class:"preview"},{default:r((()=>[m(n(e,{class:g(["preview__overlay",{preview__overlay_loading:!0===k.value}])},{default:r((()=>[f("二维码加载中...")])),_:1},8,["class"]),[[v,!0===k.value]]),n(e,{class:"preview__overlay"},{default:r((()=>[n(t,{src:y.avatar,class:"van-image__img"},null,8,["src"])])),_:1}),n(e,{class:"van-image",style:{width:"560rpx",height:"688rpx"}})])),_:1})):(c(),l(e,{key:1,class:"preview"},{default:r((()=>[m(n(e,{class:"preview__overlay"},{default:r((()=>[f("二维码加载中...")])),_:1},512),[[v,!0===k.value]]),n(e,{class:"van-image",style:{width:"560rpx",height:"688rpx"}})])),_:1})),n(q,{backgroundColor:"#fff"},{default:r((()=>[n(o,{onChange:I,requestUrl:"user/user/upload_img"},{default:r((()=>[n(e,{class:"btn-box"},{default:r((()=>[n(i,{class:"salesman-btn"},{default:r((()=>[f("上传二维码")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-5a52d595"]]);export{I as default};
