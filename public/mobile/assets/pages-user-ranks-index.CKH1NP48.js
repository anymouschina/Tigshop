import{e as s,G as e,r as a,aB as r,v as i,z as t,E as l,o as _,ar as n,a as c,w as o,b as d,t as u,$ as g,F as p,K as m,c as h,i as v,B as k,a7 as y,a9 as b,aa as f,M as w,_ as x,Q as j,A as I,aN as q,aO as A,a6 as C,T as D}from"./index-BKXBH4vI.js";import{_ as O}from"./tig-layout.DMoUsUKf.js";import{n as B}from"./index.xrDesKlL.js";import{_ as E}from"./format-price.0qAAshfo.js";import{g as K}from"./sign.DnYK2Yfr.js";const T=x(s({__name:"index",props:{url:{type:String,required:!0}},setup(s){const{t:x}=e(),j=s,I=a({sign_points:0,record:0,is_sign:0,days:[],recommend_goods:[]});return r((()=>{(async()=>{b({title:x("加载中")});try{const s=await K(j.url);Object.assign(I.value,s)}catch(s){}finally{f()}})()})),(s,e)=>{const a=g,r=i(t("format-price"),E),b=v;return _(),l("div",{class:"recgoods-box"},[n("div",{class:"title"},[n("div",{class:"bg"}),c(a,{url:"/pages/search/index"},{default:o((()=>[n("div",{class:"moregoods"},[d(u(s.$t("查看更多"))+" ",1),n("span",{class:"iconfont icon-xiangyou"})])])),_:1})]),n("div",{class:"wrap-goods"},[(_(!0),l(p,null,m(I.value.recommend_goods,((s,e)=>(_(),h(b,{class:"item",onClick:e=>{w({url:"/pages/productDetail/index?id="+s.product_id})},key:e},{default:o((()=>[n("img",{class:"rec-img",alt:s.product_name,src:k(y)(s.pic_thumb)},null,8,["alt","src"]),n("div",{class:"info"},[n("div",{class:"name"},u(s.product_name),1),c(r,{class:"price",priceData:s.product_price},null,8,["priceData"])])])),_:2},1032,["onClick"])))),128))])])}}}),[["__scopeId","data-v-2ebd2e17"]]),z=x(s({__name:"index",setup(s){const e={navbar:"1",return:"1",title:"会员等级",color:!1},r=a({user_name:"123123",user_photo:"http://oss.lyecs.com/img/user_photos/202304/1681807602UyrfTqZhuOABcwh436!!pic.jpeg",user_rank:1,rank_points:1e4}),d=a({special_rank:0}),g=a([{rank_id:1,rank_name:"白银会员",rank_desc:"还需0成长值可升级至白银会员",rate:100,user_right_ids:"1,2"},{rank_id:2,rank_name:"黄金会员",rank_desc:"还需0成长值可升级至黄金会员",rate:80,user_right_ids:"1,2,3"},{rank_id:3,rank_name:"铂金会员",rank_desc:"还需0成长值可升级至黄金会员",rate:60,user_right_ids:"1,2,3,4"},{rank_id:4,rank_name:"钻石会员",rank_desc:"还需0成长值可升级至黄金会员",rate:30,user_right_ids:"1,2,3,4,5,6"}]),k=j([{user_right_id:"1",user_right_logo:"http://localhost/lyecs7/public/static/mobile/images/ranks/qiandao.png",user_right_name:"签到返利"},{user_right_id:"2",user_right_logo:"http://localhost/lyecs7/public/static/mobile/images/ranks/jifenduihuan.png",user_right_name:"积分兑换"},{user_right_id:"3",user_right_logo:"http://oss.lyecs.com/img/gallery/demo/1680252172GwIt9xVFCcRuPHcaXK!!pic.png",user_right_name:"线下折扣"},{user_right_id:"4",user_right_logo:"http://oss.lyecs.com/img/gallery/demo/1680252172j4ltKe4JWA75EofqYb!!pic.png",user_right_name:"运费折扣"},{user_right_id:"5",user_right_logo:"http://oss.lyecs.com/img/gallery/demo/1680252172nLzWUg7tsAc0NEPshf!!pic.png",user_right_name:"会员特价"},{user_right_id:"6",user_right_logo:"http://oss.lyecs.com/img/gallery/demo/16802521724D4cIMO08jbaZLuIHq!!pic.png",user_right_name:"消费返利"}]),y=a(["1","2"]),b=a(0),f=s=>{b.value=s.detail.current;let e=g.value[b.value].user_right_ids.split(",");y.value=[...e]};return(s,a)=>{const b=A,w=q,x=i(t("tig-layout"),O),j=v;return _(),h(j,null,{default:o((()=>[c(x,null,{default:o((()=>[c(B,{parameter:e}),n("div",{class:"member-level"},[n("div",{class:"content"},[n("div",{class:"content__header"},[n("img",{class:"member-level-head-background",src:"http://localhost/lyecs7/public/static/mobile/images/ranks/bg.png",alt:""}),n("div",{class:"content__header__portrait"},[n("img",{src:r.value.user_photo},null,8,["src"]),n("span",null,u(r.value.user_name),1)])]),n("div",{class:"ranks-swiper"},[c(w,{"indicator-dots":!1,circular:!1,interval:"3000",duration:"500",onChange:f},{default:o((()=>[(_(!0),l(p,null,m(g.value,((s,e)=>(_(),h(b,{key:e},{default:o((()=>[n("div",{class:"swiper__slider__cardbox"},[n("img",{src:"http://localhost/lyecs7/public/static/mobile/images/ranks/rank-bg.png",class:"swiper__slider__bg"}),r.value.user_rank===s.rank_id?(_(),l("div",{key:0,class:"swiper__slider__current"},"当前等级")):I("",!0),n("div",{class:"swiper__slider__logo"},"Tigshop"),n("div",{class:"swiper__slider__item item-color-1"},[n("div",{class:"swiper__slider__item__name"},u(s.rank_name),1),n("div",{class:"swiper__slider__item__score"},[n("div",{class:"text flex-row"},[n("span",null,u(s.rank_desc),1)])]),n("div",{class:"swiper__slider__item__experience"},[n("span",null,u(r.value.rank_points),1)]),n("div",{class:"progress-container swiper__slider__item__progress"},[n("div",{class:"line",style:C({width:s.rate+"%"})},null,4)]),n("div",{class:"long-with"},[n("span",null,"成长值")])])])])),_:2},1024)))),128))])),_:1})]),k?(_(),l("div",{key:0,class:"rights"},[n("div",{class:"rights__title"},[n("h3",null,"我的特权")]),n("div",{class:"rights__content"},[(_(!0),l(p,null,m(k,((s,e)=>(_(),l("div",{class:D(["rights__content__item",{"no-rank-select":(1===d.value.special_rank||0===d.value.special_rank)&&!y.value.includes(s.user_right_id)}]),key:s.user_right_id},[n("div",{class:"item-img-wrap"},[n("div",{class:D(["suoding-icon",{"no-rank-select-icon":y.value.includes(s.user_right_id)}])},null,2),n("img",{src:s.user_right_logo,class:"rights__content__item__img",alt:s.user_right_name},null,8,["src","alt"])]),n("div",{class:"rights__content__item__txt"},u(s.user_right_name),1)],2)))),128))])])):I("",!0),c(T,{url:"user/sign/index"})]),n("div",{style:{height:"10px"}})])])),_:1})])),_:1})}}}),[["__scopeId","data-v-2c081df7"]]);export{z as default};
