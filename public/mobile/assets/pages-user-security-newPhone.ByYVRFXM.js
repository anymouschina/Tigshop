import{d as e,r as a,R as t,k as l,l as s,m as i,n as o,w as n,q as u,s as r,t as p,v as c,M as d,af as m,C as f}from"./index-Do_Cb7fn.js";import{_ as v}from"./uni-easyinput.DgTgv_xO.js";import{a as _,_ as y}from"./tig-layout.BV0ZvCt0.js";import{n as g}from"./index.Y6J4G1_A.js";import{V as h}from"./verificationCode.Cl5MBpD9.js";import{a as b,b as x}from"./security.4pB_EHHD.js";import{_ as j}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./uni-icons.DK0ZiICA.js";import"./u-loading-icon.rQrrZF_r.js";import"./u-icon.CBDMG2rO.js";const k=j(e({__name:"newPhone",setup(e){const j={navbar:"1",return:"1",title:"账户安全",color:!1},k=e=>{w.value=e},C=e=>{q.value=e},w=a(""),q=a(""),I=a(""),U=a(!0),$=t((()=>!q.value||!w.value)),A=e=>{d({title:e,duration:1500,icon:"none"})},B=async()=>{try{let e={mobile:q.value,code:w.value};const a=await b({...e});d({title:a.message,icon:"none"}),setTimeout((()=>{m({url:"/pages/user/profile/index"})}),1e3)}catch(e){e.message&&d({title:e.message,icon:"none"})}};return(e,a)=>{const t=l(s("uni-easyinput"),v),d=f,m=l(s("tig-button"),_),b=l(s("tig-layout"),y);return i(),o(d,null,{default:n((()=>[u(b,null,{default:n((()=>[u(g,{parameter:j}),u(d,{class:"profile-edit-main"},{default:n((()=>[u(d,{class:"profile-edit-content"},{default:n((()=>[u(d,{class:"item input"},{default:n((()=>[u(t,{inputBorder:!1,value:q.value,class:"uni-input item-input",placeholder:e.$t("请输入新手机号"),primaryColor:"rgb(192, 196, 204)",onInput:C},null,8,["value","placeholder"])])),_:1}),u(d,{class:"flex align-center"},{default:n((()=>[u(d,{class:"item line"},{default:n((()=>[u(t,{inputBorder:!1,value:w.value,class:"uni-input item-input",focus:"",placeholder:e.$t("新手机短信验证码"),primaryColor:"rgb(192, 196, 204)",onInput:k},null,8,["value","placeholder"])])),_:1}),u(h,{style:{height:"65rpx"},isChecked:U.value,"onUpdate:isChecked":a[0]||(a[0]=e=>U.value=e),mobile:q.value,"onUpdate:mobile":a[1]||(a[1]=e=>q.value=e),"verify-token-data":I.value,"onUpdate:verifyTokenData":a[2]||(a[2]=e=>I.value=e),requestApi:r(x),onMobileErrorCallback:A},null,8,["isChecked","mobile","verify-token-data","requestApi"])])),_:1}),u(d,{class:"item",style:{height:"60rpx"}},{default:n((()=>[u(m,{disabled:$.value,class:"next",onClick:B},{default:n((()=>[p(c(e.$t("提交")),1)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-365c7e0c"]]);export{k as default};
