import{d as a,G as e,Q as t,r as s,e as l,f as r,k as i,l as o,m as u,n as c,w as d,q as n,y as p,J as m,F as f,a6 as _,a7 as g,C as v,t as x,v as y,L as h,B as b,a0 as j}from"./index-Ce4FtYLL.js";import{_ as S}from"./tig-image.bUT1hZK2.js";import{_ as k}from"./format-price.C2WNeN1M.js";import{_ as z}from"./loading-box.PIJN5CrK.js";import{_ as w}from"./tig-layout.nM03J4I_.js";import{n as q}from"./index.v2UirNFN.js";import{e as C}from"./afterSale.Cg0fwqzY.js";import{_ as D}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-loading-icon.CaEeBur7.js";import"./u-icon.BDQrrWMI.js";const U=D(a({__name:"list",setup(a){const{t:D}=e(),U={navbar:"1",return:"1",title:"申请列表"},V=t({page:1,size:10}),$=s(!1),B=s([]),L=s(0),N=async()=>{V.page>1?$.value=!0:_({title:D("加载中")});try{const a=await C(V);B.value=[...B.value,...a.filter_result],L.value=a.total}catch(a){console.error(a)}finally{g(),$.value=!1}};return l((()=>{V.page<Math.ceil(L.value/V.size)&&(V.page++,N())})),r((()=>{V.page=1,B.value=[],N()})),(a,e)=>{const t=b,s=v,l=i(o("tig-image"),S),r=i(o("format-price"),k),_=j,g=i(o("loading-box"),z),C=i(o("tig-layout"),w);return u(),c(C,{specialNum:90},{default:d((()=>[n(s,{class:"after-sale-list"},{default:d((()=>[n(q,{parameter:U}),n(s,{class:"order-list"},{default:d((()=>[(u(!0),p(f,null,m(B.value,(e=>(u(),c(s,{key:e.order_id,class:"order-list-item"},{default:d((()=>[n(s,{class:"order-list-item-header"},{default:d((()=>[n(t,{class:"special-text"},{default:d((()=>[x(y(a.$t("售后编号"))+"：",1),n(t,{class:"special-color"},{default:d((()=>[x(y(e.aftersales_sn),1)])),_:2},1024)])),_:2},1024),n(t,null,{default:d((()=>[x(y(e.status_name),1)])),_:2},1024)])),_:2},1024),n(s,{class:"order-list-item-content"},{default:d((()=>[n(s,{class:"item-content-product"},{default:d((()=>[(u(!0),p(f,null,m(e.aftersales_items,(a=>(u(),c(_,{key:a.aftersales_item_id,url:"/pages/productDetail/index?id="+a.product_id,"hover-class":"navigator-hover"},{default:d((()=>[n(s,{class:"item-content-product-item"},{default:d((()=>[n(s,{class:"item-content-product-img"},{default:d((()=>[n(l,{src:a.pic_thumb,"onUpdate:src":e=>a.pic_thumb=e},null,8,["src","onUpdate:src"])])),_:2},1024),n(s,{class:"item-content-product-info"},{default:d((()=>[n(s,{class:"product-item-title"},{default:d((()=>[x(y(a.product_name),1)])),_:2},1024),n(s,{class:"product-item-price"},{default:d((()=>[n(r,{showText:!1,decimalsStyle:{fontSize:"25rpx"},currencyStyle:{fontSize:"23rpx"},class:"product-item-pricenum",priceData:a.price},null,8,["priceData"]),n(s,{class:"product-item-quantity"},{default:d((()=>[x("x "+y(a.quantity),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"])))),128))])),_:2},1024)])),_:2},1024),n(s,{class:"order-list-item-btn"},{default:d((()=>[n(s,{class:"item-btn-box"},{default:d((()=>[n(s,{class:"base-item-btn detail",onClick:a=>{return t=e.aftersale_id,void h({url:`/pages/user/afterSale/info?id=${t}`});var t}},{default:d((()=>[x(y(a.$t("售后详情")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),n(g,{modelValue:$.value,"onUpdate:modelValue":e[0]||(e[0]=a=>$.value=a),page:V.page,length:B.value.length},null,8,["modelValue","page","length"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-71f8f833"]]);export{U as default};
