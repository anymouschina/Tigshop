import{e as a,G as e,r as s,g as l,H as t,c as o,w as u,i as r,v as c,z as n,o as i,a as d,A as h,d as _,I as f,b as p,t as v,J as m,E as y,F as g,K as k,L as x,M as w,N as b,O as C,_ as H}from"./index-BKXBH4vI.js";import{_ as $}from"./tig-layout.DMoUsUKf.js";import{n as j}from"./index.xrDesKlL.js";const I=H(a({__name:"index",setup(a){const{t:H}=e(),I=s({navbar:"1",return:"1",title:"搜索商品",color:!1}),V=s(""),G=s([]);l((a=>{a&&a.shop_id&&(I.value.title="店铺搜索"),t("searchHistory")&&(G.value=t("searchHistory"))}));const W=()=>{V.value?(G.value.unshift(V.value),G.value=[...new Set(G.value)],G.value.length>10&&G.value.splice(10,G.value.length-10),x("searchHistory",G.value),w({url:`/pages/search/result?keyWords=${V.value}`})):b({title:H("请输入搜索内容"),icon:"none"})},z=()=>{G.value=[],C("searchHistory")};return(a,e)=>{const s=_,l=f,t=r,x=c(n("tig-layout"),$);return i(),o(t,null,{default:u((()=>[d(x,null,{default:u((()=>[d(j,{parameter:I.value},null,8,["parameter"]),d(t,{class:"searchGood"},{default:u((()=>[d(t,{class:"search-warp acea-row"},{default:u((()=>[d(t,{class:"search-input acea-row"},{default:u((()=>[d(s,{class:"iconfont icon-neirongsousuo"}),d(l,{focus:!0,type:"text",modelValue:V.value,"onUpdate:modelValue":e[0]||(e[0]=a=>V.value=a),onConfirm:W,placeholder:a.$t("点击搜索商品"),"placeholder-class":"placeholder"},null,8,["modelValue","placeholder"])])),_:1}),d(t,{class:"bnt",onClick:W},{default:u((()=>[p(v(a.$t("搜索")),1)])),_:1})])),_:1}),G.value.length?(i(),o(t,{key:0,class:"search_init_box"},{default:u((()=>[d(t,{class:"search_history_box"},{default:u((()=>[d(t,{class:"title"},{default:u((()=>[p(v(a.$t("搜索历史"))+" ",1),d(t,{class:"clear_history",onClick:m(z,["stop"])},{default:u((()=>[d(s,{class:"iconfont-h5 icon-shanchu"})])),_:1})])),_:1}),d(t,{class:"list acea-row"},{default:u((()=>[(i(!0),y(g,null,k(G.value,((a,e)=>(i(),o(t,{key:e,class:"item",onClick:e=>(a=>{w({url:`/pages/search/result?keyWords=${a}`})})(a)},{default:u((()=>[p(v(a),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})):h("",!0)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-fe09e555"]]);export{I as default};
