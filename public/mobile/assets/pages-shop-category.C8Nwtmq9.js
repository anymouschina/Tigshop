import{d as a,Q as s,r as e,o as t,k as o,l,m as c,n as i,w as r,q as n,t as u,v as d,y as _,J as p,F as h,L as m,B as f,C as y,I as g,x}from"./index-Ce4FtYLL.js";import{_ as v}from"./tig-layout.nM03J4I_.js";import{n as j}from"./index.v2UirNFN.js";import{c as k}from"./shop.TpH5rL7F.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-loading-icon.CaEeBur7.js";import"./u-icon.BDQrrWMI.js";const C=b(a({__name:"category",setup(a){const b=s({navbar:"1",return:"1",title:"店铺分类"}),C=e(0),$=e([]);t((a=>{a&&a.shop_id&&(C.value=a.shop_id,I())}));const I=async()=>{try{const a=await k(C.value);$.value=a.list}catch(a){console.error(a)}},w=()=>{m({url:`/pages/search/index?shop_id=${C.value}`})},L=a=>{m(a>0?{url:`/pages/search/result?shop_id=${C.value}&shop_category_id=${a}`}:{url:`/pages/search/result?shop_id=${C.value}`})};return(a,s)=>{const e=f,t=y,m=o(l("tig-layout"),v);return c(),i(m,{shopId:C.value},{default:r((()=>[n(j,{parameter:b},null,8,["parameter"]),n(t,{class:"shop-search-box",onClick:w},{default:r((()=>[n(t,{class:"shop-search"},{default:r((()=>[n(t,{class:"search-text"},{default:r((()=>[n(e,{class:"iconfont-h5 icon-sousuo sousuo-icon"}),u(d(a.$t("搜索")),1)])),_:1})])),_:1})])),_:1}),n(t,{class:"category-content"},{default:r((()=>[n(t,{class:"category-content-item"},{default:r((()=>[n(t,{class:"item-box special",onClick:s[0]||(s[0]=a=>L(0))},{default:r((()=>[n(t,{class:"item-left"},{default:r((()=>[u(d(a.$t("全部商品")),1)])),_:1}),n(t,{class:"item-right"},{default:r((()=>[n(e,{class:"iconfont-h5 icon-youjiantou youjiantou-icon special"})])),_:1})])),_:1})])),_:1}),(c(!0),_(h,null,p($.value,((a,s)=>(c(),i(t,{key:a.category_id,class:"category-content-item"},{default:r((()=>[n(t,{class:"item-box",onClick:s=>L(a.category_id)},{default:r((()=>[n(t,{class:"item-left"},{default:r((()=>[u(d(a.category_name),1)])),_:2},1024),n(t,{class:"item-right"},{default:r((()=>[n(e,{class:"iconfont-h5 icon-youjiantou youjiantou-icon"})])),_:1})])),_:2},1032,["onClick"]),a.children?(c(),i(t,{key:0,class:"item-children-box"},{default:r((()=>[(c(!0),_(h,null,p(a.children,((a,s)=>(c(),i(t,{key:a.category_id,class:"children-item",onClick:g((s=>L(a.category_id)),["stop"])},{default:r((()=>[n(t,{class:"children-item-text"},{default:r((()=>[u(d(a.category_name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:2},1024)):x("",!0)])),_:2},1024)))),128))])),_:1})])),_:1},8,["shopId"])}}}),[["__scopeId","data-v-57bbd6e1"]]);export{C as default};
