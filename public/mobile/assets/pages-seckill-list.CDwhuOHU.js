import{Y as a,e as l,r as e,Q as s,R as t,c as o,w as i,q as c,y as u,a2 as r,C as n,o as d,a as g,i as f,z as m,b as p,t as k,D as _,F as x,J as y,A as h,B as b,a7 as S,d as q,T as $,a9 as v,X as j,P as D,_ as I}from"./index-BKzbZvRR.js";import{_ as z}from"./format-price.kSnuguuz.js";import{_ as T}from"./loading-box.C4egri0r.js";import{_ as C}from"./tig-layout.BpNdXByQ.js";import{u as L}from"./useList.qLYpICh7.js";import"./product.BqL6tr7k.js";const P=l=>a({url:"home/home/getSeckill",method:"get",params:l}),V=I(l({__name:"list",setup(a){r((a=>({"18da737a":B.value})));const l=e(),I=s({page:1,size:20}),{isLoadMore:V,data:w}=L(P,{params:I,path:{dataKey:"records"},immediate:!0}),A=(a,l)=>Math.round(a/(l+a)*100)+"%",B=t((()=>l.value&&l.value.isZh?`url(${n("common/seckillTitle.png")}) no-repeat`:`url(${n("common/overseas-seckillTitle.jpg")}) no-repeat`));return(a,e)=>{const s=f,t=b,r=q,n=c(u("format-price"),z),L=c(u("loading-box"),T),P=c(u("tig-layout"),C);return d(),o(P,{ref_key:"layoutRef",ref:l},{default:i((()=>[g(s,{class:"seckill-title"},{default:i((()=>[l.value&&!l.value.isZh?(d(),o(s,{key:0,class:"seckill-title-text-box"},{default:i((()=>[g(s,{class:"seckill-title-text"},{default:i((()=>[p(k(a.$t("限时秒杀")),1)])),_:1})])),_:1})):m("",!0)])),_:1}),g(s,{class:"qianggou-list"},{default:i((()=>[(d(!0),_(x,null,y(h(w),((l,e)=>(d(),o(s,{class:"qianggou-item",key:e,onClick:a=>(a=>{let l=`/pages/product/index?id=${a.productId}${a.skuId>0?`&skuId=${a.skuId}`:""}`;D({url:l})})(l)},{default:i((()=>[g(s,{class:"qianggou-img-box"},{default:i((()=>[g(t,{class:"qianggou-img",src:h(S)(l.picThumb||""),mode:"aspectFill"},null,8,["src"]),0===l.seckillStock?(d(),o(s,{key:0,class:"qianggou-out"},{default:i((()=>[g(s,{class:"qianggou-out-txt"},{default:i((()=>[p(k(a.$t("已抢完")),1)])),_:1})])),_:1})):m("",!0)])),_:2},1024),g(s,{class:"qianggou-info"},{default:i((()=>[g(s,{class:"qianggou-tit line2"},{default:i((()=>[p(k(l.productName),1)])),_:2},1024),g(s,{class:"line1 pro-txt-small"},{default:i((()=>[g(r,{class:"line1"},{default:i((()=>[p(k(a.$t("限时秒杀 抢先提醒")),1)])),_:1})])),_:1}),g(s,{class:"qianggou-money-box"},{default:i((()=>[g(s,{class:"qianggou-num"},{default:i((()=>[g(s,{class:"num"},{default:i((()=>[g(n,{decimalsStyle:{fontSize:"25rpx",fontWeight:"bold"},currencyStyle:{fontSize:"23rpx",fontWeight:"bold"},priceData:l.seckillPrice},null,8,["priceData"])])),_:2},1024),g(s,{class:"del"},{default:i((()=>[g(n,{fontStyle:{"text-decoration":"line-through"},isBottom:!1,priceData:l.marketPrice},null,8,["priceData"])])),_:2},1024)])),_:2},1024),g(s,{class:$(["qianggou-btn",{flex:0===l.seckillStock,"align-center":l.seckillStock>0}])},{default:i((()=>[0===l.seckillStock?(d(),o(s,{key:0,class:"btn-txt"},{default:i((()=>[p(k(a.$t("已抢完")),1)])),_:1})):(d(),o(s,{key:1,class:"btn-txt"},{default:i((()=>[g(s,{class:"txt"},{default:i((()=>[p(k(a.$t("马上抢")),1)])),_:1}),g(s,{class:"progress-box flex align-center"},{default:i((()=>[g(s,{class:"progress-bar"},{default:i((()=>[g(s,{class:"progress",style:v({width:A(l.seckillSales,l.seckillStock)})},null,8,["style"])])),_:2},1024),g(s,{class:"progress-txt"},{default:i((()=>[p(k(A(l.seckillSales,l.seckillStock)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024))])),_:2},1032,["class"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),g(L,{color:"#fff",modelValue:h(V),"onUpdate:modelValue":e[0]||(e[0]=a=>j(V)?V.value=a:null),page:I.page,length:h(w).length},null,8,["modelValue","page","length"])])),_:1},512)}}}),[["__scopeId","data-v-60f2f8b7"]]);export{V as default};
