var e=Object.defineProperty,t=(t,a,s)=>(((t,a,s)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s})(t,"symbol"!=typeof a?a+"":a,s),s);import{bu as a,e as s,r as n,v as i,z as o,c as l,A as r,o as d,E as c,ar as u,F as m,K as p,a as _,B as h,_ as v,ah as f,bv as g,D as y,h as b,i as k,G as x,u as w,f as S,ad as $,Q as E,R as j,g as C,bw as A,w as I,af as N,aG as T,aD as z,a2 as U,b9 as W,bx as H,d as L,S as D,t as R,T as O,a6 as B,a7 as P,b as V,ab as G,U as J,V as F,by as K,bz as M,H as Q,N as X,bA as q,bB as Y,M as Z}from"./index-BKXBH4vI.js";import{_ as ee}from"./tig-image.BbZoJ9nS.js";import{_ as te}from"./format-price.0qAAshfo.js";import{g as ae,s as se,a as ne}from"./im.CLfEp95e.js";import{b as ie}from"./shop.B9S7eu-g.js";import{h as oe}from"./product.BhwveQst.js";import{g as le}from"./order.BjcCWkE9.js";const re=class e{log(t,a){e.console}closeConsole(){e.console=!1}};t(re,"console",!0);let de=re;class ce extends de{constructor(){super(...arguments),t(this,"listeners",{})}addEventListener(e,t){this.listeners[e]||(this.listeners[e]=[]),-1===this.listeners[e].indexOf(t)&&this.listeners[e].push(t)}removeEventListener(e){this.listeners[e]=[]}dispatchEvent(e,t){const a=this.listeners[e]||[];0!==a.length&&a.forEach((e=>{e.call(this,t)}))}}class ue extends ce{constructor(e){super(),t(this,"url",""),t(this,"socket",null),t(this,"reconnectAttempts",0),t(this,"maxReconnectAttempts",5),t(this,"reconnectInterval",1e3),t(this,"heartbeatInterval",15e3),t(this,"heartbeatTimer"),t(this,"stopWs",!1),this.url=e}onopen(e){this.addEventListener("open",e)}onmessage(e){this.addEventListener("message",e)}onclose(e){this.addEventListener("close",e)}onerror(e){this.addEventListener("error",e)}send(e){this.socket&&this.socket.send(e)}connect(){0===this.reconnectAttempts&&this.log("WebSocket",`初始化连接中...          ${this.url}`),this.socket||(this.socket=a({url:this.url,complete:()=>{}}),this.socket&&(this.socket.onOpen((e=>{this.stopWs=!1,this.reconnectAttempts=0,this.startHeartbeat(),this.log("WebSocket",`连接成功,等待服务端数据推送[onopen]...     ${this.url}`),this.dispatchEvent("open",e)})),this.socket.onMessage((e=>{this.dispatchEvent("message",e),this.startHeartbeat()})),this.socket.onClose((e=>{0===this.reconnectAttempts&&this.log("WebSocket",`连接断开[onclose]...    ${this.url}`),this.stopWs||this.handleReconnect(),this.dispatchEvent("close",e)})),this.socket.onError((e=>{0===this.reconnectAttempts&&this.log("WebSocket",`连接异常[onerror]...    ${this.url}`),this.closeHeartbeat(),this.dispatchEvent("error",e)}))))}handleReconnect(){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,this.log("WebSocket",`尝试重连... (${this.reconnectAttempts}/${this.maxReconnectAttempts})       ${this.url}`),setTimeout((()=>{this.connect()}),this.reconnectInterval)):(this.closeHeartbeat(),this.log("WebSocket",`最大重连失败，终止重连: ${this.url}`))}close(){this.socket&&(this.stopWs=!0,this.socket.close({}),this.socket=null,this.removeEventListener("open"),this.removeEventListener("message"),this.removeEventListener("close"),this.removeEventListener("error")),this.closeHeartbeat()}startHeartbeat(){this.stopWs||(this.heartbeatTimer&&this.closeHeartbeat(),this.heartbeatTimer=setInterval((()=>{this.socket&&(this.socket.send({data:JSON.stringify({type:"heartBeat"})}),this.log("WebSocket","送心跳数据..."))}),this.heartbeatInterval))}closeHeartbeat(){clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0}}const me=[{name:"微笑",id:"1"},{name:"龇牙",id:"2"},{name:"色",id:"3"},{name:"发呆",id:"4"},{name:"可怜",id:"5"},{name:"流泪",id:"6"},{name:"害羞",id:"7"},{name:"闭嘴",id:"8"},{name:"睡",id:"9"},{name:"吃瓜群众",id:"10"},{name:"尴尬",id:"11"},{name:"发怒",id:"12"},{name:"调皮",id:"13"},{name:"撇嘴",id:"14"},{name:"思考",id:"15"},{name:"不失礼貌的微笑",id:"16"},{name:"奸笑",id:"17"},{name:"抓狂",id:"18"},{name:"吐",id:"19"},{name:"偷笑",id:"20"},{name:"愉快",id:"21"},{name:"白眼",id:"22"},{name:"傲慢",id:"23"},{name:"困",id:"24"},{name:"灵光一现",id:"25"},{name:"流汗",id:"26"},{name:"憨笑",id:"27"},{name:"捂脸",id:"28"},{name:"奋斗",id:"29"},{name:"咒骂",id:"30"},{name:"疑问",id:"31"},{name:"嘘",id:"32"},{name:"晕",id:"33"},{name:"衰",id:"34"},{name:"骷髅",id:"35"},{name:"敲打",id:"36"},{name:"再见",id:"37"},{name:"擦汗",id:"38"},{name:"抠鼻",id:"39"},{name:"泣不成声",id:"40"},{name:"坏笑",id:"41"},{name:"左哼哼",id:"42"},{name:"右哼哼",id:"43"},{name:"打哈欠",id:"44"},{name:"鄙视",id:"45"},{name:"委屈",id:"46"},{name:"快哭了",id:"47"},{name:"摸头",id:"48"},{name:"阴险",id:"49"},{name:"亲亲",id:"50"},{name:"机智",id:"51"},{name:"得意",id:"52"},{name:"大金牙",id:"53"},{name:"拥抱",id:"54"},{name:"大笑",id:"55"},{name:"送心",id:"56"},{name:"震惊",id:"57"},{name:"酷拽",id:"58"},{name:"尬笑",id:"59"},{name:"大哭",id:"60"},{name:"哭笑",id:"61"},{name:"做鬼脸",id:"62"},{name:"红脸",id:"63"},{name:"鼓掌",id:"64"},{name:"恐惧",id:"65"},{name:"斜眼",id:"66"},{name:"嘿哈",id:"67"},{name:"惊讶",id:"68"},{name:"绝望的凝视",id:"69"},{name:"囧",id:"70"},{name:"皱眉",id:"71"},{name:"耶",id:"72"},{name:"石化",id:"73"},{name:"我想静静",id:"74"},{name:"吐血",id:"75"},{name:"互粉",id:"76"},{name:"互相关注",id:"77"},{name:"加好友",id:"78"},{name:"强",id:"79"},{name:"钱",id:"80"},{name:"飞吻",id:"81"},{name:"打脸",id:"82"},{name:"惊恐",id:"83"},{name:"悠闲",id:"84"},{name:"泪奔",id:"85"},{name:"舔屏",id:"86"},{name:"紫薇别走",id:"87"},{name:"听歌",id:"88"},{name:"难过",id:"89"},{name:"生病",id:"90"},{name:"绿帽子",id:"91"},{name:"如花",id:"92"},{name:"惊喜",id:"93"},{name:"吐彩虹",id:"94"},{name:"吐舌",id:"95"},{name:"无辜呆",id:"96"},{name:"看",id:"97"},{name:"白眼的狗",id:"98"},{name:"黑脸",id:"99"},{name:"猪头",id:"100"},{name:"熊吉",id:"101"},{name:"不看",id:"102"},{name:"玫瑰",id:"103"},{name:"凋谢",id:"104"},{name:"嘴唇",id:"105"},{name:"爱心",id:"106"},{name:"心碎",id:"107"},{name:"赞",id:"108"},{name:"弱",id:"109"},{name:"握手",id:"110"},{name:"ok",id:"111"},{name:"谢谢",id:"112"},{name:"比心",id:"113"},{name:"碰拳",id:"114"},{name:"击掌",id:"115"},{name:"左",id:"116"},{name:"右",id:"117"},{name:"力量",id:"118"},{name:"胜利",id:"119"},{name:"抱拳",id:"120"},{name:"勾引",id:"121"},{name:"拳头",id:"122"},{name:"庆祝",id:"123"},{name:"礼物",id:"124"},{name:"红包",id:"125"},{name:"18禁",id:"126"},{name:"去污粉",id:"127"},{name:"666",id:"128"},{name:"给力",id:"129"},{name:"v5",id:"130"},{name:"菜刀",id:"131"},{name:"炸弹",id:"132"},{name:"便便",id:"133"},{name:"月亮",id:"134"},{name:"太阳",id:"135"},{name:"发",id:"136"},{name:"黄瓜",id:"137"},{name:"西瓜",id:"138"},{name:"啤酒",id:"139"},{name:"咖啡",id:"140"},{name:"蛋糕",id:"141"}],pe=s({__name:"emojiImage",props:{name:{type:String,default:""},id:{type:[String,Number],default:""}},setup(e){const t=e;const a=n("");let s="";var c,u,m;return t.id?s=String(t.id):(c=me,u=t.name,s=null==(m=c.find((e=>e.name===u)))?void 0:m.id),void 0!==s&&(a.value="http://oss.tigshop.com/official/emoji/"+s+".png"),(e,t)=>{const s=i(o("tig-image"),ee);return a.value?(d(),l(s,{key:0,src:a.value,"onUpdate:src":t[0]||(t[0]=e=>a.value=e)},null,8,["src"])):r("",!0)}}}),_e=v(s({__name:"Emoji",emits:["insertEmoji"],setup(e,{emit:t}){const a=t;return(e,t)=>(d(),c("div",{class:"picker_body"},[u("div",{class:"emojipicker"},[u("div",{class:"list"},[(d(!0),c(m,null,p(h(me),((e,t)=>(d(),c("div",{class:"item",key:e.id,onClick:t=>{return s=e.name,void a("insertEmoji",s);var s}},[u("span",null,[u("span",{class:"byte-tooltip__wrapper"},[_(pe,{class:"image",id:e.id},null,8,["id"])])])],8,["onClick"])))),128))])])]))}}),[["__scopeId","data-v-42e582ee"]]),he=v(s({__name:"emojiHtml",props:{content:{type:String,default:""}},setup(e){const t=e,a=n("");return a.value=function(e,t){const a=new RegExp(`(${t.map((e=>e.name)).join("|")})`,"g");return e.replace(/\[|\]/g,"").replace(a,(e=>{const a=t.find((t=>t.name===e));return a?"<img class='emoji' src='http://oss.tigshop.com/official/emoji/"+a.id+".png'>":e}))}(t.content,me),(e,t)=>{const s=f;return d(),l(s,{nodes:a.value},null,8,["nodes"])}}}),[["__scopeId","data-v-c8f40d79"]]),ve=s({__name:"promptTone",setup(e,{expose:t}){let a=null;const s=n(!1);a=g(),a.src=y("promptTone.wav","audio"),a.onEnded((()=>{s.value=!1}));return t({play:()=>{null==a||s.value||(a.seek(1),a.play(),s.value=!0)}}),b((()=>{null!=a&&a.destroy()})),(e,t)=>{const a=k;return d(),l(a,{class:""})}}}),fe=v(s({__name:"index",setup(e){U((e=>({"6d1ced4f":it.value,"2ce1d3a6":ot.value,"874788c8":lt.value,"70fcf58c":nt.value,"5f38111c":st.value,"6ac8cafa":at.value,"364fe858":tt.value,"09196bd8":et.value})));const{t:t}=x(),a=w(),s=S(),v=$(),f=E({first_id:-1,sort_order:"desc",user_from:"",shop_id:0}),g=n([]),b=n(""),re=n(!1),de=n(!1),ce=n(!1);let me=n(!0),pe=n(0);const fe=n(!1),ge=n(0),ye=z(),be=()=>{history.back()},ke=async()=>{try{const e=await T(".message-scroll",ye),t=await T(".message-box",ye);if(t&&e){const a=t.height-e.height;a&&a>0&&(ge.value=a)}}catch(e){}},xe=e=>{Re(),me.value&&(pe.value=ge.value,me.value=!1),0==e.detail.scrollTop&&0==fe.value&&g.value.length>0&&(f.first_id=g.value[0].id,We())};function we(e){re.value=e.length>0}const Se=j((()=>!0)),$e=n(0),Ee=n(!1),je=e=>{},Ce=()=>{Ee.value=!0,ce.value=!1,de.value=!1},Ae=e=>{b.value+="["+e+"]"},Ie=e=>{if(Array.isArray(e.file))for(const t of e.file)Ne(t);else Ne(e.file[0])},Ne=e=>{K({url:q+"/api/user/user/upload_img",filePath:e.url,name:"file",header:{Authorization:Q("token"),Secret:M()},success:e=>{const{data:t}=JSON.parse(e.data);He("image",{pic:t.pic_url})},fail:e=>{X({title:t("图片上传失败"),icon:"none"})}})},Te=()=>{b.value&&He()},ze=()=>{Y(),de.value=!de.value,ce.value=!1,N((()=>{ke()}))},Ue=()=>{Y(),ce.value=!ce.value,de.value=!1,N((()=>{ke()}))},We=async()=>{try{const e=await ae(f);if(0==e.filter_result.length)return void(fe.value=!0);g.value=[...e.filter_result,...g.value],N((async()=>{-1==f.first_id?await ke():setTimeout((()=>{pe.value&&(ge.value=pe.value,me.value=!0)}),0)}))}catch(e){}},He=async(e,t)=>{try{const a=await se({content:{message_type:e||"text",content:b.value||"",...t},conversation_id:f.conversation_id,shop_id:f.shop_id,product_id:f.product_id,order_id:f.order_id});b.value="",re.value=!1,de.value=!1,ce.value=!1,g.value=[...g.value,a.item],N((()=>{ke()}))}catch(a){}},Le=n({}),De=n(!1),Re=()=>{0!==g.value[g.value.length-1].is_read||2!==g.value[g.value.length-1].type||De.value||Oe()},Oe=async()=>{try{De.value=!0,await ne({shop_id:f.shop_id,servant_id:g.value[g.value.length-1].servant_id})}catch(e){}finally{De.value=!1}},Be=n(),Pe=j((()=>s.baseInfo.pc_domain?s.baseInfo.pc_domain:window.location.origin)),Ve=E({pc:{detail:`${Pe.value}/item/`,order:`${Pe.value}/member/order/info?id=`,shop:`${Pe.value}/shop/${f.shop_id}`},mobile:{detail:"/pages/productDetail/index?id=",order:"/pages/user/order/info?id=",shop:`/pages/shop/index?shop_id=${f.shop_id}`}}),Ge=(e,t,a)=>{let s="";switch(e){case"detail":s=Ve[t][e]+("pc"===t&&a?a.content.product.product_sn:null==a?void 0:a.content.product.product_id);break;case"order":s=Ve[t][e]+(a?a.content.order.order_id:"");break;case"shop":s=Ve[t][e]}return s},Je=(e,t)=>{let a="";"pc"===Ze.value?(a=Ge(e,"pc",t),window.open(a,"_blank")):(a=Ge(e,"mobile",t),Z({url:a}))},Fe=j((()=>Le.value.shop_logo??s.baseInfo.ico_img));j((()=>Le.value.shop_title??t("在线客服")));const Ke=e=>{},Me=e=>{const t=JSON.parse(e.data);"message"===t.type&&t.data&&Qe(t.data[0]),"read"===t.type&&g.value.forEach((e=>{1===e.type&&(e.is_read=1)}))},Qe=e=>{var t;if(e.shop_id===f.shop_id){const a=(e=>g.value.findIndex((t=>t.id===e.id)))(e);-1===a&&(g.value=[...g.value,e],null==(t=Be.value)||t.play(),N((()=>{ke()})))}},Xe=e=>{},qe=e=>{},Ye=n(),Ze=n("");C((async e=>{e&&(e.shop_id&&Number(e.shop_id)&&(f.shop_id=Number(e.shop_id),await(async e=>{try{const t=await ie(e);Le.value=t.item}catch(t){}})(e.shop_id)),e.product_id&&Number(e.product_id)&&(f.product_id=Number(e.product_id),(async e=>{try{const t=await oe(e);let a={message_type:"product",product_id:t.item.product_id,pic_url:t.item.pic_url,product_name:t.item.product_name,product_price:t.item.product_price,product_sn:t.item.product_sn};g.value=[...g.value,a],N((()=>{ke()}))}catch(t){}})(e.product_id)),e.order_id&&Number(e.order_id)&&(f.order_id=Number(e.order_id)),e.conversation_id&&Number(e.conversation_id)&&(f.conversation_id=Number(e.conversation_id)),e.platform&&(Ze.value=e.platform),e.token&&A({key:"token",data:e.token,success:async()=>{v.getUserInfo(),f.user_from=a.XClientType,Ye.value=new ue(`${(()=>{let e;return e=location.origin?location.origin.replace(/^http:/,"ws:").replace(/^https:/,"wss:")+"/ws":"",e})()}?token=${e.token}&platform=${Ze.value?Ze.value:f.user_from}`),Ye.value.onclose(Xe),Ye.value.onopen(Ke),Ye.value.onerror(qe),Ye.value.onmessage(Me),Ye.value.connect(),await We(),f.order_id&&await(async e=>{try{const t=await le({id:e});let a={message_type:"order",order_id:t.item.order_id,order_sn:t.item.order_sn,pic_url:t.item.items[0].pic_thumb,product_name:t.item.items[0].product_name,product_num:t.item.items.length,total_amount:t.item.total_amount,order_status_name:t.item.order_status_name};-1===g.value.findIndex((t=>"custom"===t.content.message_type&&t.content.order&&t.content.order.order_id==e))&&He("custom",{order:a})}catch(t){}})(f.order_id)}}))}));const et=j((()=>`url(${y("im/gallary.png")})`)),tt=j((()=>`url(${y("im/goodspic.png")})`)),at=j((()=>`url(${y("im/plus@2x.png")})`)),st=j((()=>`url(${y("im/ico_face_v2@2x.png")})`)),nt=j((()=>`url(${y("im/talk@2x.png")})`)),it=j((()=>"44px")),ot=j((()=>a.safeAreaInsets.top+"px")),lt=j((()=>{let e=100;return ce.value&&(e+=324),de.value&&(e+=196),Ee.value?`calc(${e}rpx + ${$e.value}px)`:`${e}rpx`}));return(e,t)=>{const a=k,s=L,n=i(o("tig-image"),ee),v=i(o("format-price"),te),f=D,y=i(o("up-input"),W),x=i(o("up-upload"),H);return d(),l(a,{class:"page-content"},{default:I((()=>[_(a,{class:"thanos-layout"},{default:I((()=>[_(a,{class:"thanos-layout-header"},{default:I((()=>[_(a,{class:"wapim-conversation-banner"},{default:I((()=>[_(a,{class:"shop-info",onClick:be},{default:I((()=>[_(a,{class:"iconfont icon-houtui"})])),_:1}),_(a,{class:"right-opt",onClick:t[0]||(t[0]=e=>{Z({url:"/pages/im/list"})})},{default:I((()=>[_(s,{class:"ico-history wapim-conversation-banner-history"})])),_:1})])),_:1})])),_:1}),_(a,{class:"thanos-layout-main-content",onClick:Re},{default:I((()=>[_(f,{class:"message-scroll","scroll-top":ge.value,"scroll-y":"true",onScroll:xe},{default:I((()=>[_(a,{class:"message-box"},{default:I((()=>[fe.value?(d(),c("p",{key:0,class:"empty-text"},R(e.$t("已经没有更多消息了")),1)):r("",!0),_(a,null,{default:I((()=>[(d(!0),c(m,null,p(g.value,((t,s)=>(d(),l(a,{key:t.id,class:O(["thanos-rich-message",[2==t.type?"in":1==t.type?"out":"","custom"===t.message_type&&1==t.type?"card-type":"image"===t.message_type?"image-type":""]])},{default:I((()=>["product"!==t.message_type&&"order"!==t.message_type?(d(),l(a,{key:0,class:"message-time"},{default:I((()=>[u("span",null,R(t.send_time),1)])),_:2},1024)):r("",!0),3===t.type?(d(),l(a,{key:1,class:"message-time"},{default:I((()=>[u("span",null,R(t.content.content),1)])),_:2},1024)):r("",!0),3!=t.type&&"product"!==t.message_type&&"order"!==t.message_type?(d(),l(a,{key:2,class:"message-content message-content-left"},{default:I((()=>[_(a,{class:"bg-pic circle-bg-pic thanos-view thanos-hairline--surround message-avatar"},{default:I((()=>{var e;return[_(a,{class:"bg-pic-content",style:B({backgroundImage:`url(${1===t.type?h(P)(null==(e=t.user)?void 0:e.avatar):h(P)(Fe.value)})`})},null,8,["style"])]})),_:2},1024),_(a,{class:"message-content-inner"},{default:I((()=>[t.message_type?(d(),l(a,{key:0,class:"message-context"},{default:I((()=>[_(a,{class:"thanos-text-message"},{default:I((()=>["text"===t.message_type?(d(),l(a,{key:0},{default:I((()=>[_(he,{content:t.content.content},null,8,["content"])])),_:2},1024)):r("",!0),"image"===t.message_type?(d(),l(a,{key:1,class:"message-image"},{default:I((()=>[_(n,{src:t.content.pic,"onUpdate:src":e=>t.content.pic=e},null,8,["src","onUpdate:src"])])),_:2},1024)):r("",!0),"custom"===t.message_type?(d(),l(a,{key:2},{default:I((()=>[t.content.product?(d(),l(a,{key:0,class:"custom-message-product"},{default:I((()=>[_(a,{class:"product-img",onClick:e=>Je("detail",t)},{default:I((()=>[t.content.product.pic_url?(d(),l(n,{key:0,src:t.content.product.pic_url,"onUpdate:src":e=>t.content.product.pic_url=e},null,8,["src","onUpdate:src"])):r("",!0)])),_:2},1032,["onClick"]),_(a,{class:"product-info"},{default:I((()=>[_(a,{class:"product-name"},{default:I((()=>[V(R(t.content.product.product_name),1)])),_:2},1024),_(a,{class:"product-price"},{default:I((()=>[_(v,{fontStyle:{fontSize:"28rpx"},currencyStyle:{fontSize:"22rpx"},decimalsStyle:{fontSize:"24rpx"},priceData:t.content.product.product_price},null,8,["priceData"])])),_:2},1024)])),_:2},1024)])),_:2},1024)):r("",!0),t.content.order?(d(),l(a,{key:1,class:"custom-message-order",onClick:e=>Je("order",t)},{default:I((()=>[_(a,{class:"tit"},{default:I((()=>[V(R(t.content.order.order_status_name),1)])),_:2},1024),_(a,{class:"info"},{default:I((()=>[_(a,{class:"product-img"},{default:I((()=>[t.content.order.pic_url?(d(),l(n,{key:0,src:t.content.order.pic_url,"onUpdate:src":e=>t.content.order.pic_url=e},null,8,["src","onUpdate:src"])):r("",!0)])),_:2},1024),_(a,{class:"product-info"},{default:I((()=>[_(a,{class:"product-name"},{default:I((()=>[V(R(t.content.order.product_name),1)])),_:2},1024),_(a,{class:"product-txt"},{default:I((()=>[V(R(h(G)()?e.$t("共{0}件商品，合计",[t.content.order.product_num]):`共${t.content.order.product_num}件商品，合计`)+" ",1),_(v,{fontStyle:{fontSize:"28rpx"},currencyStyle:{fontSize:"22rpx"},decimalsStyle:{fontSize:"24rpx"},priceData:t.content.order.total_amount},null,8,["priceData"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])):r("",!0)])),_:2},1024)):r("",!0)])),_:2},1024),u("span",{class:"message-status"})])),_:2},1024)):r("",!0)])),_:2},1024),1===t.type?(d(),l(a,{key:0,class:O(["read-status",[t.is_read?"read":"unread"]])},{default:I((()=>[V(R(e.$t(t.is_read?"已读":"未读")),1)])),_:2},1032,["class"])):r("",!0)])),_:2},1024)):r("",!0),"product"===t.message_type?(d(),l(a,{key:3,class:"im-goods-card"},{default:I((()=>[_(a,{class:"content"},{default:I((()=>[_(a,{class:"pic"},{default:I((()=>[_(n,{src:t.pic_url,"onUpdate:src":e=>t.pic_url=e},null,8,["src","onUpdate:src"])])),_:2},1024),_(a,{class:"desc"},{default:I((()=>[_(a,{class:"title"},{default:I((()=>[V(R(t.product_name),1)])),_:2},1024),_(a,{class:"price"},{default:I((()=>[_(v,{fontStyle:{fontSize:"32rpx"},currencyStyle:{fontSize:"22rpx"},decimalsStyle:{fontSize:"24rpx"},priceData:t.product_price},null,8,["priceData"])])),_:2},1024)])),_:2},1024)])),_:2},1024),_(a,{class:"line"}),_(a,{class:"send",onClick:e=>{He("custom",{product:t})}},{default:I((()=>[V(R(e.$t("发送宝贝")),1)])),_:2},1032,["onClick"])])),_:2},1024)):r("",!0)])),_:2},1032,["class"])))),128))])),_:1})])),_:1})])),_:1},8,["scroll-top"])])),_:1}),_(a,{class:"thanos-layout-footer"},{default:I((()=>[_(a,{class:"wapim-inputer"},{default:I((()=>[_(a,{class:"thanos-hairline--top-bottom wapim-main-inputer"},{default:I((()=>[_(a,{class:"input-box"},{default:I((()=>[_(a,{class:"rich-input"},{default:I((()=>[_(y,{style:{height:"100%"},placeholder:"",border:"none",modelValue:b.value,"onUpdate:modelValue":t[1]||(t[1]=e=>b.value=e),adjustPosition:Se.value,onConfirm:Te,onChange:we,onFocus:Ce,onBlur:t[2]||(t[2]=e=>Ee.value=!1),onKeyboardheightchange:je},null,8,["modelValue","adjustPosition"])])),_:1})])),_:1}),_(a,{class:"wapim-inputer-operation"},{default:I((()=>[u("span",{class:"operation face",onClick:Ue}),!0===re.value?(d(),c("span",{key:0,class:"operation send",onClick:Te},R(e.$t("发送")),1)):(d(),l(a,{key:1,class:"operation plus",onClick:ze}))])),_:1})])),_:1}),J(_(a,{class:"wapim-inputer-plugin"},{default:I((()=>[_(a,{class:"wapim-inputer-file-picker"},{default:I((()=>[_(a,{class:"file-inputer-plugin"},{default:I((()=>[_(x,{onAfterRead:Ie,name:"6",multiple:"",maxCount:1},{default:I((()=>[_(a,{class:"pic-item plugin-item"},{default:I((()=>[_(a,{class:"photo icon"}),u("span",{class:"title"},R(e.$t("相册")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),[[F,de.value]]),J(_(a,{class:"wapim-inputer-plugin"},{default:I((()=>[_(a,{class:"wapim-inputer-file-picker"},{default:I((()=>[_(a,{class:"file-emoji-plugin"},{default:I((()=>[_(_e,{onInsertEmoji:Ae})])),_:1})])),_:1})])),_:1},512),[[F,ce.value]])])),_:1})])),_:1})])),_:1}),_(ve,{ref_key:"promptToneRef",ref:Be},null,512)])),_:1})}}}),[["__scopeId","data-v-65a50b55"]]);export{fe as default};
