import{d as e,G as a,r as t,Q as l,o as s,e as i,k as r,l as u,m as o,n,w as d,q as c,y as _,J as p,F as m,x as g,a6 as f,a7 as v,C as y,V as k,t as b,v as x,L as h,B as j,a0 as w}from"./index-Ce4FtYLL.js";import{_ as z}from"./tig-image.bUT1hZK2.js";import{_ as V}from"./empty-box.vue_vue_type_script_setup_true_lang.jMkm3TP8.js";import{_ as C}from"./loading-box.PIJN5CrK.js";import{_ as N}from"./tig-layout.nM03J4I_.js";import{n as $}from"./index.v2UirNFN.js";import{a as q}from"./article.WdNfET9E.js";import{_ as L}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-empty.DoqyT2U6.js";import"./u-icon.BDQrrWMI.js";import"./u-loading-icon.CaEeBur7.js";const M=L(e({__name:"list",props:{id:{type:String||Number,default:""}},setup(e){const{t:L}=a(),M={navbar:"1",return:"1",title:"文章中心",color:!1},B=e,F=t("bzgg"),G=t(!1),I=t(!1),J=t(0),Q=l({page:1,category_sn:B.id,size:10}),S=t([]),U=async()=>{Q.page>1?I.value=!0:(f({title:L("加载中")}),G.value=!0);try{const e=await q({...Q});J.value=e.total,S.value=[...S.value,...e.filter_result]}catch(e){console.error(e.message)}finally{G.value=!1,I.value=!1,v()}};return s((e=>{e&&e.id&&(F.value=e.id,M.title="zxzx"===e.id?"最新资讯":"bzgg"===e.id?"最新公告":"kfzx"===e.id?"客服中心":"",U())})),i((()=>{Q.page<Math.ceil(J.value/Number(Q.size))&&(Q.page++,U())})),(e,a)=>{const t=j,l=y,s=r(u("tig-image"),z),i=w,f=r(u("empty-box"),V),v=r(u("loading-box"),C),q=r(u("tig-layout"),N);return o(),n(q,null,{default:d((()=>[c($,{parameter:M}),G.value?g("",!0):(o(),n(l,{key:0,class:"article-center"},{default:d((()=>[c(l,{class:"news-list"},{default:d((()=>[S.value.length?(o(!0),_(m,{key:0},p(S.value,(a=>(o(),n(l,{class:"news-item",key:a.article_id},{default:d((()=>[c(l,{class:"pic-desc",onClick:e=>{return t=`/pages/article/news/detail?id=${a.article_id}`,void h({url:t});var t}},{default:d((()=>[c(l,{class:k(["news-left",{"w-100":!a.article_thumb}])},{default:d((()=>[c(l,{class:"pd-title",title:a.article_title},{default:d((()=>[a.article_tag?(o(),n(t,{key:0,class:"yin_agn"},{default:d((()=>[b(x(e.$t("新闻资讯")),1)])),_:1})):g("",!0),c(t,null,{default:d((()=>[b(x(a.article_title),1)])),_:2},1024)])),_:2},1032,["title"]),a.description?(o(),n(l,{key:0,class:"pd-det"},{default:d((()=>[b(x(a.description),1)])),_:2},1024)):g("",!0)])),_:2},1032,["class"]),a.article_thumb?(o(),n(l,{key:0,class:"news-right"},{default:d((()=>[c(s,{src:a.article_thumb,alt:a.article_title},null,8,["src","alt"])])),_:2},1024)):g("",!0)])),_:2},1032,["onClick"]),c(l,{class:"info-btn"},{default:d((()=>[a.add_time?(o(),n(l,{key:0,class:"evaluate"},{default:d((()=>[c(t,{class:"time"},{default:d((()=>[b(x(a.add_time),1)])),_:2},1024)])),_:2},1024)):g("",!0),a.link?(o(),n(i,{key:1,class:"red-btn",target:"_blank",url:a.link,"hover-class":"navigator-hover","open-type":"navigate"},{default:d((()=>[c(t,null,{default:d((()=>[b(x(e.$t("相关链接")),1)])),_:1})])),_:2},1032,["url"])):g("",!0)])),_:2},1024)])),_:2},1024)))),128)):(o(),n(f,{key:1,mode:"news",text:"暂无文章"})),c(v,{modelValue:I.value,"onUpdate:modelValue":a[0]||(a[0]=e=>I.value=e),page:Q.page,length:S.value.length},null,8,["modelValue","page","length"])])),_:1})])),_:1}))])),_:1})}}}),[["__scopeId","data-v-185a91f1"]]);export{M as default};
