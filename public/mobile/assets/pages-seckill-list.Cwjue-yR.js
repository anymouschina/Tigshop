import{Z as s,d as a,a3 as l,r as e,Q as t,R as o,k as i,l as u,m as c,n as r,w as n,q as d,t as _,v as g,x as p,y as f,J as m,s as k,F as x,U as y,E as h,C as b,a5 as q,V as j,T as v,L as $,D,B as z}from"./index-Do_Cb7fn.js";import{_ as S}from"./format-price.D2lH_-yv.js";import{_ as L}from"./loading-box.Cez_qIZa.js";import{_ as V}from"./tig-layout.BV0ZvCt0.js";import{u as w}from"./useList.Dtpd-ehd.js";import{_ as B}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-loading-icon.rQrrZF_r.js";import"./u-icon.CBDMG2rO.js";import"./product.Cqsfbx9G.js";const C=a=>s({url:"home/home/get_seckill",method:"get",params:a}),T=B(a({__name:"list",setup(s){l((s=>({"4ac0958a":N.value})));const a=e(),B=t({page:1,size:20}),{getList:T,isLoadMore:F,data:J}=w(C,{params:B,path:{dataKey:"seckill_list"},immediate:!0}),M=(s,a)=>Math.round(s/(a+s)*100)+"%",N=o((()=>a.value&&a.value.is_zh?`url(${h("common/seckillTitle.png")}) no-repeat`:`url(${h("common/overseas-seckillTitle.jpg")}) no-repeat`));return(s,l)=>{const e=b,t=D,o=z,h=i(u("format-price"),S),w=i(u("loading-box"),L),C=i(u("tig-layout"),V);return c(),r(C,{ref_key:"layoutRef",ref:a,specialNum:90},{default:n((()=>[d(e,{class:"seckill-title"},{default:n((()=>[a.value&&!a.value.is_zh?(c(),r(e,{key:0,class:"seckill-title-text-box"},{default:n((()=>[d(e,{class:"seckill-title-text"},{default:n((()=>[_(g(s.$t("限时秒杀")),1)])),_:1})])),_:1})):p("",!0)])),_:1}),d(e,{class:"qianggou-list"},{default:n((()=>[(c(!0),f(x,null,m(k(J),((a,l)=>(c(),r(e,{class:"qianggou-item",key:l,onClick:s=>(s=>{let a=`/pages/productDetail/index?id=${s.product_id}${s.sku_id>0?`&sku_id=${s.sku_id}`:""}`;$({url:a})})(a)},{default:n((()=>[d(e,{class:"qianggou-img-box"},{default:n((()=>[d(t,{class:"qianggou-img",src:k(q)(a.pic_thumb||""),mode:"aspectFill"},null,8,["src"]),0===a.seckill_stock?(c(),r(e,{key:0,class:"qianggou-out"},{default:n((()=>[d(e,{class:"qianggou-out-txt"},{default:n((()=>[_(g(s.$t("已抢完")),1)])),_:1})])),_:1})):p("",!0)])),_:2},1024),d(e,{class:"qianggou-info"},{default:n((()=>[d(e,{class:"qianggou-tit line2"},{default:n((()=>[_(g(a.product_name),1)])),_:2},1024),d(e,{class:"line1 pro-txt-small"},{default:n((()=>[d(o,{class:"line1"},{default:n((()=>[_(g(s.$t("限时秒杀 抢先提醒")),1)])),_:1})])),_:1}),d(e,{class:"qianggou-money-box"},{default:n((()=>[d(e,{class:"qianggou-num"},{default:n((()=>[d(e,{class:"num"},{default:n((()=>[d(h,{decimalsStyle:{fontSize:"25rpx",fontWeight:"bold"},currencyStyle:{fontSize:"23rpx",fontWeight:"bold"},priceData:a.seckill_price},null,8,["priceData"])])),_:2},1024),d(e,{class:"del"},{default:n((()=>[d(h,{fontStyle:{"text-decoration":"line-through"},isBottom:!1,priceData:a.market_price},null,8,["priceData"])])),_:2},1024)])),_:2},1024),d(e,{class:j(["qianggou-btn",{flex:0===a.seckill_stock,"align-center":a.seckill_stock>0}])},{default:n((()=>[0===a.seckill_stock?(c(),r(e,{key:0,class:"btn-txt"},{default:n((()=>[_(g(s.$t("已抢完")),1)])),_:1})):(c(),r(e,{key:1,class:"btn-txt"},{default:n((()=>[d(e,{class:"txt"},{default:n((()=>[_(g(s.$t("马上抢")),1)])),_:1}),d(e,{class:"progress-box flex align-center"},{default:n((()=>[d(e,{class:"progress-bar"},{default:n((()=>[d(e,{class:"progress",style:v({width:M(a.seckill_sales,a.seckill_stock)})},null,8,["style"])])),_:2},1024),d(e,{class:"progress-txt"},{default:n((()=>[_(g(M(a.seckill_sales,a.seckill_stock)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024))])),_:2},1032,["class"])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),d(w,{color:"#fff",modelValue:k(F),"onUpdate:modelValue":l[0]||(l[0]=s=>y(F)?F.value=s:null),page:B.page,length:k(J).length},null,8,["modelValue","page","length"])])),_:1},512)}}}),[["__scopeId","data-v-04325be2"]]);export{T as default};
