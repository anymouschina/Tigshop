var e=Object.defineProperty,a=(a,t,s)=>(((a,t,s)=>{t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s})(a,"symbol"!=typeof t?t+"":t,s),s);import{by as t,e as s,r as n,q as o,y as i,c as r,z as l,o as c,D as d,aw as u,F as m,J as p,a as h,A as v,_ as f,af as g,bz as y,C as b,g as _,i as k,E as I,u as S,ar as x,Q as w,R as $,f as T,bA as E,w as N,ad as A,bB as j,aA as C,aB as W,a2 as R,bt as z,bC as L,d as U,S as H,b as D,t as P,T as O,a9 as F,a7 as B,a8 as J,U as V,V as G,bD as M,bE as q,G as K,L as Q,bF as X,bG as Y,P as Z}from"./index-BKzbZvRR.js";import{_ as ee}from"./tig-image.DrOwWlV9.js";import{_ as ae}from"./format-price.kSnuguuz.js";import{g as te,s as se,a as ne}from"./im.B7-H1VeE.js";import{b as oe}from"./shop.C37ErgAh.js";import{h as ie}from"./product.BqL6tr7k.js";import{g as re}from"./order.BKDxR0lS.js";const le=class e{log(a,t){e.console}closeConsole(){e.console=!1}};a(le,"console",!0);let ce=le;class de extends ce{constructor(){super(...arguments),a(this,"listeners",{})}addEventListener(e,a){this.listeners[e]||(this.listeners[e]=[]),-1===this.listeners[e].indexOf(a)&&this.listeners[e].push(a)}removeEventListener(e){this.listeners[e]=[]}dispatchEvent(e,a){const t=this.listeners[e]||[];0!==t.length&&t.forEach((e=>{e.call(this,a)}))}}class ue extends de{constructor(e){super(),a(this,"url",""),a(this,"socket",null),a(this,"reconnectAttempts",0),a(this,"maxReconnectAttempts",5),a(this,"reconnectInterval",1e3),a(this,"heartbeatInterval",15e3),a(this,"heartbeatTimer"),a(this,"stopWs",!1),this.url=e}onopen(e){this.addEventListener("open",e)}onmessage(e){this.addEventListener("message",e)}onclose(e){this.addEventListener("close",e)}onerror(e){this.addEventListener("error",e)}send(e){this.socket?this.socket.send(e):console.error("[WebSocket] 未连接")}connect(){0===this.reconnectAttempts&&this.log("WebSocket",`初始化连接中...          ${this.url}`),this.socket||(this.socket=t({url:this.url,complete:()=>{}}),this.socket&&(this.socket.onOpen((e=>{this.stopWs=!1,this.reconnectAttempts=0,this.startHeartbeat(),this.log("WebSocket",`连接成功,等待服务端数据推送[onopen]...     ${this.url}`),this.dispatchEvent("open",e)})),this.socket.onMessage((e=>{this.dispatchEvent("message",e),this.startHeartbeat()})),this.socket.onClose((e=>{0===this.reconnectAttempts&&this.log("WebSocket",`连接断开[onclose]...    ${this.url}`),this.stopWs||this.handleReconnect(),this.dispatchEvent("close",e)})),this.socket.onError((e=>{0===this.reconnectAttempts&&this.log("WebSocket",`连接异常[onerror]...    ${this.url}`),this.closeHeartbeat(),this.dispatchEvent("error",e)}))))}handleReconnect(){this.reconnectAttempts<this.maxReconnectAttempts?(this.reconnectAttempts++,this.log("WebSocket",`尝试重连... (${this.reconnectAttempts}/${this.maxReconnectAttempts})       ${this.url}`),setTimeout((()=>{this.connect()}),this.reconnectInterval)):(this.closeHeartbeat(),this.log("WebSocket",`最大重连失败，终止重连: ${this.url}`))}close(){this.socket&&(this.stopWs=!0,this.socket.close({}),this.socket=null,this.removeEventListener("open"),this.removeEventListener("message"),this.removeEventListener("close"),this.removeEventListener("error")),this.closeHeartbeat()}startHeartbeat(){this.stopWs||(this.heartbeatTimer&&this.closeHeartbeat(),this.heartbeatTimer=setInterval((()=>{this.socket?(this.socket.send({data:JSON.stringify({type:"heartBeat"})}),this.log("WebSocket","送心跳数据...")):console.error("[WebSocket] 未连接")}),this.heartbeatInterval))}closeHeartbeat(){clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0}}const me=[{name:"微笑",id:"1"},{name:"龇牙",id:"2"},{name:"色",id:"3"},{name:"发呆",id:"4"},{name:"可怜",id:"5"},{name:"流泪",id:"6"},{name:"害羞",id:"7"},{name:"闭嘴",id:"8"},{name:"睡",id:"9"},{name:"吃瓜群众",id:"10"},{name:"尴尬",id:"11"},{name:"发怒",id:"12"},{name:"调皮",id:"13"},{name:"撇嘴",id:"14"},{name:"思考",id:"15"},{name:"不失礼貌的微笑",id:"16"},{name:"奸笑",id:"17"},{name:"抓狂",id:"18"},{name:"吐",id:"19"},{name:"偷笑",id:"20"},{name:"愉快",id:"21"},{name:"白眼",id:"22"},{name:"傲慢",id:"23"},{name:"困",id:"24"},{name:"灵光一现",id:"25"},{name:"流汗",id:"26"},{name:"憨笑",id:"27"},{name:"捂脸",id:"28"},{name:"奋斗",id:"29"},{name:"咒骂",id:"30"},{name:"疑问",id:"31"},{name:"嘘",id:"32"},{name:"晕",id:"33"},{name:"衰",id:"34"},{name:"骷髅",id:"35"},{name:"敲打",id:"36"},{name:"再见",id:"37"},{name:"擦汗",id:"38"},{name:"抠鼻",id:"39"},{name:"泣不成声",id:"40"},{name:"坏笑",id:"41"},{name:"左哼哼",id:"42"},{name:"右哼哼",id:"43"},{name:"打哈欠",id:"44"},{name:"鄙视",id:"45"},{name:"委屈",id:"46"},{name:"快哭了",id:"47"},{name:"摸头",id:"48"},{name:"阴险",id:"49"},{name:"亲亲",id:"50"},{name:"机智",id:"51"},{name:"得意",id:"52"},{name:"大金牙",id:"53"},{name:"拥抱",id:"54"},{name:"大笑",id:"55"},{name:"送心",id:"56"},{name:"震惊",id:"57"},{name:"酷拽",id:"58"},{name:"尬笑",id:"59"},{name:"大哭",id:"60"},{name:"哭笑",id:"61"},{name:"做鬼脸",id:"62"},{name:"红脸",id:"63"},{name:"鼓掌",id:"64"},{name:"恐惧",id:"65"},{name:"斜眼",id:"66"},{name:"嘿哈",id:"67"},{name:"惊讶",id:"68"},{name:"绝望的凝视",id:"69"},{name:"囧",id:"70"},{name:"皱眉",id:"71"},{name:"耶",id:"72"},{name:"石化",id:"73"},{name:"我想静静",id:"74"},{name:"吐血",id:"75"},{name:"互粉",id:"76"},{name:"互相关注",id:"77"},{name:"加好友",id:"78"},{name:"强",id:"79"},{name:"钱",id:"80"},{name:"飞吻",id:"81"},{name:"打脸",id:"82"},{name:"惊恐",id:"83"},{name:"悠闲",id:"84"},{name:"泪奔",id:"85"},{name:"舔屏",id:"86"},{name:"紫薇别走",id:"87"},{name:"听歌",id:"88"},{name:"难过",id:"89"},{name:"生病",id:"90"},{name:"绿帽子",id:"91"},{name:"如花",id:"92"},{name:"惊喜",id:"93"},{name:"吐彩虹",id:"94"},{name:"吐舌",id:"95"},{name:"无辜呆",id:"96"},{name:"看",id:"97"},{name:"白眼的狗",id:"98"},{name:"黑脸",id:"99"},{name:"猪头",id:"100"},{name:"熊吉",id:"101"},{name:"不看",id:"102"},{name:"玫瑰",id:"103"},{name:"凋谢",id:"104"},{name:"嘴唇",id:"105"},{name:"爱心",id:"106"},{name:"心碎",id:"107"},{name:"赞",id:"108"},{name:"弱",id:"109"},{name:"握手",id:"110"},{name:"ok",id:"111"},{name:"谢谢",id:"112"},{name:"比心",id:"113"},{name:"碰拳",id:"114"},{name:"击掌",id:"115"},{name:"左",id:"116"},{name:"右",id:"117"},{name:"力量",id:"118"},{name:"胜利",id:"119"},{name:"抱拳",id:"120"},{name:"勾引",id:"121"},{name:"拳头",id:"122"},{name:"庆祝",id:"123"},{name:"礼物",id:"124"},{name:"红包",id:"125"},{name:"18禁",id:"126"},{name:"去污粉",id:"127"},{name:"666",id:"128"},{name:"给力",id:"129"},{name:"v5",id:"130"},{name:"菜刀",id:"131"},{name:"炸弹",id:"132"},{name:"便便",id:"133"},{name:"月亮",id:"134"},{name:"太阳",id:"135"},{name:"发",id:"136"},{name:"黄瓜",id:"137"},{name:"西瓜",id:"138"},{name:"啤酒",id:"139"},{name:"咖啡",id:"140"},{name:"蛋糕",id:"141"}],pe=s({__name:"emojiImage",props:{name:{type:String,default:""},id:{type:[String,Number],default:""}},setup(e){const a=e;const t=n("");let s="";var d,u,m;return a.id?s=String(a.id):(d=me,u=a.name,s=null==(m=d.find((e=>e.name===u)))?void 0:m.id),void 0!==s&&(t.value="http://oss.tigshop.com/official/emoji/"+s+".png"),(e,a)=>{const s=o(i("tig-image"),ee);return t.value?(c(),r(s,{key:0,src:t.value},null,8,["src"])):l("",!0)}}}),he=f(s({__name:"Emoji",emits:["insertEmoji"],setup(e,{emit:a}){const t=a;return(e,a)=>(c(),d("div",{class:"picker_body"},[u("div",{class:"emojipicker"},[u("div",{class:"list"},[(c(!0),d(m,null,p(v(me),((e,a)=>(c(),d("div",{class:"item",key:e.id,onClick:a=>{return s=e.name,void t("insertEmoji",s);var s}},[u("span",null,[u("span",{class:"byte-tooltip__wrapper"},[h(pe,{class:"image",id:e.id},null,8,["id"])])])],8,["onClick"])))),128))])])]))}}),[["__scopeId","data-v-42e582ee"]]),ve=f(s({__name:"emojiHtml",props:{content:{type:String,default:""}},setup(e){const a=e,t=n("");return t.value=function(e,a){const t=new RegExp(`(${a.map((e=>e.name)).join("|")})`,"g");return e.replace(/\[|\]/g,"").replace(t,(e=>{const t=a.find((a=>a.name===e));return t?"<img class='emoji' src='http://oss.tigshop.com/official/emoji/"+t.id+".png'>":e}))}(a.content,me),(e,a)=>{const s=g;return c(),r(s,{nodes:t.value},null,8,["nodes"])}}}),[["__scopeId","data-v-c8f40d79"]]),fe=s({__name:"promptTone",setup(e,{expose:a}){let t=null;const s=n(!1);t=y(),t.src=b("promptTone.wav","audio"),t.onEnded((()=>{s.value=!1}));return a({play:()=>{null==t||s.value||(t.seek(1),t.play(),s.value=!0)}}),_((()=>{null!=t&&t.destroy()})),(e,a)=>{const t=k;return c(),r(t,{class:""})}}}),ge=f(s({__name:"index",setup(e){R((e=>({"0b6d7960":ia.value,"6a853068":ra.value,"0b3ca17b":la.value,d8c3bf66:oa.value,"406662bb":na.value,e52c148a:sa.value,"2973ee15":ta.value,"2b708512":aa.value})));const{t:a}=I(),t=S(),s=x(),f=w({firstId:-1,sortOrder:"desc",userFrom:"",shopId:0}),g=n([]),y=n(""),_=n(!1),le=n(!1),ce=n(!1);let de=n(!0),me=n(0);const pe=n(!1),ge=n(0),ye=W(),be=()=>{history.back()},_e=n(0),ke=n(0),Ie=async()=>{if(await(async()=>{try{const e=await C(".message-box",ye);ke.value=e.height}catch(e){console.error("Error getting box info:",e)}})(),await(async()=>{try{const e=await C(".message-scroll",ye);_e.value=e.height}catch(e){console.error("Error getting box info:",e)}})(),console.log("messageScrollHeight",_e.value,"messageBoxHeight",ke.value),_e.value&&ke.value){const e=ke.value-_e.value;e&&e>0&&(ge.value=e)}},Se=e=>{Pe(),de.value&&(me.value=ge.value,de.value=!1),0==e.detail.scrollTop&&0==pe.value&&g.value.length>0&&(f.firstId=g.value[0].id,Le())};function xe(e){_.value=e.length>0}const we=$((()=>!0)),$e=n(0),Te=n(!1),Ee=e=>{},Ne=()=>{Te.value=!0,ce.value=!1,le.value=!1},Ae=e=>{y.value+="["+e+"]"},je=e=>{if(Array.isArray(e.file))for(const a of e.file)Ce(a);else Ce(e.file[0])},Ce=e=>{M({url:X+"/api/user/user/upload_img",filePath:e.url,name:"file",header:{Authorization:K("token"),Secret:q()},success:e=>{const{data:a}=JSON.parse(e.data);Ue("image",{pic:a.picUrl})},fail:e=>{console.log("error",e),Q({title:a("图片上传失败"),icon:"none"})}})},We=()=>{y.value&&Ue()},Re=()=>{Y(),le.value=!le.value,ce.value=!1,A((()=>{Ie()}))},ze=()=>{Y(),ce.value=!ce.value,le.value=!1,A((()=>{Ie()}))},Le=async()=>{try{const e=await te(f);if(0==e.records.length)return void(pe.value=!0);g.value=[...e.records,...g.value],A((async()=>{-1==f.firstId?await Ie():setTimeout((()=>{me.value&&(ge.value=me.value,de.value=!0)}),0)}))}catch(e){console.error(e)}},Ue=async(e,a)=>{try{const t=await se({content:{messageType:e||"text",content:y.value||"",...a},conversationId:f.conversationId,shopId:f.shopId,productId:f.productId,orderId:f.orderId});y.value="",_.value=!1,le.value=!1,ce.value=!1,g.value=[...g.value,t],A((()=>{Ie()}))}catch(t){console.log(t)}},He=n({}),De=n(!1),Pe=()=>{0!==g.value[g.value.length-1].isRead||2!==g.value[g.value.length-1].type||De.value||Oe()},Oe=async()=>{try{De.value=!0,await ne({shopId:f.shopId,servantId:g.value[g.value.length-1].servantId})}catch(e){console.error(e)}finally{De.value=!1}},Fe=n(),Be=$((()=>t.baseInfo.pcDomain?t.baseInfo.pcDomain:window.location.origin)),Je=w({pc:{detail:`${Be.value}/item/`,order:`${Be.value}/member/order/info?id=`,shop:`${Be.value}/shop/${f.shopId}`},mobile:{detail:"/pages/product/index?id=",order:"/pages/user/order/info?id=",shop:`/pages/shop/index?shopId=${f.shopId}`}}),Ve=(e,a,t)=>{let s="";switch(e){case"detail":s=Je[a][e]+("pc"===a&&t?t.content.product.productSn:null==t?void 0:t.content.product.productId);break;case"order":s=Je[a][e]+(t?t.content.order.orderId:"");break;case"shop":s=Je[a][e]}return s},Ge=(e,a)=>{let t="";"pc"===ea.value?(t=Ve(e,"pc",a),window.open(t,"_blank")):(t=Ve(e,"mobile",a),Z({url:t}))},Me=$((()=>He.value.shopLogo??t.baseInfo.icoImg));$((()=>He.value.shopTitle??a("在线客服")));const qe=e=>{},Ke=e=>{if(!j(e.data))return void console.error("收到非JSON格式数据");const a=JSON.parse(e.data);"message"===a.type&&a.data&&Qe(a.data[0]),"read"===a.type&&g.value.forEach((e=>{1===e.type&&(e.isRead=1)}))},Qe=e=>{var a;if(e.shopId===f.shopId){const t=(e=>g.value.findIndex((a=>a.id===e.id)))(e);-1===t&&(g.value=[...g.value,e],null==(a=Fe.value)||a.play(),A((()=>{Ie()})))}},Xe=e=>{},Ye=e=>{},Ze=n(),ea=n("");T((async e=>{e&&(e.shopId&&Number(e.shopId)&&(f.shopId=Number(e.shopId),await(async e=>{try{const a=await oe(e);He.value=a}catch(a){console.error(a)}})(e.shopId)),e.productId&&Number(e.productId)&&(f.productId=Number(e.productId),(async e=>{try{const a=await ie(e);let t={messageType:"product",productId:a.item.productId,picUrl:a.item.picUrl,productName:a.item.productName,productPrice:a.item.productPrice,productSn:a.item.productSn};g.value=[...g.value,t],A((()=>{Ie()}))}catch(a){console.error(a)}})(e.productId)),e.orderId&&Number(e.orderId)&&(f.orderId=Number(e.orderId)),e.conversationId&&Number(e.conversationId)&&(f.conversationId=Number(e.conversationId)),e.platform&&(ea.value=e.platform),e.token&&E({key:"token",data:e.token,success:async()=>{s.getUserInfo(),f.userFrom=t.XClientType,Ze.value=new ue(`${(()=>{let e;return e=location.origin?location.origin.replace(/^http:/,"ws:").replace(/^https:/,"wss:")+"/ws":"",e})()}?token=${e.token}&platform=${ea.value?ea.value:f.userFrom}`),Ze.value.onclose(Xe),Ze.value.onopen(qe),Ze.value.onerror(Ye),Ze.value.onmessage(Ke),Ze.value.connect(),await Le(),f.orderId&&await(async e=>{try{const a=await re({id:e});let t={messageType:"order",orderId:a.orderId,orderSn:a.orderSn,picUrl:a.items[0].picThumb,productName:a.items[0].productName,productNum:a.items.length,totalAmount:a.totalAmount,orderStatusName:a.orderStatusName};-1===g.value.findIndex((a=>"custom"===a.content.messageType&&a.content.order&&a.content.order.orderId==e))&&Ue("custom",{order:t})}catch(a){console.error(a)}})(f.orderId)}}))}));const aa=$((()=>`url(${b("im/gallary.png")})`)),ta=$((()=>`url(${b("im/goodspic.png")})`)),sa=$((()=>`url(${b("im/plus@2x.png")})`)),na=$((()=>`url(${b("im/ico_face_v2@2x.png")})`)),oa=$((()=>`url(${b("im/talk@2x.png")})`)),ia=$((()=>"44px")),ra=$((()=>t.safeAreaInsets.top+"px")),la=$((()=>{let e=100;return ce.value&&(e+=324),le.value&&(e+=196),Te.value?`calc(${e}rpx + ${$e.value}px)`:`${e}rpx`}));return(e,a)=>{const t=k,s=U,n=o(i("tig-image"),ee),f=o(i("format-price"),ae),b=H,I=o(i("up-input"),z),S=o(i("up-upload"),L);return c(),r(t,{class:"page-content"},{default:N((()=>[h(t,{class:"thanos-layout"},{default:N((()=>[h(t,{class:"thanos-layout-header"},{default:N((()=>[h(t,{class:"wapim-conversation-banner"},{default:N((()=>[h(t,{class:"shop-info",onClick:be},{default:N((()=>[h(t,{class:"iconfont icon-houtui"})])),_:1}),h(t,{class:"right-opt",onClick:a[0]||(a[0]=e=>{Z({url:"/pages/im/list"})})},{default:N((()=>[h(s,{class:"ico-history wapim-conversation-banner-history"})])),_:1})])),_:1})])),_:1}),h(t,{class:"thanos-layout-main-content",onClick:Pe},{default:N((()=>[h(b,{class:"message-scroll","scroll-top":ge.value,"scroll-y":"true",onScroll:Se},{default:N((()=>[h(t,{class:"message-box"},{default:N((()=>[pe.value?(c(),r(t,{key:0,class:"empty-text"},{default:N((()=>[D(P(e.$t("已经没有更多消息了")),1)])),_:1})):l("",!0),(c(!0),d(m,null,p(g.value,((a,s)=>(c(),r(t,{key:a.id,class:O(["thanos-rich-message",[2==a.type?"in":1==a.type?"out":"","custom"===a.messageType&&1==a.type?"card-type":"image"===a.messageType?"image-type":""]])},{default:N((()=>["product"!==a.messageType&&"order"!==a.messageType?(c(),r(t,{key:0,class:"message-time"},{default:N((()=>[u("span",null,P(a.sendTime),1)])),_:2},1024)):l("",!0),3===a.type?(c(),r(t,{key:1,class:"message-time"},{default:N((()=>[u("span",null,P(a.content.content),1)])),_:2},1024)):l("",!0),3!=a.type&&"product"!==a.messageType&&"order"!==a.messageType?(c(),r(t,{key:2,class:"message-content message-content-left"},{default:N((()=>[h(t,{class:"bg-pic circle-bg-pic thanos-view thanos-hairline--surround message-avatar"},{default:N((()=>{var e;return[h(t,{class:"bg-pic-content",style:F({backgroundImage:`url(${1===a.type?v(B)(null==(e=a.user)?void 0:e.avatar):v(B)(Me.value)})`})},null,8,["style"])]})),_:2},1024),h(t,{class:"message-content-inner"},{default:N((()=>[a.messageType?(c(),r(t,{key:0,class:"message-context"},{default:N((()=>[h(t,{class:"thanos-text-message"},{default:N((()=>["text"===a.messageType?(c(),r(t,{key:0},{default:N((()=>[h(ve,{content:a.content.content},null,8,["content"])])),_:2},1024)):l("",!0),"image"===a.messageType?(c(),r(t,{key:1,class:"message-image"},{default:N((()=>[h(n,{src:a.content.pic},null,8,["src"])])),_:2},1024)):l("",!0),"custom"===a.messageType?(c(),r(t,{key:2},{default:N((()=>[a.content.product?(c(),r(t,{key:0,class:"custom-message-product"},{default:N((()=>[h(t,{class:"product-img",onClick:e=>Ge("detail",a)},{default:N((()=>[a.content.product.picUrl?(c(),r(n,{key:0,src:a.content.product.picUrl},null,8,["src"])):l("",!0)])),_:2},1032,["onClick"]),h(t,{class:"product-info"},{default:N((()=>[h(t,{class:"product-name"},{default:N((()=>[D(P(a.content.product.productName),1)])),_:2},1024),h(t,{class:"product-price"},{default:N((()=>[h(f,{fontStyle:{fontSize:"28rpx"},currencyStyle:{fontSize:"22rpx"},decimalsStyle:{fontSize:"24rpx"},priceData:a.content.product.productPrice},null,8,["priceData"])])),_:2},1024)])),_:2},1024)])),_:2},1024)):l("",!0),a.content.order?(c(),r(t,{key:1,class:"custom-message-order",onClick:e=>Ge("order",a)},{default:N((()=>[h(t,{class:"tit"},{default:N((()=>[D(P(a.content.order.orderStatusName),1)])),_:2},1024),h(t,{class:"info"},{default:N((()=>[h(t,{class:"product-img"},{default:N((()=>[a.content.order.picUrl?(c(),r(n,{key:0,src:a.content.order.picUrl},null,8,["src"])):l("",!0)])),_:2},1024),h(t,{class:"product-info"},{default:N((()=>[h(t,{class:"product-name"},{default:N((()=>[D(P(a.content.order.productName),1)])),_:2},1024),h(t,{class:"product-txt"},{default:N((()=>[D(P(v(J)()?e.$t("共{0}件商品，合计",[a.content.order.productNum]):`共${a.content.order.productNum}件商品，合计`)+" ",1),h(f,{fontStyle:{fontSize:"28rpx"},currencyStyle:{fontSize:"22rpx"},decimalsStyle:{fontSize:"24rpx"},priceData:a.content.order.totalAmount},null,8,["priceData"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])):l("",!0)])),_:2},1024)):l("",!0)])),_:2},1024),u("span",{class:"message-status"})])),_:2},1024)):l("",!0)])),_:2},1024),1===a.type?(c(),r(t,{key:0,class:O(["read-status",[a.isRead?"read":"unread"]])},{default:N((()=>[D(P(e.$t(a.isRead?"已读":"未读")),1)])),_:2},1032,["class"])):l("",!0)])),_:2},1024)):l("",!0),"product"===a.messageType?(c(),r(t,{key:3,class:"im-goods-card"},{default:N((()=>[h(t,{class:"content"},{default:N((()=>[h(t,{class:"pic"},{default:N((()=>[h(n,{src:a.picUrl},null,8,["src"])])),_:2},1024),h(t,{class:"desc"},{default:N((()=>[h(t,{class:"title"},{default:N((()=>[D(P(a.productName),1)])),_:2},1024),h(t,{class:"price"},{default:N((()=>[h(f,{fontStyle:{fontSize:"32rpx"},currencyStyle:{fontSize:"22rpx"},decimalsStyle:{fontSize:"24rpx"},priceData:a.productPrice},null,8,["priceData"])])),_:2},1024)])),_:2},1024)])),_:2},1024),h(t,{class:"line"}),h(t,{class:"send",onClick:e=>{Ue("custom",{product:a})}},{default:N((()=>[D(P(e.$t("发送宝贝")),1)])),_:2},1032,["onClick"])])),_:2},1024)):l("",!0)])),_:2},1032,["class"])))),128))])),_:1})])),_:1},8,["scroll-top"])])),_:1}),h(t,{class:"thanos-layout-footer"},{default:N((()=>[h(t,{class:"wapim-inputer"},{default:N((()=>[h(t,{class:"thanos-hairline--top-bottom wapim-main-inputer"},{default:N((()=>[h(t,{class:"input-box"},{default:N((()=>[h(t,{class:"rich-input"},{default:N((()=>[h(I,{style:{height:"100%"},placeholder:"",border:"none",modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=e=>y.value=e),adjustPosition:we.value,onConfirm:We,onChange:xe,onFocus:Ne,onBlur:a[2]||(a[2]=e=>Te.value=!1),onKeyboardheightchange:Ee},null,8,["modelValue","adjustPosition"])])),_:1})])),_:1}),h(t,{class:"wapim-inputer-operation"},{default:N((()=>[u("span",{class:"operation face",onClick:ze}),!0===_.value?(c(),d("span",{key:0,class:"operation send",onClick:We},P(e.$t("发送")),1)):(c(),r(t,{key:1,class:"operation plus",onClick:Re}))])),_:1})])),_:1}),V(h(t,{class:"wapim-inputer-plugin"},{default:N((()=>[h(t,{class:"wapim-inputer-file-picker"},{default:N((()=>[h(t,{class:"file-inputer-plugin"},{default:N((()=>[h(S,{onAfterRead:je,name:"6",multiple:"",maxCount:1},{default:N((()=>[h(t,{class:"pic-item plugin-item"},{default:N((()=>[h(t,{class:"photo icon"}),u("span",{class:"title"},P(e.$t("相册")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),[[G,le.value]]),V(h(t,{class:"wapim-inputer-plugin"},{default:N((()=>[h(t,{class:"wapim-inputer-file-picker"},{default:N((()=>[h(t,{class:"file-emoji-plugin"},{default:N((()=>[h(he,{onInsertEmoji:Ae})])),_:1})])),_:1})])),_:1},512),[[G,ce.value]])])),_:1})])),_:1})])),_:1}),h(fe,{ref_key:"promptToneRef",ref:Fe},null,512)])),_:1})}}}),[["__scopeId","data-v-d79af232"]]);export{ge as default};
