import{d as s,a3 as a,G as e,r as i,R as t,o as l,k as n,l as o,m as c,n as d,w as r,q as u,as as m,v as p,t as v,y as g,J as _,F as y,x as f,a6 as k,a7 as x,M as $,E as b,a0 as w,C as B,V as h,s as j,a5 as q,L as C}from"./index-Do_Cb7fn.js";import{_ as D}from"./format-price.D2lH_-yv.js";import{n as G}from"./index.Y6J4G1_A.js";import{g as L,s as E}from"./sign.DeuvsFi9.js";import{_ as F}from"./_plugin-vue_export-helper.BCo6x5W8.js";const I=F(s({__name:"index",setup(s){a((s=>({"6c2cc6f3":R.value,"58b11e93":T.value})));const{t:F}=e(),I={navbar:"1",return:"1",title:F("签到"),color:!1},J=i({sign_points:0,record:0,is_sign:0,days:[],recommend_goods:[]}),M=async()=>{k({title:F("加载中")});try{const s=await L("user/sign/index");Object.assign(J.value,s)}catch(s){console.error(s)}finally{x()}},O=async()=>{k({title:F("加载中")});try{const s=await E();$({title:s.message,duration:1e3,icon:"none"}),setTimeout((function(){M()}),1e3)}catch(s){$({title:s.message,duration:1500,icon:"none"})}finally{x()}},R=t((()=>`url(${b("qiandao/bg.png")})`)),T=t((()=>`url(${b("qiandao/hot_bg.png")})`));return l((()=>{M()})),(s,a)=>{const e=w,i=n(o("format-price"),D),t=B;return c(),d(t,null,{default:r((()=>[u(G,{parameter:I}),m("div",{class:"qiandaoBox"},[m("div",{class:"title"},p(s.$t("每日打卡领积分")),1),m("div",{class:"wrap"},[m("div",{class:"samll-title"},[v(p(s.$t("今天打卡得")),1),m("span",null,p(J.value.sign_points),1),v(p(s.$t("积分")),1)]),m("div",{class:"selectedBox"},[m("div",{class:"line"}),(c(!0),g(y,null,_(J.value.days,((s,a)=>(c(),g("div",{class:h(["item",{selected:J.value.record>=s.day_num}]),key:a},[m("div",{class:"item-content"},[J.value.record<s.day_num?(c(),g("div",{key:0,class:"num"},p(s.points),1)):(c(),g("div",{key:1,class:"num"})),m("div",{class:"date"},p(s.name),1)])],2)))),128))]),m("div",{class:"qiandaoBtnBox"},[m("div",{class:"qdBtn"},[J.value.is_sign?(c(),g("div",{key:0,class:"dk-now"},[m("span",null,p(s.$t("今日已打卡")),1)])):(c(),g("div",{key:1,class:"dk-now",onClick:O},[m("span",null,p(s.$t("立即打卡")),1)]))])])])]),J.value.recommend_goods?(c(),g("div",{key:0,class:"recgoodsBox"},[m("div",{class:"title"},[m("div",{class:"bg"},p(s.$t("今日特卖 发现好货")),1),u(e,{url:"/pages/search/result?intro=hot"},{default:r((()=>[m("div",{class:"moregoods"},[v(p(s.$t("查看更多"))+" ",1),m("span",{class:"iconfont icon-xiangyou"})])])),_:1})]),m("div",{class:"wrapGoods"},[(c(!0),g(y,null,_(J.value.recommend_goods,((s,a)=>(c(),d(t,{class:"item",onClick:a=>{C({url:"/pages/productDetail/index?id="+s.product_id})},key:a},{default:r((()=>[m("img",{class:"rec-img",alt:s.product_name,src:j(q)(s.pic_thumb)},null,8,["alt","src"]),m("div",{class:"info"},[m("div",{class:"name"},p(s.product_name),1),u(i,{isBottom:!1,class:"price",priceData:s.product_price},null,8,["priceData"])])])),_:2},1032,["onClick"])))),128))])])):f("",!0)])),_:1})}}}),[["__scopeId","data-v-9b676e1a"]]);export{I as default};
