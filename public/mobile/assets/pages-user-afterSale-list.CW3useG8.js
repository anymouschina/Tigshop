import{e as a,E as e,Q as t,r as s,j as l,k as r,c as i,w as o,a5 as u,a6 as c,q as d,y as n,o as m,a as p,i as f,D as _,F as g,J as v,d as y,b as x,t as h,$ as b,P as j,_ as I}from"./index-BKzbZvRR.js";import{_ as S}from"./tig-image.DrOwWlV9.js";import{_ as k}from"./format-price.kSnuguuz.js";import{_ as z}from"./loading-box.C4egri0r.js";import{_ as $}from"./tig-layout.BpNdXByQ.js";import{e as q}from"./afterSale.CaZTaIe1.js";const w=I(a({__name:"list",setup(a){const{t:I}=e(),w=t({page:1,size:10}),D=s(!1),V=s([]),C=s(0),J=async()=>{w.page>1?D.value=!0:u({title:I("加载中")});try{const a=await q(w);V.value=[...V.value,...a.records],C.value=a.total}catch(a){console.error(a)}finally{c(),D.value=!1}};return l((()=>{w.page<Math.ceil(C.value/w.size)&&(w.page++,J())})),r((()=>{w.page=1,V.value=[],J()})),(a,e)=>{const t=y,s=f,l=d(n("tig-image"),S),r=d(n("format-price"),k),u=b,c=d(n("loading-box"),z),I=d(n("tig-layout"),$);return m(),i(I,{title:"申请列表"},{default:o((()=>[p(s,{class:"after-sale-list"},{default:o((()=>[p(s,{class:"order-list"},{default:o((()=>[(m(!0),_(g,null,v(V.value,(e=>(m(),i(s,{key:e.orderId,class:"order-list-item"},{default:o((()=>[p(s,{class:"order-list-item-header"},{default:o((()=>[p(t,{class:"special-text"},{default:o((()=>[x(h(a.$t("售后编号"))+"：",1),p(t,{class:"special-color"},{default:o((()=>[x(h(e.aftersalesSn),1)])),_:2},1024)])),_:2},1024),p(t,null,{default:o((()=>[x(h(e.statusName),1)])),_:2},1024)])),_:2},1024),p(s,{class:"order-list-item-content"},{default:o((()=>[p(s,{class:"item-content-product"},{default:o((()=>[(m(!0),_(g,null,v(e.aftersalesItems,(a=>(m(),i(u,{key:a.aftersalesItemId,url:"/pages/product/index?id="+a.productId,"hover-class":"navigator-hover"},{default:o((()=>[p(s,{class:"item-content-product-item"},{default:o((()=>[p(s,{class:"item-content-product-img"},{default:o((()=>[p(l,{src:a.picThumb},null,8,["src"])])),_:2},1024),p(s,{class:"item-content-product-info"},{default:o((()=>[p(s,{class:"product-item-title"},{default:o((()=>[x(h(a.productName),1)])),_:2},1024),p(s,{class:"product-item-price"},{default:o((()=>[p(r,{showText:!1,decimalsStyle:{fontSize:"25rpx"},currencyStyle:{fontSize:"23rpx"},class:"product-item-pricenum",priceData:a.price},null,8,["priceData"]),p(s,{class:"product-item-quantity"},{default:o((()=>[x("x "+h(a.quantity),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"])))),128))])),_:2},1024)])),_:2},1024),p(s,{class:"order-list-item-btn"},{default:o((()=>[p(s,{class:"item-btn-box"},{default:o((()=>[p(s,{class:"base-item-btn detail",onClick:a=>{return t=e.aftersaleId,void j({url:`/pages/user/afterSale/info?id=${t}`});var t}},{default:o((()=>[x(h(a.$t("售后详情")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),p(c,{modelValue:D.value,"onUpdate:modelValue":e[0]||(e[0]=a=>D.value=a),page:w.page,length:V.value.length},null,8,["modelValue","page","length"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-4c446afc"]]);export{w as default};
