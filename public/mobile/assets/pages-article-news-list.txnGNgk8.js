import{e as a,E as e,r as l,Q as t,f as s,j as i,c as u,w as r,a5 as d,a6 as c,q as o,y as n,o as g,z as p,i as _,a as m,D as f,F as v,J as y,T as b,d as k,b as h,t as x,$ as T,P as w,_ as z}from"./index-BKzbZvRR.js";import{_ as j}from"./tig-image.DrOwWlV9.js";import{_ as I}from"./empty-box.vue_vue_type_script_setup_true_lang.CeENwGmf.js";import{_ as $}from"./loading-box.C4egri0r.js";import{_ as V}from"./tig-layout.BpNdXByQ.js";import{a as C}from"./article.BvKhyfQU.js";const J=z(a({__name:"list",props:{id:{type:String||Number,default:""}},setup(a){const{t:z}=e(),J=l("文章中心"),N=a,S=l("bzgg"),q=l(!1),D=l(!1),E=l(0),F=t({page:1,categorySn:N.id,size:10}),M=l([]),P=async()=>{F.page>1?D.value=!0:(d({title:z("加载中")}),q.value=!0);try{const a=await C({...F});E.value=a.total,M.value=[...M.value,...a.records]}catch(a){console.error(a.message)}finally{q.value=!1,D.value=!1,c()}};return s((a=>{a&&a.id&&(S.value=a.id,J.value="zxzx"===a.id?"最新资讯":"bzgg"===a.id?"最新公告":"kfzx"===a.id?"客服中心":"",P())})),i((()=>{F.page<Math.ceil(E.value/Number(F.size))&&(F.page++,P())})),(a,e)=>{const l=k,t=_,s=o(n("tig-image"),j),i=T,d=o(n("empty-box"),I),c=o(n("loading-box"),$),z=o(n("tig-layout"),V);return g(),u(z,{title:J.value},{default:r((()=>[q.value?p("",!0):(g(),u(t,{key:0,class:"article-center"},{default:r((()=>[m(t,{class:"news-list"},{default:r((()=>[M.value.length?(g(!0),f(v,{key:0},y(M.value,(e=>(g(),u(t,{class:"news-item",key:e.articleId},{default:r((()=>[m(t,{class:"pic-desc",onClick:a=>{return l=`/pages/article/news/detail?id=${e.articleId}`,void w({url:l});var l}},{default:r((()=>[m(t,{class:b(["news-left",{"w-100":!e.articleThumb}])},{default:r((()=>[m(t,{class:"pd-title",title:e.articleTitle},{default:r((()=>[e.articleTag?(g(),u(l,{key:0,class:"yin_agn"},{default:r((()=>[h(x(a.$t("新闻资讯")),1)])),_:1})):p("",!0),m(l,null,{default:r((()=>[h(x(e.articleTitle),1)])),_:2},1024)])),_:2},1032,["title"]),e.description?(g(),u(t,{key:0,class:"pd-det"},{default:r((()=>[h(x(e.description),1)])),_:2},1024)):p("",!0)])),_:2},1032,["class"]),e.articleThumb?(g(),u(t,{key:0,class:"news-right"},{default:r((()=>[m(s,{src:e.articleThumb,alt:e.articleTitle},null,8,["src","alt"])])),_:2},1024)):p("",!0)])),_:2},1032,["onClick"]),m(t,{class:"info-btn"},{default:r((()=>[e.addTime?(g(),u(t,{key:0,class:"evaluate"},{default:r((()=>[m(l,{class:"time"},{default:r((()=>[h(x(e.addTime),1)])),_:2},1024)])),_:2},1024)):p("",!0),e.link?(g(),u(i,{key:1,class:"red-btn",target:"_blank",url:e.link,"hover-class":"navigator-hover","open-type":"navigate"},{default:r((()=>[m(l,null,{default:r((()=>[h(x(a.$t("相关链接")),1)])),_:1})])),_:2},1032,["url"])):p("",!0)])),_:2},1024)])),_:2},1024)))),128)):(g(),u(d,{key:1,mode:"news",text:"暂无文章"})),m(c,{modelValue:D.value,"onUpdate:modelValue":e[0]||(e[0]=a=>D.value=a),page:F.page,length:M.value.length},null,8,["modelValue","page","length"])])),_:1})])),_:1}))])),_:1},8,["title"])}}}),[["__scopeId","data-v-19e885c5"]]);export{J as default};
