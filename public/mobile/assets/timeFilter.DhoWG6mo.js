import{d as e,R as a,r as t,P as l,k as s,l as u,m as i,n as r,w as o,q as n,aB as d,y as m,F as c,J as f,t as _,v,C as p,br as g,bs as h,G as b,aX as x,V as k,M as w,bM as y,a3 as V,x as C,s as D}from"./index-Ce4FtYLL.js";import{_ as $}from"./u-icon.BDQrrWMI.js";import{s as j}from"./searchInput.Cj-E80eO.js";import{a as I,c as N,g as T}from"./tig-layout.nM03J4I_.js";import{_ as O}from"./save-bottom-box.C22fRRFe.js";import{_ as S}from"./_plugin-vue_export-helper.BCo6x5W8.js";const B=S(e({__name:"tig-picker-date",props:{modelValue:{type:Boolean,default:!1},columns:{type:Array,default:()=>[]},defaultIndex:{type:Array,default:()=>[0,0,0]}},emits:["update:modelValue","change","confirm"],setup(e,{emit:b}){const x=e,k=b,w=a({get:()=>x.modelValue,set(e){k("update:modelValue",e)}}),y=t([0,0,0]);l((()=>x.defaultIndex),(e=>{e.length>0&&(y.value=JSON.parse(JSON.stringify(e)))}),{immediate:!0});const V=e=>{k("change",{values:x.columns.map(((a,t)=>a[e.detail.value[t]])),indexs:e.detail.value})};return(a,t)=>{const l=p,b=g,x=h,k=s(u("tig-button"),I),C=s(u("save-bottom-box"),O),D=s(u("tig-popup"),N);return i(),r(D,{show:w.value,"onUpdate:show":t[1]||(t[1]=e=>w.value=e),zIndex:999,paddingBottom:"60",showClose:!1,backgroundColor:"#fff"},{default:o((()=>[n(l,{class:"picker-box"},{default:o((()=>[d(a.$slots,"default",{},void 0,!0),n(x,{indicatorStyle:"height: 50px;",value:y.value,class:"picker-view",onChange:V},{default:o((()=>[(i(!0),m(c,null,f(e.columns,((e,a)=>(i(),r(b,{key:a},{default:o((()=>[(i(!0),m(c,null,f(e,((e,a)=>(i(),r(l,{class:"item",key:a},{default:o((()=>[_(v(e),1)])),_:2},1024)))),128))])),_:2},1024)))),128))])),_:1},8,["value"])])),_:3}),n(C,{height:"60",backgroundColor:"#fff"},{default:o((()=>[n(l,{class:"btn-box"},{default:o((()=>[n(k,{customStyle:{"background-color":"#ff720d"},style:{width:"100%",height:"70rpx"},onClick:t[0]||(t[0]=e=>a.$emit("confirm"))},{default:o((()=>[_(v(a.$t("确定")),1)])),_:1})])),_:1})])),_:1})])),_:3},8,["show"])}}}),[["__scopeId","data-v-20eade74"]]),U=S(e({__name:"selectDate",props:{modelValue:{type:Boolean,default:!1},minYears:{type:[Number,String],default:2013}},emits:["change","update:modelValue","confirm"],setup(e,{emit:l}){const{t:d}=b(),m=e,c=a({get:()=>m.modelValue,set(e){f("update:modelValue",e)}}),f=l,g=t(),h=a((()=>{let e=[];for(let a=Number(m.minYears);a<=(new Date).getFullYear();a++)e.push(a);return e})),V=a((()=>{let e=[];for(let a=1;a<=12;a++)e.push(a);return e})),C=a((()=>{let e=[],a=I(h.value[O.value[0]],V.value[O.value[1]]);for(let t=1;t<=a;t++)e.push(t);return e})),D=a((()=>[h.value,V.value,C.value])),$=e=>{const{values:a,indexs:t}=e;O.value=t,U.value[J.value]=a.join("."),F.value[J.value]=a.join("-")},j=e=>{if(!U.value[0]||!U.value[1])return w({title:d("请选择开始时间和结束时间"),icon:"none"});if(-1===T(U.value[1],U.value[0]))return w({title:d("结束时间必须大于等于开始时间"),icon:"none"});f("confirm",F.value),f("update:modelValue",!1)},I=(e,a)=>2===a?N(e)?29:28:[4,6,9,11].includes(a)?30:31,N=e=>e%4==0&&e%100!=0||e%400==0,T=(e,a)=>{const t=new Date(e.split("-").join("/")),l=new Date(a.split("-").join("/"));return t.getTime()>l.getTime()?1:t.getTime()<l.getTime()?-1:0},O=t([0,0,0]),S=e=>{const a=y(e),[t,l,s]=a.split("-");O.value=[h.value.indexOf(Number(t)),V.value.indexOf(Number(l)),C.value.indexOf(Number(s))]},U=t([]),F=t([]),J=t(0),Y=e=>{J.value=e,U.value[e]&&S(new Date(U.value[e].split(".").join("-")))};return x((()=>{S(new Date)})),(e,a)=>{const t=p,l=s(u("tig-picker-date"),B);return i(),r(l,{modelValue:c.value,"onUpdate:modelValue":a[2]||(a[2]=e=>c.value=e),ref_key:"uPickerRef",ref:g,defaultIndex:O.value,columns:D.value,onConfirm:j,onChange:$},{default:o((()=>[n(t,{class:"picker-box-header"},{default:o((()=>[n(t,{class:k(["header-item",{active:0===J.value}]),onClick:a[0]||(a[0]=e=>Y(0))},{default:o((()=>[n(t,{class:"header-item-text"},{default:o((()=>[_(v(e.$t("开始时间")),1)])),_:1}),n(t,{class:"header-item-value"},{default:o((()=>[_(v(U.value[0]??e.$t("请选择")),1)])),_:1})])),_:1},8,["class"]),n(t,{class:k(["header-item",{active:1===J.value}]),onClick:a[1]||(a[1]=e=>Y(1))},{default:o((()=>[n(t,{class:"header-item-text"},{default:o((()=>[_(v(e.$t("结束时间")),1)])),_:1}),n(t,{class:"header-item-value"},{default:o((()=>[_(v(U.value[1]??e.$t("请选择")),1)])),_:1})])),_:1},8,["class"])])),_:1})])),_:1},8,["modelValue","defaultIndex","columns"])}}}),[["__scopeId","data-v-176e953c"]]),F=S(e({__name:"timeFilter",props:{params:{type:Object,default:()=>({})},placeholder:{type:String,default:"输入用户手机号、订单号或商品名"}},emits:["update:params","change"],setup(e,{emit:l}){V((e=>({"4bc1efdd":D(d)+"px","712b77ce":D(h)+"px",b6511954:D(f)+"px",69422396:D(g)})));const{height:d,contentHeight:f,contentWidth:g,statusBarHeight:h}=T(60),b=e,x=l,w=a({get:()=>b.params,set(e){x("update:params",e)}}),I=t(0),N=e=>{switch(e){case 0:w.value.order_time_start="",w.value.order_time_end="";break;case 1:w.value.order_time_start=y(new Date),w.value.order_time_end=y(new Date);break;case 2:w.value.order_time_start=y(new Date((new Date).getTime()-864e5)),w.value.order_time_end=y(new Date((new Date).getTime()-864e5));break;case 3:w.value.order_time_start=y(new Date((new Date).getTime()-5184e5)),w.value.order_time_end=y(new Date)}x("change"),I.value=e,S.value=[]},O=t(!1),S=t([]),B=e=>{S.value=e,w.value.order_time_start=e[0],w.value.order_time_end=e[1],I.value=-1,x("change")};return(a,t)=>{const l=p,d=s(u("up-icon"),$);return i(),r(l,null,{default:o((()=>[n(l,{class:"time-filter"},{default:o((()=>[n(l,{class:"search-box"},{default:o((()=>[n(l,{class:"status-bar"}),n(l,{class:"search-input-box"},{default:o((()=>[n(l,{class:"input"},{default:o((()=>[n(j,{style:{width:"100%"},placeholder:e.placeholder,modelValue:w.value.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>w.value.keyword=e),onConfirm:t[1]||(t[1]=e=>a.$emit("change")),onClear:t[2]||(t[2]=e=>a.$emit("change"))},null,8,["placeholder","modelValue"])])),_:1})])),_:1})])),_:1}),n(l,{class:"time-filter__inner"},{default:o((()=>[n(l,{class:"time-filter-tags"},{default:o((()=>[n(l,{class:k(["time-filter-tags__item",{"time-filter-tags__item--active":0===I.value}]),onClick:t[3]||(t[3]=e=>N(0))},{default:o((()=>[_(v(a.$t("全部")),1)])),_:1},8,["class"]),n(l,{class:k(["time-filter-tags__item",{"time-filter-tags__item--active":1===I.value}]),onClick:t[4]||(t[4]=e=>N(1))},{default:o((()=>[_(v(a.$t("今日")),1)])),_:1},8,["class"]),n(l,{class:k(["time-filter-tags__item",{"time-filter-tags__item--active":2===I.value}]),onClick:t[5]||(t[5]=e=>N(2))},{default:o((()=>[_(v(a.$t("昨日")),1)])),_:1},8,["class"]),n(l,{class:k(["time-filter-tags__item",{"time-filter-tags__item--active":3===I.value}]),onClick:t[6]||(t[6]=e=>N(3))},{default:o((()=>[_(v(a.$t("近七日")),1)])),_:1},8,["class"])])),_:1}),n(l,{class:"time-filter-custom",onClick:t[7]||(t[7]=e=>O.value=!0)},{default:o((()=>[S.value.length?(i(),r(l,{key:0,class:"time-filter__txt"},{default:o((()=>[n(l,null,{default:o((()=>[_(v(S.value[0])+"~",1)])),_:1}),S.value[1]?(i(),r(l,{key:0},{default:o((()=>[_(v(S.value[1]),1)])),_:1})):C("",!0)])),_:1})):(i(),m(c,{key:1},[_(v(a.$t("自定义时间")),1)],64)),n(d,{name:"arrow-down",color:"#969799",size:"8"})])),_:1})])),_:1})])),_:1}),n(U,{onConfirm:B,modelValue:O.value,"onUpdate:modelValue":t[8]||(t[8]=e=>O.value=e)},null,8,["modelValue"])])),_:1})}}}),[["__scopeId","data-v-aefc65a4"]]);export{F as t};
