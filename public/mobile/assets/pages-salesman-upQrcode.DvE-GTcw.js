import{d as a,Q as s,r as e,o as t,k as l,l as r,m as o,n as i,w as u,x as _,q as c,t as n,W as p,X as m,V as d,a6 as f,a7 as g,C as v}from"./index-Do_Cb7fn.js";import{_ as y}from"./tig-image.D5KdQk-t.js";import{a as h,_ as w}from"./tig-layout.BV0ZvCt0.js";import{_ as x}from"./tig-upload.vue_vue_type_script_setup_true_lang.F8FyT6c6.js";import{_ as j}from"./save-bottom-box.BM5fwIJO.js";import{n as b}from"./index.Y6J4G1_A.js";import{g as k,u as q}from"./salesmanPersonal.DGDDe4A1.js";import{_ as C}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-loading-icon.rQrrZF_r.js";import"./u-icon.CBDMG2rO.js";const Q=C(a({__name:"upQrcode",setup(a){const b=s({qrcode:""}),C=e(!1),Q=()=>{C.value=!0,z()},z=async()=>{try{await q({...b}),setTimeout((()=>{C.value=!1}),1e3)}catch(a){console.error("表单错误信息：",a),uni.$u.toast(a.message)}};return t((()=>{(async()=>{f({title:"加载中"});try{const a=await k();Object.assign(b,a.item)}catch(a){console.error(a)}finally{g()}})()})),(a,s)=>{const e=v,t=l(r("tig-image"),y),f=l(r("tig-button"),h),g=l(r("tig-upload"),x),k=l(r("save-bottom-box"),j),q=l(r("tig-layout"),w);return o(),i(q,null,{default:u((()=>[_("",!0),c(e,{class:"qrcode-wrap"},{default:u((()=>[c(e,{class:"desc"},{default:u((()=>[n("请尽快上传微信二维码，方便客户加你微信联系哦")])),_:1}),c(e,{class:"tips"},{default:u((()=>[n("（温馨提示：建议上传正方形、默认黑白样式二维码，方便客户查看）")])),_:1}),b.avatar?(o(),i(e,{key:0,class:"preview"},{default:u((()=>[p(c(e,{class:d(["preview__overlay",{preview__overlay_loading:!0===C.value}])},{default:u((()=>[n("二维码加载中...")])),_:1},8,["class"]),[[m,!0===C.value]]),c(e,{class:"preview__overlay"},{default:u((()=>[c(t,{src:b.avatar,class:"van-image__img"},null,8,["src"])])),_:1}),c(e,{class:"van-image",style:{width:"560rpx",height:"688rpx"}})])),_:1})):(o(),i(e,{key:1,class:"preview"},{default:u((()=>[p(c(e,{class:"preview__overlay"},{default:u((()=>[n("二维码加载中...")])),_:1},512),[[m,!0===C.value]]),c(e,{class:"van-image",style:{width:"560rpx",height:"688rpx"}})])),_:1}))])),_:1}),c(k,{height:120,backgroundColor:"#fff"},{default:u((()=>[c(g,{onChange:Q,requestUrl:"user/user/upload_img"},{default:u((()=>[c(e,{class:"btn-box"},{default:u((()=>[c(f,{class:"salesman-btn",style:{width:"100%"}},{default:u((()=>[n("上传二维码")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-9e4eedaf"]]);export{Q as default};
