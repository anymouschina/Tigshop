import{u as e,r as t,z as o,bf as a,am as s,ae as i,bg as l,aq as n,an as r,ao as c,m as u,n as d,w as p,aB as h,V as m,T as b,x as g,C as y,d as f,a3 as v,s as S,_ as k,R as C,q as _,y as x,F as w,J as z,a5 as I,t as T,v as B,a4 as D,aL as $,D as N,bh as A,bi as L,k as H,l as E,B as P,bj as O,ap as M,av as R,bk as j,bl as F,I as W,a as G,bm as V,aA as q,Z as U,G as X,ac as J,f as K,H as Q,L as Y,M as Z,K as ee,Q as te,aG as oe,bn as ae,aC as se,aO as ie,W as le,X as ne,aa as re}from"./index-Ce4FtYLL.js";import{_ as ce}from"./_plugin-vue_export-helper.BCo6x5W8.js";import{_ as ue}from"./u-loading-icon.CaEeBur7.js";import{_ as de}from"./u-icon.BDQrrWMI.js";function pe(){const o=e();return{navbaHeight:t(o.navHeight)}}function he(e){const a=t(0);return e&&"function"==typeof e?e((e=>{a.value=e.scrollTop})):o((e=>{a.value=e.scrollTop})),{scrollTop:a}}function me(){const t=e(),{top:o,bottom:s}=a(t.safeAreaInsets);return{saveTop:o,saveBottom:s}}function be(o=0){const s=t(o),i=t("100%"),l=t(0),{saveTop:n}=me();return function(){const t=e(),{left:o,right:s,top:i,height:l}=a(t.menuButtonInfo)}(),l.value=n.value+s.value,{height:l,contentHeight:s,contentWidth:i,statusBarHeight:n}}const ge={props:{show:{type:Boolean,default:()=>s.transition.show},mode:{type:String,default:()=>s.transition.mode},duration:{type:[String,Number],default:()=>s.transition.duration},timingFunction:{type:String,default:()=>s.transition.timingFunction}}},ye=e=>({enter:`u-${e}-enter u-${e}-enter-active`,"enter-to":`u-${e}-enter-to u-${e}-enter-active`,leave:`u-${e}-leave u-${e}-leave-active`,"leave-to":`u-${e}-leave-to u-${e}-leave-active`}),fe={methods:{clickHandler(){this.$emit("click")},async vueEnter(){const e=ye(this.mode);this.status="enter",this.$emit("beforeEnter"),this.inited=!0,this.display=!0,this.classes=e.enter,await i(),await l(20),this.$emit("enter"),this.transitionEnded=!1,this.$emit("afterEnter"),this.classes=e["enter-to"]},async vueLeave(){if(!this.display)return;const e=ye(this.mode);this.status="leave",this.$emit("beforeLeave"),this.classes=e.leave,await i(),this.transitionEnded=!1,this.$emit("leave"),setTimeout(this.onTransitionEnd,this.duration),this.classes=e["leave-to"]},onTransitionEnd(){this.transitionEnded||(this.transitionEnded=!0,this.$emit("leave"===this.status?"afterLeave":"afterEnter"),!this.show&&this.display&&(this.display=!1,this.inited=!1))}}};const ve=ce({name:"u-transition",data:()=>({inited:!1,viewStyle:{},status:"",transitionEnded:!1,display:!1,classes:""}),emits:["click","beforeEnter","enter","afterEnter","beforeLeave","leave","afterLeave"],computed:{mergeStyle(){const{viewStyle:e,customStyle:t}=this;return{transitionDuration:`${this.duration}ms`,transitionTimingFunction:this.timingFunction,...n(t),...e}}},mixins:[r,c,fe,ge],watch:{show:{handler(e){e?this.vueEnter():this.vueLeave()},immediate:!0}}},[["render",function(e,t,o,a,s,i){const l=y;return s.inited?(u(),d(l,{key:0,class:m(["u-transition",s.classes]),ref:"u-transition",onClick:e.clickHandler,style:b([i.mergeStyle]),onTouchmove:e.noop},{default:p((()=>[h(e.$slots,"default",{},void 0,!0)])),_:3},8,["onClick","class","style","onTouchmove"])):g("",!0)}],["__scopeId","data-v-6a21edd6"]]),Se=ce(f({__name:"tabbar",props:{backgroundColor:{type:String,default:"#fff"},color:{type:String,default:"#000"},activeColor:{type:String,default:"#ea3c2d"}},setup(t){v((e=>({"2762ee7e":i.backgroundColor,"0052f7e0":s.value,"21e07d86":S(o).saveBottom+"px","469ea1b0":S(a).tabbarHeightNum+"px","61aaf64c":i.color,"04ec6826":i.activeColor})));const o=e(),a=k(),s=C((()=>a.tabbarHeight)),i=t;return(e,t)=>{const s=N,i=y;return u(),d(i,{class:"tabbar-container"},{default:p((()=>[_(i,{class:"tabbar"},{default:p((()=>[(u(!0),x(w,null,z(S(a).tabbarList,((t,a)=>(u(),d(i,{class:"tabbar-item",key:a,onClick:e=>((e,t)=>{o.currentActiveValue!==t&&(o.setCurrentActiveValue(t),e.link&&D({url:$(e.link)}))})(t,a)},{default:p((()=>[_(i,{class:"tabbar-icon"},{default:p((()=>[_(s,{class:"tabbar-icon-img",src:S(o).currentActiveValue===a?S(I)(t.activeImage):S(I)(t.image)},null,8,["src"])])),_:2},1024),_(i,{class:m(["tabbar-text",{active:S(o).currentActiveValue===a}])},{default:p((()=>[T(B(e.$t(t.text)),1)])),_:2},1032,["class"])])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})}}}),[["__scopeId","data-v-2d5dba69"]]);const ke=ce({name:"u-button",mixins:[r,c,{props:{hairline:{type:Boolean,default:()=>s.button.hairline},type:{type:String,default:()=>s.button.type},size:{type:String,default:()=>s.button.size},shape:{type:String,default:()=>s.button.shape},plain:{type:Boolean,default:()=>s.button.plain},disabled:{type:Boolean,default:()=>s.button.disabled},loading:{type:Boolean,default:()=>s.button.loading},loadingText:{type:[String,Number],default:()=>s.button.loadingText},loadingMode:{type:String,default:()=>s.button.loadingMode},loadingSize:{type:[String,Number],default:()=>s.button.loadingSize},openType:{type:String,default:()=>s.button.openType},formType:{type:String,default:()=>s.button.formType},appParameter:{type:String,default:()=>s.button.appParameter},hoverStopPropagation:{type:Boolean,default:()=>s.button.hoverStopPropagation},lang:{type:String,default:()=>s.button.lang},sessionFrom:{type:String,default:()=>s.button.sessionFrom},sendMessageTitle:{type:String,default:()=>s.button.sendMessageTitle},sendMessagePath:{type:String,default:()=>s.button.sendMessagePath},sendMessageImg:{type:String,default:()=>s.button.sendMessageImg},showMessageCard:{type:Boolean,default:()=>s.button.showMessageCard},dataName:{type:String,default:()=>s.button.dataName},throttleTime:{type:[String,Number],default:()=>s.button.throttleTime},hoverStartTime:{type:[String,Number],default:()=>s.button.hoverStartTime},hoverStayTime:{type:[String,Number],default:()=>s.button.hoverStayTime},text:{type:[String,Number],default:()=>s.button.text},icon:{type:String,default:()=>s.button.icon},iconColor:{type:String,default:()=>s.button.icon},color:{type:String,default:()=>s.button.color}}}],data:()=>({}),computed:{bemClass(){return this.color?this.bem("button",["shape","size"],["disabled","plain","hairline"]):this.bem("button",["type","shape","size"],["disabled","plain","hairline"])},loadingColor(){return this.plain?this.color?this.color:A[`u-${this.type}`]:"info"===this.type?"#c9c9c9":"rgb(200, 200, 200)"},iconColorCom(){return this.iconColor?this.iconColor:this.plain?this.color?this.color:this.type:"info"===this.type?"#000000":"#ffffff"},baseColor(){let e={};return this.color&&(e.color=this.plain?this.color:"white",this.plain||(e["background-color"]=this.color),-1!==this.color.indexOf("gradient")?(e.borderTopWidth=0,e.borderRightWidth=0,e.borderBottomWidth=0,e.borderLeftWidth=0,this.plain||(e.backgroundImage=this.color)):(e.borderColor=this.color,e.borderWidth="1px",e.borderStyle="solid")),e},nvueTextStyle(){let e={};return"info"===this.type&&(e.color="#323233"),this.color&&(e.color=this.plain?this.color:"white"),e.fontSize=this.textSize+"px",e},textSize(){let e=14,{size:t}=this;return"large"===t&&(e=16),"normal"===t&&(e=14),"small"===t&&(e=12),"mini"===t&&(e=10),e}},emits:["click","getphonenumber","getuserinfo","error","opensetting","launchapp","agreeprivacyauthorization"],methods:{addStyle:n,clickHandler(){this.disabled||this.loading||L((()=>{this.$emit("click")}),this.throttleTime)},getphonenumber(e){this.$emit("getphonenumber",e)},getuserinfo(e){this.$emit("getuserinfo",e)},error(e){this.$emit("error",e)},opensetting(e){this.$emit("opensetting",e)},launchapp(e){this.$emit("launchapp",e)},agreeprivacyauthorization(e){this.$emit("agreeprivacyauthorization",e)}}},[["render",function(e,t,o,a,s,i){const l=H(E("u-loading-icon"),ue),n=P,r=H(E("u-icon"),de),c=O;return u(),d(c,{"hover-start-time":Number(e.hoverStartTime),"hover-stay-time":Number(e.hoverStayTime),"form-type":e.formType,"open-type":e.openType,"app-parameter":e.appParameter,"hover-stop-propagation":e.hoverStopPropagation,"send-message-title":e.sendMessageTitle,"send-message-path":e.sendMessagePath,lang:e.lang,"data-name":e.dataName,"session-from":e.sessionFrom,"send-message-img":e.sendMessageImg,"show-message-card":e.showMessageCard,onGetphonenumber:i.getphonenumber,onGetuserinfo:i.getuserinfo,onError:i.error,onOpensetting:i.opensetting,onLaunchapp:i.launchapp,onAgreeprivacyauthorization:i.agreeprivacyauthorization,"hover-class":e.disabled||e.loading?"":"u-button--active",class:m(["u-button u-reset-button",i.bemClass]),style:b([i.baseColor,i.addStyle(e.customStyle)]),onClick:i.clickHandler},{default:p((()=>[e.loading?(u(),x(w,{key:0},[_(l,{mode:e.loadingMode,size:1.15*e.loadingSize,color:i.loadingColor},null,8,["mode","size","color"]),_(n,{class:"u-button__loading-text",style:b([{fontSize:i.textSize+"px"}])},{default:p((()=>[T(B(e.loadingText||e.text),1)])),_:1},8,["style"])],64)):(u(),x(w,{key:1},[e.icon?(u(),d(r,{key:0,name:e.icon,color:i.iconColorCom,size:1.35*i.textSize,customStyle:{marginRight:"2px"}},null,8,["name","color","size"])):g("",!0),h(e.$slots,"default",{},(()=>[_(n,{class:"u-button__text",style:b([{fontSize:i.textSize+"px"}])},{default:p((()=>[T(B(e.text),1)])),_:1},8,["style"])]),!0)],64))])),_:3},8,["hover-start-time","hover-stay-time","form-type","open-type","app-parameter","hover-stop-propagation","send-message-title","send-message-path","lang","data-name","session-from","send-message-img","show-message-card","onGetphonenumber","onGetuserinfo","onError","onOpensetting","onLaunchapp","onAgreeprivacyauthorization","hover-class","style","onClick","class"])}],["__scopeId","data-v-db65a0af"]]),Ce=ce(f({styleIsolation:"shared",__name:"tig-button",props:{shape:{type:String,default:"circle"},color:{type:String,default:"var(--main-bg)"},text:{type:String,default:"确定"},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},plain:{type:Boolean,default:!1},loadingText:{type:String,default:""},size:{type:String,default:"normal"},customStyle:{type:Object,default:()=>({})},openType:{type:String,default:""}},emits:["click","getPhoneNumber"],setup(e,{emit:t}){const o=t,a=e=>{o("click",e)},s=e=>{o("getPhoneNumber",e)};return(t,o)=>{const i=H(E("up-button"),ke);return u(),d(i,{customStyle:e.customStyle,type:"primary",size:e.size,plain:e.plain,color:e.color,shape:e.shape,disabled:e.disabled,text:e.text,loading:e.loading,loadingText:e.loadingText,"open-type":e.openType,onClick:a,onGetphonenumber:s},{default:p((()=>[h(t.$slots,"default",{},void 0,!0)])),_:3},8,["customStyle","size","plain","color","shape","disabled","text","loading","loadingText","open-type"])}}}),[["__scopeId","data-v-3b884276"]]);const _e=ce({name:"u-checkbox",mixins:[r,c,{props:{name:{type:[String,Number,Boolean],default:()=>s.checkbox.name},shape:{type:String,default:()=>s.checkbox.shape},size:{type:[String,Number],default:()=>s.checkbox.size},checked:{type:Boolean,default:()=>s.checkbox.checked},disabled:{type:[String,Boolean],default:()=>s.checkbox.disabled},activeColor:{type:String,default:()=>s.checkbox.activeColor},inactiveColor:{type:String,default:()=>s.checkbox.inactiveColor},iconSize:{type:[String,Number],default:()=>s.checkbox.iconSize},iconColor:{type:String,default:()=>s.checkbox.iconColor},label:{type:[String,Number],default:()=>s.checkbox.label},labelSize:{type:[String,Number],default:()=>s.checkbox.labelSize},labelColor:{type:String,default:()=>s.checkbox.labelColor},labelDisabled:{type:[String,Boolean],default:()=>s.checkbox.labelDisabled},usedAlone:{type:[Boolean],default:()=>!1}}}],data:()=>({isChecked:!1,parentData:{iconSize:12,labelDisabled:null,disabled:null,shape:"square",activeColor:null,inactiveColor:null,size:18,modelValue:null,iconColor:null,placement:"row",borderBottom:!1,iconPlacement:"left"}}),computed:{elDisabled(){return""!==this.disabled?this.disabled:null!==this.parentData.disabled&&this.parentData.disabled},elLabelDisabled(){return""!==this.labelDisabled?this.labelDisabled:null!==this.parentData.labelDisabled&&this.parentData.labelDisabled},elSize(){return this.size?this.size:this.parentData.size?this.parentData.size:21},elIconSize(){return this.iconSize?this.iconSize:this.parentData.iconSize?this.parentData.iconSize:12},elActiveColor(){return this.activeColor?this.activeColor:this.parentData.activeColor?this.parentData.activeColor:"#2979ff"},elInactiveColor(){return this.inactiveColor?this.inactiveColor:this.parentData.inactiveColor?this.parentData.inactiveColor:"#c8c9cc"},elLabelColor(){return this.labelColor?this.labelColor:this.parentData.labelColor?this.parentData.labelColor:"#606266"},elShape(){return this.shape?this.shape:this.parentData.shape?this.parentData.shape:"circle"},elLabelSize(){return M(this.labelSize?this.labelSize:this.parentData.labelSize?this.parentData.labelSize:"15")},elIconColor(){const e=this.iconColor?this.iconColor:this.parentData.iconColor?this.parentData.iconColor:"#ffffff";return this.elDisabled?this.isChecked?this.elInactiveColor:"transparent":this.isChecked?e:"transparent"},iconClasses(){let e=[];return e.push("u-checkbox__icon-wrap--"+this.elShape),this.elDisabled&&e.push("u-checkbox__icon-wrap--disabled"),this.isChecked&&this.elDisabled&&e.push("u-checkbox__icon-wrap--disabled--checked"),e},iconWrapStyle(){const e={};return e.backgroundColor=this.isChecked&&!this.elDisabled?this.elActiveColor:"#ffffff",e.borderColor=this.isChecked&&!this.elDisabled?this.elActiveColor:this.elInactiveColor,e.width=M(this.elSize),e.height=M(this.elSize),this.usedAlone||"right"===this.parentData.iconPlacement&&(e.marginRight=0),e},checkboxStyle(){const e={};return this.usedAlone||(this.parentData.borderBottom&&this.parentData.placement,this.parentData.borderBottom&&"column"===this.parentData.placement&&(e.paddingBottom="8px")),R(e,n(this.customStyle))}},mounted(){this.init()},emits:["change"],methods:{init(){this.usedAlone||(this.updateParentData(),this.parent);const e=this.parentData.modelValue;this.checked?this.isChecked=!0:!this.usedAlone&&j.array(e)&&(this.isChecked=e.some((e=>e===this.name)))},updateParentData(){this.getParentData("u-checkbox-group")},wrapperClickHandler(e){(this.usedAlone||"right"===this.parentData.iconPlacement)&&this.iconClickHandler(e)},iconClickHandler(e){this.preventEvent(e),this.elDisabled||this.setRadioCheckedStatus()},labelClickHandler(e){this.preventEvent(e),this.elLabelDisabled||this.elDisabled||this.setRadioCheckedStatus()},emitEvent(){this.$emit("change",this.isChecked),this.$nextTick((()=>{F(this,"change")}))},setRadioCheckedStatus(){this.isChecked=!this.isChecked,this.emitEvent(),this.usedAlone||"function"==typeof this.parent.unCheckedOther&&this.parent.unCheckedOther(this)}},watch:{checked(){this.isChecked=this.checked}}},[["render",function(e,t,o,a,s,i){const l=H(E("u-icon"),de),n=y,r=P;return u(),d(n,{class:m(["u-checkbox cursor-pointer",[`u-checkbox-label--${s.parentData.iconPlacement}`,s.parentData.borderBottom&&"column"===s.parentData.placement&&"u-border-bottom"]]),style:b([i.checkboxStyle]),onClick:W(i.wrapperClickHandler,["stop"])},{default:p((()=>[_(n,{class:m(["u-checkbox__icon-wrap cursor-pointer",i.iconClasses]),onClick:W(i.iconClickHandler,["stop"]),style:b([i.iconWrapStyle])},{default:p((()=>[h(e.$slots,"icon",{},(()=>[_(l,{class:"u-checkbox__icon-wrap__icon",name:"checkbox-mark",size:i.elIconSize,color:i.elIconColor},null,8,["size","color"])]),!0)])),_:3},8,["onClick","class","style"]),_(r,{onClick:W(i.labelClickHandler,["stop"]),style:b({color:i.elDisabled?i.elInactiveColor:i.elLabelColor,fontSize:i.elLabelSize,lineHeight:i.elLabelSize})},{default:p((()=>[T(B(e.label),1)])),_:1},8,["onClick","style"])])),_:3},8,["style","onClick","class"])}],["__scopeId","data-v-92081527"]]),xe=ce(f({__name:"tig-checkbox",props:{checkedText:{type:String,default:""},checkedSize:{type:Number,default:.8},checked:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},shape:{type:String,default:"circle"}},emits:["update:checked","change"],setup(e,{emit:t}){const o=e,a=G(),s=C((()=>a.themeStyle["--general"]||"#ee0a24")),i=t,l=()=>{o.disabled||(i("update:checked",!o.checked),i("change"))};return(t,o)=>{const a=H(E("up-checkbox"),_e),i=V;return u(),d(i,{class:"check",onClick:l},{default:p((()=>[_(a,{onChange:l,shape:e.shape,usedAlone:!0,disabled:e.disabled,activeColor:s.value,checked:e.checked},null,8,["shape","disabled","activeColor","checked"]),T(" "+B(e.checkedText),1)])),_:1})}}}),[["__scopeId","data-v-0b98c16d"]]);const we=ce({name:"u-overlay",mixins:[r,c,{props:{show:{type:Boolean,default:()=>s.overlay.show},zIndex:{type:[String,Number],default:()=>s.overlay.zIndex},duration:{type:[String,Number],default:()=>s.overlay.duration},opacity:{type:[String,Number],default:()=>s.overlay.opacity}}}],computed:{overlayStyle(){const e={position:"fixed",top:0,left:0,right:0,zIndex:this.zIndex,bottom:0,"background-color":`rgba(0, 0, 0, ${this.opacity})`};return R(e,n(this.customStyle))}},emits:["click"],methods:{clickHandler(){this.$emit("click")}}},[["render",function(e,t,o,a,s,i){const l=H(E("u-transition"),ve);return u(),d(l,{show:e.show,"custom-class":"u-overlay",duration:e.duration,"custom-style":i.overlayStyle,onClick:i.clickHandler},{default:p((()=>[h(e.$slots,"default",{},void 0,!0)])),_:3},8,["show","duration","custom-style","onClick"])}],["__scopeId","data-v-b2ae91aa"]]);const ze=ce({name:"u-status-bar",mixins:[r,c,{props:{bgColor:{type:String,default:()=>s.statusBar.bgColor}}}],data:()=>({}),computed:{style(){const e={};return e.height=M(q().statusBarHeight,"px"),e.backgroundColor=this.bgColor,R(e,n(this.customStyle))}}},[["render",function(e,t,o,a,s,i){const l=y;return u(),d(l,{style:b([i.style]),class:"u-status-bar"},{default:p((()=>[h(e.$slots,"default",{},void 0,!0)])),_:3},8,["style"])}],["__scopeId","data-v-58963a5e"]]);const Ie=ce({name:"u-safe-bottom",mixins:[r,c,{props:{}}],data:()=>({safeAreaBottomHeight:0,isNvue:!1}),computed:{style(){return R({},n(this.customStyle))}},mounted(){}},[["render",function(e,t,o,a,s,i){const l=y;return u(),d(l,{class:m(["u-safe-bottom",[!s.isNvue&&"u-safe-area-inset-bottom"]]),style:b([i.style])},null,8,["style","class"])}],["__scopeId","data-v-66aaaf9c"]]);const Te=ce({name:"u-popup",mixins:[r,c,{props:{show:{type:Boolean,default:()=>s.popup.show},overlay:{type:Boolean,default:()=>s.popup.overlay},mode:{type:String,default:()=>s.popup.mode},duration:{type:[String,Number],default:()=>s.popup.duration},closeable:{type:Boolean,default:()=>s.popup.closeable},overlayStyle:{type:[Object,String],default:()=>s.popup.overlayStyle},closeOnClickOverlay:{type:Boolean,default:()=>s.popup.closeOnClickOverlay},zIndex:{type:[String,Number],default:()=>s.popup.zIndex},safeAreaInsetBottom:{type:Boolean,default:()=>s.popup.safeAreaInsetBottom},safeAreaInsetTop:{type:Boolean,default:()=>s.popup.safeAreaInsetTop},closeIconPos:{type:String,default:()=>s.popup.closeIconPos},round:{type:[Boolean,String,Number],default:()=>s.popup.round},zoom:{type:Boolean,default:()=>s.popup.zoom},bgColor:{type:String,default:()=>s.popup.bgColor},overlayOpacity:{type:[Number,String],default:()=>s.popup.overlayOpacity}}}],data(){return{overlayDuration:this.duration+50}},watch:{show(e,t){}},computed:{transitionStyle(){const e={zIndex:this.zIndex,position:"fixed",display:"flex"};return e[this.mode]=0,"left"===this.mode||"right"===this.mode?R(e,{bottom:0,top:0}):"top"===this.mode||"bottom"===this.mode?R(e,{left:0,right:0}):"center"===this.mode?R(e,{alignItems:"center","justify-content":"center",top:0,left:0,right:0,bottom:0}):void 0},contentStyle(){const e={};if(q(),"center"!==this.mode&&(e.flex=1),this.bgColor&&(e.backgroundColor=this.bgColor),this.round){const t=M(this.round);"top"===this.mode?(e.borderBottomLeftRadius=t,e.borderBottomRightRadius=t):"bottom"===this.mode?(e.borderTopLeftRadius=t,e.borderTopRightRadius=t):"center"===this.mode&&(e.borderRadius=t)}return R(e,n(this.customStyle))},position(){return"center"===this.mode?this.zoom?"fade-zoom":"fade":"left"===this.mode?"slide-left":"right"===this.mode?"slide-right":"bottom"===this.mode?"slide-up":"top"===this.mode?"slide-down":void 0}},emits:["open","close","click"],methods:{overlayClick(){this.closeOnClickOverlay&&this.$emit("close")},close(e){this.$emit("close")},afterEnter(){this.$emit("open")},clickHandler(){"center"===this.mode&&this.overlayClick(),this.$emit("click")}}},[["render",function(e,t,o,a,s,i){const l=H(E("u-overlay"),we),n=H(E("u-status-bar"),ze),r=H(E("u-icon"),de),c=y,f=H(E("u-safe-bottom"),Ie),v=H(E("u-transition"),ve);return u(),d(c,{class:"u-popup"},{default:p((()=>[e.overlay?(u(),d(l,{key:0,show:e.show,onClick:i.overlayClick,zIndex:e.zIndex,duration:s.overlayDuration,customStyle:e.overlayStyle,opacity:e.overlayOpacity},null,8,["show","onClick","zIndex","duration","customStyle","opacity"])):g("",!0),_(v,{show:e.show,customStyle:i.transitionStyle,mode:i.position,duration:e.duration,onAfterEnter:i.afterEnter,onClick:i.clickHandler},{default:p((()=>[_(c,{class:"u-popup__content",style:b([i.contentStyle]),onClick:W(e.noop,["stop"])},{default:p((()=>[e.safeAreaInsetTop?(u(),d(n,{key:0})):g("",!0),h(e.$slots,"default",{},void 0,!0),e.closeable?(u(),d(c,{key:1,onClick:W(i.close,["stop"]),class:m(["u-popup__content__close",["u-popup__content__close--"+e.closeIconPos]]),"hover-class":"u-popup__content__close--hover","hover-stay-time":"150"},{default:p((()=>[_(r,{name:"close",color:"#909399",size:"18",bold:""})])),_:1},8,["onClick","class"])):g("",!0),e.safeAreaInsetBottom?(u(),d(f,{key:2})):g("",!0)])),_:3},8,["style","onClick"])])),_:3},8,["show","customStyle","mode","duration","onAfterEnter","onClick"])])),_:3})}],["__scopeId","data-v-934b81cb"]]),Be=ce(f({__name:"tig-popup",props:{show:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},overlay:{type:Boolean,default:!0},position:{type:String,default:"bottom"},round:{type:[String,Number],default:10},backgroundColor:{type:String,default:"#fff"},customStyle:{type:Object,default:()=>({})},maskClick:{type:Boolean,default:!0},zIndex:{type:Number,default:100},paddingBottom:{type:[String,Number],default:"0"},height:{type:String,default:"50vh"}},emits:["update:show","change","handleShade","close"],setup(e,{emit:t}){const o=e,a=t,s=C({get:()=>o.show,set(e){a("update:show",e)}}),{saveBottom:i}=me(),{height:l}=be(),n=C((()=>{let e=0;return"center"===o.position||"top"===o.position||(e+=i.value+Number(o.paddingBottom)),e})),r=C((()=>{let e=0;return"center"!==o.position&&"bottom"!==o.position&&(e+=l.value),e})),c=()=>{a("close"),a("update:show",!1)};return(t,o)=>{const a=y,i=H(E("up-popup"),Te);return u(),d(i,{show:s.value,"onUpdate:show":o[0]||(o[0]=e=>s.value=e),closeOnClickOverlay:e.maskClick,onClose:c,overlay:e.overlay,mode:e.position,round:e.round,bgColor:e.backgroundColor,customStyle:{...e.customStyle,overflow:"hidden"},zIndex:e.zIndex,safeAreaInsetTop:!1,safeAreaInsetBottom:!1,closeable:e.showClose},{default:p((()=>[_(a,{class:"popup-container"},{default:p((()=>[_(a,{class:"top",style:b({height:r.value+"px",width:"100%"})},null,8,["style"]),_(a,{class:"content",style:b({height:`calc(100% - ${r.value+n.value}px)`})},{default:p((()=>[h(t.$slots,"default",{},void 0,!0)])),_:3},8,["style"]),_(a,{class:"bottom",style:b({height:n.value+"px",width:"100%"})},null,8,["style"])])),_:3})])),_:3},8,["show","closeOnClickOverlay","overlay","mode","round","bgColor","customStyle","zIndex","closeable"])}}}),[["__scopeId","data-v-09a7877f"]]),De=e=>U({url:"user/login/signin",method:"post",data:e}),$e=e=>U({url:"user/login/send_mobile_code",method:"post",data:e}),Ne=e=>U({url:"user/login/get_wx_login_url",method:"get",data:e}),Ae=e=>U({url:"user/login/bind_wechat",method:"post",data:e}),Le=()=>U({url:"user/login/unbind_wechat",method:"get"}),He=e=>U({url:"user/login/check_mobile",method:"post",data:e}),Ee=ce(f({__name:"tig-wechart-login",emits:["loginSuccess"],setup(o,{emit:a}){const{t:s}=X(),i=a,l=J(),n=e(),r=C({get:()=>!!l.authType,set(e){l.setAuthType("")}}),c=t(!1),h=t(!1),m=()=>{Y({url:"/pages/login/mallAgreement"})},b=()=>{if(!c.value)return Z({title:s("请先同意用户协议"),duration:1500,icon:"none"})},f=async()=>{const e=await Ne({url:location.origin+location.pathname});window.location.href=e.url},v=async e=>{const t=await(o={code:e},U({url:"user/login/get_wx_login_info_by_code",method:"get",data:o}));var o;1==t.type&&(l.setToken(t.token),l.getUserInfo(),i("loginSuccess"),l.setAuthType("")),2==t.type&&(ee("open_data",t.open_data),Y({url:"/pages/user/bindMobilePhone/index"}))},S=e=>{l.setAuthType(""),Y({url:`/pages/login/index?type=${e}`})},k=()=>{l.setAuthType("")};return K((()=>{if("wechat"===n.XClientType&&!Q("token")){const e=(e=>{const t={},o=e.split("?")[1];return o&&o.split("&").forEach((e=>{const[o,a]=e.split("=");t[o]=a})),t})(location.href);e.code&&e.code.length>12&&v(e.code)}})),(e,t)=>{const o=H(E("tig-button"),Ce),a=H(E("tig-checkbox"),xe),s=P,i=y,l=H(E("tig-popup"),Be);return u(),d(l,{zIndex:1e3,show:r.value,"onUpdate:show":t[4]||(t[4]=e=>r.value=e),onClose:k},{default:p((()=>[r.value?(u(),d(i,{key:0,class:"wechart-login-content"},{default:p((()=>[_(i,{class:"wechart-login-box"},{default:p((()=>[c.value?(u(),d(o,{key:0,customStyle:{"border-radius":"20rpx",height:"95rpx"},shape:"square",loading:h.value,onClick:f},{default:p((()=>[T(B(e.$t("微信授权")),1)])),_:1},8,["loading"])):(u(),d(o,{key:1,customStyle:{"border-radius":"20rpx",height:"95rpx"},shape:"square",onClick:b},{default:p((()=>[T(B(e.$t("微信授权")),1)])),_:1})),_(i,{class:"rule-text"},{default:p((()=>[_(a,{checked:c.value,"onUpdate:checked":t[0]||(t[0]=e=>c.value=e)},null,8,["checked"]),_(i,{class:"rule-xieyi"},{default:p((()=>[_(s,{onClick:t[1]||(t[1]=e=>c.value=!c.value)},{default:p((()=>[T(B(e.$t("登录即为同意")),1)])),_:1}),_(s,{class:"special-color",onClick:m},{default:p((()=>[T(B(e.$t("《商城用户服务协议》")),1)])),_:1})])),_:1})])),_:1}),_(i,{class:"other-login"},{default:p((()=>[_(i,{class:"mobile-login",onClick:t[2]||(t[2]=e=>S("mobile"))},{default:p((()=>[T(B(e.$t("手机登录")),1)])),_:1}),_(i,{class:"account-login",onClick:t[3]||(t[3]=e=>S("password"))},{default:p((()=>[T(B(e.$t("账号登录")),1)])),_:1})])),_:1})])),_:1})])),_:1})):g("",!0)])),_:1},8,["show"])}}}),[["__scopeId","data-v-de99268a"]]),Pe=f({__name:"tig-statistic-log",props:{productId:{type:[Number,String],default:""},shopId:{type:[Number,String],default:""},shopCategoryId:{type:[Number,String],default:""},immediateLog:{type:Boolean,default:!0}},setup(e,{expose:t}){const o=e,a=te({}),s=async()=>{o.productId&&(a.product_id=o.productId),o.shopId&&(a.shop_id=o.shopId),o.shopCategoryId&&(a.shop_category_id=o.shopCategoryId);try{await ae(a)}catch(e){console.error(e)}},i=C((()=>{const e=new Date;return`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}));return(()=>{const e=Q("lastDate");!e||((e,t)=>{const o=new Date(e),a=new Date(t);return Math.abs(o.getTime()-a.getTime())>=864e5})(i.value,e)?a.is_new=1:a.click=1,ee("lastDate",i.value)})(),oe((()=>{o.immediateLog&&s()})),t({__commonLog:s}),(e,t)=>{const o=y;return u(),d(o)}}}),Oe=ce(f({__name:"tig-layout",props:{specialNum:{type:Number,default:0},notSave:{type:Boolean,default:!1},needSaveTop:{type:Boolean,default:!1},needSaveBottom:{type:Boolean,default:!0},saveTopBgColor:{type:String,default:"#fff"},productId:{type:[Number,String],default:""},shopId:{type:[Number,String],default:""},shopCategoryId:{type:[Number,String],default:""},immediateLog:{type:Boolean,default:!0}},emits:["loginSuccess"],setup(o,{expose:a,emit:s}){v((e=>({"3472ed0b":S(I)+"px",a96d2d02:i.saveTopBgColor})));const i=o,l=k(),n=e(),r=G();se();const c=C((()=>!0)),f=t(!1);ie((()=>{l.formatTabarList.includes("/"+n.currRoute)?e().$patch((e=>{e.showTabbar=!0})):e().$patch((e=>{e.showTabbar=!1}))})),r.setH5Title();const{saveBottom:z}=me(),{height:I}=be(),T=C((()=>{if(!i.needSaveBottom)return 0;let e=i.specialNum;return n.showTabbar?e+=l.tabbarHeightNum+z.value:e+=z.value,e})),B=t();return a({showTabbar:f,handleLog:()=>{var e;null==(e=B.value)||e.__commonLog()},is_zh:c,bottomNum:T}),(e,t)=>{const a=y,s=H(E("tabbar"),Se),i=H(E("tig-wechart-login"),Ee),l=H(E("tig-statistic-log"),Pe);return u(),x(w,null,[_(a,{class:m(["layout",{"not-zh":!c.value&&S(re)()}]),style:b({"padding-bottom":T.value+"px",...S(r).themeStyle})},{default:p((()=>[_(a,{class:"layout-content"},{default:p((()=>[o.needSaveTop?(u(),d(a,{key:0,class:"savetop-box"})):g("",!0),h(e.$slots,"default",{},void 0,!0)])),_:3}),le(_(s,null,null,512),[[ne,S(n).showTabbar]])])),_:3},8,["class","style"]),"miniProgram"===S(n).XClientType||"wechat"===S(n).XClientType?(u(),d(i,{key:0,onLoginSuccess:t[0]||(t[0]=t=>e.$emit("loginSuccess")),style:b({...S(r).themeStyle})},null,8,["style"])):g("",!0),_(l,{ref_key:"statisticLogRef",ref:B,immediateLog:o.immediateLog,productId:o.productId,shopId:o.shopId,shopCategoryId:o.shopCategoryId},null,8,["immediateLog","productId","shopId","shopCategoryId"])],64)}}}),[["__scopeId","data-v-fc9bb1d4"]]);export{Oe as _,Ce as a,me as b,Be as c,pe as d,xe as e,De as f,be as g,He as h,ve as i,Te as j,we as k,ke as l,_e as m,Ae as n,Le as o,Ne as p,$e as s,he as u};
