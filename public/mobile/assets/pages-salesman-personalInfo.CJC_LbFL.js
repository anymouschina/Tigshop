import{e as a,G as e,Q as t,r as l,l as s,c as o,w as r,a9 as n,aa as i,v as m,z as f,bD as d,b9 as u,bE as c,o as p,a as b,i as _,b as g,t as h,ao as $,aq as v,_ as y}from"./index-BKXBH4vI.js";import{_ as k}from"./tig-image.BbZoJ9nS.js";import{_ as j,a as V}from"./tig-layout.DMoUsUKf.js";import{_ as x}from"./tig-fixed-placeholder.BHdfEiP8.js";import{g as B,u as w}from"./salesmanPersonal.Dz3niCWC.js";const R=y(a({__name:"personalInfo",setup(a){const{t:y}=e(),R=t({nickname:"",cardname:"",wechatname:"",mobile:""}),z={mobile:{type:"string",required:!0,message:y("请输入手机号"),trigger:["blur","change"]}},C=l(),S=()=>{C.value.validate().then((()=>{T()})).catch((()=>{uni.$u.toast(y("保存失败"))}))},T=async()=>{try{const a=await w({...R});a.message&&uni.$u.toast(a.message),setTimeout((()=>{$({success:function(a){v("refreshData")}})}),1e3)}catch(a){uni.$u.toast(a.message)}};return s((()=>{(async()=>{n({title:y("加载中")});try{const a=await B();Object.assign(R,a.item)}catch(a){}finally{i()}})()})),(a,e)=>{const t=_,l=m(f("tig-image"),k),s=m(f("up-form-item"),d),n=m(f("up-input"),u),i=m(f("up-form"),c),$=m(f("tig-button"),V),v=m(f("tig-fixed-placeholder"),x),y=m(f("tig-layout"),j);return p(),o(y,{needSafeTop:!0,safeTopBgColor:"#f5f5f5"},{default:r((()=>[b(i,{labelPosition:"left",model:R,rules:z,ref_key:"formRef",ref:C},{default:r((()=>[b(t,{class:"personal-title"},{default:r((()=>[g(h(a.$t("个人信息")),1)])),_:1}),b(t,{class:"personal-info"},{default:r((()=>[b(s,{label:a.$t("头像"),labelWidth:"100",borderBottom:!0,ref:"itemRef"},{default:r((()=>[b(t,{class:"salesman-avatar"},{default:r((()=>[b(l,{class:"salesman-avatar__img salesman-avatar--round salesman-avatar__img--big",src:R.avatar,"onUpdate:src":e[0]||(e[0]=a=>R.avatar=a)},null,8,["src"])])),_:1})])),_:1},8,["label"]),b(s,{label:a.$t("昵称"),labelWidth:"100",prop:"nickname",borderBottom:!0,ref:"itemRef"},{default:r((()=>[b(n,{modelValue:R.nickname,"onUpdate:modelValue":e[1]||(e[1]=a=>R.nickname=a),border:"none",placeholder:a.$t("请输入昵称"),fontSize:"14"},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1}),b(t,{class:"personal-title"},{default:r((()=>[g(h(a.$t("联系方式")),1)])),_:1}),b(t,{class:"personal-info"},{default:r((()=>[b(s,{label:a.$t("手机号"),labelWidth:"100",prop:"mobile",borderBottom:!0,ref:"itemRef"},{default:r((()=>[b(n,{modelValue:R.mobile,"onUpdate:modelValue":e[2]||(e[2]=a=>R.mobile=a),border:"none",placeholder:a.$t("请输入手机号"),fontSize:"14"},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1})])),_:1},8,["model"]),b(v,{backgroundColor:"#fff"},{default:r((()=>[b(t,{class:"btn-box"},{default:r((()=>[b($,{class:"salesman-btn",onClick:S},{default:r((()=>[g(h(a.$t("保存")),1)])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-f656defa"]]);export{R as default};
