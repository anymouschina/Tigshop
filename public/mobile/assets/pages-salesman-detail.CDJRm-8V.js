import{e as a,f as s,r as e,g as t,b4 as l,c as r,w as i,i as o,q as u,y as c,o as n,a as d,z as p,ay as m,D as f,F as _,J as v,az as b,B as g,A as C,a7 as h,b as y,d as j,t as k,C as x,aX as D,P as w,_ as P}from"./index-BKzbZvRR.js";import{_ as $}from"./format-price.kSnuguuz.js";import{_ as z}from"./tig-fixed-placeholder.s9cnCRBL.js";import{_ as N}from"./tig-layout.BpNdXByQ.js";import{b as S}from"./salesman.nutPT2Bz.js";import{_ as U}from"./share.vue_vue_type_script_setup_true_lang.B2TrjAEr.js";import"./tig-qrcode.BJY7sSut.js";import"./tig-image.DrOwWlV9.js";import"./useCurrency.CZI2I-Mo.js";const q=P(a({__name:"detail",setup(a){s((a=>{a&&a.id&&q(a.id)}));const P=e({}),q=async a=>{try{const s=await S(a);P.value=s}catch(s){console.error(s)}},A=e(1),B=a=>{A.value=a.detail.current+1},I=e(!1);return t((()=>{l()})),(a,s)=>{const e=g,t=b,l=m,S=j,q=o,F=u(c("format-price"),$),J=u(c("tig-fixed-placeholder"),z),T=u(c("tig-layout"),N);return n(),r(q,null,{default:i((()=>[d(T,null,{default:i((()=>[P.value.pics?(n(),r(q,{key:0,class:"salesman-pro-detail-imgs"},{default:i((()=>[d(q,{class:"product-bg"},{default:i((()=>[d(l,{"indicator-dots":!1,circular:!0,interval:"3000",duration:"500",onChange:B},{default:i((()=>[(n(!0),f(_,null,v(P.value.pics,((a,s)=>(n(),r(t,{key:s},{default:i((()=>[d(e,{"lazy-load":"",onClick:a=>(a=>{const s=P.value.pics.map((a=>h(a.picUrl||"")));D({current:s[a],urls:s})})(s),src:C(h)(a.picUrl||""),class:"slide-image"},null,8,["onClick","src"])])),_:2},1024)))),128))])),_:1}),d(q,{class:"pages show"},{default:i((()=>[d(S,null,{default:i((()=>[y(k(A.value),1)])),_:1}),y(" /"+k(P.value.pics.length||1),1)])),_:1})])),_:1})])),_:1})):p("",!0),d(q,{class:"salesman-pro-detail-info"},{default:i((()=>[d(q,{class:"salesman-pro-detail-price"},{default:i((()=>[d(q,{class:"salesman-pro-detail-price-num"},{default:i((()=>[d(F,{priceData:P.value.productPrice},null,8,["priceData"])])),_:1}),Number(P.value.finalCommissionPrice)>0?(n(),r(q,{key:0,class:"salesman-pro-detail-price-tip"},{default:i((()=>[d(e,{class:"price-tip-img",src:C(x)("salesman/priceTip.png")},null,8,["src"]),d(q,{class:"salesman-pro-detail-price-tip-text"},{default:i((()=>[y(k(a.$t("预计可赚"))+" ",1),d(F,{priceData:P.value.finalCommissionPrice},null,8,["priceData"])])),_:1})])),_:1})):p("",!0)])),_:1}),d(q,{class:"salesman-pro-detail-name"},{default:i((()=>[y(k(P.value.productName),1)])),_:1})])),_:1}),d(J,{backgroundColor:"#fff"},{default:i((()=>[d(q,{class:"bottom-btns"},{default:i((()=>[d(q,{class:"bottom-btn",onClick:s[0]||(s[0]=a=>{return s=`/pages/product/index?id=${P.value.productId}`,void w({url:s});var s})},{default:i((()=>[d(q,{class:"bottom-btn-text"},{default:i((()=>[y(k(a.$t("立即购买")),1)])),_:1})])),_:1}),d(q,{class:"bottom-btn special",onClick:s[1]||(s[1]=a=>I.value=!0)},{default:i((()=>[d(q,{class:"bottom-btn-text"},{default:i((()=>[d(q,null,{default:i((()=>[y(k(a.$t("分享赚钱")),1)])),_:1}),Number(P.value.finalCommissionPrice)>0?(n(),r(S,{key:0,class:"bottom-btn-text-tip"},{default:i((()=>[y(k(a.$t("分享后预计可赚"))+" ",1),d(F,{priceData:P.value.finalCommissionPrice},null,8,["priceData"])])),_:1})):p("",!0)])),_:1})])),_:1})])),_:1})])),_:1}),d(U,{currentData:P.value,showShareCard:I.value,"onUpdate:showShareCard":s[2]||(s[2]=a=>I.value=a)},null,8,["currentData","showShareCard"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-999b02a5"]]);export{q as default};
