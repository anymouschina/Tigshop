import{e as a,E as t,r as e,Q as s,f as l,c,w as u,a5 as n,a6 as i,q as o,y as d,o as f,a as r,i as _,z as m,D as p,F as y,J as g,T as v,b as x,t as b,d as k,A as T,bX as $,P as h,aa as C,L as w,_ as j}from"./index-BKzbZvRR.js";import{_ as N}from"./uni-icons.DELFdrY8.js";import{_ as z,a as E}from"./uni-swipe-action.DXHhbVv2.js";import{_ as I}from"./tig-layout.BpNdXByQ.js";import{c as M,e as q}from"./account.CZcvX3n8.js";const A=j(a({__name:"list",setup(a){const{t:j}=t(),A=[{title:"银行卡",accountType:1},{title:"支付宝",accountType:2},{title:"微信",accountType:3}],D=e(1),F=e(!1),J=s({page:1,accountType:1}),L=e([]),P=async()=>{J.page>1?F.value=!0:n({title:j("加载中")});try{const a=await M({...J});L.value=a.records}catch(a){console.error(a.message)}finally{i(),F.value=!1}},Q=()=>{h({url:"/pages/user/account/cardManagement/edit"})},X=async(a,t)=>{try{const e=await q({...a});L.value.splice(t,1),e.message&&w({title:j("操作成功"),icon:"success"})}catch(e){w({title:e.message,icon:"none",duration:1e3})}};return l((()=>{P()})),(a,t)=>{const e=_,s=k,l=o(d("uni-icons"),N),n=o(d("uni-swipe-action-item"),z),i=o(d("uni-swipe-action"),E),w=o(d("tig-layout"),I);return f(),c(w,{title:"卡管理"},{default:u((()=>[r(e,{class:"card-main"},{default:u((()=>[r(e,{class:"head-tabs-box"},{default:u((()=>[r(e,{class:"tabs flex align-center justify-between"},{default:u((()=>[r(e,{class:"flex align-end"},{default:u((()=>[(f(),p(y,null,g(A,((t,s)=>r(e,{class:v(["tab",{active:D.value===t.accountType}]),key:s,onClick:a=>(async a=>{a!==D.value&&(D.value=a,J.page=1,J.accountType=a,P())})(t.accountType)},{default:u((()=>[x(b(a.$t(t.title)),1)])),_:2},1032,["class","onClick"]))),64))])),_:1}),r(e,{class:"clear-unread flex align-end",onClick:Q},{default:u((()=>[r(s,null,{default:u((()=>[x(b(a.$t("添加账号")),1)])),_:1}),r(l,{type:"auth",size:"20",color:"#999"})])),_:1})])),_:1})])),_:1}),L.value.length>0?(f(),c(e,{key:0,class:"card-list"},{default:u((()=>[r(i,null,{default:u((()=>[(f(!0),p(y,null,g(L.value,((t,l)=>(f(),c(e,{key:l,class:"move-item"},{default:u((()=>[r(n,{threshold:0,autoClose:""},{right:u((()=>[r(e,{class:"card-move-box"},{default:u((()=>[r(e,{class:"btn-edit",onClick:a=>{return e=t.accountId,console.log(e),void h({url:`/pages/user/account/cardManagement/edit?id=${e}`});var e}},{default:u((()=>[r(s,null,{default:u((()=>[x(b(a.$t("编辑")),1)])),_:1})])),_:2},1032,["onClick"]),r(e,{class:"btn-del",onClick:a=>((a,t)=>{C({title:j("提示"),content:j("确定删除这个账户吗？"),success:async e=>{e.confirm&&X(a,t)}})})(t,l)},{default:u((()=>[r(s,null,{default:u((()=>[x(b(a.$t("删除")),1)])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),default:u((()=>[r(e,{class:"mitem"},{default:u((()=>[r(e,{class:"card"},{default:u((()=>[r(e,{class:"txt-item"},{default:u((()=>[r(e,{class:"tit"},{default:u((()=>[x(b(a.$t("真实姓名")),1)])),_:1}),r(e,{class:"txt"},{default:u((()=>[x(b(t.accountName),1)])),_:2},1024)])),_:2},1024),r(e,{class:"txt-item"},{default:u((()=>[r(e,{class:"tit"},{default:u((()=>[x(b(a.$t("身份证号码")),1)])),_:1}),r(e,{class:"txt"},{default:u((()=>[x(b(T($)(t.identity)),1)])),_:2},1024)])),_:2},1024),r(e,{class:"txt-item"},{default:u((()=>[r(e,{class:"tit"},{default:u((()=>[x(b(a.$t("账户号码")),1)])),_:1}),r(e,{class:"txt"},{default:u((()=>[x(b(T($)(t.accountNo)),1)])),_:2},1024)])),_:2},1024),1===J.accountType?(f(),c(e,{key:0,class:"txt-item"},{default:u((()=>[r(e,{class:"tit"},{default:u((()=>[x(b(a.$t("银行卡详情")),1)])),_:1}),r(e,{class:"txt"},{default:u((()=>[x(b(t.bankName),1)])),_:2},1024)])),_:2},1024)):m("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})):m("",!0)])),_:1})])),_:1})}}}),[["__scopeId","data-v-cab9f2b5"]]);export{A as default};
