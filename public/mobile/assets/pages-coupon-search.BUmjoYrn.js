import{e as a,r as s,f as e,G as c,c as l,w as o,i as u,q as t,ba as n,y as r,o as h,a as i,z as d,b as p,t as v,H as _,d as f,D as m,F as y,J as x,K as S,am as k,ao as H,M as b,_ as C}from"./index-BKzbZvRR.js";const g=C(a({__name:"search",setup(a){const C=s(""),g=()=>{C.value?(w.value.unshift(C.value),w.value=[...new Set(w.value)],w.value.length>10&&w.value.splice(10,w.value.length-10),S("couponSearchHistory",w.value),k({success:()=>{H("coupon-search-return",C.value)}})):k({success:()=>{H("coupon-search-return","")}})},w=s([]);e((a=>{c("couponSearchHistory")&&(w.value=c("couponSearchHistory"))}));const V=()=>{w.value=[],b("couponSearchHistory")};return(a,s)=>{const e=t(r("up-search"),n),c=f,S=u;return h(),l(S,{class:"coupon-search"},{default:o((()=>[i(e,{onSearch:g,shape:"square",modelValue:C.value,"onUpdate:modelValue":s[0]||(s[0]=a=>C.value=a),actionText:a.$t("取消"),onCustom:g},null,8,["modelValue","actionText"]),w.value.length?(h(),l(S,{key:0,class:"search_init_box"},{default:o((()=>[i(S,{class:"search_history_box"},{default:o((()=>[i(S,{class:"title"},{default:o((()=>[p(v(a.$t("搜索历史"))+" ",1),i(S,{class:"clear_history",onClick:_(V,["stop"])},{default:o((()=>[i(c,{class:"iconfont-h5 icon-shanchu"})])),_:1})])),_:1}),i(S,{class:"list acea-row"},{default:o((()=>[(h(!0),m(y,null,x(w.value,((a,s)=>(h(),l(S,{key:s,class:"item",onClick:s=>(a=>{k({success:()=>{H("coupon-search-return",a)}})})(a)},{default:o((()=>[p(v(a),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})):d("",!0)])),_:1})}}}),[["__scopeId","data-v-912cd1f5"]]);export{g as default};
