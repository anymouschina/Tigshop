import{e,R as a,r as t,P as l,v as s,z as u,c as i,o as r,w as o,a as n,i as d,ay as c,bH as m,E as f,K as _,bI as v,F as p,b as g,t as h,_ as b,G as k,bJ as w,T as x,N as y,bK as V,a2 as C,B as D,ba as $,A as j}from"./index-BKXBH4vI.js";import{s as I}from"./searchInput.CP9DQ8PZ.js";import{a as N,b as T,e as O}from"./tig-layout.DMoUsUKf.js";import{_ as S}from"./tig-fixed-placeholder.BHdfEiP8.js";const B=b(e({__name:"tig-picker-date",props:{modelValue:{type:Boolean,default:!1},columns:{type:Array,default:()=>[]},defaultIndex:{type:Array,default:()=>[0,0,0]}},emits:["update:modelValue","change","confirm"],setup(e,{emit:b}){const k=e,w=b,x=a({get:()=>k.modelValue,set(e){w("update:modelValue",e)}}),y=t([0,0,0]);l((()=>k.defaultIndex),(e=>{e.length>0&&(y.value=JSON.parse(JSON.stringify(e)))}),{immediate:!0});const V=e=>{w("change",{values:k.columns.map(((a,t)=>a[e.detail.value[t]])),indexs:e.detail.value})};return(a,t)=>{const l=d,b=v,k=m,w=s(u("tig-button"),N),C=s(u("tig-fixed-placeholder"),S),D=s(u("tig-popup"),T);return r(),i(D,{show:x.value,"onUpdate:show":t[1]||(t[1]=e=>x.value=e),zIndex:999,showClose:!1,backgroundColor:"#fff"},{default:o((()=>[n(l,{class:"picker-box"},{default:o((()=>[c(a.$slots,"default",{},void 0,!0),n(k,{indicatorStyle:"height: 50px;",value:y.value,class:"picker-view",onChange:V},{default:o((()=>[(r(!0),f(p,null,_(e.columns,((e,a)=>(r(),i(b,{key:a},{default:o((()=>[(r(!0),f(p,null,_(e,((e,a)=>(r(),i(l,{class:"item",key:a},{default:o((()=>[g(h(e),1)])),_:2},1024)))),128))])),_:2},1024)))),128))])),_:1},8,["value"]),n(C,{backgroundColor:"#fff"},{default:o((()=>[n(l,{class:"btn-box"},{default:o((()=>[n(w,{class:"btn",customStyle:{"background-color":"#ff720d"},onClick:t[0]||(t[0]=e=>a.$emit("confirm"))},{default:o((()=>[g(h(a.$t("确定")),1)])),_:1})])),_:1})])),_:1})])),_:3})])),_:3},8,["show"])}}}),[["__scopeId","data-v-efbab093"]]),U=b(e({__name:"selectDate",props:{modelValue:{type:Boolean,default:!1},minYears:{type:[Number,String],default:2013}},emits:["change","update:modelValue","confirm"],setup(e,{emit:l}){const{t:c}=k(),m=e,f=a({get:()=>m.modelValue,set(e){_("update:modelValue",e)}}),_=l,v=t(),p=a((()=>{let e=[];for(let a=Number(m.minYears);a<=(new Date).getFullYear();a++)e.push(a);return e})),b=a((()=>{let e=[];for(let a=1;a<=12;a++)e.push(a);return e})),C=a((()=>{let e=[],a=I(p.value[O.value[0]],b.value[O.value[1]]);for(let t=1;t<=a;t++)e.push(t);return e})),D=a((()=>[p.value,b.value,C.value])),$=e=>{const{values:a,indexs:t}=e;O.value=t,U.value[A.value]=a.join("."),z.value[A.value]=a.join("-")},j=e=>{if(!U.value[0]||!U.value[1])return y({title:c("请选择开始时间和结束时间"),icon:"none"});if(-1===T(U.value[1],U.value[0]))return y({title:c("结束时间必须大于等于开始时间"),icon:"none"});_("confirm",z.value),_("update:modelValue",!1)},I=(e,a)=>2===a?N(e)?29:28:[4,6,9,11].includes(a)?30:31,N=e=>e%4==0&&e%100!=0||e%400==0,T=(e,a)=>{const t=new Date(e.split("-").join("/")),l=new Date(a.split("-").join("/"));return t.getTime()>l.getTime()?1:t.getTime()<l.getTime()?-1:0},O=t([0,0,0]),S=e=>{const a=V(e),[t,l,s]=a.split("-");O.value=[p.value.indexOf(Number(t)),b.value.indexOf(Number(l)),C.value.indexOf(Number(s))]},U=t([]),z=t([]),A=t(0),F=e=>{A.value=e,U.value[e]&&S(new Date(U.value[e].split(".").join("-")))};return w((()=>{S(new Date)})),(e,a)=>{const t=d,l=s(u("tig-picker-date"),B);return r(),i(l,{modelValue:f.value,"onUpdate:modelValue":a[2]||(a[2]=e=>f.value=e),ref_key:"uPickerRef",ref:v,defaultIndex:O.value,columns:D.value,onConfirm:j,onChange:$},{default:o((()=>[n(t,{class:"picker-box-header"},{default:o((()=>[n(t,{class:x(["header-item",{active:0===A.value}]),onClick:a[0]||(a[0]=e=>F(0))},{default:o((()=>[n(t,{class:"header-item-text"},{default:o((()=>[g(h(e.$t("开始时间")),1)])),_:1}),n(t,{class:"header-item-value"},{default:o((()=>[g(h(U.value[0]??e.$t("请选择")),1)])),_:1})])),_:1},8,["class"]),n(t,{class:x(["header-item",{active:1===A.value}]),onClick:a[1]||(a[1]=e=>F(1))},{default:o((()=>[n(t,{class:"header-item-text"},{default:o((()=>[g(h(e.$t("结束时间")),1)])),_:1}),n(t,{class:"header-item-value"},{default:o((()=>[g(h(U.value[1]??e.$t("请选择")),1)])),_:1})])),_:1},8,["class"])])),_:1})])),_:1},8,["modelValue","defaultIndex","columns"])}}}),[["__scopeId","data-v-176e953c"]]),z=b(e({__name:"timeFilter",props:{params:{type:Object,default:()=>({})},placeholder:{type:String,default:"输入用户手机号、订单号或商品名"}},emits:["update:params","change"],setup(e,{emit:l}){C((e=>({"4bc1efdd":D(c)+"px","712b77ce":D(v)+"px",b6511954:D(m)+"px",69422396:D(_)})));const{height:c,contentHeight:m,contentWidth:_,statusBarHeight:v}=O(60),b=e,k=l,w=a({get:()=>b.params,set(e){k("update:params",e)}}),y=t(0),N=e=>{switch(e){case 0:w.value.order_time_start="",w.value.order_time_end="";break;case 1:w.value.order_time_start=V(new Date),w.value.order_time_end=V(new Date);break;case 2:w.value.order_time_start=V(new Date((new Date).getTime()-864e5)),w.value.order_time_end=V(new Date((new Date).getTime()-864e5));break;case 3:w.value.order_time_start=V(new Date((new Date).getTime()-5184e5)),w.value.order_time_end=V(new Date)}k("change"),y.value=e,S.value=[]},T=t(!1),S=t([]),B=e=>{S.value=e,w.value.order_time_start=e[0],w.value.order_time_end=e[1],y.value=-1,k("change")};return(a,t)=>{const l=d,c=s(u("up-icon"),$);return r(),i(l,null,{default:o((()=>[n(l,{class:"time-filter"},{default:o((()=>[n(l,{class:"search-box"},{default:o((()=>[n(l,{class:"status-bar"}),n(l,{class:"search-input-box"},{default:o((()=>[n(l,{class:"input"},{default:o((()=>[n(I,{style:{width:"100%"},placeholder:e.placeholder,modelValue:w.value.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>w.value.keyword=e),onConfirm:t[1]||(t[1]=e=>a.$emit("change")),onClear:t[2]||(t[2]=e=>a.$emit("change"))},null,8,["placeholder","modelValue"])])),_:1})])),_:1})])),_:1}),n(l,{class:"time-filter__inner"},{default:o((()=>[n(l,{class:"time-filter-tags"},{default:o((()=>[n(l,{class:x(["time-filter-tags__item",{"time-filter-tags__item--active":0===y.value}]),onClick:t[3]||(t[3]=e=>N(0))},{default:o((()=>[g(h(a.$t("全部")),1)])),_:1},8,["class"]),n(l,{class:x(["time-filter-tags__item",{"time-filter-tags__item--active":1===y.value}]),onClick:t[4]||(t[4]=e=>N(1))},{default:o((()=>[g(h(a.$t("今日")),1)])),_:1},8,["class"]),n(l,{class:x(["time-filter-tags__item",{"time-filter-tags__item--active":2===y.value}]),onClick:t[5]||(t[5]=e=>N(2))},{default:o((()=>[g(h(a.$t("昨日")),1)])),_:1},8,["class"]),n(l,{class:x(["time-filter-tags__item",{"time-filter-tags__item--active":3===y.value}]),onClick:t[6]||(t[6]=e=>N(3))},{default:o((()=>[g(h(a.$t("近七日")),1)])),_:1},8,["class"])])),_:1}),n(l,{class:"time-filter-custom",onClick:t[7]||(t[7]=e=>T.value=!0)},{default:o((()=>[S.value.length?(r(),i(l,{key:0,class:"time-filter__txt"},{default:o((()=>[n(l,null,{default:o((()=>[g(h(S.value[0])+"~",1)])),_:1}),S.value[1]?(r(),i(l,{key:0},{default:o((()=>[g(h(S.value[1]),1)])),_:1})):j("",!0)])),_:1})):(r(),f(p,{key:1},[g(h(a.$t("自定义时间")),1)],64)),n(c,{name:"arrow-down",color:"#969799",size:"8"})])),_:1})])),_:1})])),_:1}),n(U,{onConfirm:B,modelValue:T.value,"onUpdate:modelValue":t[8]||(t[8]=e=>T.value=e)},null,8,["modelValue"])])),_:1})}}}),[["__scopeId","data-v-aefc65a4"]]);export{z as t};
