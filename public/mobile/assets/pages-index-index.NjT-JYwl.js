import{d as e,u as a,a as s,r as t,p as l,o,b as r,c as i,e as u,f as p,g as n,h as m,i as c,j as d,k as v,l as _,m as y,n as f,w as j,q as g,s as x,t as w,v as b,x as h,y as k,F as I,z as T,A as L,B as z,C,D as F,E as $}from"./index-Do_Cb7fn.js";import{_ as q}from"./u-empty.DRH0yXs0.js";import{_ as A}from"./tig-back-top.vue_vue_type_script_setup_true_lang.CqmEECeP.js";import{u as B,_ as D}from"./tig-layout.BV0ZvCt0.js";import{g as E,a as G}from"./home.ClAdjfck.js";import{u as H,m as J}from"./index.DtVh_NWP.js";import{m as K}from"./masonry.CX4MOC2F.js";import{_ as M}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-icon.CBDMG2rO.js";import"./u-loading-icon.rQrrZF_r.js";import"./tig-image.D5KdQk-t.js";import"./index.CU7wR2UY.js";import"./format-price.D2lH_-yv.js";import"./u-radio-group.BgbJeO8e.js";import"./save-bottom-box.BM5fwIJO.js";import"./u-picker.C0Ehso0s.js";import"./tig-countdown.vue_vue_type_script_setup_true_lang.YxaZCm4j.js";import"./specification.C7sO8fab.js";import"./uni-icons.DK0ZiICA.js";import"./uni-number-box.Bfp_yH4M.js";import"./product.Cqsfbx9G.js";import"./activityCard._4qx8gud.js";const N=M(e({__name:"index",setup(e){const{scrollTop:M}=B(T),N=a(),O=s(),P=t(0),Q=t(!1),R=t([]),S=t(0),U=t(1),V=t(!1),W=t(!0),X=t([]),Y=e=>{S.value=e,0!==S.value&&(U.value=1,V.value=!1,X.value=[],Z())},Z=async()=>{W.value=!0;try{const e=await E({category_id:S.value,page:U.value});e.filter_result&&e.filter_result.length>0?(X.value=[...X.value,...e.filter_result],V.value=!1):V.value=!0}catch(e){console.error(e)}finally{W.value=!1}},ee=t(0),ae=async()=>{Q.value=!0;try{const e=await G();R.value=e.module_list,ee.value=e.decorate_id,P.value=1,L()}catch(e){console.error(e)}finally{Q.value=!1}};l("decorate_id",ee),o((e=>{e&&e.preview_id&&(N.previewId=e.preview_id),se.reset(),ae()})),r((()=>{se.reset()}));const se=H();return i((()=>{S.value=0,se.reset(),ae()})),u((()=>{S.value>0&&!Q.value&&!V.value&&(U.value++,Z())})),p((()=>{M.value>0&&setTimeout((()=>{n({scrollTop:M.value,duration:0})})),m()})),c((e=>({title:O.baseInfo.shop_title}))),d((()=>({title:O.baseInfo.shop_title}))),(e,a)=>{const s=z,t=C,l=F,o=v(_("up-empty"),q),r=v(_("tig-back-top"),A),i=v(_("tig-layout"),D);return y(),f(t,null,{default:j((()=>[g(i,null,{default:j((()=>[x(N).previewId>0?(y(),f(t,{key:0,class:"preview-box"},{default:j((()=>[g(t,{class:"container"},{default:j((()=>[w(b(e.$t("预览"))+"： ",1),g(s,null,{default:j((()=>[w(b(e.$t("移动端")),1)])),_:1})])),_:1})])),_:1})):h("",!0),x(N).previewId>0?(y(),f(t,{key:1,style:{padding:"58rpx"}})):h("",!0),g(t,null,{default:j((()=>[Q.value?(y(),f(t,{key:0,class:"index_empty"},{default:j((()=>[g(l,{"lazy-load":"",src:x($)("common/index_empty.png"),mode:"widthFix"},null,8,["src"])])),_:1})):(y(),f(t,{key:1,class:"index"},{default:j((()=>[g(t,{class:"decorate-page-window"},{default:j((()=>[g(J,{modules:R.value,scrollTop:x(M),onLoadGoodsList:Y},null,8,["modules","scrollTop"]),S.value>0?(y(),k(I,{key:0},[g(K,{commodityList:X.value},null,8,["commodityList"]),W.value||0!==X.value.length?h("",!0):(y(),f(t,{key:0,class:"empty-box"},{default:j((()=>[g(o,{icon:x($)("salesman/no_order.png"),text:e.$t("暂无数据")},null,8,["icon","text"])])),_:1}))],64)):h("",!0)])),_:1})])),_:1})),g(r,{scrollTop:x(M)},null,8,["scrollTop"])])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-71a26840"]]);export{N as default};
