import{d as a,G as t,u as e,r as s,Q as l,f as c,o as n,k as u,l as i,m as o,n as d,w as r,q as _,T as f,s as m,y as p,J as y,F as g,t as x,v,x as k,a6 as b,a7 as h,L as j,C,B as $,V as w,a9 as M,M as H}from"./index-Ce4FtYLL.js";import{_ as L}from"./uni-icons.yuSuVTUg.js";import{_ as q,a as z}from"./uni-swipe-action.BWuf2iA6.js";import{_ as B}from"./tig-layout.nM03J4I_.js";import{n as F}from"./index.v2UirNFN.js";import{c as G,e as I}from"./account.DidCkIcF.js";import{_ as J}from"./_plugin-vue_export-helper.BCo6x5W8.js";import"./u-loading-icon.CaEeBur7.js";import"./u-icon.BDQrrWMI.js";const Q=J(a({__name:"list",setup(a){const{t:J}=t(),Q=e().navHeight,R={navbar:"1",return:"1",title:"卡管理",color:!1},T=[{title:"银行卡",account_type:1},{title:"支付宝",account_type:2},{title:"微信",account_type:3}],V=s(1),A=s(!1),D=l({page:1,account_type:1}),E=s([]),K=async()=>{D.page>1?A.value=!0:b({title:J("加载中")});try{const a=await G({...D});E.value=a.filter_result}catch(a){console.error(a.message)}finally{h(),A.value=!1}},N=()=>{j({url:"/pages/user/account/cardManagement/edit"})},O=async(a,t)=>{try{const e=await I({...a});E.value.splice(t,1),e.message&&H({title:e.message,icon:"success"})}catch(e){H({title:e.message,icon:"none",duration:1e3})}};return c((()=>{K()})),n((()=>{K()})),(a,t)=>{const e=C,s=$,l=u(i("uni-icons"),L),c=u(i("uni-swipe-action-item"),q),n=u(i("uni-swipe-action"),z),b=u(i("tig-layout"),B);return o(),d(e,null,{default:r((()=>[_(b,null,{default:r((()=>[_(F,{parameter:R}),_(e,{class:"card-main"},{default:r((()=>[_(e,{class:"head-tabs-box",style:f("top:"+m(Q)+"rpx")},{default:r((()=>[_(e,{class:"tabs flex align-center justify-between"},{default:r((()=>[_(e,{class:"flex align-end"},{default:r((()=>[(o(),p(g,null,y(T,((t,s)=>_(e,{class:w(["tab",{active:V.value===t.account_type}]),key:s,onClick:a=>(async a=>{a!==V.value&&(V.value=a,D.page=1,D.account_type=a,K())})(t.account_type)},{default:r((()=>[x(v(a.$t(t.title)),1)])),_:2},1032,["class","onClick"]))),64))])),_:1}),_(e,{class:"clear-unread flex align-end",onClick:N},{default:r((()=>[_(s,null,{default:r((()=>[x(v(a.$t("添加账号")),1)])),_:1}),_(l,{type:"auth",size:"20",color:"#999"})])),_:1})])),_:1})])),_:1},8,["style"]),E.value.length>0?(o(),d(e,{key:0,class:"card-list"},{default:r((()=>[_(n,null,{default:r((()=>[(o(!0),p(g,null,y(E.value,((t,l)=>(o(),d(e,{key:l,class:"move-item"},{default:r((()=>[_(c,{threshold:0,autoClose:""},{right:r((()=>[_(e,{class:"card-move-box"},{default:r((()=>[_(e,{class:"btn-edit",onClick:a=>{return e=t.account_id,void j({url:`/pages/user/account/cardManagement/edit?id=${e}`});var e}},{default:r((()=>[_(s,null,{default:r((()=>[x(v(a.$t("编辑")),1)])),_:1})])),_:2},1032,["onClick"]),_(e,{class:"btn-del",onClick:a=>((a,t)=>{M({title:J("提示"),content:J("确定删除这个账户吗？"),success:async e=>{e.confirm&&O(a,t)}})})(t,l)},{default:r((()=>[_(s,null,{default:r((()=>[x(v(a.$t("删除")),1)])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),default:r((()=>[_(e,{class:"mitem"},{default:r((()=>[_(e,{class:"card"},{default:r((()=>[_(e,{class:"txt-item"},{default:r((()=>[_(e,{class:"tit"},{default:r((()=>[x(v(a.$t("真实姓名")),1)])),_:1}),_(e,{class:"txt"},{default:r((()=>[x(v(t.account_name),1)])),_:2},1024)])),_:2},1024),_(e,{class:"txt-item"},{default:r((()=>[_(e,{class:"tit"},{default:r((()=>[x(v(a.$t("身份证号码")),1)])),_:1}),_(e,{class:"txt"},{default:r((()=>[x(v(t.identity),1)])),_:2},1024)])),_:2},1024),_(e,{class:"txt-item"},{default:r((()=>[_(e,{class:"tit"},{default:r((()=>[x(v(a.$t("账户号码")),1)])),_:1}),_(e,{class:"txt"},{default:r((()=>[x(v(t.account_no),1)])),_:2},1024)])),_:2},1024),1===D.account_type?(o(),d(e,{key:0,class:"txt-item"},{default:r((()=>[_(e,{class:"tit"},{default:r((()=>[x(v(a.$t("银行卡详情")),1)])),_:1}),_(e,{class:"txt"},{default:r((()=>[x(v(t.bank_name),1)])),_:2},1024)])),_:2},1024)):k("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1})):k("",!0)])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-49776e03"]]);export{Q as default};
