import{e as s,G as a,r as e,R as i,g as t,c as l,w as n,a9 as o,aa as c,i as d,a2 as r,D as u,v as m,z as v,o as p,a as g,ar as _,E as y,A as f,t as k,b as x,F as $,K as b,T as B,$ as w,B as h,a7 as j,N as q,M as D,_ as C}from"./index-BKXBH4vI.js";import{_ as A}from"./format-price.0qAAshfo.js";import{n as G}from"./index.xrDesKlL.js";import{g as I,s as T}from"./sign.DnYK2Yfr.js";const z=C(s({__name:"index",setup(s){r((s=>({"6c2cc6f3":M.value,"58b11e93":N.value})));const{t:C}=a(),z={navbar:"1",return:"1",title:C("签到"),color:!1},E=e({sign_points:0,record:0,is_sign:0,days:[],recommend_goods:[]}),F=async()=>{o({title:C("加载中")});try{const s=await I("user/sign/index");Object.assign(E.value,s)}catch(s){}finally{c()}},K=async()=>{o({title:C("加载中")});try{const s=await T();q({title:s.message,duration:1e3,icon:"none"}),setTimeout((function(){F()}),1e3)}catch(s){q({title:s.message,duration:1500,icon:"none"})}finally{c()}},M=i((()=>`url(${u("qiandao/bg.png")})`)),N=i((()=>`url(${u("qiandao/hot_bg.png")})`));return t((()=>{F()})),(s,a)=>{const e=w,i=m(v("format-price"),A),t=d;return p(),l(t,null,{default:n((()=>[g(G,{parameter:z}),_("div",{class:"qiandaoBox"},[_("div",{class:"title"},k(s.$t("每日打卡领积分")),1),_("div",{class:"wrap"},[_("div",{class:"samll-title"},[x(k(s.$t("今天打卡得")),1),_("span",null,k(E.value.sign_points),1),x(k(s.$t("积分")),1)]),_("div",{class:"selectedBox"},[_("div",{class:"line"}),(p(!0),y($,null,b(E.value.days,((s,a)=>(p(),y("div",{class:B(["item",{selected:E.value.record>=s.day_num}]),key:a},[_("div",{class:"item-content"},[E.value.record<s.day_num?(p(),y("div",{key:0,class:"num"},k(s.points),1)):(p(),y("div",{key:1,class:"num"})),_("div",{class:"date"},k(s.name),1)])],2)))),128))]),_("div",{class:"qiandaoBtnBox"},[_("div",{class:"qdBtn"},[E.value.is_sign?(p(),y("div",{key:0,class:"dk-now"},[_("span",null,k(s.$t("今日已打卡")),1)])):(p(),y("div",{key:1,class:"dk-now",onClick:K},[_("span",null,k(s.$t("立即打卡")),1)]))])])])]),E.value.recommend_goods?(p(),y("div",{key:0,class:"recgoodsBox"},[_("div",{class:"title"},[_("div",{class:"bg"},k(s.$t("今日特卖 发现好货")),1),g(e,{url:"/pages/search/result?intro=hot"},{default:n((()=>[_("div",{class:"moregoods"},[x(k(s.$t("查看更多"))+" ",1),_("span",{class:"iconfont icon-xiangyou"})])])),_:1})]),_("div",{class:"wrapGoods"},[(p(!0),y($,null,b(E.value.recommend_goods,((s,a)=>(p(),l(t,{class:"item",onClick:a=>{D({url:"/pages/productDetail/index?id="+s.product_id})},key:a},{default:n((()=>[_("img",{class:"rec-img",alt:s.product_name,src:h(j)(s.pic_thumb)},null,8,["alt","src"]),_("div",{class:"info"},[_("div",{class:"name"},k(s.product_name),1),g(i,{isBottom:!1,class:"price",priceData:s.product_price},null,8,["priceData"])])])),_:2},1032,["onClick"])))),128))])])):f("",!0)])),_:1})}}}),[["__scopeId","data-v-9b676e1a"]]);export{z as default};
