import{e,H as a,R as t,v as s,z as l,c,o as u,i as o,w as i,a as n,b as r,t as d,A as _,T as p,E as f,F as m,K as v,B as y,D as g,a3 as k,aH as x,_ as b,C as w,a7 as h,r as C,ad as $,u as j,l as T,a8 as I,b3 as z,a6 as U,a$ as F,d as q,W as A,M as H}from"./index-BKXBH4vI.js";import{_ as S}from"./tig-image.BbZoJ9nS.js";import{_ as D}from"./tig-upload.vue_vue_type_script_setup_true_lang.CzsCKcqH.js";import{_ as E}from"./uni-badge.BNHThzBW.js";import{u as L,_ as M}from"./tig-layout.DMoUsUKf.js";import{_ as N}from"./tig-back-top.vue_vue_type_script_setup_true_lang.DQm21ZRm.js";import{n as P}from"./index.xrDesKlL.js";import{r as R}from"./index.BaN5P7L4.js";import{d as B}from"./home.DZ4q0OJm.js";import{a as G}from"./order.BjcCWkE9.js";import"./masonry.9uAp5d6k.js";import"./format-price.0qAAshfo.js";import"./specification.CVGl6USd.js";import"./uni-icons.C94_g2wt.js";import"./uni-number-box.B4MZlCkq.js";import"./product.BhwveQst.js";import"./activityCard.75t95NbP.js";import"./useList.D_gHwM0_.js";const K=b(e({__name:"index",props:{data:{type:Array,default:()=>[]},menuType:{type:Number,default:1}},setup(e){const b=e;a("userInfo");const w=t((()=>{let e=b.data;return e=e.filter((e=>"分销员中心"!==e.pic_title)),e=e.filter((e=>"实名认证"!==e.pic_title)),e=e.filter((e=>"商家入驻"!==e.pic_title)),e}));return(a,t)=>{const b=o,h=s(l("tig-image"),S);return u(),c(b,{class:"service-box"},{default:i((()=>[n(b,{class:"service-title"},{default:i((()=>[r(d(a.$t("我的服务")),1)])),_:1}),n(b,{class:"service-content"},{default:i((()=>[w.value.length>0?(u(),c(b,{key:0,class:p(["service-list",{grid:2===e.menuType,column:1===e.menuType}])},{default:i((()=>[(u(!0),f(m,null,v(w.value,((t,s)=>(u(),c(b,{key:s,class:"service-item",onClick:e=>(e=>{k({url:x(e.pic_link)})})(t)},{default:i((()=>[n(b,{class:"service-icon"},{default:i((()=>[n(h,{"lazy-load":"",src:y(g)(t.pic_url)},null,8,["src"])])),_:2},1024),n(b,{class:"service-label"},{default:i((()=>[r(d(a.$t(t.pic_title??""))+" ",1),1===e.menuType?(u(),c(b,{key:0,class:"service-arrow iconfont-h5 icon-youjiantou"})):_("",!0)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["class"])):_("",!0)])),_:1})])),_:1})}}}),[["__scopeId","data-v-574b254a"]]),O=b(e({__name:"index",props:{data:{type:Object,default:()=>({})}},setup:e=>(a,t)=>{const s=w,l=o;return u(),c(l,{class:"advertising-box"},{default:i((()=>[n(l,{class:"advertising-content"},{default:i((()=>[n(s,{class:"advertising-image",onClick:t[0]||(t[0]=a=>{var t;(null==(t=e.data)?void 0:t.pic_link)&&k({url:x(t.pic_link)})}),src:y(h)(e.data.pic_url),mode:"widthFix"},null,8,["src"])])),_:1})])),_:1})}}),[["__scopeId","data-v-c1e81d98"]]),Q=e({__name:"index",setup(e){const a=C([]);return(async()=>{try{const e=await B();a.value=e.item.data}catch(e){}})(),(e,t)=>{const s=o;return u(),c(s,null,{default:i((()=>[(u(!0),f(m,null,v(a.value,((e,a)=>(u(),f(m,{key:a},["banner_list"===e.type&&e.module.banner_list.pic_url?(u(),c(O,{key:0,data:e.module.banner_list},null,8,["data"])):_("",!0),"menus"===e.type?(u(),c(K,{key:1,menuType:e.module.menu_type,data:e.module.menu_list},null,8,["menuType","data"])):_("",!0)],64)))),128))])),_:1})}}}),W=b(e({__name:"index",setup(e){const{scrollTop:p}=L(),v=$(),k=j(),x=C({navbar:"1",return:"0",title:"会员中心",color:!1,class:"user"}),b=C(),h=t({get:()=>v.userInfo,set:e=>v.setUserInfo(e)}),B=C({collect_count:0,collect_store_count:0,stay_comment_order:0,re_pay:0,re_receive:0,return_count:0,bonus:0}),K=C({}),O=async()=>{try{const e=await G();K.value=e.item}catch(e){}},W=e=>{H({url:e})},J=()=>{v.getUserInfo(),O()},V=t((()=>v.token||a("token"))),X=t((()=>`url(${g("product/unverified.png")});`));return T((()=>{if(!V.value)return h.value={},B.value={collect_count:0,collect_store_count:0,stay_comment_order:0,re_pay:0,re_receive:0,return_count:0,bonus:0},void(K.value={});v.getUserInfo(),O()})),(e,a)=>{const t=s(l("tig-image"),S),C=o,$=s(l("tig-upload"),D),j=w,T=q,H=s(l("uni-badge"),E),L=s(l("tig-layout"),M),G=s(l("tig-back-top"),N);return u(),c(C,null,{default:i((()=>[n(L,{ref_key:"layoutRef",ref:b,onLoginSuccess:J},{default:i((()=>[n(P,{parameter:x.value},null,8,["parameter"]),n(C,{class:"user"},{default:i((()=>[n(C,{class:"user_header user_bg_color"},{default:i((()=>[n(C,{class:"picTxt"},{default:i((()=>[V.value?(u(),c($,{key:1,class:"pictrue",onChange:a[1]||(a[1]=e=>y(v).getUserInfo()),requestUrl:"user/user/modify_avatar"},{default:i((()=>[n(t,{class:"pic-btn",src:h.value.avatar,"onUpdate:src":a[0]||(a[0]=e=>h.value.avatar=e)},null,8,["src"])])),_:1})):(u(),c(C,{key:0,class:"pictrue",onClick:y(I)},{default:i((()=>[n(t,{class:"pic-btn",src:y(g)("common/empty-img-bg3.png")},null,8,["src"])])),_:1},8,["onClick"])),n(C,{class:"text"},{default:i((()=>[V.value?(u(),f(m,{key:1},[n(C,{class:"acea-row row-middle info"},{default:i((()=>{var t;return[y(z)()?(u(),f(m,{key:0},[h.value.is_company_auth?(u(),c(C,{key:0,class:"auth",onClick:a[2]||(a[2]=e=>W("/pages/user/userCertification/index"))},{default:i((()=>[n(j,{src:y(g)("product/authenticated.svg")},null,8,["src"])])),_:1})):(u(),c(C,{key:1,class:"auth",onClick:a[3]||(a[3]=e=>W("/pages/user/userCertification/index"))},{default:i((()=>[n(C,{class:"unverified",style:U(`background-image: ${X.value};`)},null,8,["style"])])),_:1}))],64)):_("",!0),n(C,{class:"name line1"},{default:i((()=>[r(d(h.value.nickname||h.value.username),1)])),_:1}),(null==(t=h.value)?void 0:t.show_sign)?(u(),c(C,{key:1,class:"acea-row qiandao",onClick:a[4]||(a[4]=e=>W("/pages/user/sign/index"))},{default:i((()=>[n(C,{class:"iconfont icon-qiandao"}),n(C,{class:""},{default:i((()=>[r(d(e.$t("签到有礼")),1)])),_:1})])),_:1})):_("",!0)]})),_:1}),n(C,{class:"logo acea-row row-middle",onClick:a[5]||(a[5]=e=>y(F)()&&void 0)},{default:i((()=>{var e;return[y(F)()?(u(),c(j,{key:0,class:"vip_logo",src:null==(e=h.value)?void 0:e.rank_logo,mode:"scaleToFill"},null,8,["src"])):_("",!0),r(" "+d(h.value.rank_name),1)]})),_:1})],64)):(u(),c(C,{key:0,onClick:y(I),class:"name"},{default:i((()=>[r(d(e.$t("登录/注册")),1)])),_:1},8,["onClick"]))])),_:1}),n(C,{class:"iconfont icon-shezhi",onClick:a[6]||(a[6]=e=>W("/pages/user/profile/index"))})])),_:1}),n(C,{class:"user_top_group"},{default:i((()=>[n(C,{class:"item",onClick:a[7]||(a[7]=e=>W("/pages/user/collectProduct/index"))},{default:i((()=>[n(C,{class:"tit"},{default:i((()=>[r(d(e.$t("商品收藏"))+" ",1),n(T,{class:"txt"},{default:i((()=>[r(d(K.value.product_collect>=0?K.value.product_collect:"--"),1)])),_:1})])),_:1})])),_:1}),y(A)()?(u(),c(C,{key:0,class:"item",onClick:a[8]||(a[8]=e=>W("/pages/user/collectionShop/index"))},{default:i((()=>[n(C,{class:"tit"},{default:i((()=>[r(d(e.$t("店铺关注"))+" ",1),n(T,{class:"txt"},{default:i((()=>[r(d(K.value.shop_collect>=0?K.value.shop_collect:"--"),1)])),_:1})])),_:1})])),_:1})):_("",!0),b.value&&b.value.is_zh?(u(),c(C,{key:1,class:"item",onClick:a[9]||(a[9]=e=>W("/pages/user/comment/list"))},{default:i((()=>[n(C,{class:"tit"},{default:i((()=>[r(d(e.$t("待评价"))+" ",1),n(T,{class:"txt"},{default:i((()=>[r(d(K.value.await_comment>=0?K.value.await_comment:"--"),1)])),_:1})])),_:1})])),_:1})):_("",!0),n(C,{class:"item",onClick:a[10]||(a[10]=e=>W("/pages/user/historyProduct/index"))},{default:i((()=>[n(C,{class:"tit"},{default:i((()=>[r(d(e.$t("浏览记录")),1)])),_:1})])),_:1})])),_:1})])),_:1}),n(C,{class:"user_wrapper"},{default:i((()=>[n(C,{class:"list-group my-order"},{default:i((()=>[n(C,{class:"title acea-row row-between-wrapper"},{default:i((()=>[n(C,{class:""},{default:i((()=>[r(d(e.$t("我的订单")),1)])),_:1}),n(C,{class:"more",onClick:a[11]||(a[11]=e=>W("/pages/user/order/list"))},{default:i((()=>[n(C,null,{default:i((()=>[r(d(e.$t("全部订单")),1)])),_:1}),n(C,{class:"iconfont icon-xiangyou"})])),_:1})])),_:1}),n(C,{class:"wrap"},{default:i((()=>[n(C,{class:"li",onClick:a[12]||(a[12]=e=>W("/pages/user/order/list?type=await_pay"))},{default:i((()=>[K.value.await_pay>0?(u(),f(m,{key:0},[n(H,{class:"badgecolor",text:K.value.await_pay,absolute:"rightTop",size:"small"},{default:i((()=>[n(T,{class:"iconfont icon-daifukuan"})])),_:1},8,["text"]),n(C,{class:"txt"},{default:i((()=>[r(d(e.$t("待付款")),1)])),_:1})],64)):(u(),f(m,{key:1},[n(T,{class:"iconfont icon-daifukuan"}),n(C,{class:"txt"},{default:i((()=>[r(d(e.$t("待付款")),1)])),_:1})],64))])),_:1}),n(C,{class:"li",onClick:a[13]||(a[13]=e=>W("/pages/user/order/list?type=await_received"))},{default:i((()=>[K.value.await_received>0?(u(),f(m,{key:0},[n(H,{class:"badgecolor",text:K.value.await_received,absolute:"rightTop",size:"small"},{default:i((()=>[n(T,{class:"iconfont icon-daishouhuo1"})])),_:1},8,["text"]),n(C,{class:"txt"},{default:i((()=>[r(d(e.$t("待收货")),1)])),_:1})],64)):(u(),f(m,{key:1},[n(T,{class:"iconfont icon-daishouhuo1"}),n(C,{class:"txt"},{default:i((()=>[r(d(e.$t("待收货")),1)])),_:1})],64))])),_:1}),n(C,{class:"li",onClick:a[14]||(a[14]=e=>W("/pages/user/order/list?type=await_comment"))},{default:i((()=>[K.value.await_comment>0?(u(),f(m,{key:0},[n(H,{class:"badgecolor",text:K.value.await_comment,absolute:"rightTop",size:"small"},{default:i((()=>[n(T,{class:"iconfont icon-pingjia"})])),_:1},8,["text"]),n(C,{class:"txt"},{default:i((()=>[r(d(e.$t("待评价")),1)])),_:1})],64)):(u(),f(m,{key:1},[n(T,{class:"iconfont icon-pingjia"}),n(C,{class:"txt"},{default:i((()=>[r(d(e.$t("待评价")),1)])),_:1})],64))])),_:1}),n(C,{class:"li",onClick:a[15]||(a[15]=e=>W("/pages/user/afterSale/list"))},{default:i((()=>[n(T,{class:"iconfont icon-shouhou1"}),n(C,{class:"txt"},{default:i((()=>[r(d(e.$t("退换 / 售后")),1)])),_:1}),B.value.return_count>0?(u(),c(T,{key:0,class:"counts"},{default:i((()=>[r(d(B.value.return_count),1)])),_:1})):_("",!0)])),_:1})])),_:1})])),_:1}),n(C,{class:"list-group my-wallet"},{default:i((()=>[n(C,{class:"title acea-row row-between-wrapper"},{default:i((()=>[n(C,{class:""},{default:i((()=>[r(d(e.$t("我的钱包")),1)])),_:1}),n(C,{class:"more",onClick:a[16]||(a[16]=e=>W("/pages/user/account/index"))},{default:i((()=>[n(C,null,{default:i((()=>[r(d(e.$t("进入钱包")),1)])),_:1}),n(C,{class:"iconfont icon-xiangyou"})])),_:1})])),_:1}),n(C,{class:"wrap"},{default:i((()=>[n(C,{class:"li",onClick:a[17]||(a[17]=e=>W("/pages/user/account/index"))},{default:i((()=>[n(T,{class:"num"},{default:i((()=>[r(d(Number(h.value.total_balance)>=0?h.value.total_balance:0),1)])),_:1}),n(C,{class:"txt"},{default:i((()=>[r(d(e.$t("余额")),1)])),_:1})])),_:1}),n(C,{class:"li",onClick:a[18]||(a[18]=e=>W("/pages/coupon/index?type=2"))},{default:i((()=>[n(T,{class:"num"},{default:i((()=>[r(d(h.value.coupon>=0?h.value.coupon:0),1)])),_:1}),n(C,{class:"txt"},{default:i((()=>[r(d(e.$t("优惠券")),1)])),_:1})])),_:1}),n(C,{class:"li",onClick:a[19]||(a[19]=e=>W("/pages/user/point/detail"))},{default:i((()=>[n(T,{class:"num"},{default:i((()=>[r(d(h.value.points>=0?h.value.points:0),1)])),_:1}),n(C,{class:"txt"},{default:i((()=>[r(d(e.$t("积分")),1)])),_:1})])),_:1})])),_:1})])),_:1}),n(Q)])),_:1})])),_:1}),n(R),n(C,{class:"shop-company"},{default:i((()=>[r(d(y(k).shop_company),1)])),_:1})])),_:1},512),n(G,{scrollTop:y(p)},null,8,["scrollTop"])])),_:1})}}}),[["__scopeId","data-v-86614e28"]]);export{W as default};
