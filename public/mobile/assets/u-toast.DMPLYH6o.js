import{_ as t}from"./u-loading-icon.CaEeBur7.js";import{an as o,ao as e,bI as i,bJ as s,bh as n,aA as a,av as r,k as m,l,m as c,n as p,w as g,q as u,V as f,T as y,x as h,t as d,v as C,B as _,C as w}from"./index-Ce4FtYLL.js";import{_ as b}from"./u-icon.BDQrrWMI.js";import{_ as x}from"./u-gap.ClepO6Fj.js";import{k as S}from"./tig-layout.nM03J4I_.js";import{_ as v}from"./_plugin-vue_export-helper.BCo6x5W8.js";const T=v({name:"u-toast",mixins:[o,e],data:()=>({isShow:!1,timer:null,config:{message:"",type:"",duration:2e3,icon:!0,position:"center",complete:null,overlay:!1,loading:!1},tmpConfig:{}}),computed:{iconName(){return this.tmpConfig.icon&&"none"!=this.tmpConfig.icon&&["error","warning","success","primary"].includes(this.tmpConfig.type)?i(this.tmpConfig.type):""},overlayStyle(){const t={justifyContent:"center",alignItems:"center",display:"flex",backgroundColor:"rgba(0, 0, 0, 0)"};return t},iconStyle(){const t={marginRight:"4px"};return t},loadingIconColor(){let t="rgb(255, 255, 255)";return["error","warning","success","primary"].includes(this.tmpConfig.type)&&(t=s(n[this.tmpConfig.type])),t},contentStyle(){const t=a().windowHeight,o={};let e=0;return"top"===this.tmpConfig.position?e=.25*-t:"bottom"===this.tmpConfig.position&&(e=.25*t),o.transform=`translateY(${e}px)`,o}},created(){["primary","success","error","warning","default","loading"].map((t=>{this[t]=o=>this.show({type:t,message:o})}))},methods:{show(t){this.tmpConfig=r(this.config,t),this.clearTimer(),this.isShow=!0,this.timer=setTimeout((()=>{this.clearTimer(),"function"==typeof this.tmpConfig.complete&&this.tmpConfig.complete()}),this.tmpConfig.duration)},hide(){this.clearTimer()},clearTimer(){this.isShow=!1,clearTimeout(this.timer),this.timer=null}},beforeUnmount(){this.clearTimer()}},[["render",function(o,e,i,s,n,a){const r=m(l("u-loading-icon"),t),v=m(l("u-icon"),b),T=m(l("u-gap"),x),j=_,k=w,I=m(l("u-overlay"),S);return c(),p(k,{class:"u-toast"},{default:g((()=>[u(I,{show:n.isShow,"custom-style":a.overlayStyle},{default:g((()=>[u(k,{class:f(["u-toast__content",["u-type-"+n.tmpConfig.type,"loading"===n.tmpConfig.type||n.tmpConfig.loading?"u-toast__content--loading":""]]),style:y([a.contentStyle])},{default:g((()=>["loading"===n.tmpConfig.type?(c(),p(r,{key:0,mode:"circle",color:"rgb(255, 255, 255)",inactiveColor:"rgb(120, 120, 120)",size:"25"})):"defalut"!==n.tmpConfig.type&&a.iconName?(c(),p(v,{key:1,name:a.iconName,size:"17",color:n.tmpConfig.type,customStyle:a.iconStyle},null,8,["name","color","customStyle"])):h("",!0),"loading"===n.tmpConfig.type||n.tmpConfig.loading?(c(),p(T,{key:2,height:"12",bgColor:"transparent"})):h("",!0),u(j,{class:f(["u-toast__content__text",["u-toast__content__text--"+n.tmpConfig.type]]),style:{"max-width":"400rpx"}},{default:g((()=>[d(C(n.tmpConfig.message),1)])),_:1},8,["class"])])),_:1},8,["style","class"])])),_:1},8,["show","custom-style"])])),_:1})}],["__scopeId","data-v-58bbdac0"]]);export{T as _};
