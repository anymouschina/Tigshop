import{_ as e,c as a,o as s,w as t,a as l,i as o,b as u,t as i,d as r,e as n,u as p,f as c,r as d,g as m,h as v,j as _,k as f,l as y,p as g,m as j,n as x,q as b,s as w,v as h,x as k,y as T,z as I,A as L,B as z,C,D as F,E as $,F as A}from"./index-BKXBH4vI.js";import{_ as B}from"./tig-back-top.vue_vue_type_script_setup_true_lang.DQm21ZRm.js";import{u as D,_ as E}from"./tig-layout.DMoUsUKf.js";import{g as G,a as q}from"./home.DZ4q0OJm.js";import{u as H,m as J}from"./index.CmnTc-LC.js";import{m as K}from"./masonry.9uAp5d6k.js";import"./tig-image.BbZoJ9nS.js";import"./index.Da2Pe3TC.js";import"./format-price.0qAAshfo.js";import"./tig-fixed-placeholder.BHdfEiP8.js";import"./tig-countdown.vue_vue_type_script_setup_true_lang.B7qaCM0t.js";import"./specification.CVGl6USd.js";import"./uni-icons.C94_g2wt.js";import"./uni-number-box.B4MZlCkq.js";import"./product.BhwveQst.js";import"./activityCard.75t95NbP.js";const M=e({},[["render",function(e,n){const p=r,c=o;return s(),a(c,null,{default:t((()=>[l(c,{class:"preview-box"},{default:t((()=>[l(c,null,{default:t((()=>[u(i(e.$t("预览"))+"：  ",1),l(p,null,{default:t((()=>[u(i(e.$t("移动端")),1)])),_:1})])),_:1})])),_:1}),l(c,{class:"placeholder"})])),_:1})}],["__scopeId","data-v-decbbe23"]]),N=e(n({__name:"index",setup(e){const{scrollTop:u}=D(k),i=p(),r=c(),n=d(0),N=d(!1),O=d([]),P=d(0),Q=d(1),R=d(!1),S=d(!0),U=d([]),V=e=>{P.value=e,0!==P.value&&(Q.value=1,R.value=!1,U.value=[],W())},W=async()=>{S.value=!0;try{const e=await G({category_id:P.value,page:Q.value});e.filter_result&&e.filter_result.length>0?(U.value=[...U.value,...e.filter_result],R.value=!1):R.value=!0}catch(e){}finally{S.value=!1}},X=async()=>{N.value=!0;try{const e=await q();O.value=e.module_list,n.value=1,w()}catch(e){}finally{N.value=!1}};m((e=>{e&&e.preview_id&&(i.previewId=e.preview_id),Y.reset(),X()})),v((()=>{Y.reset()}));const Y=H();return _((()=>{P.value=0,Y.reset(),X()})),f((()=>{P.value>0&&!N.value&&!R.value&&(Q.value++,W())})),y((()=>{u.value>0&&setTimeout((()=>{g({scrollTop:u.value,duration:0})}),20),j()})),x((e=>({title:r.baseInfo.shop_title}))),b((()=>({title:r.baseInfo.shop_title}))),(e,r)=>{const n=C,p=o,c=h(I("up-empty"),T),d=h(I("tig-back-top"),B),m=h(I("tig-layout"),E);return s(),a(m,null,{default:t((()=>[z(i).previewId>0?(s(),a(M,{key:0})):L("",!0),N.value?(s(),a(p,{key:1,class:"index_empty"},{default:t((()=>[l(n,{"lazy-load":"",src:z(F)("common/index_empty.png"),mode:"widthFix"},null,8,["src"])])),_:1})):(s(),a(p,{key:2,class:"index"},{default:t((()=>[l(p,{class:"decorate-page-window"},{default:t((()=>[l(J,{modules:O.value,scrollTop:z(u),onLoadGoodsList:V},null,8,["modules","scrollTop"]),P.value>0?(s(),$(A,{key:0},[U.value.length>0?(s(),a(K,{key:0,commodityList:U.value},null,8,["commodityList"])):L("",!0),S.value||0!==U.value.length?L("",!0):(s(),a(p,{key:1,class:"empty-box"},{default:t((()=>[l(c,{icon:z(F)("salesman/no_order.png"),text:e.$t("暂无数据")},null,8,["icon","text"])])),_:1}))],64)):L("",!0)])),_:1})])),_:1})),l(d,{scrollTop:z(u)},null,8,["scrollTop"])])),_:1})}}}),[["__scopeId","data-v-dab05ba8"]]);export{N as default};
