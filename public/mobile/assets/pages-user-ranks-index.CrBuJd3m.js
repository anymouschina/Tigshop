import{e as s,E as e,r as a,ax as i,q as t,y as r,D as l,o as c,aw as n,a as o,w as d,b as u,t as g,$ as _,F as m,J as p,c as h,i as v,A as k,a7 as R,a5 as y,a6 as I,P as b,_ as f,Q as w,z as N,ay as x,az as D,a9 as L,T as P}from"./index-BKzbZvRR.js";import{_ as j}from"./tig-layout.BpNdXByQ.js";import{_ as q}from"./format-price.kSnuguuz.js";import{g as A}from"./sign.Lzc_tMw9.js";const C=f(s({__name:"index",props:{url:{type:String,required:!0}},setup(s){const{t:f}=e(),w=s,N=a({signPoints:0,record:0,isSign:0,days:[],recommendGoods:[]});return i((()=>{(async()=>{y({title:f("加载中")});try{const s=await A(w.url);Object.assign(N.value,s)}catch(s){console.error(s)}finally{I()}})()})),(s,e)=>{const a=_,i=t(r("format-price"),q),y=v;return c(),l("div",{class:"recgoods-box"},[n("div",{class:"title"},[n("div",{class:"bg"}),o(a,{url:"/pages/search/index"},{default:d((()=>[n("div",{class:"moregoods"},[u(g(s.$t("查看更多"))+" ",1),n("span",{class:"iconfont icon-xiangyou"})])])),_:1})]),n("div",{class:"wrap-goods"},[(c(!0),l(m,null,p(N.value.recommendGoods,((s,e)=>(c(),h(y,{class:"item",onClick:e=>{b({url:"/pages/product/index?id="+s.productId})},key:e},{default:d((()=>[n("img",{class:"rec-img",alt:s.productName,src:k(R)(s.picThumb)},null,8,["alt","src"]),n("div",{class:"info"},[n("div",{class:"name"},g(s.productName),1),o(i,{class:"price",priceData:s.productPrice},null,8,["priceData"])])])),_:2},1032,["onClick"])))),128))])])}}}),[["__scopeId","data-v-9273efa0"]]),z=f(s({__name:"index",setup(s){const e=a({userName:"",userPhoto:"",userRank:1,rankPoints:1e4}),i=a({specialRank:0}),u=a([{rankId:1,rankName:"白银会员",rankDesc:"还需0成长值可升级至白银会员",rate:100,userRightIds:"1,2"},{rankId:2,rankName:"黄金会员",rankDesc:"还需0成长值可升级至黄金会员",rate:80,userRightIds:"1,2,3"},{rankId:3,rankName:"铂金会员",rankDesc:"还需0成长值可升级至黄金会员",rate:60,userRightIds:"1,2,3,4"},{rankId:4,rankName:"钻石会员",rankDesc:"还需0成长值可升级至黄金会员",rate:30,userRightIds:"1,2,3,4,5,6"}]),_=w([{userRightId:"1",userRightLogo:"http://localhost/lyecs7/public/static/mobile/images/ranks/qiandao.png",userRightName:"签到返利"},{userRightId:"2",userRightLogo:"http://localhost/lyecs7/public/static/mobile/images/ranks/jifenduihuan.png",userRightName:"积分兑换"},{userRightId:"3",userRightLogo:"http://oss.lyecs.com/img/gallery/demo/1680252172GwIt9xVFCcRuPHcaXK!!pic.png",userRightName:"线下折扣"},{userRightId:"4",userRightLogo:"http://oss.lyecs.com/img/gallery/demo/1680252172j4ltKe4JWA75EofqYb!!pic.png",userRightName:"运费折扣"},{userRightId:"5",userRightLogo:"http://oss.lyecs.com/img/gallery/demo/1680252172nLzWUg7tsAc0NEPshf!!pic.png",userRightName:"会员特价"},{userRightId:"6",userRightLogo:"http://oss.lyecs.com/img/gallery/demo/16802521724D4cIMO08jbaZLuIHq!!pic.png",userRightName:"消费返利"}]),v=a(["1","2"]),k=a(0),R=s=>{k.value=s.detail.current;let e=u.value[k.value].userRightIds.split(",");v.value=[...e]};return(s,a)=>{const k=D,y=x,I=t(r("tig-layout"),j);return c(),h(I,{title:"会员等级"},{default:d((()=>[n("div",{class:"member-level"},[n("div",{class:"content"},[n("div",{class:"content__header"},[n("img",{class:"member-level-head-background",src:"http://localhost/lyecs7/public/static/mobile/images/ranks/bg.png",alt:""}),n("div",{class:"content__header__portrait"},[n("img",{src:e.value.userPhoto},null,8,["src"]),n("span",null,g(e.value.userName),1)])]),n("div",{class:"ranks-swiper"},[o(y,{"indicator-dots":!1,circular:!1,interval:"3000",duration:"500",onChange:R},{default:d((()=>[(c(!0),l(m,null,p(u.value,((s,a)=>(c(),h(k,{key:a},{default:d((()=>[n("div",{class:"swiper__slider__cardbox"},[n("img",{src:"http://localhost/lyecs7/public/static/mobile/images/ranks/rank-bg.png",class:"swiper__slider__bg"}),e.value.userRank===s.rankId?(c(),l("div",{key:0,class:"swiper__slider__current"},"当前等级")):N("",!0),n("div",{class:"swiper__slider__logo"},"Tigshop"),n("div",{class:"swiper__slider__item item-color-1"},[n("div",{class:"swiper__slider__item__name"},g(s.rankName),1),n("div",{class:"swiper__slider__item__score"},[n("div",{class:"text flex-row"},[n("span",null,g(s.rankDesc),1)])]),n("div",{class:"swiper__slider__item__experience"},[n("span",null,g(e.value.rankPoints),1)]),n("div",{class:"progress-container swiper__slider__item__progress"},[n("div",{class:"line",style:L({width:s.rate+"%"})},null,4)]),n("div",{class:"long-with"},[n("span",null,"成长值")])])])])),_:2},1024)))),128))])),_:1})]),_?(c(),l("div",{key:0,class:"rights"},[n("div",{class:"rights__title"},[n("h3",null,"我的特权")]),n("div",{class:"rights__content"},[(c(!0),l(m,null,p(_,((s,e)=>(c(),l("div",{class:P(["rights__content__item",{"no-rank-select":(1===i.value.specialRank||0===i.value.specialRank)&&!v.value.includes(s.userRightId)}]),key:s.userRightId},[n("div",{class:"item-img-wrap"},[n("div",{class:P(["suoding-icon",{"no-rank-select-icon":v.value.includes(s.userRightId)}])},null,2),n("img",{src:s.userRightLogo,class:"rights__content__item__img",alt:s.userRightName},null,8,["src","alt"])]),n("div",{class:"rights__content__item__txt"},g(s.userRightName),1)],2)))),128))])])):N("",!0),o(C,{url:"user/sign/index"})]),n("div",{style:{height:"10px"}})])])),_:1})}}}),[["__scopeId","data-v-20cb48f8"]]);export{z as default};
