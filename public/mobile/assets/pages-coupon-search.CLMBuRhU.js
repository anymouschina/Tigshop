import{e as a,r as s,g as e,H as c,c as l,w as o,i as u,v as t,b7 as n,z as r,o as h,a as i,A as v,b as d,t as p,J as _,d as f,E as m,F as y,K as x,L as S,ao as k,aq as H,O as b,_ as g}from"./index-BKXBH4vI.js";const C=g(a({__name:"search",setup(a){const g=s(""),C=()=>{g.value?(w.value.unshift(g.value),w.value=[...new Set(w.value)],w.value.length>10&&w.value.splice(10,w.value.length-10),S("couponSearchHistory",w.value),k({success:()=>{H("coupon-search-return",g.value)}})):k({success:()=>{H("coupon-search-return","")}})},w=s([]);e((a=>{c("couponSearchHistory")&&(w.value=c("couponSearchHistory"))}));const V=()=>{w.value=[],b("couponSearchHistory")};return(a,s)=>{const e=t(r("up-search"),n),c=f,S=u;return h(),l(S,{class:"coupon-search"},{default:o((()=>[i(e,{onSearch:C,shape:"square",modelValue:g.value,"onUpdate:modelValue":s[0]||(s[0]=a=>g.value=a),actionText:a.$t("取消"),onCustom:C},null,8,["modelValue","actionText"]),w.value.length?(h(),l(S,{key:0,class:"search_init_box"},{default:o((()=>[i(S,{class:"search_history_box"},{default:o((()=>[i(S,{class:"title"},{default:o((()=>[d(p(a.$t("搜索历史"))+" ",1),i(S,{class:"clear_history",onClick:_(V,["stop"])},{default:o((()=>[i(c,{class:"iconfont-h5 icon-shanchu"})])),_:1})])),_:1}),i(S,{class:"list acea-row"},{default:o((()=>[(h(!0),m(y,null,x(w.value,((a,s)=>(h(),l(S,{key:s,class:"item",onClick:s=>(a=>{k({success:()=>{H("coupon-search-return",a)}})})(a)},{default:o((()=>[d(p(a),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1})])),_:1})):v("",!0)])),_:1})}}}),[["__scopeId","data-v-912cd1f5"]]);export{C as default};
