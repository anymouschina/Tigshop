import{e as a,G as e,Q as t,r as s,k as l,l as r,c as i,w as u,a9 as o,aa as c,v as d,z as n,o as p,a as m,i as f,E as _,F as g,K as v,d as y,b as x,t as b,$ as h,M as j,_ as S}from"./index-BKXBH4vI.js";import{_ as k}from"./tig-image.BbZoJ9nS.js";import{_ as z}from"./format-price.0qAAshfo.js";import{_ as $}from"./loading-box.BnnJRdlH.js";import{_ as w}from"./tig-layout.DMoUsUKf.js";import{n as D}from"./index.xrDesKlL.js";import{e as U}from"./afterSale.DvomNz22.js";const V=S(a({__name:"list",setup(a){const{t:S}=e(),V={navbar:"1",return:"1",title:"申请列表"},q=t({page:1,size:10}),C=s(!1),I=s([]),K=s(0),M=async()=>{q.page>1?C.value=!0:o({title:S("加载中")});try{const a=await U(q);I.value=[...I.value,...a.filter_result],K.value=a.total}catch(a){}finally{c(),C.value=!1}};return l((()=>{q.page<Math.ceil(K.value/q.size)&&(q.page++,M())})),r((()=>{q.page=1,I.value=[],M()})),(a,e)=>{const t=y,s=f,l=d(n("tig-image"),k),r=d(n("format-price"),z),o=h,c=d(n("loading-box"),$),S=d(n("tig-layout"),w);return p(),i(S,null,{default:u((()=>[m(s,{class:"after-sale-list"},{default:u((()=>[m(D,{parameter:V}),m(s,{class:"order-list"},{default:u((()=>[(p(!0),_(g,null,v(I.value,(e=>(p(),i(s,{key:e.order_id,class:"order-list-item"},{default:u((()=>[m(s,{class:"order-list-item-header"},{default:u((()=>[m(t,{class:"special-text"},{default:u((()=>[x(b(a.$t("售后编号"))+"：",1),m(t,{class:"special-color"},{default:u((()=>[x(b(e.aftersales_sn),1)])),_:2},1024)])),_:2},1024),m(t,null,{default:u((()=>[x(b(e.status_name),1)])),_:2},1024)])),_:2},1024),m(s,{class:"order-list-item-content"},{default:u((()=>[m(s,{class:"item-content-product"},{default:u((()=>[(p(!0),_(g,null,v(e.aftersales_items,(a=>(p(),i(o,{key:a.aftersales_item_id,url:"/pages/productDetail/index?id="+a.product_id,"hover-class":"navigator-hover"},{default:u((()=>[m(s,{class:"item-content-product-item"},{default:u((()=>[m(s,{class:"item-content-product-img"},{default:u((()=>[m(l,{src:a.pic_thumb,"onUpdate:src":e=>a.pic_thumb=e},null,8,["src","onUpdate:src"])])),_:2},1024),m(s,{class:"item-content-product-info"},{default:u((()=>[m(s,{class:"product-item-title"},{default:u((()=>[x(b(a.product_name),1)])),_:2},1024),m(s,{class:"product-item-price"},{default:u((()=>[m(r,{showText:!1,decimalsStyle:{fontSize:"25rpx"},currencyStyle:{fontSize:"23rpx"},class:"product-item-pricenum",priceData:a.price},null,8,["priceData"]),m(s,{class:"product-item-quantity"},{default:u((()=>[x("x "+b(a.quantity),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"])))),128))])),_:2},1024)])),_:2},1024),m(s,{class:"order-list-item-btn"},{default:u((()=>[m(s,{class:"item-btn-box"},{default:u((()=>[m(s,{class:"base-item-btn detail",onClick:a=>{return t=e.aftersale_id,void j({url:`/pages/user/afterSale/info?id=${t}`});var t}},{default:u((()=>[x(b(a.$t("售后详情")),1)])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128))])),_:1}),m(c,{modelValue:C.value,"onUpdate:modelValue":e[0]||(e[0]=a=>C.value=a),page:q.page,length:I.value.length},null,8,["modelValue","page","length"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-881c233a"]]);export{V as default};
