import{e as a,f as e,r as t,g as s,j as l,k as o,l as u,p as i,n as r,q as n,c as p,w as m,s as c,i as d,v,y as _,z as y,o as f,a as g,C as j,B as x,D as h,E as w,A as b,F as k,_ as T}from"./index-BKXBH4vI.js";import{_ as L}from"./tig-back-top.vue_vue_type_script_setup_true_lang.DQm21ZRm.js";import{u as z,_ as C}from"./tig-layout.DMoUsUKf.js";import{g as F,a as I}from"./home.DZ4q0OJm.js";import{u as A,m as B}from"./index.CmnTc-LC.js";import{m as D}from"./masonry.9uAp5d6k.js";import"./tig-image.BbZoJ9nS.js";import"./index.Da2Pe3TC.js";import"./format-price.0qAAshfo.js";import"./tig-fixed-placeholder.BHdfEiP8.js";import"./tig-countdown.vue_vue_type_script_setup_true_lang.B7qaCM0t.js";import"./specification.CVGl6USd.js";import"./uni-icons.C94_g2wt.js";import"./uni-number-box.B4MZlCkq.js";import"./product.BhwveQst.js";import"./activityCard.75t95NbP.js";const E=T(a({__name:"index",setup(a){const{scrollTop:T}=z(),E=e(),G=t(0),q=t(!1),H=t([]),$=t(0),J=t(1),K=t(!1),M=t(!0),N=t([]),O=a=>{$.value=a,0!==$.value&&(J.value=1,K.value=!1,N.value=[],P())},P=async()=>{M.value=!0;try{const a=await F({category_id:$.value,page:J.value});a.filter_result&&a.filter_result.length>0?(N.value=[...N.value,...a.filter_result],K.value=!1):K.value=!0}catch(a){}finally{M.value=!1}},Q=async a=>{q.value=!0;try{const e=await I(a);H.value=e.module_list,G.value=1,c()}catch(e){}finally{q.value=!1}};s((a=>{a&&a.id&&Q(a.id),R.reset()}));const R=A();return l((()=>{$.value=0,R.reset(),Q()})),o((()=>{$.value>0&&!q.value&&!K.value&&(J.value++,P())})),u((()=>{T.value>0&&setTimeout((()=>{i({scrollTop:T.value,duration:0})}),50)})),r((a=>({title:E.baseInfo.shop_title}))),n((()=>({title:E.baseInfo.shop_title}))),(a,e)=>{const t=j,s=d,l=v(y("up-empty"),_),o=v(y("tig-back-top"),L),u=v(y("tig-layout"),C);return f(),p(s,null,{default:m((()=>[g(u,null,{default:m((()=>[g(s,null,{default:m((()=>[q.value?(f(),p(s,{key:0,class:"index_empty"},{default:m((()=>[g(t,{"lazy-load":"",src:x(h)("common/index_empty.png"),mode:"widthFix"},null,8,["src"])])),_:1})):(f(),p(s,{key:1,class:"index"},{default:m((()=>[g(s,{class:"decorate-page-window"},{default:m((()=>[g(B,{modules:H.value,scrollTop:x(T),onLoadGoodsList:O},null,8,["modules","scrollTop"]),$.value>0?(f(),w(k,{key:0},[g(D,{commodityList:N.value},null,8,["commodityList"]),M.value||0!==N.value.length?b("",!0):(f(),p(s,{key:0,class:"empty-box"},{default:m((()=>[g(l,{icon:x(h)("salesman/no_order.png"),text:a.$t("暂无数据")},null,8,["icon","text"])])),_:1}))],64)):b("",!0)])),_:1})])),_:1})),g(o,{scrollTop:x(T)},null,8,["scrollTop"])])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-096e808e"]]);export{E as default};
