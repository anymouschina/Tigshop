import{m as P,f as q,q as E,d as A,a as J}from"./index-BP0-vtNP.js";import{i as _}from"./format-C8RAoEAk.js";import{d as N,aj as G,r as x,c as r,o as H,w as V,f as m,g,h as n,k as h,a9 as t,t as T,n as U,F as O,m as Q,i as Y,_ as R}from"./index-BEWhCL1q.js";/* empty css                                                             *//* empty css                                                             */import"./lodash-BnN97RgF.js";const j=N({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup(k){const e=G(k,"module"),C=x({picList:[{picId:1424,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731388896OTbuADBoe1LEFefwJo.png?x-oss-process=image/resize,m_pad,h_200,h_200",picUrl:"https://oss.tigshop.com/img/gallery/202411/1731388896OTbuADBoe1LEFefwJo.png",picName:"FtohhFYy2fnPEqrcsqpSq5H53DzH"},{picId:1425,picThumb:"https://oss.tigshop.com/img/gallery/202411/17313888965IIgWQGqsTYhoe7H7T.png?x-oss-process=image/resize,m_pad,h_200,h_200",picUrl:"https://oss.tigshop.com/img/gallery/202411/17313888965IIgWQGqsTYhoe7H7T.png",picName:"FlVOfGJJyjhQmsiDGJViz_S2clyl"},{picId:1424,picThumb:"https://oss.tigshop.com/img/gallery/202411/1731388896OTbuADBoe1LEFefwJo.png?x-oss-process=image/resize,m_pad,h_200,h_200",picUrl:"https://oss.tigshop.com/img/gallery/202411/1731388896OTbuADBoe1LEFefwJo.png",picName:"FtohhFYy2fnPEqrcsqpSq5H53DzH"},{picId:1425,picThumb:"https://oss.tigshop.com/img/gallery/202411/17313888965IIgWQGqsTYhoe7H7T.png?x-oss-process=image/resize,m_pad,h_200,h_200",picUrl:"https://oss.tigshop.com/img/gallery/202411/17313888965IIgWQGqsTYhoe7H7T.png",picName:"FlVOfGJJyjhQmsiDGJViz_S2clyl"}],rowNum:1.5,slidingEffect:"auto",slidingSpeed:25,picMarginTop:0,picMargin:10,picRadius:6,picFillType:"cover",picTitleDesc:{show:1,titleColor:"#ffffff",titleFontSize:14,titleFontWeight:400,descColor:"#ffffff",descFontSize:12,descFontWeight:0,fontPosition:"",textAlignment:"right",marginTop:10,marginBottom:10,marginLeft:0,backgroundColor:""},moduleTitle:{titleText:"",subTitleText:"",titlePosition:"top",textAlignment:"right",titleMarginTop:0,titleMarginBottom:0,titleMarginLeft:0,titleColor:"#ffffff",titleFontSize:16,titleFontWeight:700,subFontTitleColor:"#ffffff",subFontTitleSize:12,subFontTitleWeight:700},moduleStyle:J,contentStyle:A});P(e.value,C.value);const s=r(()=>q(e.value.moduleStyle??{},e.value.contentStyle??{},e.value.subTitle??{})),B=r(()=>e.value.picList?E(e.value.picList,5):[]),S=r(()=>{var l;return`width: ${z.value*((l=e.value.picList)==null?void 0:l.length)}px; display: flex; animation-duration: ${e.value.slidingSpeed}s; position: relative; top: 0px; left: 0px`}),I=r(()=>`transform: translateX(0px);animation-play-state:  ${e.value.slidingEffect==="manual"?"paused":"running"};`),L=r(()=>`margin-right: ${e.value.picMargin}px; background: none; border-radius: ${e.value.picRadius}px; position: relative; overflow: hidden`),M=r(()=>`width: 100%;height: 0px;padding-top: ${F.value*100}%;border-bottom-left-radius: 0px;border-bottom-right-radius: 0px;background-size: cover;background-repeat: no-repeat;background-position: center center;`),b=r(()=>{var l,o,u,i,c,d,p,a;return{picTextBox:`background: ${(l=e.value.picTitleDesc)!=null&&l.backgroundColor?e.value.picTitleDesc.backgroundColor:"none"};text-align: ${(o=e.value.picTitleDesc)==null?void 0:o.textAlignment};`,picTextTitle:`color: ${(u=e.value.picTitleDesc)==null?void 0:u.titleColor}; font-size: ${(i=e.value.picTitleDesc)==null?void 0:i.titleFontSize}px; font-weight: ${(c=e.value.picTitleDesc)==null?void 0:c.titleFontWeight}; overflow: hidden`,picTextDesc:`margin-top: 6px; font-size: ${(d=e.value.picTitleDesc)==null?void 0:d.descFontSize}px;font-weight: ${(p=e.value.picTitleDesc)==null?void 0:p.descFontWeight};color: ${(a=e.value.picTitleDesc)==null?void 0:a.descColor};overflow: hidden;`}}),v=r(()=>{var l,o,u,i,c,d,p,a,y,f;return{titleBox:`text-align: ${(l=e.value.moduleTitle)==null?void 0:l.textAlignment}; margin: ${(o=e.value.moduleTitle)==null?void 0:o.titleMarginTop}px ${(u=e.value.moduleTitle)==null?void 0:u.titleMarginLeft}px ${(i=e.value.moduleTitle)==null?void 0:i.titleMarginBottom}px;`,title:`font-size: ${(c=e.value.moduleTitle)==null?void 0:c.titleFontSize}px; font-weight: ${(d=e.value.moduleTitle)==null?void 0:d.titleFontWeight};color: ${(p=e.value.moduleTitle)==null?void 0:p.titleColor};`,subTitle:`font-size: ${(a=e.value.moduleTitle)==null?void 0:a.subFontTitleSize}px; margin-top: 8px; font-weight: ${(y=e.value.moduleTitle)==null?void 0:y.subFontTitleWeight};color: ${(f=e.value.moduleTitle)==null?void 0:f.subFontTitleColor};`}}),F=x(0),W=l=>new Promise((o,u)=>{const i=new Image;i.src=_(l),i.onload=()=>{o({width:i.width,height:i.height})},i.onerror=()=>{u()}}),$=async l=>{try{const o=await W(l);F.value=Number((o.height/o.width).toFixed(3))}catch(o){console.error(o)}},w=x(),D=x(0),z=r(()=>D.value/e.value.rowNum);return H(async()=>{await $(e.value.picList[0].picUrl),D.value=w.value.clientWidth}),V(()=>{$(e.value.picList[0].picUrl)}),(l,o)=>{var u,i,c,d,p;return g(),m("div",{class:"module-ad-con",style:t(s.value.moduleStyle.boxPaddingBottom+s.value.moduleStyle.boxPaddingTop+s.value.moduleStyle.boxPaddingBottom+s.value.moduleStyle.boxPadding+s.value.moduleStyle.backgroundSize+s.value.moduleStyle.backgroundImage)},[n("div",{class:"module-ad-content",style:t(s.value.moduleContentStyle.backgroundImage+s.value.moduleContentStyle.backgroundSize+s.value.moduleContentStyle.boxRadius+s.value.moduleContentStyle.boxShadow+s.value.moduleContentStyle.innerPadding)},[n("div",{class:"slidelarge-image",ref_key:"slidelargeRef",ref:w},[e.value.moduleTitle&&e.value.moduleTitle.titlePosition==="top"&&((u=e.value.moduleTitle)!=null&&u.titleText)?(g(),m("div",{key:0,style:t(v.value.titleBox)},[n("div",{style:t(v.value.title)},T((i=e.value.moduleTitle)==null?void 0:i.titleText),5),n("div",{style:t(v.value.subTitle)},T((c=e.value.moduleTitle)==null?void 0:c.subTitleText),5)],4)):h("",!0),n("div",{style:t(`margin-top: ${e.value.picMarginTop}%; width: 100%; z-index: 1; overflow: hidden;`)},[n("div",{style:t(S.value)},[n("div",{class:U([{"slidelarge-image-box":e.value.slidingEffect==="auto"}]),style:t(S.value+I.value)},[(g(!0),m(O,null,Q(B.value,(a,y)=>{var f;return g(),m("div",{key:y,style:t(`width: ${z.value}px; flex-shrink: 0`)},[n("div",{style:t(L.value)},[n("div",{style:t(M.value+`background-image: url(${Y(_)(a.picUrl)});`)},null,4),(f=e.value.picTitleDesc)!=null&&f.show&&(a.picTitle||a.picDesc)?(g(),m("div",{key:0,style:t(b.value.picTextBox+`${e.value.picTitleDesc.fontPosition==="internal"?"position: absolute;left: 0px;right: 0px;bottom: 0px;padding: 10px 15px;":""}${e.value.picTitleDesc.fontPosition!=="internal"?`margin: ${e.value.picTitleDesc.marginTop}px ${e.value.picTitleDesc.marginLeft}px ${e.value.picTitleDesc.marginBottom}px;`:""}`)},[a.picTitle?(g(),m("div",{key:0,style:t(b.value.picTextTitle)},T(a.picTitle),5)):h("",!0),a.picDesc?(g(),m("div",{key:1,style:t(b.value.picTextDesc)},T(a.picDesc),5)):h("",!0)],4)):h("",!0)],4)],4)}),128))],6)],4)],4),e.value.moduleTitle&&e.value.moduleTitle.titlePosition==="bottom"?(g(),m("div",{key:1,style:t(v.value.titleBox)},[n("div",{style:t(v.value.title)},T((d=e.value.moduleTitle)==null?void 0:d.titleText),5),n("div",{style:t(v.value.subTitle)},T((p=e.value.moduleTitle)==null?void 0:p.subTitleText),5)],4)):h("",!0)],512)],4)],4)}}}),oe=R(j,[["__scopeId","data-v-4312850e"]]);export{oe as default};
