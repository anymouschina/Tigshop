import{d as B,r as c,a as D,a5 as N,o as R,e as l,f as L,g,h as o,j,k as q,y as a,l as n,E,K as F,I as U,J as m,_ as J}from"./index-BEWhCL1q.js";import{f as K,h as M}from"./shop-CWBoDOF9.js";const O={class:"container"},z={class:"content_wrapper"},A={class:"lyecs-form-table"},G={class:"tig-radio"},H={class:"flex mb20"},P={class:"flex"},Q={class:"check-box"},W={class:"flex mb20"},X=B({__name:"Set",props:{id:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(y,{expose:h,emit:w}){const r=w,i=y,d=c(!1),x=D().currentRoute.value.query,p=c(i.isDialog?i.id:Number(x.id)),f=N(),t=c({dateType:0}),S=async()=>{try{const s=await K({shopId:p.value,code:"orderConfig"});Object.assign(t.value,s)}catch(s){m.error(s.message),r("close")}finally{d.value=!1}};R(()=>{S()});const _=async()=>{await f.value.validate();try{r("update:confirmLoading",!0);const s=await M({shopId:p.value,...t.value,code:"orderConfig"});r("submitCallback",s),m.success("操作成功")}catch(s){m.error(s.message)}finally{r("update:confirmLoading",!1)}};return h({onFormSubmit:()=>{_()}}),(s,e)=>{const v=l("el-radio"),k=l("TigInput"),V=l("el-radio-group"),b=l("el-form-item"),C=l("el-button"),I=l("el-form"),T=l("a-spin");return g(),L("div",O,[o("div",z,[o("div",A,[d.value?q("",!0):(g(),j(I,{key:0,ref_key:"formRef",ref:f,model:t.value,"label-width":"auto"},{default:n(()=>[a(b,{label:"店铺状态",prop:"status"},{default:n(()=>[o("div",G,[a(V,{modelValue:t.value.dateType,"onUpdate:modelValue":e[1]||(e[1]=u=>t.value.dateType=u)},{default:n(()=>[o("div",H,[a(v,{value:1}),o("div",P,[e[2]||(e[2]=o("p",{class:"mr10"},"订单收货后",-1)),o("div",Q,[a(k,{type:"integer",modelValue:t.value.useDay,"onUpdate:modelValue":e[0]||(e[0]=u=>t.value.useDay=u),class:"mr10",width:"100px",disabled:t.value.dateType==0},null,8,["modelValue","disabled"])]),e[3]||(e[3]=o("p",{class:"mr10"},"天结算",-1))])]),o("div",W,[a(v,{value:0}),e[4]||(e[4]=o("p",{class:"mr10"},"确认收货后立即不可售后",-1))])]),_:1},8,["modelValue"])])]),_:1}),E(a(b,{"wrapper-col":{offset:4,span:16}},{default:n(()=>[a(C,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:_},{default:n(()=>e[5]||(e[5]=[F("提交",-1)])),_:1,__:[5]},512)]),_:1},512),[[U,!i.isDialog]])]),_:1},8,["model"])),a(T,{spinning:d.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}}),ee=J(X,[["__scopeId","data-v-ed47bb94"]]);export{ee as default};
