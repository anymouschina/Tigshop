/* empty css             */import{d as U,ak as L,v as q,r as _,o as E,e as p,a1 as $,f as c,g as i,h as a,K as m,y as l,l as o,i as n,ao as V,t as d,F as j,m as J,j as F,E as K,k as v,J as D,_ as G}from"./index-BEWhCL1q.js";/* empty css                                                                    */import{P as H}from"./Pagination-4FaohhlG.js";import{p as u}from"./format-C8RAoEAk.js";import"./index-DVG44k_-.js";import{c as Q}from"./dashboard-BqksQYhB.js";import{b as R}from"./order-BQjFJOKB.js";import{_ as W}from"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./index-BNk7xZkD.js";const X={class:"container"},Y={class:"content_wrapper"},Z={class:"balance-box flex-wrap"},tt={class:"label"},et={class:"title"},at={class:"num"},lt={class:"label"},ot={class:"title"},st={class:"num"},nt={class:"lyecs-table-list-warp"},it={class:"table-container"},rt={key:0},dt={key:1},ut={key:2},pt={key:0},ct={class:"empty-warp"},_t={key:0,class:"empty-bg"},mt={key:0,class:"pagination-con"},vt=U({__name:"List",setup(ft){const N=L([{value:-1,label:"全部"},{value:0,label:"待支付"},{value:1,label:"待发货"},{value:2,label:"已发货"},{value:3,label:"已取消"},{value:4,label:"无效"},{value:5,label:"已完成"},{value:-2,label:"已删除"},{value:99,label:"待结算"}]),B=q(),x=_([]),b=_(!0),y=_(!0),g=_(0);_(!0);const r=L({page:1,size:B.get("pageSize"),orderStatus:-1}),k=_({shopMoney:0}),h=async()=>{b.value=!0;try{const s=await Q();k.value=s}catch(s){D.error(s.message)}finally{b.value=!1}},w=async()=>{y.value=!0;try{const s=await R({...r});x.value=s.records,g.value=s.total}catch(s){D.error(s.message)}finally{y.value=!1}};E(()=>{h(),w()});const C=s=>{r.orderStatus=s!=99?s:"1,2,5",s==99&&(r.isSettlement=0),w()};return(s,t)=>{const z=p("el-icon"),A=p("el-tooltip"),S=p("el-button"),I=p("router-link"),M=p("el-tab-pane"),O=p("el-tabs"),f=p("el-table-column"),P=p("el-table"),T=$("loading");return i(),c("div",X,[a("div",Y,[t[11]||(t[11]=a("div",{class:"tit-box"},[a("div",{class:"tit"},[a("span",null,"供应商余额")])],-1)),a("div",Z,[a("div",tt,[a("div",et,[t[6]||(t[6]=m(" 可用供应商余额(元) ",-1)),l(A,{placement:"bottom",effect:"light"},{content:o(()=>t[4]||(t[4]=[a("div",{class:"tooltip-width"},"可用店铺余额",-1)])),default:o(()=>[l(z,null,{default:o(()=>[l(n(V))]),_:1})]),_:1}),l(I,{to:{path:"/withdraw/index",query:{type:2}}},{default:o(()=>[l(S,{type:"primary",link:""},{default:o(()=>t[5]||(t[5]=[m("提现记录",-1)])),_:1,__:[5]})]),_:1})]),a("div",at,d(n(u)(k.value.vendorMoney)||0),1)]),a("div",lt,[a("div",ot,[t[9]||(t[9]=m(" 待结算(元) ",-1)),l(A,{placement:"bottom",effect:"light"},{content:o(()=>t[7]||(t[7]=[a("div",{class:"tooltip-width"},"交易未完成的订单总额，消费者确认收货后将自动转入店铺余额",-1)])),default:o(()=>[l(z,null,{default:o(()=>[l(n(V))]),_:1})]),_:1}),l(S,{type:"primary",link:"",onClick:t[0]||(t[0]=e=>C(99))},{default:o(()=>t[8]||(t[8]=[m("明细",-1)])),_:1,__:[8]})]),a("div",st,d(n(u)(k.value.unSettlementMoney)||0),1)])]),t[12]||(t[12]=a("div",{class:"tit-box"},[a("div",{class:"tit"},[a("span",null,"最近交易记录")])],-1)),a("div",nt,[l(O,{type:"card",onTabChange:C,modelValue:r.orderStatus,"onUpdate:modelValue":t[1]||(t[1]=e=>r.orderStatus=e)},{default:o(()=>[(i(!0),c(j,null,J(N,e=>(i(),F(M,{label:e.label,name:e.value},null,8,["label","name"]))),256))]),_:1},8,["modelValue"]),a("div",it,[K((i(),F(P,{data:x.value,loading:b.value,total:g.value,"row-key":"logId"},{empty:o(()=>[a("div",ct,[b.value?v("",!0):(i(),c("div",_t,"暂无数据"))])]),default:o(()=>[l(f,{label:"时间",prop:"addTime",width:"160"}),l(f,{label:"订单编号",prop:"orderSn",width:"260"}),l(f,{label:"金额(元)|明细"},{default:o(({row:e})=>[a("p",null,"订单运费： "+d(n(u)(e.shippingFee)),1),a("p",null,"附加费用： "+d(n(u)(e.serviceFee)),1),e.couponAmount>0?(i(),c("p",rt,"优惠券抵扣： "+d(n(u)(e.couponAmount)),1)):v("",!0),e.discountAmount>0?(i(),c("p",dt,"优惠券折扣： "+d(n(u)(e.discountAmount)),1)):v("",!0),e.pointsAmount>0?(i(),c("p",ut,"积分抵扣： "+d(n(u)(e.pointsAmount)),1)):v("",!0),a("p",null,[m(" 实收金额： "+d(n(u)(e.paidAmount))+" ",1),e.balance>0?(i(),c("span",pt,"(使用余额: "+d(n(u)(e.balance))+")",1)):v("",!0)])]),_:1}),l(f,{label:"状态",prop:"orderStatusName",width:"120"}),l(f,{label:"操作",width:"80"},{default:o(({row:e})=>[l(n(W),{params:{act:"detail",id:e.orderId},showClose:!1,showOnOk:!1,title:"订单详情 "+e.orderSn,isDrawer:"",path:"order/order/Info",width:"880px",onCallback:h},{default:o(()=>[l(S,{size:"small",link:"",type:"primary"},{default:o(()=>t[10]||(t[10]=[m(" 查看详情 ",-1)])),_:1,__:[10]})]),_:2},1032,["params","title"])]),_:1})]),_:1},8,["data","loading","total"])),[[T,y.value]]),g.value>0?(i(),c("div",mt,[l(n(H),{page:r.page,"onUpdate:page":t[2]||(t[2]=e=>r.page=e),size:r.size,"onUpdate:size":t[3]||(t[3]=e=>r.size=e),total:g.value,onCallback:h},null,8,["page","size","total"])])):v("",!0)])])])])}}}),At=G(vt,[["__scopeId","data-v-614932f6"]]);export{At as default};
