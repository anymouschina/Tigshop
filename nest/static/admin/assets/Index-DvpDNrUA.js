/* empty css             */import{d as k,Q as B,v as U,a5 as z,r as y,o as I,J as V,e as d,f as c,g as x,y as o,l as t,h as l,k as _,K as u,i as p,ao as f,a9 as M,_ as E}from"./index-BEWhCL1q.js";import{g as P,s as $}from"./profitsharingSetting-CObt9SRI.js";import{d as A}from"./format-C8RAoEAk.js";import{u as j}from"./theme-YtIM2XHr.js";import{c as J}from"./version-C520_GUm.js";const K={class:"container"},L={class:"content_wrapper"},O={class:"flex flex-align-center"},Q={class:"flex flex-align-center"},D={class:"flex flex-align-center"},H={class:"flex flex-align-center"},X={key:0},Y={class:"flex flex-align-center"},Z={key:0},ee={class:"flex flex-align-center"},te={key:0},le={class:"content_wrapper"};const oe={key:1,class:"content_wrapper"},ae={class:"selected-action"},ie=k({__name:"Index",setup(re){const{themeInfo:F}=j();B(),U();const b=z(),w=y(!1),a=y({billingNode:void 0,collectionNode:void 0,collectionTimeSetting:void 0,collectionMethod:void 0,collectionAccountType:void 0,splitPaymentMethod:void 0,storeGeneralServiceFeeRate:void 0,storeWithdrawalFeeRate:void 0,storefrontGeneralServiceFeeRate:void 0,storefrontWithdrawalFeeRate:void 0,supplierGeneralServiceFeeRate:void 0,supplierWithdrawalFeeRate:void 0});I(async()=>{await N()});const S=y(!0),N=async()=>{try{const s=await P();Object.assign(a.value,A(s))}catch(s){V.error(s.message)}finally{S.value=!1}},T=(s,e,r)=>{e<0||e>15?r(new Error("限制 0-15 天")):r()},g=(s,e,r)=>{e<0||e>100?r(new Error("限制 0-100%")):r()},G=async()=>{await b.value.validate(),w.value=!0;try{const s=await $(a.value);V.success("修改成功")}catch(s){V.error(s.message)}finally{w.value=!1}};return(s,e)=>{const r=d("el-icon"),m=d("el-tooltip"),R=d("el-radio"),h=d("el-radio-group"),n=d("el-form-item"),v=d("TigInput"),q=d("el-form"),W=d("el-button"),C=d("a-spin");return x(),c("div",K,[o(C,{spinning:S.value},{default:t(()=>[o(q,{ref_key:"formRef",ref:b,model:a.value,"label-width":"150px",style:{display:"flex",gap:"12px","flex-direction":"column"},"require-asterisk-position":"right"},{default:t(()=>[l("div",L,[e[25]||(e[25]=l("div",{class:"title"},"分账基础设置",-1)),o(n,{prop:"billingNode",rules:[{required:!0,message:"请选择出账节点"}]},{label:t(()=>[o(m,{class:"box-item",effect:"light",placement:"right","show-after":"300"},{content:t(()=>e[9]||(e[9]=[l("div",{style:{width:"300px",padding:"5px 10px"}},"订单支付成功或售后单退款完成，分账方能查看可获得的分账金额",-1)])),default:t(()=>[l("div",O,[e[10]||(e[10]=l("div",null,"出账节点",-1)),o(r,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:t(()=>[o(p(f))]),_:1})])]),_:1})]),default:t(()=>[l("div",null,[o(h,{modelValue:a.value.billingNode,"onUpdate:modelValue":e[0]||(e[0]=i=>a.value.billingNode=i),class:"itemWidth",disabled:!0},{default:t(()=>[o(R,{value:1},{default:t(()=>e[11]||(e[11]=[u("下单成功/售后申请",-1)])),_:1,__:[11]})]),_:1},8,["modelValue"])])]),_:1}),o(n,{prop:"collectionNode",rules:[{required:!0,message:"请选择入账节点"}]},{label:t(()=>[o(m,{class:"box-item",effect:"light",placement:"right","show-after":"300"},{content:t(()=>e[12]||(e[12]=[l("div",{style:{width:"100px",padding:"5px 10px"}},"分账方获得金额的节点",-1)])),default:t(()=>[l("div",Q,[e[13]||(e[13]=l("div",null,"入账节点",-1)),o(r,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:t(()=>[o(p(f))]),_:1})])]),_:1})]),default:t(()=>[l("div",null,[o(h,{modelValue:a.value.collectionNode,"onUpdate:modelValue":e[1]||(e[1]=i=>a.value.collectionNode=i),class:"itemWidth",disabled:!0},{default:t(()=>[o(R,{value:1},{default:t(()=>e[14]||(e[14]=[u("订单完成/确认收货",-1)])),_:1,__:[14]})]),_:1},8,["modelValue"])])]),_:1}),o(n,{prop:"collectionTimeSetting",rules:[{required:!0,validator:T}]},{label:t(()=>[o(m,{class:"box-item",effect:"light",placement:"right","show-after":"300"},{content:t(()=>e[15]||(e[15]=[l("div",{style:{width:"300px",padding:"5px 10px"}}," 入账时间满足，对应分账账单 触发入账结算 入账节点是订单完成（确认收货），入账时间设置10天，则代表结算时间是订单完成10天后结算 ",-1)])),default:t(()=>[l("div",D,[e[16]||(e[16]=l("div",null,"入账时间",-1)),o(r,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:t(()=>[o(p(f))]),_:1})])]),_:1})]),default:t(()=>[l("div",null,[o(v,{type:"integer",modelValue:a.value.collectionTimeSetting,"onUpdate:modelValue":e[2]||(e[2]=i=>a.value.collectionTimeSetting=i),width:"120px",min:0,max:15},{append:t(()=>e[17]||(e[17]=[u("天",-1)])),_:1},8,["modelValue"]),e[18]||(e[18]=l("div",{class:"extra"},"限制 0-15 天，默认0天",-1))])]),_:1},8,["rules"]),o(n,{prop:"collectionMethod",rules:[{required:!0}]},{label:t(()=>[o(m,{class:"box-item",effect:"light",placement:"right","show-after":"300"},{content:t(()=>e[19]||(e[19]=[l("div",{style:{width:"150px",padding:"5px 10px"}},"入账时间设置周期结束，资金会自动入账结算",-1)])),default:t(()=>[l("div",H,[e[20]||(e[20]=l("div",null,"入账方式",-1)),o(r,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:t(()=>[o(p(f))]),_:1})])]),_:1})]),default:t(()=>[l("div",null,[a.value.collectionNode===1?(x(),c("div",X,"自动入账")):_("",!0)])]),_:1}),o(n,{prop:"collectionAccountType",rules:[{required:!0}]},{label:t(()=>[o(m,{class:"box-item",effect:"light",placement:"right","show-after":"300"},{content:t(()=>e[21]||(e[21]=[l("div",{style:{width:"150px",padding:"5px 10px"}},"资金会通过店铺/门店/供应商账户余额结算",-1)])),default:t(()=>[l("div",Y,[e[22]||(e[22]=l("div",null,"入账账户类型",-1)),o(r,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:t(()=>[o(p(f))]),_:1})])]),_:1})]),default:t(()=>[l("div",null,[a.value.collectionAccountType===1?(x(),c("div",Z,"余额")):_("",!0)])]),_:1}),o(n,{prop:"splitPaymentMethod",rules:[{required:!0}]},{label:t(()=>[o(m,{class:"box-item",effect:"light",placement:"right","show-after":"300"},{content:t(()=>e[23]||(e[23]=[l("div",{style:{width:"150px",padding:"5px 10px"}},"商家通过对账单线下对账结算",-1)])),default:t(()=>[l("div",ee,[e[24]||(e[24]=l("div",null,"分账方式",-1)),o(r,{style:{"margin-left":"5px"},size:"14",color:"#999"},{default:t(()=>[o(p(f))]),_:1})])]),_:1})]),default:t(()=>[l("div",null,[a.value.splitPaymentMethod===1?(x(),c("div",te,"线下分账")):_("",!0)])]),_:1})]),l("div",le,[e[30]||(e[30]=l("div",{class:"title"},"店铺分账设置",-1)),o(n,{label:"通用平台服务费率",prop:"storeGeneralServiceFeeRate",rules:[{required:!0,validator:g}]},{default:t(()=>[l("div",null,[o(v,{type:"integer",modelValue:a.value.storeGeneralServiceFeeRate,"onUpdate:modelValue":e[3]||(e[3]=i=>a.value.storeGeneralServiceFeeRate=i),width:"150px",min:0,max:100},{append:t(()=>e[26]||(e[26]=[u("%",-1)])),_:1},8,["modelValue"]),e[27]||(e[27]=l("div",{class:"extra"},"店铺订单资金入账时，平台将抽取的服务费，单个店铺也可在店铺管理栏目中独立设置（独立会设置覆盖通用费率）",-1))])]),_:1},8,["rules"]),o(n,{label:"店铺提现手续费率",prop:"storeWithdrawalFeeRate",rules:[{required:!0,validator:g}]},{default:t(()=>[l("div",null,[o(v,{type:"integer",modelValue:a.value.storeWithdrawalFeeRate,"onUpdate:modelValue":e[4]||(e[4]=i=>a.value.storeWithdrawalFeeRate=i),width:"150px",min:0,max:100},{append:t(()=>e[28]||(e[28]=[u("%",-1)])),_:1},8,["modelValue"]),e[29]||(e[29]=l("div",{class:"extra"},"店铺提现时，平台将抽取的提现手续费",-1))])]),_:1},8,["rules"])]),_("",!0),p(J)()?(x(),c("div",oe,[e[40]||(e[40]=l("div",{class:"title"},"供应商分账设置",-1)),o(n,{label:"通用平台服务费率",prop:"supplierGeneralServiceFeeRate",rules:[{required:!0,validator:g}]},{default:t(()=>[l("div",null,[o(v,{type:"integer",modelValue:a.value.supplierGeneralServiceFeeRate,"onUpdate:modelValue":e[7]||(e[7]=i=>a.value.supplierGeneralServiceFeeRate=i),width:"150px",min:0,max:100},{append:t(()=>e[36]||(e[36]=[u("%",-1)])),_:1},8,["modelValue"]),e[37]||(e[37]=l("div",{class:"extra"},"订单资金入账时，平台将抽取的服务费",-1))])]),_:1},8,["rules"]),o(n,{label:"供应商提现手续费率",prop:"supplierWithdrawalFeeRate",rules:[{required:!0,validator:g}]},{default:t(()=>[l("div",null,[o(v,{type:"integer",modelValue:a.value.supplierWithdrawalFeeRate,"onUpdate:modelValue":e[8]||(e[8]=i=>a.value.supplierWithdrawalFeeRate=i),width:"150px",min:0,max:100},{append:t(()=>e[38]||(e[38]=[u("%",-1)])),_:1},8,["modelValue"]),e[39]||(e[39]=l("div",{class:"extra"},"供应商提现时，平台将抽取的提现手续费",-1))])]),_:1},8,["rules"])])):_("",!0)]),_:1},8,["model"]),e[42]||(e[42]=l("div",{style:{height:"20px"}},null,-1)),l("div",{class:"selected-action-warp selected-warp-left",style:M({left:p(F).layout!=="topMenu"?"370px":"270px"})},[l("div",ae,[o(W,{loading:w.value,class:"form-submit-btn",size:"large",type:"primary",onClick:G},{default:t(()=>e[41]||(e[41]=[u("提 交 ",-1)])),_:1,__:[41]},8,["loading"])])],4)]),_:1,__:[42]},8,["spinning"])])}}}),fe=E(ie,[["__scopeId","data-v-68b83aa1"]]);export{fe as default};
