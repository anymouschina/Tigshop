import{g as k}from"./suppliers-B-M3H6eN.js";import{d as I,ai as i,r as c,ak as V,aj as C,o as b,J as w,e as p,j as v,g as n,l as B,f as M,F as S,m as x}from"./index-BEWhCL1q.js";const j=I({__name:"SelectVendor",props:i({modelValue:{type:[Number,String]},multiple:{type:Boolean,default:!1}},{vendorId:{},vendorIdModifiers:{}}),emits:i(["update:modelValue","onChange"],["update:vendorId"]),setup(r,{emit:g}){const f=r,a=c(!0),s=V({keyword:"",size:30}),d=g,u=C(r,"vendorId"),_=o=>{d("update:modelValue",o),d("onChange",o)};b(()=>{m()});const t=c([{vendorId:-2,vendorName:"全部供应商"}]),m=async o=>{a.value=!0,s.keyword=String(o||"");try{const e=await k({...s});t.value.length=0,t.value.push(...e.records)}catch(e){w.error(e.message)}finally{a.value=!1}};return(o,e)=>{const y=p("el-option"),h=p("el-select");return n(),v(h,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=l=>u.value=l),loading:a.value,filterable:"",multiple:f.multiple,placeholder:"请输入供应商名称",clearable:"",remote:"","reserve-keyword":"","remote-method":m,onChange:_},{default:B(()=>[(n(!0),M(S,null,x(t.value,l=>(n(),v(y,{key:l.vendorId,label:l.vendorName,value:l.vendorId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","multiple"])}}});export{j as _};
