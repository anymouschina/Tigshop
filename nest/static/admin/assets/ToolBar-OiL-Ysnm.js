import{d as L}from"./vuedraggable.umd-_qUe1n4L.js";import{l as N}from"./lodash-BnN97RgF.js";import{a as T}from"./version-C520_GUm.js";import{d as O,r as s,o as j,f as d,h as t,y as m,l,e as y,g as i,j as v,k as n,i as f,t as k,_ as J}from"./index-BEWhCL1q.js";const $={class:"theme-toolbar"},q={class:"theme-menu-con show"},U={class:"theme-con-box"},G={class:"inside"},R=["onClick"],z=["innerHTML"],F={key:1,class:"content"},K=["onClick"],Q=["innerHTML"],W={key:1,class:"content"},X=["onClick"],Y=["innerHTML"],Z={key:1,class:"content"},oo=O({__name:"ToolBar",props:{modules:{type:Object,default:()=>({})}},emits:["item-added"],setup(M,{emit:H}){localStorage.getItem("adminType");const P=s(["tool","other","advanced"]),B=M,r=s("toolList"),C=s(B.modules),u=s([{type:"imageAd",url:"mobile",label:"图片广告1",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},isShow:!0},{type:"imageAd2",url:"mobile",label:"图片广告2",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},isShow:!1},{type:"imageSquareAd",url:"mobile",label:"图片魔方",content:'<i class="iconfont-admin icon-image_square_ad"></i>',module:{},isShow:!0},{type:"imageHotarea",url:"mobile",label:"热图绘制",content:'<i class="iconfont-admin icon-image_hotarea"></i>',module:{},isShow:!0},{type:"product",url:"mobile",label:"商品",content:'<i class="iconfont-admin icon-product"></i>',module:{},isShow:!0},{type:"product2",url:"mobile",label:"商品2",content:'<i class="iconfont-admin icon-product"></i>',module:{},isShow:!1},{type:"whiteLine",url:"mobile",label:"分割线",content:'<i class="iconfont-admin icon-white_line"></i>',module:{},isShow:!0},{type:"whiteBlank",url:"mobile",label:"空白辅助",content:'<i class="iconfont-admin icon-white_blank"></i>',module:{},isShow:!0},{type:"imageNav",url:"mobile",label:"图文导航",content:'<i class="iconfont-admin icon-image_nav"></i>',module:{},isShow:!0},{type:"titleAd",url:"mobile",label:"文本标题",content:'<i class="iconfont-admin icon-title_ad"></i>',module:{},isShow:!0},{type:"notice",url:"mobile",label:"公告",content:'<i class="iconfont-admin icon-notice"></i>',module:{},isShow:!0}]),x=s([{type:"imageTextComponent",url:"mobilePro",label:"图文介绍",content:'<i class="iconfont-admin icon-image_text_component"></i>',module:{},isShow:!0},{type:"productGrouping",url:"mobilePro",label:"商品分组",content:'<i class="iconfont-admin icon-product_grouping"></i>',module:{},isShow:!0},{type:"groupSliding",url:"mobilePro",label:"分组滑动",content:'<i class="iconfont-admin icon-group_sliding"></i>',module:{},isShow:!0},{type:"countdown",url:"mobilePro",label:"倒计时",content:'<i class="iconfont-admin icon-countdown"></i>',module:{},isShow:!0},{type:"categoryRec",url:"mobilePro",label:"分类推荐",content:'<i class="iconfont-admin icon-category_rec"></i>',module:{},isShow:!0},{type:"mixedProductDisplay",url:"mobilePro",label:"商品混排",content:'<i class="iconfont-admin icon-mixed_product_display"></i>',module:{},isShow:!0},{type:"specialOffer",url:"mobilePro",label:"天天特价",content:'<i class="iconfont-admin icon-special_offer"></i>',module:{},isShow:!0},{type:"noticeA2",url:"mobilePro",label:"公告",content:'<i class="iconfont-admin icon-notice"></i>',module:{},isShow:!0},{type:"mixedNotice",url:"mobilePro",label:"公告混排",content:'<i class="iconfont-admin icon-notice"></i>',module:{},isShow:!0},{type:"comboSuggestions",url:"mobilePro",label:"组合推荐",content:'<i class="iconfont-admin icon-combo_suggestions"></i>',module:{},isShow:!0},{type:"slideLargeImage",url:"mobilePro",label:"大图滑动",content:'<i class="iconfont-admin icon-slide_large_image"></i>',module:{},isShow:!0},{type:"slidingImage",url:"mobilePro",label:"小图滑动",content:'<i class="iconfont-admin icon-sliding_image"></i>',module:{},isShow:!0},{type:"banner",url:"mobilePro",label:"首焦轮播",content:'<i class="iconfont-admin icon-banner"></i>',module:{},isShow:!0},{type:"categoryNav",url:"mobilePro",label:"类目导航",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},isShow:!0},{type:"categoryNavA1",url:"mobilePro",label:"类目导航A1",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},isShow:!0},{type:"categoryNavA2",url:"mobilePro",label:"类目导航A2",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},isShow:!0},{type:"categoryNavA3",url:"mobilePro",label:"类目导航A3",content:'<i class="iconfont-admin icon-category_nav"></i>',module:{},isShow:!0}]),h=s([{type:"coupon",url:"mobilePromotion",label:"优惠券",content:'<i class="iconfont-admin icon-coupon"></i>',module:{},isShow:!0}]),V=s([{type:"searchBar",url:"mobile",label:"商品搜索",content:'<i class="iconfont-admin icon-search_bar"></i>',module:{},isShow:!0},{type:"searchBar2",url:"mobile",label:"商品搜索2",content:'<i class="iconfont-admin icon-search_bar"></i>',module:{},isShow:!1},{type:"catNav",url:"mobile",label:"分类导航",content:'<i class="iconfont-admin icon-cat_nav"></i>',module:{},isShow:!0}]),A=s([{type:"seckill",url:"mobilePromotion",label:"秒杀",content:'<i class="iconfont-admin icon-seckill"></i>',module:{},isShow:!0},{type:"seckill2",url:"mobilePromotion",label:"秒杀2",content:'<i class="iconfont-admin icon-seckill"></i>',module:{},isShow:!1}]),D=s([{type:"shopInfo",url:"mobilePromotion",label:"店铺信息",content:'<i class="iconfont-admin icon-product"></i>',module:{},isShow:!0}]),_=a=>{let o=N.cloneDeep(a);return o.moduleIndex=Date.now(),delete o.content,o},E=H,g=(a,o="toolList",w)=>{const S={toolList:u.value,advancedList:x.value,otherList:h.value};let c;const p=S[o];if(p&&p[a])c=N.cloneDeep(p[a]),c.moduleIndex=Date.now(),C.value.moduleList.push(c),E("item-added",{newIndex:C.value.moduleList.length-1});else throw new Error("无效的类型或索引")};return j(()=>{const a=localStorage.getItem("shopId");a&&a!="0"?u.value=[...u.value,...D.value,...A.value]:(u.value=[...u.value,...V.value],h.value=[...h.value,...A.value])}),(a,o)=>{const w=y("el-tab-pane"),S=y("el-tabs"),c=y("el-collapse-item"),p=y("el-collapse");return i(),d("div",$,[t("div",q,[t("div",U,[m(S,{modelValue:r.value,"onUpdate:modelValue":o[0]||(o[0]=e=>r.value=e),class:"demo-tabs"},{default:l(()=>[m(w,{label:"基础模块",name:"toolList"}),f(T)()?(i(),v(w,{key:0,label:"高级模块",name:"advancedList"})):n("",!0)]),_:1},8,["modelValue"]),t("div",G,[m(p,{modelValue:P.value,"onUpdate:modelValue":o[7]||(o[7]=e=>P.value=e)},{default:l(()=>[r.value==="toolList"?(i(),v(c,{key:0,title:"基础模块",name:"tool"},{title:l(()=>o[8]||(o[8]=[t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"基础模块")],-1)])),default:l(()=>[m(f(L),{class:"module-list","item-key":"type",list:u.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[1]||(o[1]=()=>{}),onEnd:o[2]||(o[2]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:_},{item:l(({element:e,index:b})=>[t("div",{class:"list-item tool-list-item",onClick:I=>g(b,"toolList",e)},[e.content?(i(),d("span",{key:0,class:"pic",innerHTML:e.content},null,8,z)):n("",!0),e.label?(i(),d("span",F,k(e.label),1)):n("",!0)],8,R)]),_:1},8,["list"])]),_:1})):n("",!0),r.value==="toolList"?(i(),v(c,{key:1,title:"其它模块",name:"other"},{title:l(()=>o[9]||(o[9]=[t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"其它模块")],-1)])),default:l(()=>[m(f(L),{class:"module-list","item-key":"type",list:h.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[3]||(o[3]=()=>{}),onEnd:o[4]||(o[4]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:_},{item:l(({element:e,index:b})=>[t("div",{class:"list-item tool-list-item",onClick:I=>g(b,"otherList")},[e.content?(i(),d("span",{key:0,class:"pic",innerHTML:e.content},null,8,Q)):n("",!0),e.label?(i(),d("span",W,k(e.label),1)):n("",!0)],8,K)]),_:1},8,["list"])]),_:1})):n("",!0),r.value==="advancedList"&&f(T)()?(i(),v(c,{key:2,title:"高级模块",name:"advanced"},{title:l(()=>o[10]||(o[10]=[t("div",{class:"modules-head J_ModuleListHead"},[t("span",null,"高级模块")],-1)])),default:l(()=>[m(f(L),{class:"module-list","item-key":"type",list:x.value,"ghost-class":"sortable-ghost","chosen-class":"toolChosenClass",animation:"300",onStart:o[5]||(o[5]=()=>{}),onEnd:o[6]||(o[6]=()=>{}),sort:!1,group:{name:"advanced",pull:"clone",put:!1},clone:_},{item:l(({element:e,index:b})=>[t("div",{class:"list-item tool-list-item",onClick:I=>g(b,"advancedList")},[e.content?(i(),d("span",{key:0,class:"pic",innerHTML:e.content},null,8,Y)):n("",!0),e.label?(i(),d("span",Z,k(e.label),1)):n("",!0)],8,X)]),_:1},8,["list"])]),_:1})):n("",!0)]),_:1},8,["modelValue"]),o[11]||(o[11]=t("div",{style:{height:"50px"}},null,-1))])])])])}}}),no=J(oo,[["__scopeId","data-v-f33a788f"]]);export{no as default};
