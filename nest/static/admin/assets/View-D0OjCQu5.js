import{i as W,p as B}from"./format-C8RAoEAk.js";import{m as q,g as G,h as H}from"./index-BP0-vtNP.js";import{g as J,e as K}from"./empty-img-bg3-Ghfuuncl.js";import O from"./View-BxHMh8gy.js";import Q from"./View-0hXEGThy.js";import{d as X,aj as Y,r as S,c as n,f as c,g as l,h as e,j as Z,k as y,i as g,l as $,y as oo,F as N,t as d,bj as eo,a9 as i,m as ao,n as to,_ as so}from"./index-BEWhCL1q.js";/* empty css                                                             *//* empty css                                                             */import"./lodash-BnN97RgF.js";const no={class:"countdown-box"},lo={class:"countdown-item"},io={class:"countdown-item"},ro={class:"countdown-item"},uo={class:"countdown-item"},co={class:"goods-ad-warp"},go={class:"item-con"},mo={class:"item-photo"},po=["src"],vo={class:"item-info"},_o={class:"item-name"},xo={key:0,href:"",title:"",class:"item-name-a"},yo={class:"tips"},fo={key:0,class:"item-action"},bo={key:0,class:"price-through"},ho=X({__name:"View",props:{module:{},moduleModifiers:{}},emits:["update:module"],setup(R){const o=Y(R,"module"),V=S({style:1,goodsNamePadding:1,showName:0,showPrice:1,goodsPadding:5,imageBackgroundColor:"",backgroundColor:"",boxRadius:0,innerPadding:0,boxPadding:10,boxPaddingTop:5,boxPaddingBottom:5,title:H});q(o.value,V.value);const{frame:D,title:f}=o.value,m=n(()=>G(D??{})),r=n(()=>{var t,a,u,p,v,_,x;return{backgroundColor:`background-color: ${(t=o==null?void 0:o.value)==null?void 0:t.backgroundColor};`,boxPadding:`margin-left: ${(a=o==null?void 0:o.value)==null?void 0:a.boxPadding}px;margin-right: ${(u=o==null?void 0:o.value)==null?void 0:u.boxPadding}px;`,boxPaddingBottom:`margin-bottom: ${(p=o==null?void 0:o.value)==null?void 0:p.boxPaddingBottom}px;`,boxPaddingTop:`margin-top: ${(v=o==null?void 0:o.value)==null?void 0:v.boxPaddingTop}px;`,boxRadius:`border-radius: ${(_=o==null?void 0:o.value)==null?void 0:_.boxRadius}px;`,innerPadding:`padding: ${(x=o==null?void 0:o.value)==null?void 0:x.innerPadding}px;`}}),F=n(()=>{var t;return`${o.value.style==10?"padding-left":"padding"}: ${(t=o==null?void 0:o.value)==null?void 0:t.goodsPadding}px;`}),M=n(()=>{let t="";return o.value.style==10&&(t+="display: flex; overflow: hidden;overflow-x: auto;flex-wrap: nowrap;"),t}),j=n(()=>o.value.style==10?`width: ${100/3}%;flex-shrink: 0;flex-grow: 0;`:0),E=n(()=>o.value.style==10?"font-size: 16px;font-weight: 400;line-height: 24px;color: #1a1a1a;display: block;height: 24px;margin-right: 8px;":""),z=n(()=>o.value.style==10?"display: flex;align-items: baseline;":""),I=(t,a)=>{if(a===0||t>=a)return 0;const u=(a-t)/a*100;return Math.floor(u*10)/10},L=n(()=>b.value[0]?new Date(b.value[0].seckkillData.seckillEndTime).getTime():0),b=S([]);(async()=>{try{const t=await J();b.value=t}catch(t){console.error(t)}})();const A=t=>{t.target.src=K};return(t,a)=>{var u,p,v,_,x,P,k,C,T;return l(),c("div",{class:to("module-ad-con module-goods_ad module-seckill-goods_ad ad-style__"+((u=o.value)==null?void 0:u.style)+" ad-buyBtnStyle__"+((p=o.value)==null?void 0:p.buyBtnStyle)+" ad-goods_style__"+((v=o.value)==null?void 0:v.goodsStyle)+" ad-goods_radio_style__"+((_=o.value)==null?void 0:_.goodsRadioStyle)+" ad-text_align__"+((x=o.value)==null?void 0:x.textAlign)+" ad-text_weight__"+((P=o.value)==null?void 0:P.textWeight)+" ad-goods_name_row__"+((k=o.value)==null?void 0:k.goodsNameRow)+" ad-goods_name_padding__"+((C=o.value)==null?void 0:C.goodsNamePadding)),style:i(m.value.boxPadding+m.value.boxPaddingTop+m.value.boxPaddingBottom+r.value.backgroundColor)},[e("div",{class:"module-ad-content",style:i(m.value.backgroundColor+" "+m.value.boxRadius+r.value.backgroundColor+r.value.boxPadding+r.value.boxPaddingBottom+r.value.boxPaddingTop+r.value.boxRadius+r.value.innerPadding)},[(T=g(f))!=null&&T.showTitle?(l(),Z(g(Q),{key:0,modelValue:g(f),"onUpdate:modelValue":a[0]||(a[0]=s=>eo(f)?f.value=s:null)},{more:$(()=>[oo(g(O),{countdownType:"specifyTime",specifyTime:L.value},{default:$(({days:s,hours:h,minutes:w,seconds:U})=>[e("div",no,[a[2]||(a[2]=e("span",{class:"countdown-text"},"距结束",-1)),s&&Number(s)>0?(l(),c(N,{key:0},[e("span",lo,d(s),1),a[1]||(a[1]=e("span",{class:"countdown-separator"}," 天 ",-1))],64)):y("",!0),e("span",io,d(h),1),a[3]||(a[3]=e("span",{class:"countdown-separator"},":",-1)),e("span",ro,d(w),1),a[4]||(a[4]=e("span",{class:"countdown-separator"},":",-1)),e("span",uo,d(U),1),a[5]||(a[5]=e("i",{class:"iconfont-h5 icon-youjiantou"},null,-1))])]),_:1},8,["specifyTime"])]),_:1},8,["modelValue"])):y("",!0),e("div",co,[e("div",{class:"goods-ad-con",style:i(M.value)},[(l(!0),c(N,null,ao(b.value,s=>{var h,w;return l(),c("div",{key:s.id,class:"goods-ad-item",style:i(j.value)},[e("div",{class:"item-content",style:i(F.value)},[e("div",go,[e("div",mo,[e("div",{class:"item-photo-bg",style:i({backgroundColor:o.value.imageBackgroundColor})},null,4),e("img",{onError:A,src:g(W)(s.picThumb),alt:""},null,40,po)]),e("div",vo,[e("div",_o,[(h=o.value)!=null&&h.showName?(l(),c("a",xo,d(s.productName),1)):y("",!0)]),e("div",yo,d(`优惠${I(s.productPrice,s.orgProductPrice)}%`),1),(w=o.value)!=null&&w.showPrice?(l(),c("div",fo,[e("div",{class:"item-price",style:i(z.value)},[e("span",{class:"price_format",style:i(E.value)},d(g(B)(s.productPrice)),5),o.value.style==10?(l(),c("span",bo,d(g(B)(s.orgProductPrice)),1)):y("",!0)],4)])):y("",!0)])])],4)],4)}),128))],4)])],4)],6)}}}),Vo=so(ho,[["__scopeId","data-v-d6daf002"]]);export{Vo as default};
