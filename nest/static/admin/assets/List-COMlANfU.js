/* empty css             */import h from"./stepTable-CEa-VwmS.js";import{R as T}from"./RadioType-C4-J2Zv8.js";import{s as w,g as x}from"./promoteMode-CpoA8XRR.js";import{u as C}from"./theme-YtIM2XHr.js";import{d as V,r as p,a5 as R,o as S,e as c,f as i,g as o,h as l,k as n,y as d,l as m,j as v,a9 as L,i as B,K as N,J as u,_ as D}from"./index-BEWhCL1q.js";import"./popover-BWIMiHgG.js";/* empty css                                                                  */const j={class:"container"},z={class:"content_wrapper"},I={key:1,class:"tit"},M={class:"promote-table"},E={class:"selected-action"},F=V({__name:"List",setup(J){const{themeInfo:f}=C(),e=p(!0),r=R(),t=p({saleType:1,level:[]}),y=async()=>{await r.value.formRef.validate(),t.value.level=r.value.form.typeData,console.log(t.value);try{const s=await w({...t.value});u.success("操作成功")}catch(s){u.error(s.message)}},_=async()=>{e.value=!0;try{const s=await x();Object.assign(t.value,s)}catch(s){u.error(s.message)}finally{e.value=!1}};return S(()=>{_()}),(s,a)=>{const g=c("a-spin"),b=c("el-button");return o(),i("div",j,[l("div",z,[d(g,{spinning:e.value},{default:m(()=>[e.value?n("",!0):(o(),v(T,{key:0,width:"250px",modelValue:t.value.saleType,"onUpdate:modelValue":a[0]||(a[0]=k=>t.value.saleType=k),radioList:[{key:1,title:"一级分销",desc:"分销员在客户下单后获得佣金"},{key:2,title:"二级分销",desc:"分销员在客户下单、下级卖货后可均可获得邀请奖励"}]},null,8,["modelValue"])),e.value?n("",!0):(o(),i("div",I,a[1]||(a[1]=[l("h2",null,"分销员等级方案",-1)]))),l("div",M,[e.value?n("",!0):(o(),v(h,{key:0,ref_key:"stepTableRef",ref:r,distributionLevel:t.value.saleType,typeData:t.value.level},null,8,["distributionLevel","typeData"]))])]),_:1},8,["spinning"])]),a[3]||(a[3]=l("div",{style:{height:"20px"}},null,-1)),e.value?n("",!0):(o(),i("div",{key:0,class:"selected-action-warp selected-warp-left",style:L({left:B(f).layout!=="topMenu"?"369px":"270px"})},[l("div",E,[d(b,{loading:e.value,class:"form-submit-btn",size:"large",type:"primary",onClick:y},{default:m(()=>a[2]||(a[2]=[N("保 存",-1)])),_:1,__:[2]},8,["loading"])])],4))])}}}),Q=D(F,[["__scopeId","data-v-18e05c37"]]);export{Q as default};
