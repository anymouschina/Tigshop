import{F as A}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BVJHh8ng.js";import{F as P}from"./FormAddGalleryVideo-Cr9BEyUE.js";import{j as $}from"./product-IfnnwfpZ.js";import{R as D}from"./RadioType-C4-J2Zv8.js";import{S as K}from"./SelectBrand-DFj6FPJO.js";import{_ as R}from"./SelectCategory.vue_vue_type_script_setup_true_lang-D5TL5eLW.js";import{d as W,ai as B,P as J,aj as O,r as I,o as z,e as y,f as g,g as s,y as o,j as m,k as u,l as r,h as i,i as p,F as V,m as H,K as f,J as S,_ as Q}from"./index-BEWhCL1q.js";import"./index-DVG44k_-.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-B2T-ARqM.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              */import{_ as X}from"./SelectShopProductCategory.vue_vue_type_script_setup_true_lang-BByYTMhQ.js";/* empty css             */import{B as Y}from"./BusinessData-ICvr1eK8.js";import{_ as Z}from"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./vuedraggable.umd-_qUe1n4L.js";import"./Image.vue_vue_type_script_setup_true_lang-DC1N644b.js";import"./format-C8RAoEAk.js";import"./BusinessImg-CuIKiE1z.js";import"./currencyManagement-BEhPZh48.js";import"./version-C520_GUm.js";/* empty css                                                                  */import"./brand-NPYEvOSK.js";import"./category-Bu2fUBIU.js";import"./category-JkcBf76e.js";import"./index-BNk7xZkD.js";import"./time-BMcbgg5F.js";import"./shopProductCategory-BYkWAEdg.js";const _="/admin/assets/productBrief-7efAv92y.png",h={key:0,class:"extra mt10"},ee={class:"flex flex-justify-between"},te={class:"flex flex-justify-between"},le={key:1,class:"con-btn"},ae={class:"keywords"},de={class:"extra"},oe=W({__name:"BasicInfo",props:B({id:{type:Number,default:0},shopId:{type:Number,default:0},examine:{type:Number,default:0},loading:{type:Boolean,default:!1},type:{type:String,default:""},action:{type:String,default:""}},{formState:{default:{}},formStateModifiers:{}}),emits:B(["submitCallback","update:confirmLoading","close","closeConfirm"],["update:formState"]),setup(t,{emit:re}){const k=J(),l=O(t,"formState"),w=I([]);z(async()=>{w.value=[{key:1,title:"普通商品",desc:"物流配送"},{key:3,title:"卡密商品",tips:"可以在菜单中【营销>电子卡券组】创建卡券组，然后在【查看卡列表】添加单个卡密或通过下载【批量导入模板文件】填好卡密后在通过批量导入电子卡券按钮上传该文件批量导入。",desc:"无需物流"},{key:2,title:"虚拟商品",tips:"网盘链接、视频链接，在添加商品添加虚拟商品。用户购买后将在订单详情直接展示。",desc:"无需物流"},{key:4,title:"付费内容",tips:"软件授权、在线课程等。通过简单的操作，即可将这些商品添加到您的商店中，为客户提供更丰富的选择。立即体验，享受便捷的付费内容管理服务。",desc:"无需物流"}]});const N=(n,e,d)=>{if(e)d();else{d(new Error("商品名称不能为空"));return}},U=(n,e,d)=>{if(e)d();else{d(new Error("请选择商品图片"));return}},L=(n,e,d)=>{if(e)d();else{d(new Error("请选择商品类目"));return}},G=(n,e,d)=>{if(e)d();else{d(new Error("请选择电子卡券组"));return}},b=I(!1),x=I(),T=async()=>{b.value=!0;try{x.value.loaded=!1,await x.value.loadCategory()}catch(n){S.error(n.message)}finally{setTimeout(()=>{b.value=!1},200)}},F=async()=>{try{const n=await $({productName:l.value.productName});l.value.keywords=n}catch(n){S.error(n.message)}};return(n,e)=>{const d=y("el-form-item"),j=y("el-option"),q=y("el-select"),c=y("el-button"),v=y("TigInput"),E=y("el-popover"),C=y("el-radio"),M=y("el-radio-group");return s(),g(V,null,[o(d,{rules:[{required:!0}],label:"商品类型",prop:"productType"},{default:r(()=>[i("div",null,[e[14]||(e[14]=i("div",{class:"extra mb10",style:{"margin-top":"3px"}},"不同商品类型可编辑的字段内容不同，商品类型一旦发布后将不可更改",-1)),o(p(D),{modelValue:l.value.productType,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.productType=a),disabled:t.action=="detail",radioList:w.value},null,8,["modelValue","disabled","radioList"]),l.value.productType!=1?(s(),g("div",h,"该类型商品同样需要客户填写收货地址")):u("",!0)])]),_:1}),o(d,{rules:[{required:!0,validator:U}],label:"商品图片",prop:"imgList"},{default:r(()=>[t.loading?u("",!0):(s(),m(p(A),{key:0,photos:l.value.imgList,"onUpdate:photos":e[1]||(e[1]=a=>l.value.imgList=a),disabled:t.examine==1||t.type!=="",isMultiple:!0},null,8,["photos","disabled"])),e[15]||(e[15]=i("div",{class:"extra"},"您可以通过拖拽来调整相册图片顺序，第一张图将作为商品主图展示",-1))]),_:1,__:[15]},8,["rules"]),o(d,{label:"商品视频",prop:"productVideoInfo"},{default:r(()=>[t.loading?u("",!0):(s(),m(p(P),{key:0,video:l.value.productVideoInfo,"onUpdate:video":e[2]||(e[2]=a=>l.value.productVideoInfo=a),disabled:t.examine==1||t.type!==""},null,8,["video","disabled"])),e[16]||(e[16]=i("div",{class:"extra"},"如有商品视频则商品视频作为商品主图展示",-1))]),_:1,__:[16]}),l.value.productType==3?(s(),m(d,{key:0,rules:[{required:!0,validator:G}],class:"inner-item",label:"电子卡券分组",prop:"cardGroupId"},{default:r(()=>[i("div",ee,[o(q,{modelValue:l.value.cardGroupId,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.cardGroupId=a),disabled:t.examine==1||t.type!=="",placeholder:"请选择",style:{width:"200px"}},{default:r(()=>[(s(!0),g(V,null,H(l.value.eCardList,a=>(s(),m(j,{key:a.groupId,label:a.groupName,value:a.groupId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])])]),_:1},8,["rules"])):u("",!0),o(d,{rules:[{required:!0,validator:N}],class:"inner-item",label:"商品名称",prop:"productName"},{default:r(()=>[o(Y,{modelValue:l.value.productName,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.productName=a),dataId:t.id,dataType:2,disabled:t.examine==1||t.type!=="",maxlength:100,placeholder:"请输入商品名称"},null,8,["modelValue","dataId","disabled"])]),_:1},8,["rules"]),o(d,{class:"inner-item",label:"商品品牌",prop:"brandId"},{default:r(()=>[t.loading?u("",!0):(s(),m(p(K),{key:0,brandId:l.value.brandId,"onUpdate:brandId":e[5]||(e[5]=a=>l.value.brandId=a),disabled:t.examine==1||t.type!=="",style:{width:"200px"}},null,8,["brandId","disabled"]))]),_:1}),o(d,{rules:[{required:!0,message:"请选择商品类目!",validator:L}],class:"inner-item",label:"商品类目",prop:"categoryId"},{default:r(()=>[i("div",te,[t.loading?u("",!0):(s(),m(p(R),{key:0,ref_key:"selectCategory",ref:x,categoryId:l.value.categoryId,"onUpdate:categoryId":e[6]||(e[6]=a=>l.value.categoryId=a),disabled:t.examine==1||t.type!=="",multiple:!1,style:{width:"200px"}},null,8,["categoryId","disabled"])),t.examine!=1?(s(),g("div",le,[p(k)==="admin"?(s(),g(V,{key:0},[o(p(Z),{params:{act:"add",parentId:0},isDrawer:"",path:"product/category/Info",title:"添加分类",width:"600px",onOkCallback:T},{default:r(()=>[o(c,{link:"",type:"primary"},{default:r(()=>e[17]||(e[17]=[f("新建",-1)])),_:1,__:[17]})]),_:1}),e[18]||(e[18]=i("p",{class:"ml10 mr10",style:{"margin-bottom":"3px"}},"|",-1))],64)):u("",!0),o(c,{loading:b.value,link:"",type:"primary",onClick:T},{default:r(()=>e[19]||(e[19]=[f("刷新 ",-1)])),_:1,__:[19]},8,["loading"])])):u("",!0)])]),_:1},8,["rules"]),p(k)=="shop"?(s(),m(d,{key:1,class:"inner-item",label:"店铺商品分类",prop:"shopCategoryId"},{default:r(()=>[o(p(X),{categoryId:l.value.shopCategoryId,"onUpdate:categoryId":e[7]||(e[7]=a=>l.value.shopCategoryId=a),disabled:t.examine==1},null,8,["categoryId","disabled"])]),_:1})):u("",!0),t.type==""?(s(),m(d,{key:2,class:"inner-item",label:"商品重量",prop:"decimal"},{default:r(()=>[o(v,{modelValue:l.value.productWeight,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.productWeight=a),decimalPlaces:3,disabled:t.examine==1,class:"InputBox",placeholder:"请输入",type:"decimal",width:"200px"},{append:r(()=>e[20]||(e[20]=[f("Kg",-1)])),_:1},8,["modelValue","disabled"])]),_:1})):u("",!0),t.type==""?(s(),m(d,{key:3,class:"inner-item",label:"商品条码",prop:"productTsn"},{default:r(()=>[i("div",null,[o(v,{modelValue:l.value.productTsn,"onUpdate:modelValue":e[9]||(e[9]=a=>l.value.productTsn=a),disabled:t.examine==1,classType:"tig-form-input"},null,8,["modelValue","disabled"]),e[21]||(e[21]=i("div",{class:"extra"},"用于快速识商品所标记的编码，比如：69开头的13位标准码",-1))])]),_:1})):u("",!0),t.type==""?(s(),m(d,{key:4,class:"inner-item",label:"商品编码",prop:"productSn"},{default:r(()=>[i("div",null,[o(v,{modelValue:l.value.productSn,"onUpdate:modelValue":e[10]||(e[10]=a=>l.value.productSn=a),disabled:t.examine==1,classType:"tig-form-input"},null,8,["modelValue","disabled"]),e[22]||(e[22]=i("div",{class:"extra"},"如果您不输入商品编码，系统将自动生成一个唯一的编码",-1))])]),_:1})):u("",!0),o(d,{class:"inner-item",label:"搜索关键词",prop:"keywords"},{default:r(()=>[i("div",ae,[o(v,{modelValue:l.value.keywords,"onUpdate:modelValue":e[11]||(e[11]=a=>l.value.keywords=a),disabled:t.examine==1||t.type!=="",class:"InputBox",classType:"tig-form-input",placeholder:"例如：牙刷 自动 清洁"},null,8,["modelValue","disabled"]),o(c,{disabled:t.examine==1,onClick:F,style:{"margin-top":"2px"}},{default:r(()=>e[23]||(e[23]=[f("更新关键词",-1)])),_:1,__:[23]},8,["disabled"])]),e[24]||(e[24]=i("div",{class:"extra"},"用空格分隔，为空时会自动根据商品名称分词",-1))]),_:1,__:[24]}),o(d,{class:"inner-item",extra:"",label:"商品描述",prop:"productBrief"},{default:r(()=>[i("div",null,[o(v,{modelValue:l.value.productBrief,"onUpdate:modelValue":e[12]||(e[12]=a=>l.value.productBrief=a),disabled:t.examine==1||t.type!=="",rows:2,classType:"tig-form-input",placeholder:"例如：顺丰快递 又快又好",type:"textarea"},null,8,["modelValue","disabled"]),i("div",de,[e[27]||(e[27]=f(" 该描述可作为“商品卖点”的概述及促销信息补充 ",-1)),o(E,{width:400,placement:"right-end",trigger:"click"},{reference:r(()=>e[25]||(e[25]=[i("a",null,"查看示例",-1)])),default:r(()=>e[26]||(e[26]=[i("img",{src:_,style:{width:"380px"}},null,-1)])),_:1})])])]),_:1}),o(d,{class:"inner-item",label:"是否上架",prop:"productStatus"},{default:r(()=>[o(M,{modelValue:l.value.productStatus,"onUpdate:modelValue":e[13]||(e[13]=a=>l.value.productStatus=a),disabled:t.examine==1,style:{width:"100%"}},{default:r(()=>[o(C,{value:1},{default:r(()=>e[28]||(e[28]=[f("上架",-1)])),_:1,__:[28]}),o(C,{value:0},{default:r(()=>e[29]||(e[29]=[f("下架",-1)])),_:1,__:[29]})]),_:1},8,["modelValue","disabled"]),e[30]||(e[30]=i("div",{class:"extra"},"上架则允许销售（未审核的商品无法手动上架）",-1))]),_:1,__:[30]})],64)}}}),Me=Q(oe,[["__scopeId","data-v-027cd3d8"]]);export{Me as default};
