import{d as B,a as F,v as P,r as C,o as K,ag as L,e as p,f as a,g as l,h as s,y as n,l as i,i as t,a2 as R,K as m,k as u,t as d,_ as Y}from"./index-BEWhCL1q.js";/* empty css             *//* empty css                                                                    */import{P as q}from"./Pagination-4FaohhlG.js";import{d as O}from"./dashboard-BqksQYhB.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-B2T-ARqM.js";import"./index-DVG44k_-.js";/* empty css                                                                  *//* empty css                                                                              */import{S as E}from"./SelectTimeInterval-CHncG0ge.js";import{u as j}from"./useListRequest-Bpxbydyo.js";import"./time-BMcbgg5F.js";import"./index-BNk7xZkD.js";const A={class:"container"},$={class:"content_wrapper"},G={class:"container"},H={class:"lyecs-table-list-warp"},J={class:"list-table-tool lyecs-search-warp"},Q={class:"list-table-tool-row"},W={class:"simple-form-warp"},X={class:"simple-form-field"},Z={class:"form-group"},ee={class:"control-container"},te={class:"simple-form-field"},oe={class:"form-group"},se={class:"simple-form-field"},ne={class:"simple-form-field"},ae={class:"table-container"},le={key:0,style:{color:"#0000ff"}},ie={key:1,style:{color:"#ff0000"}},re={key:2},de={key:3,style:{color:"#999","font-size":"12px"}},pe={key:0,style:{color:"#0000ff"}},ce={key:1,style:{color:"#ff0000"}},_e={key:2},me={key:3,style:{color:"#999","font-size":"12px"}},ue={class:"empty-warp"},fe={key:0,class:"empty-bg"},ye={key:0,class:"pagination-con"},he=B({__name:"List",props:{shopId:{type:Number,default:0}},setup(M){const f=F().currentRoute.value.query,w=M,z=P(),{listData:S,loading:y,total:h,filterParams:r,loadData:v,onSearchSubmit:c,onSortChange:T,resetParams:x}=j({apiFunction:O,idKey:"shopId",defaultParams:{page:1,size:z.get("pageSize"),sortField:"",sortOrder:"",keyword:"",shopId:w.shopId||"",endTime:"",startTime:""}});v();const I=()=>{let b=window.location.href,o=new URL(b);o.search="",window.history.replaceState({},document.title,o.toString())},V=C(),k=C(0);return K(()=>{f.id&&L.confirm(`为[${f.companyName||"--"}]立即创建店铺?`,"提示",{closeOnClickModal:!1,showClose:!1,confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{k.value=Number(f.id),V.value.show()}).catch(()=>{k.value=0,I()})}),(b,o)=>{const g=p("el-button"),N=p("TigInput"),_=p("el-table-column"),U=p("el-table"),D=p("a-spin");return l(),a("div",A,[s("div",$,[s("div",G,[s("div",H,[s("div",J,[s("div",Q,[s("div",W,[s("div",X,[s("div",Z,[s("div",ee,[n(N,{modelValue:t(r).keyword,"onUpdate:modelValue":o[0]||(o[0]=e=>t(r).keyword=e),name:"keyword",placeholder:"输入供应商名称",onKeyup:R(t(c),["enter"]),clearable:"",onClear:t(c)},{append:i(()=>[n(g,{onClick:t(c)},{default:i(()=>o[5]||(o[5]=[s("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[5]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),s("div",te,[s("div",oe,[o[6]||(o[6]=s("label",{class:"control-label"},[s("span",null,"时间范围：")],-1)),n(t(E),{"end-date":t(r).endTime,"onUpdate:endDate":o[1]||(o[1]=e=>t(r).endTime=e),"start-date":t(r).startTime,"onUpdate:startDate":o[2]||(o[2]=e=>t(r).startTime=e),clearable:!1,type:"date","value-format":"YYYY-MM-DD"},null,8,["end-date","start-date"])])]),s("div",se,[n(g,{type:"primary",plain:"",onClick:t(c)},{default:i(()=>o[7]||(o[7]=[m("搜索",-1)])),_:1,__:[7]},8,["onClick"])]),s("div",ne,[n(g,{plain:"",onClick:t(x)},{default:i(()=>o[8]||(o[8]=[m("重置",-1)])),_:1,__:[8]},8,["onClick"])])])])]),s("div",ae,[n(D,{spinning:t(y)},{default:i(()=>[n(U,{data:t(S),loading:t(y),total:t(h),"row-key":"shopId",onSortChange:t(T)},{empty:i(()=>[s("div",ue,[t(y)?u("",!0):(l(),a("div",fe,"暂无数据"))])]),default:i(()=>[n(_,{label:"账户变动时间"},{default:i(({row:e})=>[m(d(e.addTime||"--"),1)]),_:1}),n(_,{label:"供应商名称"},{default:i(({row:e})=>[m(d(e.vendorName||"--"),1)]),_:1}),n(_,{label:"变动资金账户"},{default:i(({row:e})=>[e.type==1?(l(),a("span",le,"+"+d(e.vendorMoney),1)):e.type==2?(l(),a("span",ie,"-"+d(e.vendorMoney),1)):(l(),a("span",re,d(e.vendorMoney),1)),e.newVendorMoney?(l(),a("span",de,"（变更后金额:"+d(e.newVendorMoney)+"）",1)):u("",!0)]),_:1}),n(_,{label:"冻结资金账户",width:"250"},{default:i(({row:e})=>[e.type==1?(l(),a("span",pe,"+"+d(e.frozenMoney),1)):e.type==2?(l(),a("span",ce,"-"+d(e.frozenMoney),1)):(l(),a("span",_e,d(e.frozenMoney),1)),e.newFrozenMoney?(l(),a("span",me,"（变更后金额:"+d(e.newFrozenMoney)+"）",1)):u("",!0)]),_:1})]),_:1},8,["data","loading","total","onSortChange"])]),_:1},8,["spinning"]),t(h)>0?(l(),a("div",ye,[n(t(q),{page:t(r).page,"onUpdate:page":o[3]||(o[3]=e=>t(r).page=e),size:t(r).size,"onUpdate:size":o[4]||(o[4]=e=>t(r).size=e),total:t(h),onCallback:t(v)},null,8,["page","size","total","onCallback"])])):u("",!0)])])])])])}}}),Ne=Y(he,[["__scopeId","data-v-beee96a3"]]);export{Ne as default};
