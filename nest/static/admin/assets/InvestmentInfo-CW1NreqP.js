import{d as D,r as _,a5 as I,o as N,e as u,f as U,g as r,h as f,j as p,k as d,y as a,l,E as F,i as c,K as H,I as P,J as x}from"./index-BEWhCL1q.js";import{_ as k}from"./Editor.vue_vue_type_style_index_0_lang-DND4PNav.js";import{u as T}from"./decorateDiscrete-CMCXU3gA.js";import{F as j}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BVJHh8ng.js";import"./index-DVG44k_-.js";import"./vuedraggable.umd-_qUe1n4L.js";import{_ as L}from"./PicList.vue_vue_type_script_setup_true_lang-BVabe4XK.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-B2T-ARqM.js";/* empty css                                                                    *//* empty css                                                                  *//* empty css                                                                              *//* empty css             */import"./ProductGroupSelect.vue_vue_type_style_index_0_scoped_06740008_lang-BVHVKlPC.js";import"./lodash-BnN97RgF.js";import"./index.esm-yJQQDR41.js";import"./format-C8RAoEAk.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./index-BNk7xZkD.js";import"./Image.vue_vue_type_script_setup_true_lang-DC1N644b.js";import"./BusinessImg-CuIKiE1z.js";import"./currencyManagement-BEhPZh48.js";import"./version-C520_GUm.js";import"./SelectLink-C3TYiREn.js";import"./SelectColor.vue_vue_type_script_setup_true_lang-TZ9VNhQ3.js";import"./time-BMcbgg5F.js";const R={class:"container"},E={class:"content_wrapper"},M={class:"lyecs-form-table"},fe=D({__name:"InvestmentInfo",props:{module:{type:Object,default:{}},decorateSn:{type:String,default:""},index:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(n,{expose:S,emit:w}){const v=w,i=n,g=_(!0),b=I(),t=_({title:"",content:"",image:"",images:[],index:0});N(()=>{Object.assign(t.value,i.module[i.index]),t.value.index=i.index,g.value=!1});const y=async()=>{await b.value.validate();try{v("update:confirmLoading",!0);let s=i.module;s[i.index]=t.value;const e=await T({decorateSn:i.decorateSn,data:s});v("submitCallback",e),x.success("操作成功")}catch(s){x.error(s.message)}finally{v("update:confirmLoading",!1)}};return S({onFormSubmit:()=>{y()}}),(s,e)=>{const h=u("TigInput"),m=u("el-form-item"),C=u("el-button"),V=u("el-form"),B=u("a-spin");return r(),U("div",R,[f("div",E,[f("div",M,[g.value?d("",!0):(r(),p(V,{key:0,ref_key:"formRef",ref:b,model:t.value,"label-width":"auto"},{default:l(()=>[a(m,{rules:[{required:!0,message:"流程标题不能为空!"}],label:"流程标题",prop:"title"},{default:l(()=>[a(h,{classType:"tig-form-input",modelValue:t.value.title,"onUpdate:modelValue":e[0]||(e[0]=o=>t.value.title=o)},null,8,["modelValue"])]),_:1}),n.decorateSn=="investmentPromotionHomepage"&&n.index!=0?(r(),p(m,{key:0,label:"流程图",prop:"image"},{default:l(()=>[a(c(j),{photo:t.value.image,"onUpdate:photo":e[1]||(e[1]=o=>t.value.image=o)},null,8,["photo"]),e[5]||(e[5]=f("div",{class:"extra"},"提示：请根据具体需求设置对应大小的图片，高清需要上传双倍大小",-1))]),_:1,__:[5]})):d("",!0),n.decorateSn=="investmentPromotionHomepage"&&n.index==0?(r(),p(m,{key:1,label:"轮播图",prop:"images"},{default:l(()=>[a(c(L),{isMultiple:!0,photos:t.value.images,"onUpdate:photos":e[2]||(e[2]=o=>t.value.images=o)},null,8,["photos"]),e[6]||(e[6]=f("div",{class:"extra"},"提示：请根据具体需求设置对应大小的图片，高清需要上传双倍大小",-1))]),_:1,__:[6]})):d("",!0),n.decorateSn!="investmentPromotionHomepage"?(r(),p(m,{key:2,label:"流程描述",prop:"content"},{default:l(()=>[a(c(k),{html:t.value.content,"onUpdate:html":e[3]||(e[3]=o=>t.value.content=o)},null,8,["html"])]),_:1})):d("",!0),n.decorateSn=="investmentPromotionHomepage"&&n.index!=0?(r(),p(m,{key:3,label:"流程描述",prop:"content"},{default:l(()=>[a(c(k),{html:t.value.content,"onUpdate:html":e[4]||(e[4]=o=>t.value.content=o)},null,8,["html"])]),_:1})):d("",!0),F(a(m,{"wrapper-col":{offset:4,span:16}},{default:l(()=>[a(C,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:y},{default:l(()=>e[7]||(e[7]=[H("提交",-1)])),_:1,__:[7]},512)]),_:1},512),[[P,!i.isDialog]])]),_:1},8,["model"])),a(B,{spinning:g.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}});export{fe as default};
