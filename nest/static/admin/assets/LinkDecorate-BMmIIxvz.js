/* empty css             */import{d as P,ai as w,aj as U,r as d,ak as j,o as A,e as s,f as g,g as y,h as n,y as o,k as x,l as i,K as E,n as J,i as K,J as O,_ as q}from"./index-BEWhCL1q.js";/* empty css                                                                    */import{P as G}from"./Pagination-4FaohhlG.js";import{g as H}from"./mobileDecorate-CT26Oe_a.js";const Q={class:"container",style:{position:"relative",height:"100%"}},W={class:"content_wrapper"},X={class:"",style:{position:"absolute",top:"0",bottom:"0","overflow-y":"auto",width:"100%"}},Y={class:"list-table-tool lyecs-search-warp",style:{position:"absolute",top:"0"}},Z={class:"list-table-tool-row",style:{"margin-bottom":"5px"}},$={class:"list-table-tool-col"},ee={style:{"padding-right":"15px","box-sizing":"border-box"}},te={class:"empty-warp"},oe={key:0,class:"empty-bg"},ae={key:0,class:"pagination-con",style:{position:"absolute",bottom:"0","justify-content":"right",display:"flex",width:"100%",margin:"0"}},le=P({__name:"LinkDecorate",props:w({selectedIds:{type:Array,default:[]},isMultiple:{type:Boolean,default:!0}},{linkSelectData:{},linkSelectDataModifiers:{}}),emits:w(["submitCallback","okType"],["update:linkSelectData"]),setup(m,{expose:S,emit:I}){const _=m,p=I;p("okType",!1);const T=U(m,"linkSelectData"),c=d(!0),a=d([]),u=d(0),v=d([]),l=j({page:1,size:-1,decorateType:1,sortField:"",sortOrder:"",keyword:""}),b=async()=>{c.value=!0;try{const t=await H({...l});v.value=t.records,u.value=t.total}catch(t){O.error(t.message)}finally{c.value=!1}};A(()=>{b()});const k=t=>{b()},C=t=>{_.isMultiple&&(a.value=t.map(e=>e.decorateId),p("okType",a.value.length>0))},f=d(),z=(t,e)=>{if(!_.isMultiple){if(f.value.clearSelection(),t.length==0){a.value=[];return}f.value.toggleRowSelection(e,!0),a.value.length=0,a.value.push(e.decorateId),p("okType",a.value.length>0)}T.value={path:"decorate",label:e.decorateTitle,name:e.decorateTitle,id:e.decorateId,data:{name:e.decorateTitle,path:"decorate",id:e.decorateId}}},D=t=>!_.selectedIds.includes(t.decorateId);return S({onFormSubmit:()=>{console.log(a.value),p("submitCallback",a.value)}}),(t,e)=>{const M=s("TigInput"),V=s("el-button"),F=s("el-space"),B=s("el-form"),h=s("el-table-column"),N=s("el-table"),R=s("a-spin"),L=s("perfect-scrollbar");return y(),g("div",Q,[n("div",W,[n("div",X,[n("div",Y,[o(B,{model:l,name:"form",onFinish:k},{default:i(()=>[n("div",Z,[n("div",$,[o(F,null,{default:i(()=>[o(M,{modelValue:l.keyword,"onUpdate:modelValue":e[0]||(e[0]=r=>l.keyword=r),placeholder:"请输入搜索关键字"},null,8,["modelValue"]),o(V,{onClick:k},{default:i(()=>e[3]||(e[3]=[E("搜索",-1)])),_:1,__:[3]})]),_:1})]),e[4]||(e[4]=n("div",{class:"list-table-tool-col"},null,-1))])]),_:1},8,["model"])]),o(L,{class:"table-container",style:{position:"absolute",top:"50px",bottom:"50px","overflow-y":"auto",width:"100%"}},{default:i(()=>[o(R,{spinning:c.value},{default:i(()=>[n("div",ee,[o(N,{class:J([m.isMultiple?"":"hide-checkbox","result-table"]),ref_key:"tableRef",ref:f,data:v.value,"row-key":"decorateId",onSelect:z,onSelectionChange:C,total:u.value,loading:c.value},{empty:i(()=>[n("div",te,[c.value?x("",!0):(y(),g("div",oe,"暂无数据"))])]),default:i(()=>[o(h,{selectable:D,type:"selection",width:"32"}),o(h,{label:"装修页面名称",prop:"decorateTitle"})]),_:1},8,["class","data","total","loading"])])]),_:1},8,["spinning"])]),_:1}),u.value>0?(y(),g("div",ae,[o(K(G),{page:l.page,"onUpdate:page":e[1]||(e[1]=r=>l.page=r),size:l.size,"onUpdate:size":e[2]||(e[2]=r=>l.size=r),total:u.value,onCallback:b,layout:"slot ,prev, pager, next",background:!1},null,8,["page","size","total"])])):x("",!0)])])])}}}),pe=q(le,[["__scopeId","data-v-d570ad9a"]]);export{pe as default};
