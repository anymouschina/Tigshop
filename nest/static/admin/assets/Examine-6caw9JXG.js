import{d as D,v as E,r as u,a as T,a5 as q,e as s,f as L,g as d,h as b,j as y,k as w,y as t,l as o,E as A,K as m,I as P,J as S,_ as U}from"./index-BEWhCL1q.js";import{A as h}from"./product-Cakm3Kom.js";const j={class:"container"},J={class:"content_wrapper"},K={class:"lyecs-form-table"},$=D({__name:"Examine",props:{id:{type:Number,default:0},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(p,{expose:k,emit:x}){E().config;const i=x,c=p,f=u(!1),V=T().currentRoute.value.query,R=u(c.isDialog?c.id:Number(V.id)),_=q(),a=u({vendorProductId:R.value,auditState:1,auditFailReason:""}),v=async()=>{await _.value.validate();try{i("update:confirmLoading",!0);const l=await h({...a.value});i("submitCallback",l),S.success("操作成功")}catch(l){S.error(l.message)}finally{i("update:confirmLoading",!1)}};return k({onFormSubmit:()=>{v()}}),(l,e)=>{const g=s("el-radio"),C=s("el-radio-group"),r=s("el-form-item"),B=s("TigInput"),F=s("el-button"),N=s("el-form"),I=s("a-spin");return d(),L("div",j,[b("div",J,[b("div",K,[f.value?w("",!0):(d(),y(N,{key:0,ref_key:"formRef",ref:_,model:a.value,"label-width":"auto"},{default:o(()=>[t(r,{label:"处理申请",prop:"auditState"},{default:o(()=>[t(C,{style:{width:"100%"},modelValue:a.value.auditState,"onUpdate:modelValue":e[0]||(e[0]=n=>a.value.auditState=n)},{default:o(()=>[t(g,{value:1},{default:o(()=>e[3]||(e[3]=[m("审核通过",-1)])),_:1,__:[3]}),t(g,{value:2},{default:o(()=>e[4]||(e[4]=[m("审核不通过",-1)])),_:1,__:[4]})]),_:1},8,["modelValue"])]),_:1}),a.value.auditState==2?(d(),y(r,{key:0,label:"审核失败原因",prop:"auditFailReason",rules:[{required:!0,message:"审核失败原因不能为空!"}]},{default:o(()=>[t(B,{classType:"tig-form-input",modelValue:a.value.auditFailReason,"onUpdate:modelValue":e[1]||(e[1]=n=>a.value.auditFailReason=n),cols:"40",rows:2,type:"textarea"},null,8,["modelValue"])]),_:1})):w("",!0),A(t(r,{"wrapper-col":{offset:4,span:16}},{default:o(()=>[t(F,{ref:"submitBtn",class:"form-submit-btn",type:"primary",onClick:e[2]||(e[2]=n=>v())},{default:o(()=>e[5]||(e[5]=[m("提交 ",-1)])),_:1,__:[5]},512)]),_:1},512),[[P,!p.isDialog]])]),_:1},8,["model"])),t(I,{spinning:f.value,style:{width:"100%","margin-top":"100px"}},null,8,["spinning"])])])])}}}),M=U($,[["__scopeId","data-v-809259c7"]]);export{M as default};
