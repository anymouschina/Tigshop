import{d as O,v as T,e as l,f as p,g as c,h as o,k as b,y as a,l as s,i as t,a2 as P,K as d,t as v}from"./index-BEWhCL1q.js";/* empty css             */import"./index-DVG44k_-.js";import{D as q}from"./DeleteRecord-C4_57oHW.js";/* empty css                                                                    */import{P as F}from"./Pagination-4FaohhlG.js";import{d as L,b as U,g as R}from"./subgroup-ByRZER72.js";import{u as $}from"./useListRequest-Bpxbydyo.js";import{_ as C}from"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./index-BNk7xZkD.js";const E={class:"container"},j={class:"content_wrapper"},G={class:"lyecs-table-list-warp"},H={class:"list-table-tool lyecs-search-warp",style:{"margin-bottom":"0px"}},J={class:"list-table-tool-row"},M={class:"simple-form-warp"},Q={class:"simple-form-field"},W={class:"form-group"},X={class:"control-container"},Y={class:"simple-form-field"},Z={class:"form-group"},tt={class:"control-container"},et={class:"table-container"},ot={style:{position:"relative"}},at={class:"empty-warp"},st={key:0,class:"empty-bg"},nt={key:0,class:"pagination-con"},lt={key:0,class:"selected-action-warp selected-warp-left"},it={class:"selected-action"},ht=O({__name:"List",setup(rt){const y=T(),{listData:w,loading:_,total:m,selectedIds:h,filterParams:i,loadData:r,onSearchSubmit:u,onSortChange:S,onSelectChange:I,onBatchAction:D}=$({apiFunction:R,idKey:"groupId",defaultParams:{sortField:"",sortOrder:"",groupName:"",page:1,size:y.get("pageSize")}}),x=async k=>{await D(k,U)};return r(),(k,e)=>{const g=l("el-button"),N=l("TigInput"),f=l("el-table-column"),z=l("el-divider"),V=l("el-table"),A=l("a-spin"),B=l("el-popconfirm"),K=l("el-space");return c(),p("div",E,[o("div",j,[o("div",G,[o("div",H,[o("div",J,[o("div",M,[o("div",Q,[o("div",W,[o("div",X,[a(N,{name:"keyword",modelValue:t(i).groupName,"onUpdate:modelValue":e[0]||(e[0]=n=>t(i).groupName=n),placeholder:"输入分组名称",onKeyup:P(t(u),["enter"]),clearable:"",onClear:t(u)},{append:s(()=>[a(g,{onClick:t(u)},{default:s(()=>e[4]||(e[4]=[o("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[4]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),o("div",Y,[o("div",Z,[o("div",tt,[a(t(C),{isDrawer:"",onOkCallback:t(r),title:"新建分组",width:"600px",path:"salesman/subgroup/Info",params:{act:"add"}},{default:s(()=>[a(g,{type:"primary"},{default:s(()=>e[5]||(e[5]=[d("新建分组",-1)])),_:1,__:[5]})]),_:1},8,["onOkCallback"])])])])])])]),o("div",et,[a(A,{spinning:t(_)},{default:s(()=>[a(V,{data:t(w),"row-key":"groupId",onSelectionChange:t(I),total:t(m),onSortChange:t(S),loading:t(_)},{empty:s(()=>[o("div",at,[t(_)?b("",!0):(c(),p("div",st,"暂无数据"))])]),default:s(()=>[a(f,{label:"分组名称",prop:"groupId",sortable:"custom"},{default:s(({row:n})=>[o("div",ot,[o("div",null,v(n.groupName),1)])]),_:1}),a(f,{label:"创建时间",prop:"addTime",sortable:"custom"},{default:s(({row:n})=>[o("div",null,v(n.addTime),1)]),_:1}),a(f,{label:"操作",fixed:"right",width:150},{default:s(({row:n})=>[a(t(C),{isDrawer:"",onOkCallback:t(r),title:"编辑分组",width:"600px",path:"salesman/subgroup/Info",params:{act:"detail",id:n.groupId}},{default:s(()=>e[6]||(e[6]=[o("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[6]},1032,["onOkCallback","params"]),a(z,{direction:"vertical"}),a(t(q),{onAfterDelete:t(r),requestApi:t(L),params:{id:n.groupId}},{default:s(()=>e[7]||(e[7]=[d("删除",-1)])),_:2,__:[7]},1032,["onAfterDelete","requestApi","params"])]),_:1})]),_:1},8,["data","onSelectionChange","total","onSortChange","loading"])]),_:1},8,["spinning"]),t(m)>0?(c(),p("div",nt,[a(t(F),{page:t(i).page,"onUpdate:page":e[1]||(e[1]=n=>t(i).page=n),size:t(i).size,"onUpdate:size":e[2]||(e[2]=n=>t(i).size=n),total:t(m),onCallback:t(r)},null,8,["page","size","total","onCallback"])])):b("",!0)]),t(h).length>0?(c(),p("div",lt,[o("div",it,[a(K,null,{default:s(()=>[o("span",null,[e[8]||(e[8]=d("已选择：",-1)),o("b",null,v(t(h).length),1),e[9]||(e[9]=d(" 项",-1))]),a(B,{title:"您确认要批量删除所选数据吗？",onConfirm:e[3]||(e[3]=n=>x("del"))},{reference:s(()=>[a(g,null,{default:s(()=>e[10]||(e[10]=[d("批量删除",-1)])),_:1,__:[10]})]),_:1})]),_:1})])])):b("",!0)])])])}}});export{ht as default};
