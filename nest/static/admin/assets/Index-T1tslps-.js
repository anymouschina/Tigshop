/* empty css             */import{d as B,v as g,Q as R,a5 as j,r as _,o as z,e6 as E,J as y,e as r,f as p,g as d,y as o,l,h as a,k as u,j as x,K as i,t as D,i as V,a9 as F,e7 as J,_ as K}from"./index-BEWhCL1q.js";import{d as L}from"./format-C8RAoEAk.js";import{u as O}from"./theme-YtIM2XHr.js";const Q={class:"container"},W={class:"content_wrapper"},q={key:0,class:"extra"},G={key:1,class:"extra"},H={key:2,class:"extra"},X={class:"selected-action"},Y=B({__name:"Index",setup(Z){const b=g().config,{themeInfo:P}=O();R();const k=g(),T=j(),v=_(!1),t=_({vendorProductNeedCheck:void 0,vendorMaxSubAdministrator:"",vendorSetPriceType:1,vendorSetPriceAutoValue:""});z(async()=>{await w()});const S=_(!0),w=async()=>{try{const s=await E();Object.assign(t.value,L(s))}catch(s){y.error(s.message)}finally{S.value=!1}},C=async()=>{v.value=!0;try{const s=await J(t.value);y.success("修改成功"),k.updateConfig()}catch(s){y.error(s.message)}finally{v.value=!1}};return(s,e)=>{const A=r("el-checkbox"),m=r("el-form-item"),c=r("TigInput"),f=r("el-radio"),N=r("el-radio-group"),I=r("el-form"),M=r("el-button"),U=r("a-spin");return d(),p("div",Q,[o(U,{spinning:S.value},{default:l(()=>[o(I,{ref_key:"formRef",ref:T,model:t.value,"label-width":"140px",style:{display:"flex",gap:"12px","flex-direction":"column"}},{default:l(()=>[a("div",W,[e[11]||(e[11]=a("div",{class:"title"},"基本设置",-1)),o(m,{label:"供应商商品审核",prop:"vendorProductNeedCheck"},{default:l(()=>[a("div",null,[o(A,{modelValue:t.value.vendorProductNeedCheck,"onUpdate:modelValue":e[0]||(e[0]=n=>t.value.vendorProductNeedCheck=n),label:"商品默认审核通过","true-label":1,"false-label":0},null,8,["modelValue"]),e[5]||(e[5]=a("div",{class:"extra"},"供应商发布商品的时候是否需要审核才能显示商品",-1))])]),_:1}),o(m,{label:"最大管理员数",prop:"vendorMaxSubAdministrator"},{default:l(()=>[a("div",null,[o(c,{classType:"tig-form-input",modelValue:t.value.vendorMaxSubAdministrator,"onUpdate:modelValue":e[1]||(e[1]=n=>t.value.vendorMaxSubAdministrator=n)},null,8,["modelValue"]),e[6]||(e[6]=a("div",{class:"extra"},"当前供应商可配置最大子管理员数量",-1))])]),_:1}),e[12]||(e[12]=a("div",{class:"title"},"价格设置",-1)),o(m,{label:"供应商设价方式",prop:"vendorSetPriceType"},{default:l(()=>[a("div",null,[a("div",null,[o(N,{modelValue:t.value.vendorSetPriceType,"onUpdate:modelValue":e[2]||(e[2]=n=>t.value.vendorSetPriceType=n),class:"itemWidth"},{default:l(()=>[o(f,{value:1},{default:l(()=>e[7]||(e[7]=[i("按比例",-1)])),_:1,__:[7]}),o(f,{value:2},{default:l(()=>e[8]||(e[8]=[i("按固定数值加价",-1)])),_:1,__:[8]}),o(f,{value:3},{default:l(()=>e[9]||(e[9]=[i("默认售价",-1)])),_:1,__:[9]})]),_:1},8,["modelValue"]),t.value.vendorSetPriceType===1?(d(),x(c,{key:0,class:"mt10",type:"decimal",width:"110px",modelValue:t.value.vendorSetPriceAutoValue,"onUpdate:modelValue":e[3]||(e[3]=n=>t.value.vendorSetPriceAutoValue=n)},{append:l(()=>e[10]||(e[10]=[i(" % ",-1)])),_:1},8,["modelValue"])):u("",!0),t.value.vendorSetPriceType===2?(d(),x(c,{key:1,class:"mt10",type:"decimal",width:"110px",modelValue:t.value.vendorSetPriceAutoValue,"onUpdate:modelValue":e[4]||(e[4]=n=>t.value.vendorSetPriceAutoValue=n)},{append:l(()=>[i(D(V(b).dollarSign),1)]),_:1},8,["modelValue"])):u("",!0)]),t.value.vendorSetPriceType===1?(d(),p("div",q," 选择按比例价，供应商商品将会自动按照加价比例设置销售价，系统会自动计算您设置比例后售卖的最终价格，若您设置的最终价格大于供应商限制的价格，系统会自动取供应商设置的最高比例进行售卖。 ")):u("",!0),t.value.vendorSetPriceType===2?(d(),p("div",G,"选择按固定数值加价，供应商商品在导入时计算出供货价+您设定的价格。")):u("",!0),t.value.vendorSetPriceType===3?(d(),p("div",H,"默认售价，供应商商品在导入时默认填入供应商设置的最大售卖价格。")):u("",!0)])]),_:1})])]),_:1},8,["model"]),e[14]||(e[14]=a("div",{style:{height:"20px"}},null,-1)),a("div",{class:"selected-action-warp selected-warp-left",style:F({left:V(P).layout!=="topMenu"?"369px":"270px"})},[a("div",X,[o(M,{loading:v.value,class:"form-submit-btn",size:"large",type:"primary",onClick:C},{default:l(()=>e[13]||(e[13]=[i("提 交 ",-1)])),_:1,__:[13]},8,["loading"])])],4)]),_:1,__:[14]},8,["spinning"])])}}}),oe=K(Y,[["__scopeId","data-v-f1e38079"]]);export{oe as default};
