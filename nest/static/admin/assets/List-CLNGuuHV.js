/* empty css             */import"./index-DVG44k_-.js";import{d as I,v as P,r as f,ak as R,o as q,e as r,f as g,g as b,h as a,y as t,l as o,k as y,i as _,K as u,t as h,J as k}from"./index-BEWhCL1q.js";import{D as T}from"./DeleteRecord-C4_57oHW.js";/* empty css                                                                    */import{P as U}from"./Pagination-4FaohhlG.js";import{d as $,g as E,b as J}from"./verbalAssociation-By8-alcJ.js";import{_ as C}from"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./index-BNk7xZkD.js";const K={class:"container"},M={class:"content_wrapper"},j={class:"lyecs-table-list-warp"},G={class:"list-table-tool lyecs-search-warp"},H={class:"list-table-tool-row"},Q={class:"list-table-tool-col"},W={key:0},X={class:"table-container"},Y={style:{position:"relative"}},Z={style:{position:"relative"}},ee={class:"empty-warp"},te={key:0,class:"empty-bg"},oe={key:0,class:"pagination-con"},ue=I({__name:"List",props:{promotionType:{type:Number,default:1}},setup(ae,{expose:S}){const x=P(),w=f(),d=f(!0),m=f(0),p=f([]),n=R({page:1,size:x.get("pageSize"),sortField:"",sortOrder:"",keyword:""}),i=async()=>{d.value=!0;try{const s=await E({...n});w.value=s.records,m.value=s.total}catch(s){k.error(s.message)}finally{d.value=!1}};q(()=>{i()});const z=({prop:s,order:e})=>{n.sortField=s,n.sortOrder=e=="ascending"?"asc":e=="descending"?"desc":"",i()},D=async(s,e)=>{try{const c=await J(s,{ids:p.value,value:e});k.success("操作成功"),i()}catch(c){k.error(c.message)}},A=s=>{p.value=s.map(e=>e.id)};return S({loadFilter:i}),(s,e)=>{const c=r("el-button"),N=r("el-popconfirm"),B=r("el-space"),L=r("el-form"),v=r("el-table-column"),O=r("el-divider"),V=r("el-table"),F=r("a-spin");return b(),g("div",K,[a("div",M,[a("div",j,[a("div",G,[t(L,{model:n},{default:o(()=>[a("div",H,[a("div",Q,[t(B,null,{default:o(()=>[t(_(C),{params:{act:"add"},isDrawer:"",path:"setting/multilingual/verbalAssociation/Info",title:"添加语言",width:"580px",onOkCallback:i},{default:o(()=>[t(c,{type:"primary"},{default:o(()=>e[3]||(e[3]=[u("添加地区语言关联",-1)])),_:1,__:[3]})]),_:1}),t(N,{title:"您确认要批量删除所选数据吗？",onConfirm:e[0]||(e[0]=l=>D("del"))},{reference:o(()=>[t(c,{disabled:p.value.length===0},{default:o(()=>e[4]||(e[4]=[u("批量删除",-1)])),_:1,__:[4]},8,["disabled"])]),_:1}),p.value.length>0?(b(),g("span",W,[e[5]||(e[5]=u(" 已选择：",-1)),a("b",null,h(p.value.length),1),e[6]||(e[6]=u(" 项 ",-1))])):y("",!0)]),_:1})])])]),_:1},8,["model"])]),a("div",X,[t(F,{spinning:d.value},{default:o(()=>[t(V,{data:w.value,"row-key":"id",onSelectionChange:A,total:m.value,onSortChange:z,loading:d.value},{empty:o(()=>[a("div",ee,[d.value?y("",!0):(b(),g("div",te,"暂无数据"))])]),default:o(()=>[t(v,{type:"selection",width:"32"}),t(v,{label:"地区",prop:"name"},{default:o(({row:l})=>[a("div",Y,[a("div",null,h(l.name||"--"),1)])]),_:1}),t(v,{label:"语言标识码",prop:"code"},{default:o(({row:l})=>[a("div",Z,[a("div",null,h(l.code||"--"),1)])]),_:1}),t(v,{label:"操作",fixed:"right",width:"150"},{default:o(({row:l})=>[t(_(C),{isDrawer:"",onOkCallback:i,title:"编地区语言",width:"580px",path:"setting/multilingual/verbalAssociation/Info",params:{act:"detail",id:l.id}},{default:o(()=>e[7]||(e[7]=[a("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[7]},1032,["params"]),t(O,{direction:"vertical"}),t(_(T),{onAfterDelete:i,requestApi:_($),params:{id:l.id}},{default:o(()=>e[8]||(e[8]=[u("删除",-1)])),_:2,__:[8]},1032,["requestApi","params"])]),_:1})]),_:1},8,["data","total","loading"])]),_:1},8,["spinning"]),m.value>0?(b(),g("div",oe,[t(_(U),{page:n.page,"onUpdate:page":e[1]||(e[1]=l=>n.page=l),size:n.size,"onUpdate:size":e[2]||(e[2]=l=>n.size=l),total:m.value,onCallback:i},null,8,["page","size","total"])])):y("",!0)])])])])}}});export{ue as default};
