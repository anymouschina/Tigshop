import{g as I}from"./shop-CWBoDOF9.js";import{v as V}from"./bindShop-CqwN6G6E.js";import{c as b}from"./version-C520_GUm.js";import{d as w,ai as m,r as c,ak as C,aj as B,o as M,c as x,J as F,e as f,j as h,g as r,l as L,f as j,F as T,m as E}from"./index-BEWhCL1q.js";const q=w({__name:"SelectShop",props:m({modelValue:{type:[Number,String]},multiple:{type:Boolean,default:!1}},{shopId:{},shopIdModifiers:{}}),emits:m(["update:modelValue","onChange"],["update:shopId"]),setup(n,{emit:v}){const g=n,a=c(!0),l=C({keyword:""}),u=v,p=B(n,"shopId"),y=o=>{u("update:modelValue",o),u("onChange",o)};M(()=>{i()});const d=x(()=>(localStorage.getItem("adminType"),b())),s=c([]),i=async o=>{a.value=!0,l.keyword=String(o||"");try{let e;d.value?(e=await V({...l}),s.value=e.records):(e=await I({...l}),s.value=e)}catch(e){F.error(e.message)}finally{a.value=!1}},S=o=>{d.value&&i(o)};return(o,e)=>{const _=f("el-option"),k=f("el-select");return r(),h(k,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t),loading:a.value,filterable:"",remote:"",remoteMethod:S,multiple:g.multiple,placeholder:"请输入店铺名称",clearable:"","reserve-keyword":"",onChange:y},{default:L(()=>[(r(!0),j(T,null,E(s.value,t=>(r(),h(_,{key:t.shopId,label:t.shopTitle,value:t.shopId},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading","multiple"])}}});export{q as _};
