/* empty css             */import"./index-DVG44k_-.js";import{d as B,v as F,r as L,e as _,f,g as n,h as a,k as d,y as l,l as o,i as e,K as i,t as u,j as v,_ as V}from"./index-BEWhCL1q.js";import{D as k}from"./DeleteRecord-C4_57oHW.js";/* empty css                                                                    */import{P as U}from"./Pagination-4FaohhlG.js";import{u as x,d as $,g as K}from"./material-drHrKJJi.js";import{_ as R}from"./selectCategory.vue_vue_type_script_setup_true_lang-kd68BGlq.js";import{u as j}from"./useListRequest-Bpxbydyo.js";import{_ as S}from"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./index-BNk7xZkD.js";import"./category-yYcKmj4c.js";const E={class:"container"},G={class:"content_wrapper"},H={class:"lyecs-table-list-warp"},J={class:"list-table-tool lyecs-search-warp"},M={class:"advanced-search-warp list-table-tool-row"},Q={class:"simple-form-warp"},W={class:"simple-form-field"},X={class:"form-group"},Y={class:"control-container"},Z={class:"simple-form-warp"},ee={class:"simple-form-field"},te={class:"control-container"},ae={class:"list-table-tool-row"},se={class:"simple-form-warp"},le={class:"simple-form-field"},oe={class:"table-container"},ie={class:"tit-row flex flex-align-center"},ne={key:0,class:"label"},de={class:"txt"},re={class:"empty-warp"},pe={key:0,class:"empty-bg"},_e={key:0,class:"pagination-con"},me={key:0,class:"selected-action-warp selected-warp-left"},ce={class:"selected-action"},fe=B({__name:"List",setup(ue){const w=F(),{listData:I,loading:C,total:b,selectedIds:A,filterParams:r,loadData:p,onSearchSubmit:h,onSortChange:z,onSelectChange:q,resetParams:O}=j({apiFunction:K,idKey:"id",defaultParams:{page:1,size:w.get("pageSize"),sortField:"",sortOrder:"",categoryId:"",endTime:"",startTime:""}});return p(),L(-1),(ge,t)=>{const m=_("el-button"),T=_("el-form"),g=_("el-table-column"),y=_("el-divider"),D=_("el-space"),N=_("el-table"),P=_("a-spin");return n(),f("div",E,[a("div",G,[a("div",H,[a("div",J,[l(T,{model:e(r),name:"form"},{default:o(()=>[a("div",M,[a("div",Q,[a("div",W,[a("div",X,[t[3]||(t[3]=a("label",{class:"control-label"},[a("span",null,"素材分类：")],-1)),a("div",Y,[l(R,{categoryId:e(r).categoryId,"onUpdate:categoryId":t[0]||(t[0]=s=>e(r).categoryId=s),onOnChange:e(h)},null,8,["categoryId","onOnChange"])])])]),a("div",Z,[a("div",ee,[t[6]||(t[6]=a("label",{class:"control-label"},null,-1)),a("div",te,[l(m,{type:"primary",plain:"",onClick:e(h)},{default:o(()=>t[4]||(t[4]=[i("搜索",-1)])),_:1,__:[4]},8,["onClick"]),l(m,{plain:"",onClick:e(O)},{default:o(()=>t[5]||(t[5]=[i("重置",-1)])),_:1,__:[5]},8,["onClick"])])])])])]),a("div",ae,[a("div",se,[a("div",le,[l(e(S),{isDrawer:"",onOkCallback:e(p),title:"添加素材",width:"700px",path:"salesman/material/Info",params:{act:"add"}},{default:o(()=>[l(m,{type:"primary"},{default:o(()=>t[7]||(t[7]=[i("立即新建",-1)])),_:1,__:[7]})]),_:1},8,["onOkCallback"])])])])]),_:1},8,["model"])]),a("div",oe,[l(P,{spinning:e(C)},{default:o(()=>[l(N,{data:e(I),total:e(b),"row-key":"id",onSelectionChange:e(q),onSortChange:e(z)},{empty:o(()=>[a("div",re,[e(C)?d("",!0):(n(),f("div",pe,"暂无数据"))])]),default:o(()=>[l(g,{label:"素材内容",prop:"content",fixed:"left"},{default:o(({row:s})=>[a("div",ie,[s.isTop!=0?(n(),f("div",ne,"置顶")):d("",!0),a("div",de,u(s.content||"--"),1)])]),_:1}),l(g,{label:"相关商品",width:200},{default:o(({row:s})=>{var c;return[i(u(((c=s.product)==null?void 0:c.productName)||"--"),1)]}),_:1}),l(g,{label:"分类",width:160},{default:o(({row:s})=>{var c;return[i(u(((c=s.category)==null?void 0:c.categoryName)||"--"),1)]}),_:1}),l(g,{width:200,fixed:"right",label:"操作"},{default:o(({row:s})=>[l(D,{size:0},{default:o(()=>[s.isTop!=0?(n(),v(e(k),{key:0,onAfterDelete:e(p),requestApi:e(x),params:{id:s.id,field:"isTop",val:0},title:"确定取消置顶吗？"},{default:o(()=>t[8]||(t[8]=[i("取消置顶",-1)])),_:2,__:[8]},1032,["onAfterDelete","requestApi","params"])):d("",!0),s.isTop!=0?(n(),v(y,{key:1,direction:"vertical"})):d("",!0),l(e(S),{params:{act:"detail",id:s.id},isDrawer:"",path:"salesman/material/Info",title:"编辑素材",width:"700px",onOkCallback:e(p)},{default:o(()=>t[9]||(t[9]=[a("a",{class:"btn-link"},"编辑",-1)])),_:2,__:[9]},1032,["params","onOkCallback"]),l(y,{direction:"vertical"}),l(e(k),{onAfterDelete:e(p),requestApi:e(x),params:{id:s.id,field:"isAvailable",val:s.isAvailable==1?0:1},title:`确认${s.isAvailable==1?"失效":"恢复"}？`,message:"操作成功"},{default:o(()=>[i(u(s.isAvailable==1?"失效":"恢复"),1)]),_:2},1032,["onAfterDelete","requestApi","params","title"]),s.isAvailable!==1?(n(),v(y,{key:2,direction:"vertical"})):d("",!0),s.isAvailable!==1?(n(),v(e(k),{key:3,onAfterDelete:e(p),requestApi:e($),params:{id:s.id}},{default:o(()=>t[10]||(t[10]=[i("删除",-1)])),_:2,__:[10]},1032,["onAfterDelete","requestApi","params"])):d("",!0)]),_:2},1024)]),_:1})]),_:1},8,["data","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),e(b)>0?(n(),f("div",_e,[l(e(U),{page:e(r).page,"onUpdate:page":t[1]||(t[1]=s=>e(r).page=s),size:e(r).size,"onUpdate:size":t[2]||(t[2]=s=>e(r).size=s),total:e(b),onCallback:e(p)},null,8,["page","size","total","onCallback"])])):d("",!0)]),e(A).length>0?(n(),f("div",me,[a("div",ce,[l(D,null,{default:o(()=>[a("span",null,[t[11]||(t[11]=i("已选择：",-1)),a("b",null,u(e(A).length),1),t[12]||(t[12]=i(" 项",-1))]),l(m,null,{default:o(()=>t[13]||(t[13]=[i("设置等级",-1)])),_:1,__:[13]}),l(m,null,{default:o(()=>t[14]||(t[14]=[i("分组",-1)])),_:1,__:[14]}),l(m,null,{default:o(()=>t[15]||(t[15]=[i("清退",-1)])),_:1,__:[15]})]),_:1})])])):d("",!0)])])])}}}),ze=V(fe,[["__scopeId","data-v-7e03b129"]]);export{ze as default};
