/* empty css             */import{d as ge,r as N,a5 as W,a as fe,ak as ve,o as _e,e as f,f as g,g as m,h as n,y as t,k as _,j as E,i as y,l,dp as Q,K as p,t as b,a9 as he,n as ye,a7 as ke,F as X,m as be,dB as we,fn as ce,ao as Ve,fo as xe,J as M,_ as Ue}from"./index-BEWhCL1q.js";import{R as Pe}from"./RadioType-C4-J2Zv8.js";import{a as Ce,u as Se}from"./levelManage-CNSle6Zo.js";import"./index-DVG44k_-.js";import{F as Ge}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BVJHh8ng.js";import"./vuedraggable.umd-_qUe1n4L.js";import{_ as I}from"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";/* empty css                                                                  */import"./index-BNk7xZkD.js";import"./Image.vue_vue_type_script_setup_true_lang-DC1N644b.js";import"./format-C8RAoEAk.js";import"./BusinessImg-CuIKiE1z.js";import"./currencyManagement-BEhPZh48.js";import"./version-C520_GUm.js";const Ne={class:"container"},Oe={class:"content_wrapper"},Re={class:"lyecs-form-table"},Te={class:"mb20"},Be={class:"flex mb10"},Le={class:"flex"},Ee={class:"level_txt"},Me={class:"flex flex-align-center"},Ie={key:0,class:"flex flex-align-center flex-justify-between"},De={class:"info"},$e={key:0},qe={key:0,class:"flex flex-align-center"},ze={key:1,class:"flex flex-align-center"},je={class:"el-dropdown-link"},Ae={key:1,class:"flex flex-align-center flex-justify-between"},Je={class:"info"},Fe={key:0,class:"flex flex-align-center"},We={key:1,class:"flex flex-align-center"},Qe={class:"discount_cell"},Xe={class:"icon-info"},Ke={class:"table-col"},Ye={key:0,class:"show"},Ze={class:"hide"},He={class:"table-col"},et={key:0,class:"show"},tt={class:"hide"},lt={class:"flex flex-justify-between"},at=["onClick"],ot={key:0},nt={class:"flex align-center mt10"},it={class:"flex align-center mt10"},rt={class:"flex align-center mt10"},dt={class:"flex flex-align-center"},st={key:0},ut={key:1},pt={class:"extra"},mt={class:"level_txt"},gt={class:"flex"},ft={class:"icon-info"},vt={class:"flex flex-align-center flex-justify-between"},_t={class:"info"},ht={key:0},yt={key:1},kt={key:0,class:"flex flex-align-center"},bt={key:1,class:"flex flex-align-center"},wt=ge({__name:"Info",props:{id:{type:Number,default:0},act:{type:String,default:""},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(K,{expose:Y,emit:Z}){const D=N(1),O=Z,R=K,T=W(),$=W(),U=N(!0),q=fe().currentRoute.value.query,B=N(R.isDialog?R.act:String(q.act)),H=N(R.isDialog?R.id:Number(q.id)),ee=B.value==="add"?"create":"update",te={1:"黄金会员",2:"铂金会员",3:"黑金会员",4:"钻石会员",5:"至尊会员"},a=N({rankType:1,userRankConfig:{type:1,rankAfterMonth:12,useMonth:12},growUpSetting:{buyOrder:1,buyOrderNumber:1,buyOrderGrowth:1,evpi:1,evpiGrowth:1,bindPhone:1,bindPhoneGrowth:1},data:[{rankLevel:1,rankName:"黄金会员",rankLogo:"https://oss.tigshop.com/img/gallery/202501/1735803176Yh9mCaE2r9ebXK3bGm.png",rankCardType:1,rankIco:"card1",rankBg:"",minGrowthPoints:0,discount:"",rankPoint:"",freeShipping:0,rights:[]}]}),le=(i,e,d,r)=>{if(e==null||e===""){d(new Error("请输入"));return}const u=Number(e);if(isNaN(u)||u<=0){d(new Error("请输入有效的数字"));return}if(r>0){const P=Number(a.value.data[r-1].minGrowthPoints);if(u<=P){d(new Error(`需大于上一级的${a.value.rankType==1?"成长值":"消费金额"}(${P})`));return}}d()},x=ve({rankName:[{required:!0,message:"请输入",trigger:"blur"}],discount:[{required:!0,validator:(i,e,d)=>{if(e!==""&&(Number(e)<0||Number(e)>9.9)){d(new Error("需大于0小于10"));return}d()},trigger:"blur"}],rankPoint:[{required:!0,validator:(i,e,d)=>{if(e!==""&&(Number(e)<0||Number(e)>50)){d(new Error("需大于0小于50"));return}d()},trigger:"blur"}],minGrowthPoints:[{required:!0,validator:(i,e,d)=>{const r=/\.(\d+)\./,u=i==null?void 0:i.field.match(r),P=u?u[1]:void 0;le(i,e,d,P)},trigger:"blur"}],buyOrder:[{required:!0,validator:(i,e,d)=>{let r=a.value.growUpSetting;if(r.buyOrder==1){if(r.buyOrderNumber<1||!r.buyOrderNumber){d(new Error("请输入"));return}if(r.buyOrderGrowth<1||!r.buyOrderNumber){d(new Error("请输入"));return}}d()},trigger:"blur"}],evpi:[{required:!0,validator:(i,e,d)=>{let r=a.value.growUpSetting;if(r.evpi==1&&(r.evpiGrowth<1||!r.evpiGrowth)){d(new Error("请输入"));return}d()},trigger:"blur"}],bindPhone:[{required:!0,validator:(i,e,d)=>{let r=a.value.growUpSetting;if(r.bindPhone==1&&(r.bindPhoneGrowth<1||!r.bindPhoneGrowth)){d(new Error("请输入"));return}d()},trigger:"blur"}]}),ae=i=>{console.log(i)},oe=i=>{a.value.data.forEach(e=>{e.rights.splice(i,1)})},ne=async()=>{try{U.value=!0;const i=await Ce(B.value);console.log(i),i.userRankList.forEach(e=>{(e.rights==null||!e.rights)&&(e.rights=[])}),a.value.data=i.userRankList,a.value.rankType=i.rankType||1,a.value.userRankConfig=i.userRankConfig.data,xe(i.growUpSetting)&&(a.value.growUpSetting=i.growUpSetting)}catch(i){M.error(i.message),O("close")}finally{U.value=!1}},ie=["https://oss.tigshop.com/img/gallery/202501/1737524324ro1DJxNm3aQowZKnPU.png","https://oss.tigshop.com/img/gallery/202501/1737524324ZUrDWMFqTPMBTCOlhg.png","https://oss.tigshop.com/img/gallery/202501/1737524324ptLNB2WynLJBBwSHHj.png","https://oss.tigshop.com/img/gallery/202501/1737524324hhmoz188M0ejyXEBhT.png","https://oss.tigshop.com/img/gallery/202501/1737524324O1BXVeurAyDMj9QG8f.png","https://oss.tigshop.com/img/gallery/202501/1737524324T7eKXTpMiCeVQOyFb6.png","https://oss.tigshop.com/img/gallery/202501/1737524324bUufpiVaGcaUad1CWd.png","https://oss.tigshop.com/img/gallery/202501/1737524324NhZbUn45wj1eSaIbjY.png","https://oss.tigshop.com/img/gallery/202501/1737524324bv68MBsoQXa2rLUO9i.png","https://oss.tigshop.com/img/gallery/202501/1737524324urqONY3QDjaTqW7d56.png"],re=async()=>{if(await T.value.validate(),a.value.data.length<=10){let i=[];a.value.data.length>0&&(i=JSON.parse(JSON.stringify(a.value.data[0].rights))),i.map(d=>{d.isChecked=0});let e={rankLevel:a.value.data.length+1,rankName:te[a.value.data.length+1],rankLogo:ie[a.value.data.length],rankCardType:1,rankIco:"card"+(a.value.data.length+1),rankBg:"",minGrowthPoints:"",discount:"",rankPoint:"",freeShipping:0,rights:i};a.value.data.push(e),await T.value.validate()}},z=i=>{const{row:e,act:d,index:r}=i;d=="add"&&a.value.data.forEach(u=>{u.rights.push(JSON.parse(JSON.stringify(e)))}),d=="edit"&&a.value.data.forEach(u=>{u.rights[r]=JSON.parse(JSON.stringify(e)),u.rights[r].isChecked=0})},de=i=>{a.value.data.splice(i,1)};_e(()=>{B.value==="detail"?ne():U.value=!1});const se=async()=>{await T.value.validate(),a.value.rankType==1&&await $.value.validate();try{O("update:confirmLoading",!0);const i=await Se(ee,{id:H.value,...a.value});O("submitCallback",i),M.success("操作成功")}catch(i){M.error(i.message)}finally{O("update:confirmLoading",!1)}};return Y({onFormSubmit:()=>{se()}}),(i,e)=>{const d=f("el-button"),r=f("el-form-item"),u=f("el-table-column"),P=f("el-image"),S=f("el-tooltip"),h=f("TigInput"),G=f("el-icon"),j=f("el-dropdown-item"),ue=f("el-dropdown-menu"),pe=f("el-dropdown"),A=f("el-checkbox"),J=f("el-table"),L=f("el-form"),w=f("el-radio"),C=f("el-radio-group"),V=f("el-option"),F=f("el-select");return m(),g("div",Ne,[n("div",Oe,[n("div",Re,[e[50]||(e[50]=n("div",{class:"title"},"模式切换",-1)),n("div",Te,[U.value?_("",!0):(m(),E(y(Pe),{key:0,width:"250px",modelValue:a.value.rankType,"onUpdate:modelValue":e[0]||(e[0]=o=>a.value.rankType=o),radioList:[{key:1,title:"成长值会员",tips:"根据用户的下单积累的成长值，自动升级到不同等级"},{key:2,title:"消费会员",tips:"根据用户的消费金额，自动升级到不同等级"}]},null,8,["modelValue"]))]),e[51]||(e[51]=n("div",{class:"title"},"等级方案",-1)),t(L,{ref_key:"formRef",ref:T,rules:x,model:a.value,"label-width":"auto"},{default:l(()=>[t(r,{prop:"data",style:{"margin-bottom":"0"}},{default:l(()=>[n("div",Be,[n("div",Le,[t(d,{type:"primary",icon:y(Q),link:"",onClick:re,disabled:a.value.data.length>=10},{default:l(()=>[p(b(a.value.data.length>=10?"多添加10级":`添加等级(${a.value.data.length}/10)`),1)]),_:1},8,["icon","disabled"])])])]),_:1}),t(r,{prop:"data"},{default:l(()=>[t(J,{data:a.value.data,loading:U.value,"row-key":"userId"},{default:l(()=>[t(u,{width:80,label:"等级",prop:"level"},{default:l(({row:o,$index:v})=>[n("div",Ee,"vip"+b(o.rankLevel),1)]),_:1}),t(u,{width:88,label:"会员图标",prop:"rankLogo",align:"center"},{default:l(({row:o,$index:v})=>[t(S,{effect:"light",placement:"bottom","show-after":150},{content:l(()=>e[14]||(e[14]=[p(" 点击修改 ",-1)])),default:l(()=>[n("div",null,[t(y(Ge),{photo:o.rankLogo,"onUpdate:photo":s=>o.rankLogo=s,type:2},{default:l(()=>[t(P,{style:{height:"20px"},src:o.rankLogo},null,8,["src"])]),_:2},1032,["photo","onUpdate:photo"])])]),_:2},1024)]),_:1}),t(u,{width:100,label:"会员卡面",prop:"card"},{default:l(({row:o})=>[t(y(I),{params:{act:"edit",data:o},maskClosable:!1,isDrawer:!1,path:"user/levelManagePro/src/SetCardType",title:"会员卡面",width:"850px",onOkCallback:ae},{default:l(()=>[o.rankBg!==""&&o.rankCardType==2?(m(),g("div",{key:0,class:"card_item",style:he({backgroundImage:"url("+o.rankBg+")"})},null,4)):(m(),g("div",{key:1,class:ye(["card_item",o.rankIco])},null,2))]),_:2},1032,["params"])]),_:1}),t(u,{width:200,label:"会员名称*",prop:"rankName"},{default:l(({row:o,$index:v})=>[t(r,{prop:"data."+v+".rankName",rules:x.rankName},{default:l(()=>[n("div",Me,[t(h,{modelValue:o.rankName,"onUpdate:modelValue":s=>o.rankName=s,style:{width:"100px"}},null,8,["modelValue","onUpdate:modelValue"])])]),_:2},1032,["prop","rules"])]),_:1}),t(u,{width:210,label:`升级条件${a.value.rankType==1?"(成长值)":""}*`,prop:"minGrowthPoints"},{default:l(({row:o,$index:v})=>[v===0?(m(),g("div",Ie,[n("div",De,[o.minGrowthPoints===0?(m(),g("div",$e,"无门槛")):(m(),E(r,{key:1,prop:"data."+v+".minGrowthPoints",rules:x.minGrowthPoints},{default:l(()=>[a.value.rankType==1?(m(),g("div",qe,[t(h,{type:"integer",modelValue:o.minGrowthPoints,"onUpdate:modelValue":s=>o.minGrowthPoints=s,width:"100px"},null,8,["modelValue","onUpdate:modelValue"]),e[15]||(e[15]=p(" 成长值 ",-1))])):_("",!0),a.value.rankType==2?(m(),g("div",ze,[e[16]||(e[16]=p(" 消费满 ",-1)),t(h,{type:"decimal",modelValue:o.minGrowthPoints,"onUpdate:modelValue":s=>o.minGrowthPoints=s,width:"100px"},null,8,["modelValue","onUpdate:modelValue"]),e[17]||(e[17]=p(" 元 ",-1))])):_("",!0)]),_:2},1032,["prop","rules"]))]),t(pe,null,{dropdown:l(()=>[t(ue,null,{default:l(()=>[t(j,{onClick:()=>{o.minGrowthPoints=0}},{default:l(()=>e[18]||(e[18]=[p("无门槛",-1)])),_:2,__:[18]},1032,["onClick"]),t(j,{onClick:()=>{o.minGrowthPoints=""}},{default:l(()=>[p(b(a.value.rankType==1?"达到x成长值":"消费x元"),1)]),_:2},1032,["onClick"])]),_:2},1024)]),default:l(()=>[n("span",je,[t(G,{class:"icon-info",color:"#333",size:"14"},{default:l(()=>[t(y(ke))]),_:1})])]),_:2},1024)])):(m(),g("div",Ae,[n("div",Je,[t(r,{prop:"data."+v+".minGrowthPoints",rules:x.minGrowthPoints},{default:l(()=>[a.value.rankType==1?(m(),g("div",Fe,[t(h,{type:"integer",modelValue:o.minGrowthPoints,"onUpdate:modelValue":s=>o.minGrowthPoints=s,width:"100px"},null,8,["modelValue","onUpdate:modelValue"]),e[19]||(e[19]=p(" 成长值 ",-1))])):_("",!0),a.value.rankType==2?(m(),g("div",We,[e[20]||(e[20]=p(" 消费满 ",-1)),t(h,{type:"decimal",modelValue:o.minGrowthPoints,"onUpdate:modelValue":s=>o.minGrowthPoints=s,width:"100px"},null,8,["modelValue","onUpdate:modelValue"]),e[21]||(e[21]=p(" 元 ",-1))])):_("",!0)]),_:2},1032,["prop","rules"])])]))]),_:1},8,["label"]),t(u,{prop:"rights",align:"center"},{header:l(()=>[n("div",Qe,[e[23]||(e[23]=n("div",null,"会员权益",-1)),t(S,{effect:"light",placement:"bottom","show-after":150},{content:l(()=>e[22]||(e[22]=[p(" 添加权益 ",-1)])),default:l(()=>[n("div",Xe,[t(y(I),{params:{act:"add"},maskClosable:!1,isDrawer:!1,path:"user/levelManagePro/src/AddRights",title:"自定义权益",width:"450px",onOkCallback:z},{default:l(()=>[t(G,{color:"#333",size:"14"},{default:l(()=>[t(y(Q))]),_:1})]),_:1})])]),_:1})])]),default:l(({row:o,$index:v})=>[t(u,{prop:"discount",label:"折扣",width:120},{default:l(({row:s,$index:k})=>[t(r,{prop:"data."+k+".discount",rules:x.discount},{default:l(()=>[n("div",Ke,[s.discount>0?(m(),g("div",Ye,b(s.discount)+"折",1)):_("",!0),n("div",Ze,[t(h,{type:"decimal",modelValue:s.discount,"onUpdate:modelValue":c=>s.discount=c,width:"90px"},{append:l(()=>e[24]||(e[24]=[p("折",-1)])),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1032,["prop","rules"])]),_:2},1024),t(u,{prop:"rankPoint",label:"多倍积分",width:120},{default:l(({row:s,$index:k})=>[t(r,{prop:"data."+k+".rankPoint",rules:x.rankPoint},{default:l(()=>[n("div",He,[s.rankPoint>0?(m(),g("div",et,b(s.rankPoint)+"倍",1)):_("",!0),n("div",tt,[t(h,{type:"decimal",modelValue:s.rankPoint,"onUpdate:modelValue":c=>s.rankPoint=c,width:"90px",placeholder:"1-50"},{append:l(()=>e[25]||(e[25]=[p("倍",-1)])),_:2},1032,["modelValue","onUpdate:modelValue"])])])]),_:2},1032,["prop","rules"])]),_:2},1024),t(u,{prop:"freeShipping",label:"包邮"},{default:l(({row:s,$index:k})=>[t(A,{modelValue:s.freeShipping,"onUpdate:modelValue":c=>s.freeShipping=c,"true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),(m(!0),g(X,null,be(a.value.data[0].rights,(s,k)=>(m(),E(u,{label:s.name,key:k,width:120},{header:l(()=>[n("div",lt,[n("div",null,b(s.name),1),t(S,{effect:"light",placement:"bottom","show-after":"150"},{content:l(()=>e[26]||(e[26]=[p(" 编辑权益 ",-1)])),default:l(()=>[t(y(I),{params:{act:"edit",data:s,rowIndex:k},maskClosable:!1,isDrawer:!1,path:"user/levelManagePro/src/AddRights",title:"自定义权益",width:"450px",onOkCallback:z},{default:l(()=>[t(G,{color:"#666",size:"14",style:{"margin-top":"5px"}},{default:l(()=>[t(y(we))]),_:1})]),_:2},1032,["params"])]),_:2},1024),t(S,{effect:"light",placement:"bottom","show-after":"150"},{content:l(()=>e[27]||(e[27]=[p(" 移除后需点击底部保存按钮生效 ",-1)])),default:l(()=>[n("div",{class:"icon-info",onClick:c=>oe(k)},[t(G,{color:"#666",size:"13",style:{"margin-top":"5px"}},{default:l(()=>[t(y(ce))]),_:1})],8,at)]),_:2},1024)])]),default:l(({$index:c})=>[t(r,null,{default:l(()=>[t(A,{modelValue:a.value.data[c].rights[k].isChecked,"onUpdate:modelValue":me=>a.value.data[c].rights[k].isChecked=me,"true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["label"]))),128))]),_:1}),t(u,{fixed:"right",width:80,label:"操作",class:"setBtn"},{default:l(({row:o,$index:v})=>[v===a.value.data.length-1&&a.value.data.length>1?(m(),g("div",ot,[t(d,{type:"primary",link:"",size:"mini",onClick:s=>de(v)},{default:l(()=>e[28]||(e[28]=[p("删除",-1)])),_:2,__:[28]},1032,["onClick"])])):_("",!0)]),_:1})]),_:1},8,["data","loading"])]),_:1})]),_:1},8,["rules","model"]),a.value.rankType==1?(m(),g(X,{key:0},[e[42]||(e[42]=n("div",{class:"title"},"成长值设置",-1)),t(L,{ref_key:"formRef2",ref:$,rules:x,model:a.value,"label-width":"auto"},{default:l(()=>[t(r,{label:"完成下单",prop:"buyOrder"},{default:l(()=>[n("div",null,[t(C,{modelValue:a.value.growUpSetting.buyOrder,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value.growUpSetting.buyOrder=o),class:"itemWidth"},{default:l(()=>[t(w,{value:1},{default:l(()=>e[29]||(e[29]=[p("是",-1)])),_:1,__:[29]}),t(w,{value:0},{default:l(()=>e[30]||(e[30]=[p("否",-1)])),_:1,__:[30]})]),_:1},8,["modelValue"]),n("div",nt,[e[31]||(e[31]=n("div",{class:"mr10"},"每完成",-1)),t(h,{type:"integer",width:"100px",disabled:a.value.growUpSetting.buyOrder===0,modelValue:a.value.growUpSetting.buyOrderNumber,"onUpdate:modelValue":e[2]||(e[2]=o=>a.value.growUpSetting.buyOrderNumber=o)},null,8,["disabled","modelValue"]),e[32]||(e[32]=n("div",{class:"ml10 mr10"},"笔订单，获得",-1)),t(h,{type:"integer",width:"100px",disabled:a.value.growUpSetting.buyOrder===0,modelValue:a.value.growUpSetting.buyOrderGrowth,"onUpdate:modelValue":e[3]||(e[3]=o=>a.value.growUpSetting.buyOrderGrowth=o)},null,8,["disabled","modelValue"]),e[33]||(e[33]=n("div",{class:"ml10"},"成长值",-1))])])]),_:1}),t(r,{label:"完善信息",prop:"evpi"},{default:l(()=>[n("div",null,[t(C,{modelValue:a.value.growUpSetting.evpi,"onUpdate:modelValue":e[4]||(e[4]=o=>a.value.growUpSetting.evpi=o),class:"itemWidth"},{default:l(()=>[t(w,{value:1},{default:l(()=>e[34]||(e[34]=[p("是",-1)])),_:1,__:[34]}),t(w,{value:0},{default:l(()=>e[35]||(e[35]=[p("否",-1)])),_:1,__:[35]})]),_:1},8,["modelValue"]),n("div",it,[e[36]||(e[36]=n("div",{class:"mr10"},"完成后赠送：",-1)),t(h,{type:"integer",width:"100px",disabled:a.value.growUpSetting.evpi===0,modelValue:a.value.growUpSetting.evpiGrowth,"onUpdate:modelValue":e[5]||(e[5]=o=>a.value.growUpSetting.evpiGrowth=o)},null,8,["disabled","modelValue"]),e[37]||(e[37]=n("div",{class:"ml10"},"成长值",-1))])])]),_:1}),t(r,{label:"绑定手机号",prop:"bindPhone"},{default:l(()=>[n("div",null,[t(C,{modelValue:a.value.growUpSetting.bindPhone,"onUpdate:modelValue":e[6]||(e[6]=o=>a.value.growUpSetting.bindPhone=o),class:"itemWidth"},{default:l(()=>[t(w,{value:1},{default:l(()=>e[38]||(e[38]=[p("是",-1)])),_:1,__:[38]}),t(w,{value:0},{default:l(()=>e[39]||(e[39]=[p("否",-1)])),_:1,__:[39]})]),_:1},8,["modelValue"]),n("div",rt,[e[40]||(e[40]=n("div",{class:"mr10"},"完成后赠送：",-1)),t(h,{type:"integer",width:"100px",disabled:a.value.growUpSetting.bindPhone===0,modelValue:a.value.growUpSetting.bindPhoneGrowth,"onUpdate:modelValue":e[7]||(e[7]=o=>a.value.growUpSetting.bindPhoneGrowth=o)},null,8,["disabled","modelValue"]),e[41]||(e[41]=n("div",{class:"ml10"},"成长值",-1))])])]),_:1})]),_:1},8,["rules","model"])],64)):_("",!0),e[52]||(e[52]=n("div",{class:"title"},"等级规则（保级规则）",-1)),t(L,{model:a.value.userRankConfig,"label-width":"auto"},{default:l(()=>[t(r,{prop:"userRankConfig.type",label:"等级有效期："},{default:l(()=>[n("div",null,[t(C,{modelValue:a.value.userRankConfig.type,"onUpdate:modelValue":e[8]||(e[8]=o=>a.value.userRankConfig.type=o)},{default:l(()=>[t(w,{value:1,size:"large"},{default:l(()=>e[43]||(e[43]=[p("永久有效",-1)])),_:1,__:[43]})]),_:1},8,["modelValue"]),e[44]||(e[44]=n("div",{class:"extra"},"用户获得该等级后一直有效，退款成长值变动会降级",-1))])]),_:1}),t(r,{prop:"userRankConfig.type",label:" "},{default:l(()=>[n("div",null,[t(C,{modelValue:a.value.userRankConfig.type,"onUpdate:modelValue":e[12]||(e[12]=o=>a.value.userRankConfig.type=o)},{default:l(()=>[t(w,{value:2,size:"large"},{default:l(()=>[n("div",dt,[e[45]||(e[45]=n("div",null,"获得等级",-1)),t(F,{modelValue:a.value.userRankConfig.rankAfterMonth,"onUpdate:modelValue":e[9]||(e[9]=o=>a.value.userRankConfig.rankAfterMonth=o),style:{"min-width":"90px",margin:"0 10px"},onChange:e[10]||(e[10]=o=>a.value.userRankConfig.useMonth=a.value.userRankConfig.rankAfterMonth)},{default:l(()=>[t(V,{label:"1个月",value:1}),t(V,{label:"3个月",value:3}),t(V,{label:"6个月",value:6}),t(V,{label:"12个月",value:12})]),_:1},8,["modelValue"]),e[46]||(e[46]=n("div",null,"后，按照近",-1)),t(F,{modelValue:a.value.userRankConfig.rankAfterMonth,"onUpdate:modelValue":e[11]||(e[11]=o=>a.value.userRankConfig.rankAfterMonth=o),style:{"min-width":"90px",margin:"0 10px"},disabled:!0},{default:l(()=>[t(V,{label:"1个月",value:1}),t(V,{label:"3个月",value:3}),t(V,{label:"6个月",value:6}),t(V,{label:"12个月",value:12})]),_:1},8,["modelValue"]),a.value.rankType==1?(m(),g("div",st,"的成长值重新计算等级")):_("",!0),a.value.rankType==2?(m(),g("div",ut,"的累计消费重新计算等级")):_("",!0)])]),_:1})]),_:1},8,["modelValue"]),n("div",pt," 举例: 设置12个月，用户在2023.1.1成为/设置VIP2，那么在2024.1.1将重新根据用户在2023.1.1-2024.1.1之间的累计"+b(a.value.rankType==1?"成长值":"消费金额")+"计算等级。 ",1)])]),_:1}),t(r,{label:"累计时机："},{default:l(()=>[n("div",null,[t(C,{modelValue:D.value,"onUpdate:modelValue":e[13]||(e[13]=o=>D.value=o),disabled:!0},{default:l(()=>[t(w,{value:1,size:"large"},{default:l(()=>e[47]||(e[47]=[p("确认收货",-1)])),_:1,__:[47]})]),_:1},8,["modelValue"]),t(J,{data:a.value.data,loading:U.value,"row-key":"userId"},{default:l(()=>[t(u,{width:80,label:"会员等级",prop:"level"},{default:l(({row:o,$index:v})=>[n("div",mt,"vip"+b(o.rankLevel),1)]),_:1}),t(u,{width:210,prop:"minGrowthPoints"},{header:l(()=>[n("div",gt,[e[49]||(e[49]=n("div",null,"保级条件",-1)),t(S,{effect:"light",placement:"bottom","show-after":"150"},{content:l(()=>e[48]||(e[48]=[p(" 保级条件同升级条件一致，暂不支持自定义 ",-1)])),default:l(()=>[n("div",ft,[t(G,{color:"#666",size:"14",style:{"margin-top":"5px","margin-left":"5px"}},{default:l(()=>[t(y(Ve))]),_:1})])]),_:1})])]),default:l(({row:o,$index:v})=>[n("div",vt,[n("div",_t,[o.minGrowthPoints===0||o.minGrowthPoints===""?(m(),g("div",ht,"无门槛")):(m(),g("div",yt,[a.value.rankType==1?(m(),g("div",kt,b(o.minGrowthPoints)+"成长值",1)):_("",!0),a.value.rankType==2?(m(),g("div",bt," 消费满"+b(o.minGrowthPoints)+"元 ",1)):_("",!0)]))])])]),_:1})]),_:1},8,["data","loading"])])]),_:1})]),_:1},8,["model"])])])])}}}),jt=Ue(wt,[["__scopeId","data-v-e8c4e108"]]);export{jt as default};
