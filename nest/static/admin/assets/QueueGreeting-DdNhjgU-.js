import{_ as z}from"./TextEditor.vue_vue_type_script_setup_true_lang-By7f8gCT.js";import{g as V,s as S}from"./config-B10wOwFb.js";import{d as F,r as _,R as E,o as $,e as d,f as r,g as p,h as t,y as s,l as i,K as f,F as B,J as y,_ as I}from"./index-BEWhCL1q.js";import"./index.esm-yJQQDR41.js";import"./index-DVG44k_-.js";import"./index-BNk7xZkD.js";import"./format-C8RAoEAk.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";const L={class:"index-m_preferenceSwitch_1TP3q"},M={class:"index-m_header_2mdaa"},N={class:"info-box"},U={class:"right-box"},G={style:{width:"100%","padding-left":"25px","font-size":"14px"}},H={style:{display:"flex","flex-direction":"column"}},Q={style:{display:"flex"}},R=["innerHTML"],j={key:1,style:{width:"100%"}},q={style:{display:"flex"}},D={key:0},J={key:1,style:{"margin-top":"14px"}},K=F({__name:"QueueGreeting",setup(O){const a=_(!1),o=_({activate:!1,sendText:!1,replyContent:"抱歉，目前客服都在忙呢，请再稍等一会儿"}),m=_({replyContentTemp:""}),c=()=>{m.value.replyContentTemp=o.value.replyContent,a.value=!0},x=()=>{o.value.replyContent=m.value.replyContentTemp,a.value=!1},g=async()=>{try{const l=await S({code:"waiting",data:o.value})}catch(l){y.error(l.message)}},u=_(!1),C=()=>{u.value&&g(),u.value||(u.value=!0)};E(()=>o.value,()=>{C()},{deep:!0});const b=async()=>{try{const l=await V({code:"waiting"});l?Object.assign(o.value,l):u.value=!0}catch(l){y.error(l.message)}finally{}};return $(()=>{b()}),(l,e)=>{const w=d("el-switch"),h=d("el-checkbox"),v=d("el-button"),k=d("el-form-item"),T=d("el-form");return p(),r(B,null,[t("div",L,[t("div",M,[e[6]||(e[6]=t("span",{class:"index-m_title_180SF"},"客服排队中提醒",-1)),s(w,{class:"switch-pl",modelValue:o.value.activate,"onUpdate:modelValue":e[0]||(e[0]=n=>o.value.activate=n)},null,8,["modelValue"])]),e[7]||(e[7]=t("div",{class:"index-m_desc_Erwpt"},"所有客服都不在线或没有接待余量（最大接待客户数-正在接待客户数）时，会发送这个回复",-1))]),e[14]||(e[14]=t("div",{class:"zent-block-header"},[t("div",{class:"zent-block-header__title zent-block-header__title-ribbon"},[t("h3",null,"回复内容")]),t("div",{class:"zent-block-header__content"},"(若都勾选则自动回复文字消息)")],-1)),t("div",N,[t("div",U,[s(T,{ref:"formRef",model:o.value,"label-width":"auto"},{default:i(()=>[s(k,{label:"",prop:"brandLogo"},{default:i(()=>[s(h,{style:{width:"100%"},modelValue:o.value.sendText,"onUpdate:modelValue":e[1]||(e[1]=n=>o.value.sendText=n)},{default:i(()=>e[8]||(e[8]=[t("span",{style:{"font-size":"14px"}},"发送文字消息",-1)])),_:1,__:[8]},8,["modelValue"]),t("div",G,[t("div",H,[t("div",Q,[e[9]||(e[9]=t("div",{style:{"min-width":"70px"}},"回复内容：",-1)),a.value?(p(),r("div",j,[s(z,{html:m.value.replyContentTemp,"onUpdate:html":e[2]||(e[2]=n=>m.value.replyContentTemp=n),height:"300px"},null,8,["html"])])):(p(),r("div",{key:0,innerHTML:o.value.replyContent},null,8,R))]),t("div",q,[e[13]||(e[13]=t("div",{style:{width:"70px"}},null,-1)),a.value?(p(),r("div",J,[s(v,{onClick:e[4]||(e[4]=n=>x()),style:{"font-size":"14px"},type:"primary"},{default:i(()=>e[11]||(e[11]=[f("保存",-1)])),_:1,__:[11]}),s(v,{onClick:e[5]||(e[5]=n=>a.value=!1),style:{"font-size":"14px"}},{default:i(()=>e[12]||(e[12]=[f("取消",-1)])),_:1,__:[12]})])):(p(),r("div",D,[s(v,{onClick:e[3]||(e[3]=n=>c()),style:{"font-size":"14px"},type:"primary",link:""},{default:i(()=>e[10]||(e[10]=[f("编辑",-1)])),_:1,__:[10]})]))])])])]),_:1})]),_:1},8,["model"])])])],64)}}}),oe=I(K,[["__scopeId","data-v-c5e67dfd"]]);export{oe as default};
