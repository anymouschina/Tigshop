import{d as w,ak as x,s as I,a as L,r as m,a5 as N,e as d,j as V,g as k,l as s,E as C,y as t,i as D,I as F,h,t as R,J as y}from"./index-BEWhCL1q.js";import{F as B}from"./UploadAvatar.vue_vue_type_style_index_0_scoped_3ec2e0ca_lang-BVJHh8ng.js";import"./index-DVG44k_-.js";import"./vuedraggable.umd-_qUe1n4L.js";import{u as U}from"./team-BXeZOxNM.js";import"./Image.vue_vue_type_script_setup_true_lang-DC1N644b.js";import"./format-C8RAoEAk.js";import"./BusinessImg-CuIKiE1z.js";import"./currencyManagement-BEhPZh48.js";import"./version-C520_GUm.js";import"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./index-BNk7xZkD.js";const W=w({__name:"Info",props:{act:{type:String,default:""},id:{type:Number,default:0},type:{type:Number,default:1},page:{type:Number,default:1},isDialog:Boolean},emits:["submitCallback","update:confirmLoading","close"],setup(f,{expose:b,emit:v}){const n=v,r=f,a=x(JSON.parse(JSON.stringify(I().shopInfo))),c=L().currentRoute.value.query,_=m(r.isDialog?r.act:String(c.act));m(r.isDialog?r.id:Number(c.id)),_.value;const u=N(),e=m({shopId:a.shopId,shopTitle:a.shopTitle,shopLogo:a.shopLogo,description:a.description}),S=async()=>{await u.value.validate();try{n("update:confirmLoading",!0);const i=await U({...e.value});await u.value.resetFields(),y.success("操作成功"),n("submitCallback",i)}catch(i){y.error(i.message)}finally{n("update:confirmLoading",!1)}};return b({onFormSubmit:()=>{S()}}),(i,o)=>{const p=d("el-form-item"),g=d("TigInput"),T=d("el-form");return k(),V(T,{ref_key:"formRef",ref:u,model:e.value,class:"form-body","label-suffix":"：","label-width":"auto"},{default:s(()=>[C(t(p,{label:"店铺Logo"},{default:s(()=>[t(D(B),{photo:e.value.shopLogo,"onUpdate:photo":o[0]||(o[0]=l=>e.value.shopLogo=l),isMultiple:!1},null,8,["photo"])]),_:1},512),[[F,f.page]]),t(p,{rules:[{required:!0,message:"请输入店铺名称!"}],label:"店铺名称",prop:"shopTitle"},{default:s(()=>[t(g,{classType:"tig-form-input",modelValue:e.value.shopTitle,"onUpdate:modelValue":o[1]||(o[1]=l=>e.value.shopTitle=l),maxlength:15,placeholder:"请输入店铺名称"},null,8,["modelValue"]),o[3]||(o[3]=h("div",{class:"extra"},"店铺名称应尽量简洁易记, 建议15字以内",-1))]),_:1,__:[3]}),t(p,{label:"创建时间",prop:"addTime"},{default:s(()=>[h("p",null,R(a.addTime),1)]),_:1}),t(p,{label:"店铺简介",prop:"description"},{default:s(()=>[t(g,{classType:"tig-form-input",modelValue:e.value.description,"onUpdate:modelValue":o[2]||(o[2]=l=>e.value.description=l),rows:4,type:"textarea",maxlength:200},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])}}});export{W as default};
