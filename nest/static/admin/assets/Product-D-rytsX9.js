import{d as x,v as B,r as U,e as i,f as m,g as c,h as t,y as l,l as a,i as s,a2 as K,F as L,m as Y,j as E,K as p,k as b,t as d,_ as M}from"./index-BEWhCL1q.js";/* empty css             *//* empty css                                                                    */import{P as j}from"./Pagination-4FaohhlG.js";import{u as q,i as O}from"./format-C8RAoEAk.js";import"./SelectTimeInterval.vue_vue_type_style_index_0_scoped_207fe586_lang-B2T-ARqM.js";import"./index-DVG44k_-.js";/* empty css                                                                  *//* empty css                                                                              */import{c as R}from"./bindShop-CqwN6G6E.js";import{S as A}from"./SelectTimeInterval-CHncG0ge.js";import{u as G}from"./useListRequest-Bpxbydyo.js";import"./time-BMcbgg5F.js";import"./index-BNk7xZkD.js";const H={class:"container"},J={class:"content_wrapper"},Q={class:"lyecs-table-list-warp"},W={class:"list-table-tool lyecs-search-warp"},X={class:"advanced-search-warp list-table-tool-row"},Z={class:"simple-form-warp"},$={class:"simple-form-field"},tt={class:"form-group"},ot={class:"control-container"},et={class:"simple-form-field"},st={class:"form-group"},lt={class:"control-container"},at={class:"simple-form-field"},nt={class:"form-group"},rt={class:"simple-form-warp"},dt={class:"simple-form-field"},it={class:"control-container"},pt={class:"table-container"},ct={class:"flex"},ut={key:0,class:"span-pic"},mt=["href"],_t=["src"],ft={class:"span-product-con"},bt={class:"span-product-name",style:{"word-break":"break-all"}},ht={class:"span-con"},vt={class:"span-con"},gt={class:"status-switch"},St={class:"empty-warp"},kt={key:0,class:"empty-bg"},yt={key:0,class:"pagination-con"},wt=x({__name:"Product",props:{shopId:{type:Number,default:0}},setup(g){const S=B(),k=g,{listData:y,loading:h,total:_,filterParams:n,loadData:v,onSearchSubmit:u,onSortChange:w,onSelectChange:C,resetParams:V}=G({apiFunction:R,idKey:"productId",defaultParams:{page:1,size:S.get("pageSize"),shopId:k.shopId,sortField:"",sortOrder:"",keyword:"",productState:1,endDate:"",startDate:""}});v();const I=U([{label:"在售商品",value:1,isShow:!0},{label:"下架商品",value:0,isShow:!0}]);return(Ct,e)=>{const f=i("el-button"),P=i("TigInput"),T=i("el-option"),D=i("el-select"),N=i("el-form"),r=i("el-table-column"),z=i("el-table"),F=i("a-spin");return c(),m("div",H,[t("div",J,[t("div",Q,[t("div",W,[l(N,{model:s(n),name:"form"},{default:a(()=>[t("div",X,[t("div",Z,[t("div",$,[t("div",tt,[e[7]||(e[7]=t("label",{class:"control-label"},[t("span",null,"商品名称：")],-1)),t("div",ot,[l(P,{modelValue:s(n).keyword,"onUpdate:modelValue":e[0]||(e[0]=o=>s(n).keyword=o),name:"keyword",placeholder:"输入商品名称/货号",onKeyup:K(s(u),["enter"]),clearable:"",onClear:s(u)},{append:a(()=>[l(f,{onClick:s(u)},{default:a(()=>e[6]||(e[6]=[t("span",{class:"iconfont icon-chakan1"},null,-1)])),_:1,__:[6]},8,["onClick"])]),_:1},8,["modelValue","onKeyup","onClear"])])])]),t("div",et,[t("div",st,[e[8]||(e[8]=t("label",{class:"control-label"},[t("span",null,"商品状态：")],-1)),t("div",lt,[l(D,{modelValue:s(n).productState,"onUpdate:modelValue":e[1]||(e[1]=o=>s(n).productState=o),placeholder:"请选择",onChange:s(u)},{default:a(()=>[(c(!0),m(L,null,Y(I.value,o=>(c(),E(T,{label:o.label,value:o.value},null,8,["label","value"]))),256))]),_:1},8,["modelValue","onChange"])])])]),t("div",at,[t("div",nt,[e[9]||(e[9]=t("label",{class:"control-label"},[t("span",null,"创建时间：")],-1)),l(s(A),{"end-date":s(n).searchEndTime,"onUpdate:endDate":e[2]||(e[2]=o=>s(n).searchEndTime=o),"start-date":s(n).searchStartTime,"onUpdate:startDate":e[3]||(e[3]=o=>s(n).searchStartTime=o),clearable:!1,type:"date","value-format":"YYYY-MM-DD"},null,8,["end-date","start-date"])])])]),t("div",rt,[t("div",dt,[e[12]||(e[12]=t("label",{class:"control-label"},null,-1)),t("div",it,[l(f,{type:"primary",plain:"",onClick:s(u)},{default:a(()=>e[10]||(e[10]=[p("搜索",-1)])),_:1,__:[10]},8,["onClick"]),l(f,{plain:"",onClick:s(V)},{default:a(()=>e[11]||(e[11]=[p("重置",-1)])),_:1,__:[11]},8,["onClick"])])])])])]),_:1},8,["model"])]),t("div",pt,[l(F,{spinning:s(h)},{default:a(()=>[l(z,{data:s(y),total:s(_),"row-key":"productId",onSelectionChange:s(C),onSortChange:s(w)},{empty:a(()=>[t("div",St,[s(h)?b("",!0):(c(),m("div",kt,"暂无数据"))])]),default:a(()=>[l(r,{type:"selection",width:"32"}),l(r,{label:"商品名称",prop:"productId",sortable:"custom","min-width":320},{default:a(({row:o})=>[t("div",ct,[o.picThumb?(c(),m("div",ut,[t("a",{href:s(q)({path:"product",sn:o.productSn}),target:"_blank"},[t("img",{src:s(O)(o.picThumb),height:"68",width:"68",alt:""},null,8,_t)],8,mt)])):b("",!0),t("div",ft,[t("div",bt,[t("div",null,d(o.productName),1)])])])]),_:1}),l(r,{width:200,label:"商品信息"},{default:a(({row:o})=>[e[13]||(e[13]=t("span",{class:"span-tit"},"编码：",-1)),t("div",ht,[t("div",null,d(o.productSn||"--"),1)]),e[14]||(e[14]=t("br",null,null,-1)),e[15]||(e[15]=t("span",{class:"span-tit"},"售价：",-1)),t("div",vt,[t("div",null,d(o.productPrice||0),1)])]),_:1}),l(r,{width:120,label:"商品分类",prop:"productStock",sortable:"custom"},{default:a(({row:o})=>[p(d(o.productCategoryName||"--"),1)]),_:1}),l(r,{width:100,label:"品牌",prop:"productStock",sortable:"custom"},{default:a(({row:o})=>[p(d(o.productBrandName||"--"),1)]),_:1}),l(r,{width:100,label:"供货价",prop:"productStock",sortable:"custom"},{default:a(({row:o})=>[p(d(o.productSupplyPrice||"--"),1)]),_:1}),l(r,{width:100,label:"库存",prop:"productStock",sortable:"custom"},{default:a(({row:o})=>[p(d(o.productStock||"--"),1)]),_:1}),l(r,{width:100,label:"商品状态"},{default:a(({row:o})=>[t("div",gt,d(o.productStatus==0?"下架":"正常"),1)]),_:1}),l(r,{width:100,label:"销量",prop:"productStock",sortable:"custom"},{default:a(({row:o})=>[p(d(o.salesVolume),1)]),_:1})]),_:1},8,["data","total","onSelectionChange","onSortChange"])]),_:1},8,["spinning"]),s(_)>0?(c(),m("div",yt,[l(s(j),{page:s(n).page,"onUpdate:page":e[4]||(e[4]=o=>s(n).page=o),size:s(n).size,"onUpdate:size":e[5]||(e[5]=o=>s(n).size=o),total:s(_),onCallback:s(v)},null,8,["page","size","total","onCallback"])])):b("",!0)])])])])}}}),Et=M(wt,[["__scopeId","data-v-b7274d25"]]);export{Et as default};
