import"./index-DVG44k_-.js";import{d as y,ak as C,r,o as I,e as d,a1 as L,f as N,g as _,h as g,E as z,K as f,y as t,l as p,i as v,j as O,J as h,_ as B}from"./index-BEWhCL1q.js";/* empty css                                                                    */import{P as D}from"./Pagination-4FaohhlG.js";import{e as E}from"./order-BQjFJOKB.js";import{_ as P}from"./DialogForm.vue_vue_type_script_setup_true_lang-CQB-6Tki.js";import"./index-BNk7xZkD.js";const V={class:"container-card"},T={class:"title"},U={class:"pagination-con"},j=y({__name:"OperationLog",props:{orderId:{type:Number,default:0}},setup(b){const o=C({page:1,orderId:b.orderId,parentOrderId:0}),s=r(!0),c=r(10),m=r(0),u=r([]),l=async()=>{try{s.value=!0;const a=await E(o);u.value=a.records,m.value=a.total}catch(a){h.error(a.message)}finally{s.value=!1}};return I(()=>{l()}),(a,e)=>{const x=d("el-button"),n=d("el-table-column"),k=d("el-table"),w=L("loading");return _(),N("div",V,[g("div",T,[e[3]||(e[3]=f(" 操作日志 ",-1)),t(v(P),{params:{act:"detail",id:o.orderId,valueName:"addNote"},isDrawer:"",path:"order/order/src/EditRemark",title:"添加日志",width:"600px",onOkCallback:l},{default:p(()=>[t(x,{bg:"",class:"buttonColor",size:"small",text:"",type:"primary"},{default:p(()=>e[2]||(e[2]=[f(" 添加日志 ",-1)])),_:1,__:[2]})]),_:1},8,["params"])]),z((_(),O(k,{data:u.value},{default:p(()=>[t(n,{label:"操作者",prop:"operator",width:"120px"}),t(n,{label:"操作时间",prop:"logTime",width:"160px"}),t(n,{label:"备注",prop:"description"})]),_:1},8,["data"])),[[w,s.value]]),g("div",U,[t(v(D),{page:o.page,"onUpdate:page":e[0]||(e[0]=i=>o.page=i),size:c.value,"onUpdate:size":e[1]||(e[1]=i=>c.value=i),total:m.value,onCallback:l},null,8,["page","size","total"])])])}}}),A=B(j,[["__scopeId","data-v-f8e6f428"]]);export{A as default};
