import{d as a,K as e,r as l,W as t,l as s,q as i,c as u,w as r,aa as c,ab as d,B as n,E as o,o as g,a as p,i as _,g as m,I as f,J as v,O as y,X as b,h as k,f as h,t as x,a4 as w,n as T,_ as z}from"./index-BcyAKDDV.js";import{_ as j}from"./tig-image.lWnA30Ud.js";import{_ as I}from"./empty-box.vue_vue_type_script_setup_true_lang.Dr-zbZbD.js";import{_ as $}from"./loading-box.BPbOi9GY.js";import{_ as C}from"./tig-layout.DHsvU4xy.js";import{a as N}from"./article.JCSB7Q5D.js";const V=z(a({__name:"list",props:{id:{type:String||Number,default:""}},setup(a){const{t:z}=e(),V=l("文章中心"),M=a,S=l("bzgg"),q=l(!1),B=l(!1),E=l(0),J=t({page:1,categorySn:M.id,size:10}),K=l([]),O=async()=>{J.page>1?B.value=!0:(c({title:z("加载中")}),q.value=!0);try{const a=await N({...J});E.value=a.total,K.value=[...K.value,...a.records]}catch(a){console.error(a.message)}finally{q.value=!1,B.value=!1,d()}};return s(a=>{a&&a.id&&(S.value=a.id,V.value="zxzx"===a.id?"最新资讯":"bzgg"===a.id?"最新公告":"kfzx"===a.id?"客服中心":"",O())}),i(()=>{J.page<Math.ceil(E.value/Number(J.size))&&(J.page++,O())}),(a,e)=>{const l=k,t=_,s=n(o("tig-image"),j),i=w,c=n(o("empty-box"),I),d=n(o("loading-box"),$),z=n(o("tig-layout"),C);return g(),u(z,{title:V.value},{default:r(()=>[q.value?p("",!0):(g(),u(t,{key:0,class:"article-center"},{default:r(()=>[m(t,{class:"news-list"},{default:r(()=>[K.value.length?(g(!0),f(v,{key:0},y(K.value,e=>(g(),u(t,{key:e.articleId,class:"news-item"},{default:r(()=>[m(t,{class:"pic-desc",onClick:a=>{return l=`/pages/article/news/detail?id=${e.articleId}`,void T({url:l});var l}},{default:r(()=>[m(t,{class:b(["news-left",{"w-100":!e.articleThumb}])},{default:r(()=>[m(t,{class:"pd-title",title:e.articleTitle},{default:r(()=>[e.articleTag?(g(),u(l,{key:0,class:"yin_agn"},{default:r(()=>[h(x(a.$t("新闻资讯")),1)]),_:1})):p("",!0),m(l,null,{default:r(()=>[h(x(e.articleTitle),1)]),_:2},1024)]),_:2},1032,["title"]),e.description?(g(),u(t,{key:0,class:"pd-det"},{default:r(()=>[h(x(e.description),1)]),_:2},1024)):p("",!0)]),_:2},1032,["class"]),e.articleThumb?(g(),u(t,{key:0,class:"news-right"},{default:r(()=>[m(s,{src:e.articleThumb,alt:e.articleTitle},null,8,["src","alt"])]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),m(t,{class:"info-btn"},{default:r(()=>[e.addTime?(g(),u(t,{key:0,class:"evaluate"},{default:r(()=>[m(l,{class:"time"},{default:r(()=>[h(x(e.addTime),1)]),_:2},1024)]),_:2},1024)):p("",!0),e.link?(g(),u(i,{key:1,class:"red-btn",target:"_blank",url:e.link,"hover-class":"navigator-hover","open-type":"navigate"},{default:r(()=>[m(l,null,{default:r(()=>[h(x(a.$t("相关链接")),1)]),_:1})]),_:2},1032,["url"])):p("",!0)]),_:2},1024)]),_:2},1024))),128)):(g(),u(c,{key:1,mode:"news",text:"暂无文章"})),m(d,{modelValue:B.value,"onUpdate:modelValue":e[0]||(e[0]=a=>B.value=a),page:J.page,length:K.value.length},null,8,["modelValue","page","length"])]),_:1})]),_:1}))]),_:1},8,["title"])}}}),[["__scopeId","data-v-ca3f2cc1"]]);export{V as default};
